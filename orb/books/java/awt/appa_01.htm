<HTML><HEAD><TITLE>[Appendix A] Using Properties and Resources</TITLE><META NAME="author" CONTENT="John Zukowski"><META NAME="date" CONTENT="Thu Jul 31 14:13:45 1997"><META NAME="form" CONTENT="html"><META NAME="metadata" CONTENT="dublincore.0.1"><META NAME="objecttype" CONTENT="book part"><META NAME="otheragent" CONTENT="gmat dbtohtml"><META NAME="publisher" CONTENT="O'Reilly &amp; Associates, Inc."><META NAME="source" CONTENT="SGML"><META NAME="subject" CONTENT="Java AWT"><META NAME="title" CONTENT="Java AWT"><META HTTP-EQUIV="Content-Script-Type" CONTENT="text/javascript"></HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"><DIV CLASS=htmlnav><H1><a href='index.htm'><IMG SRC="gifs/smbanner.gif"     ALT="Java AWT" border=0></a></H1><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch23_26.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><B><FONT FACE="ARIEL,HELVETICA,HELV,SANSERIF" SIZE="-1">Appendix A</FONT></B></TD><td width=172 align=right valign=top><A HREF="appa_02.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr></table>&nbsp;<hr align=left width=515></DIV><H1 CLASS=appendix><A CLASS="TITLE" NAME="JAWT-APP-A">A. Using Properties and Resources</A></H1><DIV CLASS=htmltoc><p><b>Contents:</b><br>System Properties<br><A HREF="appa_02.htm">Server Properties</A><BR><A HREF="appa_03.htm">Resource Bundles</A><BR><p></DIV><P CLASS=para>Java provides "property lists" that are similar to Xdefaults in the X Window system. Programs can use properties to customize their behavior or find out information about the run-time environment; by reading a property list, a program can set defaults, choose colors and fonts, and more, without any changes to the code. Java 1.1 makes property lists much more general. Although the basic features of property lists did not change between Java 1.0 and 1.1, the way you access them did. Instead of providing specific locations for files, Java 1.1 provides access to these resource bundles in a more general scheme, described in <A HREF="appa_03.htm#JAWT-APP-A-SECT-3">Resource Bundles</A>. <DIV CLASS=sect1><h2 CLASS=sect1><A CLASS="TITLE" NAME="JAWT-APP-A-SECT-1">A.1 System Properties</A></h2><P CLASS=para>Although Java applications can define property lists as conveniences, there is one special property list that is common to all applications and applets: System Properties. This list currently has 14 properties in Java 1.0 and 21 in Java 1.1, although you may add to it, and more standard properties may be added in the future. An application has access to all of them. Because of security restrictions, an applet has access only to 9. Among other things, these properties allow you to customize your code for different platforms if you want to provide workarounds for platform-specific deficiencies or load native methods if available. <P CLASS=para><A HREF="appa_01.htm#JAWT-APP-A-TAB-1">Table A.1</A> contains the complete list of system properties. The last column specifies whether an applet can access each property; applications can access all properties. As a word of caution, different vendors may report different values for the same environment (for example, <tt CLASS=literal>os.arch</tt> could be x86 or 80486). The values in the property list reflect the run-time environment, not the development environment. <P><DIV CLASS=table><TABLE BORDER><CAPTION><A CLASS="TITLE" NAME="JAWT-APP-A-TAB-1">Table A.1: System Properties</A></CAPTION><TR CLASS=row><TH ALIGN="LEFT">Name</TH><TH ALIGN="LEFT">Description</TH><TH ALIGN="LEFT">Sample Value</TH><TH ALIGN="LEFT">Applet</TH></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>awt.toolkit</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD><TD ALIGN="LEFT"><P CLASS=para>Toolkit vendor</TD><TD ALIGN="LEFT"><P CLASS=para><tt CLASS=literal>sun.awt.window.Wtoolkit</tt></TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>file.encoding</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD><TD ALIGN="LEFT"><P CLASS=para>File encoding</TD><TD ALIGN="LEFT"><tt CLASS=literal>8859_1</tt></TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>file.encoding.pkg</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD><TD ALIGN="LEFT"><P CLASS=para>File encoding package</TD><TD ALIGN="LEFT"><tt CLASS=literal>sun.io</tt></TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>file.separator</tt></TD><TD ALIGN="LEFT"><P CLASS=para>File separator</TD><TD ALIGN="LEFT"><P CLASS=para><tt CLASS=literal>"\"</tt> or <tt CLASS=literal>"/"</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>java.class.path</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Java's CLASSPATH</TD><TD ALIGN="LEFT"><P CLASS=para>C:\JAVA\LIB;.;C:\JAVA\BIN\..\classes;C:\JAVA\BIN\..\lib\classes.zip</TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>java.class.version</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Java's class library version</TD><TD ALIGN="LEFT"><tt CLASS=literal>45.3</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>java.home</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Java's installation directory</TD><TD ALIGN="LEFT">C:\JAVA</TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>java.vendor</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Java's virtual machine vendor</TD><TD ALIGN="LEFT"><P CLASS=para><tt CLASS=literal>Netscape Communications</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>java.vendor.url</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Java vendor's URL</TD><TD ALIGN="LEFT"><tt CLASS=literal>http://www.netscape.com</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>java.version</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Java version</TD><TD ALIGN="LEFT"><tt CLASS=literal>1.021</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>line.separator</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Line separator</TD><TD ALIGN="LEFT"><P CLASS=para><tt CLASS=literal>"\n"</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>os.arch</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Operating system architecture</TD><TD ALIGN="LEFT"><P CLASS=para><tt CLASS=literal>x86</tt> or <tt CLASS=literal>80486</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>os.name</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Operating system name</TD><TD ALIGN="LEFT"><P CLASS=para><tt CLASS=literal>Windows NT</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>os.version</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD><TD ALIGN="LEFT"><P CLASS=para>Operating system version</TD><TD ALIGN="LEFT"><tt CLASS=literal>4.0</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>path.separator</tt></TD><TD ALIGN="LEFT"><P CLASS=para>Path separator</TD><TD ALIGN="LEFT"><P CLASS=para><tt CLASS=literal>";"</tt> or <tt CLASS=literal>":"</tt></TD><TD ALIGN="LEFT">Yes</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>user.dir</tt></TD><TD ALIGN="LEFT"><P CLASS=para>User's working directory</TD><TD ALIGN="LEFT"><P CLASS=para>C:\JAZ\AWTCode\Chapter2</TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>user.home</tt></TD><TD ALIGN="LEFT"><P CLASS=para>User's home directory</TD><TD ALIGN="LEFT"><tt CLASS=literal>C:\JAVA</tt></TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>user.language</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD><TD ALIGN="LEFT"><P CLASS=para>User's language</TD><TD ALIGN="LEFT"><tt CLASS=literal>en</tt></TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>user.name</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD><TD ALIGN="LEFT"><P CLASS=para>User's login name</TD><TD ALIGN="LEFT"><tt CLASS=literal>JOHNZ</tt></TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>user.region</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD><TD ALIGN="LEFT"><P CLASS=para>User's geographic region</TD><TD ALIGN="LEFT"><tt CLASS=literal>US</tt></TD><TD ALIGN="LEFT">No</TD></TR><TR CLASS=row><TD ALIGN="LEFT"><tt CLASS=literal>user.timezone</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD><TD ALIGN="LEFT"><P CLASS=para>User's time zone</TD><TD ALIGN="LEFT"><tt CLASS=literal>EST</tt></TD><TD ALIGN="LEFT">No</TD></TR></TABLE><P></DIV><P CLASS=para>To read one of the system properties, use the <tt CLASS=literal>getProperty()</tt> method of the <tt CLASS=literal>System</tt> class: <DIV CLASS=programlisting><P><PRE>System.getProperty (String s);    // for the property you want</PRE></DIV><P CLASS=para>If <tt CLASS=literal>s</tt> is a valid property and is accessible by your program, the system retrieves the current value as a <tt CLASS=literal>String</tt>. If it is not, the return value is <tt CLASS=literal>null</tt>. For example, the following line of code retrieves the vendor for the Java platform you are working with: <DIV CLASS=programlisting><P><PRE>String s = System.getProperty ("java.vendor");</PRE></DIV><P CLASS=para>If an applet tries to access a property it does not have permission to read, a security exception is thrown. <P CLASS=para>For an application, the Java interpreter can add additional system properties at run-time with the -D flag. The following command runs the program <I CLASS=emphasis>className</I>, adding the <tt CLASS=literal>program.name</tt> property to the list of available properties; the value of this property is the string <tt CLASS=literal>Foo</tt>: <DIV CLASS=programlisting><P><PRE>java -Dprogram.name=Foo className</PRE></DIV><P CLASS=para>An application can also modify its property list by calling various methods of the <tt CLASS=literal>Properties</tt> class. The following code duplicates the effect of the -D flag in the previous example: <DIV CLASS=programlisting><P><PRE>Properties p = System.getProperties ();p.put ("program.name", "Foo");  // To add a new onep.put ("java.vendor", "O'Reilly");  // To replace the current oneSystem.setProperties(p);</PRE></DIV><P CLASS=para>An applet running within Netscape Navigator or Internet Explorer may not add or change system properties since Netscape Navigator and Internet Explorer do not let applets touch the local filesystem, and calls to <tt CLASS=literal>getProperties()</tt> generate a security violation. Version 1.0 of HotJava, the JDK, and the <I CLASS=emphasis>appletviewer</I> allow you to set properties with the <I CLASS=emphasis>properties</I> file in the <I CLASS=emphasis>.hotjava</I> directory. Other browsers may or may not enable this option. <DIV CLASS=note><P CLASS=note><BLOCKQUOTE><P><B>NOTE:</B> </blockquote><P></DIV><P CLASS=para>The location of the system properties file depends on the run-time environment you are using. Ordinarily, the file will go into a subdirectory of the installation directory or, for environments where users have home directories, in a subdirectory for the user. </blockquote><P></DIV><P CLASS=para>Users may add properties to the system property file by hand; of course, in this case, it's the Java developer's responsibility to document what properties the program reads, and to provide reasonable defaults in case those properties aren't set. The <tt CLASS=literal>Color</tt> and <tt CLASS=literal>Font</tt> classes have methods to read colors and fonts from the system properties list. These are two areas in which it would be appropriate for a program to define its own properties, expecting the user to set an appropriate value. For example, a program might expect the property <tt CLASS=literal>myname.awt.drawingColor</tt> to define a default color for drawing; it would be the user's responsibility to add a line defining this property in the property file: <DIV CLASS=programlisting><P><PRE>myname.awt.drawingColor=0xe0e0e0    #default drawing color: light gray</PRE></DIV></DIV><DIV CLASS=htmlnav><P><HR align=left width=515><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch23_26.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><a href="index.htm"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td><td width=172 align=right valign=top><A HREF="appa_02.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr><tr><td width=172 align=left valign=top>WindowPeer</td><td width=171 align=center valign=top><a href="index/idx_a.htm"><img src='gifs/index.gif' alt='Book Index' border=0></a></td><td width=172 align=right valign=top>Server Properties</td></tr></table><hr align=left width=515><IMG SRC="gifs/smnavbar.gif" USEMAP="#map" BORDER=0> <MAP NAME="map"> <AREA SHAPE=RECT COORDS="0,0,108,15" HREF="../javanut/index.htm"alt="Java in a Nutshell"> <AREA SHAPE=RECT COORDS="109,0,200,15" HREF="../langref/index.htm" alt="Java Language Reference"> <AREA SHAPE=RECT COORDS="203,0,290,15" HREF="../awt/index.htm" alt="Java AWT"> <AREA SHAPE=RECT COORDS="291,0,419,15" HREF="../fclass/index.htm" alt="Java Fundamental Classes"> <AREA SHAPE=RECT COORDS="421,0,514,15" HREF="../exp/index.htm" alt="Exploring Java"> </MAP></DIV></BODY></HTML>