<!DOCTYPE HTML PUBLIC "-//ORA//DTD CD HTML 3.2//EN"><HTML><HEAD><TITLE>[Chapter 11] 11.3 Lists</TITLE><META NAME="author" CONTENT="Pat Niemeyer and Josh Peck"><META NAME="date" CONTENT="Tue Jul 22 19:01:06 1997"><META NAME="form" CONTENT="html"><META NAME="metadata" CONTENT="dublincore.0.1"><META NAME="objecttype" CONTENT="book part"><META NAME="otheragent" CONTENT="gmat dbtohtml"><META NAME="publisher" CONTENT="O'Reilly &amp; Associates, Inc."><META NAME="source" CONTENT="SGML"><META NAME="subject" CONTENT="Java"><META NAME="title" CONTENT="Exploring Java"><META HTTP-EQUIV="Content-Script-Type" CONTENT="text/javascript"></HEAD><BODY BGCOLOR="#FFFFFF"><DIV CLASS=htmlnav><H1><a href='index.htm'><IMG SRC="gifs/smbanner.gif"     ALT="Exploring Java" border=0></a></H1><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch11_02.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><B><FONT FACE="ARIEL,HELVETICA,HELV,SANSERIF" SIZE="-1">Chapter 11<br>Using and Creating GUI Components</FONT></B></TD><td width=172 align=right valign=top><A HREF="ch11_04.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr></table>&nbsp;<hr align=left width=515></DIV><DIV CLASS=sect1><h2 CLASS=sect1><A CLASS="TITLE" NAME="ch11-SECT1-AUTOID.2">11.3 Lists</A></h2><P CLASS=para>A <tt CLASS=literal>List</tt> is a step up on the evolutionarychain. Lists let the user choose from a group of alternatives. Theycan be configured to force the user to choose a single selection orto allow multiple choices. Usually, only a small group of choices aredisplayed at a time; a built-in scrollbar lets you move to the choicesthat aren't visible.<P CLASS=para>A <tt CLASS=literal>List</tt> generates two kinds of events. Ifthe user single clicks on a selection, the<tt CLASS=literal>List</tt> generates an<tt CLASS=literal>ItemEvent</tt>. If the user double-clicks, a<tt CLASS=literal>List</tt> generates an<tt CLASS=literal>ActionEvent</tt>. Therefore, a<tt CLASS=literal>List</tt> can register both<tt CLASS=literal>ItemListener</tt>s and<tt CLASS=literal>ActionListener</tt>s.  In either case, thelistener can use the event to figure out what the user selected. <P CLASS=para>The applet below, <tt CLASS=literal>SearchableListApplet</tt>,contains a <tt CLASS=literal>List</tt> and a text field. Severalof the items in the list aren't visible, because the list is too longfor the space we've allotted for it (enough to display three items).When you type the name of an item into the text field, the appletdisplays the item you want and selects it. Of course, you could dothis with a scrollbar, but then we wouldn't have the opportunity todemonstrate how to work with lists. <P CLASS=para><DIV CLASS=figure><h4 CLASS=figure><A CLASS="TITLE" NAME="EXJ-CH-11-FIG-4">Figure 11.4: The SearchableList applet</A></h4><p><img align=middle src="./figs/je1104.gif" alt="[Graphic: Figure 11-4]" width=503 height=243 border=0></DIV><DIV CLASS=screen><P><PRE>import java.awt.*;import java.awt.event.*;public class SearchableListApplet extends java.applet.Applet {    public void init() {        String [] items = { "One", "Two", "Three", "Four", "Five", "Six" };        add( new SearchableList( items ) );    }}class SearchableList extends Container implements ActionListener {    List list;    TextField field;    SearchableList( String [] items ) {        list = new List( 3 );  // Let some scroll for this example        for(int i=0; i&lt; items.length; i++)            list.addItem( items[i] );        field = new TextField();        field.addActionListener( this );        setLayout( new BorderLayout() );        add("Center", list);        add("South", field);    }    public void actionPerformed( ActionEvent e ) {        String search = field.getText();        for (int i=0; i&lt; list.getItemCount(); i++)            if ( list.getItem( i ).equals( search ) ) {                list.select( i );                list.makeVisible( i );  // Scroll it into view                break;            }        field.setText(""); // clear the text field    }}</PRE></DIV><P CLASS=para>We create the <tt CLASS=literal>List</tt> and the<tt CLASS=literal>TextField</tt> in a new class,<tt CLASS=literal>SearchableList</tt>; the applet itself onlydisplays the <tt CLASS=literal>SearchableList</tt>.<tt CLASS=literal>SearchableList</tt> itself is a new kind ofanimal; it is a lightweight component that subclasses<tt CLASS=literal>Container</tt> directly. We'll talk a littlemore about lightweight components later in the chapter. <P CLASS=para>In the constructor for <tt CLASS=literal>SearchableList</tt>, wecreate our <tt CLASS=literal>List</tt> by calling itsconstructor, setting it to display at most three components. We thencall the <tt CLASS=literal>addItem()</tt> method to add thepossible selections to the list; these are the numbers "One" through"Six," passed to us in an array. <P CLASS=para>We then create our <tt CLASS=literal>TextField</tt>, and registerourselves (i.e., the <tt CLASS=literal>SearchableList</tt>) as an<tt CLASS=literal>ActionListener</tt> for the field's events.Finally, we set the layout for<tt CLASS=literal>SearchableList</tt> to a border layout, put the<tt CLASS=literal>List</tt> in the center of the layout, and the<tt CLASS=literal>TextField</tt> at the bottom. <P CLASS=para>The <tt CLASS=literal>actionPerformed()</tt> method is calledwhenever the user presses RETURN in our<tt CLASS=literal>TextField</tt>. In this method, we call<tt CLASS=literal>getText()</tt> to extract the text the usertyped. Then we loop through all the items in the list to see ifthere's a match. <tt CLASS=literal>getItemCount()</tt> tells usthe number of items in the list; <tt CLASS=literal>getItem()</tt>gives us the text associated with any particular item. When we find amatch, we call <tt CLASS=literal>select()</tt> to make thematching item the selected item, and  we call<tt CLASS=literal>makeVisible()</tt> to make sure that this itemis displayed. <P CLASS=para>By default, a <tt CLASS=literal>List</tt> only allows a singleselection. We've done nothing in this example to allow multipleselections, so whenever a user chooses an item, the previous selectionis automatically dropped. If you want a list that supports multipleselections, call <tt CLASS=literal>setMultipleMode(true)</tt>. Inthis case, you must use the <tt CLASS=literal>deselect()</tt>method to clear the user's selections. </DIV><DIV CLASS=htmlnav><P><HR align=left width=515><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch11_02.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><a href="index.htm"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td><td width=172 align=right valign=top><A HREF="ch11_04.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr><tr><td width=172 align=left valign=top>Text Components</td><td width=171 align=center valign=top><a href="index/idx_0.htm"><img src='gifs/index.gif' alt='Book Index' border=0></a></td><td width=172 align=right valign=top>Menus and Choices</td></tr></table><hr align=left width=515><IMG SRC="gifs/smnavbar.gif" USEMAP="#map" BORDER=0> <MAP NAME="map"> <AREA SHAPE=RECT COORDS="0,0,108,15" HREF="../javanut/index.htm"alt="Java in a Nutshell"> <AREA SHAPE=RECT COORDS="109,0,200,15" HREF="../langref/index.htm" alt="Java Language Reference"> <AREA SHAPE=RECT COORDS="203,0,290,15" HREF="../awt/index.htm" alt="Java AWT"> <AREA SHAPE=RECT COORDS="291,0,419,15" HREF="../fclass/index.htm" alt="Java Fundamental Classes"> <AREA SHAPE=RECT COORDS="421,0,514,15" HREF="../exp/index.htm" alt="Exploring Java"> </MAP></DIV></BODY></HTML>