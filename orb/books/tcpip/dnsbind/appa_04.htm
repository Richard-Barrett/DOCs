<HTML><HEAD><TITLE>[Appendix A] A.4 Resource Record Data</TITLE><METANAME="DC.title"CONTENT="DNS &amp; BIND"><METANAME="DC.creator"CONTENT="Cricket Liu &amp; Paul Albitz"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:45:25Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-512-2"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="appa_01.htm"TITLE="A. DNS Message Format and Resource Records"><LINKREL="prev"HREF="appa_03.htm"TITLE="A.3 Header Section Format"><LINKREL="next"HREF="appb_01.htm"TITLE="B. Compiling and Installing BIND on a Sun"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="DNS &amp; BIND"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="DNS &amp; BIND"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/dsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appa_03.htm"TITLE="A.3 Header Section Format"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: A.3 Header Section Format"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Appendix A<BR>DNS Message Format and ResourceRecords</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="APPENDIX"HREF="appb_01.htm"TITLE="B. Compiling and Installing BIND on a Sun"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: B. Compiling and Installing BIND on a Sun"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="AUTOID-18703">A.4 Resource Record Data</A></H2><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-18705">A.4.1 Data Format</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="DNS3-IDX-A-RESOURCE-RECORDS-DATA-FORMAT"></A><ACLASS="indexterm"NAME="DNS3-IDX-A-FORMAT-RESOURCE-RECORD-DATA"></A>In addition to two- and four-octetinteger values, resource record data can contain <EMCLASS="emphasis">domainnames</EM> or <EMCLASS="emphasis">character strings</EM>.</P><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="AUTOID-18716">A.4.1.1 Domain name</A></H4><PCLASS="para">(From RFC 1035, page 10)</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-18720"></A><ACLASS="indexterm"NAME="AUTOID-18722"></A>Domain names in messagesare expressed in terms of a sequence of labels. Each<ACLASS="indexterm"NAME="AUTOID-18725"></A>label is represented as a one octetlength field followed by that number of octets. Since every domainname ends with the null label of the root, a domain name is terminatedby a length byte of zero. The high order two bits of every lengthoctet must be zero, and the remaining six bits of the length field limitthe label to 63 octets or less.</P></DIV><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="AUTOID-18727">A.4.1.2 Message compression</A></H4><PCLASS="para">(From RFC 1035, page30)</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-18731"></A><ACLASS="indexterm"NAME="AUTOID-18733"></A>Inorder to reduce the size of messages, the domain system utilizesa compression scheme which eliminates the repetition of domain namesin a message. In this scheme, an entire domain name or a list of labelsat the end of a domain name is replaced with a pointer to a prioroccurrence of the same name.</P><PCLASS="para">The pointer takes the formof a two octet sequence:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+    | 1  1|                OFFSET                   |    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+</PRE></BLOCKQUOTE><PCLASS="para">The first two bits are ones. This allows a pointerto be distinguished from a label, since the label must begin with twozero bits because labels are restricted to 63 octets or less. (The10 and 01 combinations are reserved for future use.) The OFFSETfield specifies an offset from the start of the message (i.e., thefirst octet of the ID field in the domain header). A zero offset specifiesthe first byte of the ID field, etc.</P></DIV><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="AUTOID-18739">A.4.1.3 Character string</A></H4><PCLASS="para">(From RFC 1035, page13)</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-18743"></A><EMCLASS="emphasis">Character string</EM> is a single length octet followedby that number of characters. <EMCLASS="emphasis">Character string</EM> istreated as binary information, and can be up to 256 characters inlength (including the length<ACLASS="indexterm"NAME="AUTOID-18747"></A><ACLASS="indexterm"NAME="AUTOID-18748"></A>octet).</P></DIV></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appa_03.htm"TITLE="A.3 Header Section Format"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: A.3 Header Section Format"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="DNS &amp; BIND"><IMGSRC="../gifs/txthome.gif"ALT="DNS &amp; BIND"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="APPENDIX"HREF="appb_01.htm"TITLE="B. Compiling and Installing BIND on a Sun"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: B. Compiling and Installing BIND on a Sun"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">A.3 Header Section Format</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">B. Compiling and Installing BIND on a Sun</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>