<HTML><HEAD><TITLE>[Chapter 1] 1.3 The Domain Name System, in a Nutshell</TITLE><METANAME="DC.title"CONTENT="DNS &amp; BIND"><METANAME="DC.creator"CONTENT="Cricket Liu &amp; Paul Albitz"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:23:24Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-512-2"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch01_01.htm"TITLE="1. Background"><LINKREL="prev"HREF="ch01_02.htm"TITLE="1.2 On the Internet and internets"><LINKREL="next"HREF="ch01_04.htm"TITLE="1.4 The History of BIND"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="DNS &amp; BIND"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="DNS &amp; BIND"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/dsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_02.htm"TITLE="1.2 On the Internet and internets"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.2 On the Internet and internets"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 1<BR>Background</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_04.htm"TITLE="1.4 The History of BIND"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 1.4 The History of BIND"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="AUTOID-538">1.3 The Domain Name System, in a Nutshell</A></H2><PCLASS="para">The<ACLASS="indexterm"NAME="DNS3-IDX-1-DNS-DOMAIN-NAME-SYSTEM-FUNDAMENTALS-OF"></A>Domain Name System is a distributed database.  This allowslocal control of the segments of the overall database, yet data ineach segment are available across the entire network through aclient-server scheme. Robustness and adequate performance are achievedthrough replication and caching.</P><PCLASS="para">Programs called<ACLASS="indexterm"NAME="AUTOID-545"></A><ICLASS="firstterm">name servers</I> constitute the server half of <SPANCLASS="acronym">DNS</SPAN>'sclient-server mechanism.  Name servers contain information about somesegment of the database and make it available to clients, called<ACLASS="indexterm"NAME="AUTOID-549"></A><ICLASS="firstterm">resolvers</I>.  Resolvers are often just library routines that createqueries and send them across a network to a name server.</P><PCLASS="para">The structure of the <SPANCLASS="acronym">DNS</SPAN> database, shown in<ACLASS="xref"HREF="ch01_03.htm#DNS3-CHP-1-FIG-1"TITLE="The DNS database versus a UNIX filesystem">Figure 1.1</A>, is very similar to the structure ofthe <SPANCLASS="acronym">UNIX</SPAN> filesystem. The whole database (orfilesystem) is pictured as an inverted tree, with the<ACLASS="indexterm"NAME="AUTOID-556"></A><ACLASS="indexterm"NAME="AUTOID-559"></A><ACLASS="indexterm"NAME="AUTOID-561"></A><ACLASS="indexterm"NAME="AUTOID-564"></A>root node at the top. Each node in the tree has a text label, whichidentifies the node relative to its parent.  This is roughly analogousto a <SPANCLASS="quote">"relative pathname"</SPAN> in a filesystem, like<ICLASS="filename">bin</I>. One label&nbsp;- the null label, or<SPANCLASS="quote">""</SPAN>&nbsp;- is reserved for the root node.  In text, theroot node is written as a single dot (<SPANCLASS="quote">"."</SPAN>).  In the<SPANCLASS="acronym">UNIX</SPAN> filesystem, the root is written as a slash(<SPANCLASS="quote">"/"</SPAN>).</P><H4CLASS="figure"><ACLASS="title"NAME="DNS3-CHP-1-FIG-1">Figure 1.1: The <SPANCLASS="acronym">DNS</SPAN> database versus a<SPANCLASS="acronym">UNIX</SPAN> filesystem</A></H4><IMGCLASS="graphic"SRC="figs/dns3_0101.gif"ALT="Figure 1.1"><PCLASS="para">Each node is also the root of a new subtree of the overalltree. Each of these subtrees represents a partition of the overalldatabase&nbsp;- a <SPANCLASS="quote">"directory"</SPAN> in the<SPANCLASS="acronym">UNIX</SPAN> filesystem, or a<ACLASS="indexterm"NAME="AUTOID-581"></A><ICLASS="firstterm">domain</I> in the Domain Name System. Each domain or directory can befurther divided into additional partitions, called <ICLASS="firstterm">subdomains</I> in<SPANCLASS="acronym">DNS</SPAN>, like a filesystem's<SPANCLASS="quote">"subdirectories."</SPAN> Subdomains, like subdirectories, aredrawn as children of their parent domains.</P><PCLASS="para">Every domain has a unique name, like every directory. A domain's<ACLASS="indexterm"NAME="AUTOID-588"></A><ICLASS="firstterm">domain name</I> identifies its position in the database, much as adirectory's <SPANCLASS="quote">"absolute pathname"</SPAN> specifies its place inthe filesystem. In <SPANCLASS="acronym">DNS</SPAN>, the domain name is thesequence of labels from the node at the root of the domain to the rootof the whole tree, with <SPANCLASS="quote">"."</SPAN> separating the labels. In the<SPANCLASS="acronym">UNIX</SPAN> filesystem, a directory's absolute pathname isthe list of relative names read from root to leaf (the oppositedirection to <SPANCLASS="acronym">DNS</SPAN>, as shown in <ACLASS="xref"HREF="ch01_03.htm#DNS3-CHP-1-FIG-2"TITLE="Reading names in DNS and in a UNIX filesystem">Figure 1.2</A>), using a slash to separate thenames.</P><H4CLASS="figure"><ACLASS="title"NAME="DNS3-CHP-1-FIG-2">Figure 1.2: Reading names in <SPANCLASS="acronym">DNS</SPAN> and in a<SPANCLASS="acronym">UNIX</SPAN> filesystem</A></H4><IMGCLASS="graphic"SRC="figs/dns3_0102.gif"ALT="Figure 1.2"><PCLASS="para">In <SPANCLASS="acronym">DNS</SPAN>, each domain can be administered by adifferent organization. Each organization can then break its domaininto a number of subdomains and dole out responsibility for thosesubdomains to other organizations. For example, theInter<SPANCLASS="acronym">NIC</SPAN> runs the <ICLASS="systemitem.sitename">edu</I> (educational) domain, but assignsU.C. Berkeley authority over the <ICLASS="systemitem.sitename">berkeley.edu</I> subdomain (<ACLASS="xref"HREF="ch01_03.htm#DNS3-CHP-1-FIG-3"TITLE="Remote management of subdomains and of filesystems">Figure 1.3</A>). This is something like remotely mountinga filesystem: certain directories in a filesystem may actually befilesystems on other hosts, mounted from a remote host. Theadministrator on host <ICLASS="systemitem.sitename">winken</I>,for example (again, <ACLASS="xref"HREF="ch01_03.htm#DNS3-CHP-1-FIG-3"TITLE="Remote management of subdomains and of filesystems">Figure 1.3</A>), is responsiblefor the filesystem that appears on the local host as the directory<ICLASS="filename">/usr/nfs/winken</I>.</P><H4CLASS="figure"><ACLASS="title"NAME="DNS3-CHP-1-FIG-3">Figure 1.3: Remote management of subdomains and of filesystems</A></H4><IMGCLASS="graphic"SRC="figs/dns3_0103.gif"ALT="Figure 1.3"><PCLASS="para">Domain names are used as indexes into the <SPANCLASS="acronym">DNS</SPAN>database. You might think of data in <SPANCLASS="acronym">DNS</SPAN> as<SPANCLASS="quote">"attached"</SPAN> to a domain name. In a filesystem, directoriescontain files and subdirectories.  Likewise, domains can contain bothhosts and subdomains. A domain contains those hosts and subdomainswhose domain names are within the domain.</P><PCLASS="para">Each host on a network has a domain name, which points toinformation about the host (see <ACLASS="xref"HREF="ch01_03.htm#DNS3-CHP-1-FIG-4"TITLE="An alias in DNS pointing to a canonical name">Figure 1.4</A>). This information may include<SPANCLASS="acronym">IP</SPAN> addresses, information about mail routing, etc.Hosts may also have one or more <ICLASS="firstterm">domain name<ACLASS="indexterm"NAME="AUTOID-622"></A><ACLASS="indexterm"NAME="AUTOID-624"></A>aliases</I>, which are simply pointers from one domain name (the alias) toanother (the official or <ICLASS="firstterm">canonical</I> domain name). In the figure,<ICLASS="systemitem.sitename">mailhub.nv...</I> is an aliasfor the canonical name <ICLASS="systemitem.sitename">rincon.ba.ca...</I>.</P><H4CLASS="figure"><ACLASS="title"NAME="DNS3-CHP-1-FIG-4">Figure 1.4: An alias in <SPANCLASS="acronym">DNS</SPAN> pointing to a canonicalname</A></H4><IMGCLASS="graphic"SRC="figs/dns3_0104.gif"ALT="Figure 1.4"><H4CLASS="figure"><ACLASS="title"NAME="DNS3-CHP-1-FIG-5">Figure 1.5: Solving the name collision problem</A></H4><IMGCLASS="graphic"SRC="figs/dns3_0105.gif"ALT="Figure 1.5"><PCLASS="para">Why all the complicated structure? To solve the problems that<ICLASS="filename">HOSTS.TXT</I> had. For example, making domain nameshierarchical eliminates the pitfall of name collisions. Each domainhas a unique domain name, so the organization that runs the domain isfree to name hosts and subdomains within its domain. Whatever namethey choose for a host or subdomain, it won't conflict with otherorganizations' domain names, since it will end in their unique domainname. For example, the organization that runs <ICLASS="systemitem.sitename">hic.com</I> can name a host <ICLASS="systemitem.sitename">puella</I> (as shown in <ACLASS="xref"HREF="ch01_03.htm#DNS3-CHP-1-FIG-5"TITLE="Solving the name collision problem">Figure 1.5</A>), since it knows that the domain host'sdomain name will end in <ICLASS="systemitem.sitename">hic.com</I>, a unique domain name. </P><ACLASS="indexterm"NAME="AUTOID-644"></A></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_02.htm"TITLE="1.2 On the Internet and internets"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.2 On the Internet and internets"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="DNS &amp; BIND"><IMGSRC="../gifs/txthome.gif"ALT="DNS &amp; BIND"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_04.htm"TITLE="1.4 The History of BIND"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 1.4 The History of BIND"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">1.2 On the Internet and internets</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">1.4 The History of BIND</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>