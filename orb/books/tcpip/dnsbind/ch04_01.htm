<HTML><HEAD><TITLE>[Chapter 4] Setting Up BIND</TITLE><METANAME="DC.title"CONTENT="DNS &amp; BIND"><METANAME="DC.creator"CONTENT="Cricket Liu &amp; Paul Albitz"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:25:58Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-512-2"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="index.htm"TITLE="DNS &amp; BIND"><LINKREL="prev"HREF="ch03_02.htm"TITLE="3.2 Choosing a Domain Name"><LINKREL="next"HREF="ch04_02.htm"TITLE="4.2 Setting Up DNS Data"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="DNS &amp; BIND"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="DNS &amp; BIND"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/dsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_02.htm"TITLE="3.2 Choosing a Domain Name"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.2 Choosing a Domain Name"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 4</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_02.htm"TITLE="4.2 Setting Up DNS Data"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 4.2 Setting Up DNS Data"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="DNS3-CHP-4">4. Setting Up <SPANCLASS="acronym">BIND</SPAN></A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="sect1"HREF="#AUTOID-2685"TITLE="4.1 Our Domain">Our Domain</A><BR><ACLASS="sect1"HREF="ch04_02.htm"TITLE="4.2 Setting Up DNS Data">Setting Up <SPANCLASS="acronym">DNS</SPAN> Data</A><BR><ACLASS="sect1"HREF="ch04_03.htm"TITLE="4.3 Setting Up a BIND Configuration File">Setting Up a <SPANCLASS="acronym">BIND</SPAN> Configuration File</A><BR><ACLASS="sect1"HREF="ch04_04.htm"TITLE="4.4 Abbreviations">Abbreviations</A><BR><ACLASS="sect1"HREF="ch04_05.htm"TITLE="4.5 Host Name Checking (BIND 4.9.4 and Later Versions)">Host Name Checking (<SPANCLASS="acronym">BIND</SPAN> 4.9.4 and LaterVersions)</A><BR><ACLASS="sect1"HREF="ch04_06.htm"TITLE="4.6 Tools">Tools</A><BR><ACLASS="sect1"HREF="ch04_07.htm"TITLE="4.7 Running a Primary Master Name Server">Running a Primary Master Name Server</A><BR><ACLASS="sect1"HREF="ch04_08.htm"TITLE="4.8 Running a Slave Name Server">Running a Slave Name Server</A><BR><ACLASS="sect1"HREF="ch04_09.htm"TITLE="4.9 Adding More Domains">Adding More Domains</A><BR><ACLASS="sect1"HREF="ch04_10.htm"TITLE="4.10 What Next?">What Next?</A></P><P></P></DIV><DIVCLASS="epigraph"><PCLASS="para"ALIGN="right"><I><SPANCLASS="quote">"It seems very pretty,"</SPAN> she said when she hadfinished it, <SPANCLASS="quote">"but it's rather hard to understand!"</SPAN> (Yousee she didn't like to confess, even to herself, that she couldn'tmake it out at all.)  <SPANCLASS="quote">"Somehow it seems to fill my head withideas&nbsp;- only I don't exactly know what they are!"</SPAN></I></P></DIV><PCLASS="para"><ACLASS="indexterm"NAME="DNS3-IDX-4-NAME-SERVERS-SETTING-UP"></A>If you have been diligently reading each chapter of this book,you're probably anxious to get a name server running. This chapter isfor you. Let's set up a couple of name servers. Others of you may haveread the table of contents and skipped directly to thischapter. (Shame on you!)  If you are one of those people who cutcorners, be aware that we may use concepts from earlier chapters andexpect you to understand them already.</P><PCLASS="para">There are several factors that influence how you should set upyour name servers. The biggest factor is what sort of access you haveto the Internet: complete access (e.g., you can <KBDCLASS="command">ftp</KBD>to <ACLASS="systemitem.ftpserver"HREF="ftp://ftp.uu.net">ftp.uu.net</A>), limited access(limited by a security firewall), or no access at all. This chapterassumes you have complete access.  We'll discuss the other cases in<ACLASS="xref"HREF="ch15_01.htm"TITLE="Miscellaneous">Chapter 15, <CITECLASS="chapter">Miscellaneous</CITE></A>.</P><PCLASS="para">In this chapter, we'll set up two name servers for a fictitiousdomain, as an example for you to follow in setting up your owndomain. We'll cover the topics in this chapter in enough detail to getyour first two name servers running. Subsequent chapters will fill inthe holes and go into greater depth. If you already have your nameservers running, skim through this chapter to familiarize yourselfwith the terms we use or just to verify that you didn't miss somethingwhen you set up your servers.</P><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="AUTOID-2685">4.1 Our Domain</A></H2><PCLASS="para">Our fictitious domain is for a college. Movie University studiesall aspects of the film industry and researches novel ways todistribute films.  One of the most promising projects is research intousing <SPANCLASS="acronym">IP</SPAN> as the distribution medium. After talkingwith the folks at the Inter<SPANCLASS="acronym">NIC</SPAN>, we have decidedon the domain name <ICLASS="systemitem.sitename">movie.edu</I>.A recent grant has enabled us to connect to the Internet.</P><PCLASS="para">Movie U. currently has two Ethernets, and they have plans foranother network or two. The Ethernets have network numbers 192.249.249and 192.253.253. A portion of their host table shows the followingentries:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">127.0.0.1      localhost# These are our killer machines192.249.249.2  robocop.movie.edu robocop192.249.249.3  terminator.movie.edu terminator bigt192.249.249.4  diehard.movie.edu diehard dh# These machines are in horror(ible) shape and will be replaced# soon.192.253.253.2  misery.movie.edu misery192.253.253.3  shining.movie.edu shining192.253.253.4  carrie.movie.edu carrie# A wormhole is a fictitious phenomenon that instantly transports# space travelers over long distances and is not known to be# stable.  The only difference between wormholes and routers is# that routers don't transport packets as instantly--especially# ours.192.249.249.1  wormhole.movie.edu wormhole wh wh249192.253.253.1  wormhole.movie.edu wormhole wh wh253</PRE></BLOCKQUOTE><PCLASS="para">And the network is pictured in <ACLASS="xref"HREF="ch04_01.htm#DNS3-CHP-4-FIG-1"TITLE="The Movie University network">Figure 4.1</A>.</P><H4CLASS="figure"><ACLASS="title"NAME="DNS3-CHP-4-FIG-1">Figure 4.1: The Movie University network</A></H4><IMGCLASS="graphic"SRC="figs/dns3_0401.gif"ALT="Figure 4.1"></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_02.htm"TITLE="3.2 Choosing a Domain Name"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.2 Choosing a Domain Name"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="DNS &amp; BIND"><IMGSRC="../gifs/txthome.gif"ALT="DNS &amp; BIND"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_02.htm"TITLE="4.2 Setting Up DNS Data"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 4.2 Setting Up DNS Data"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">3.2 Choosing a Domain Name</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">4.2 Setting Up DNS Data</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>