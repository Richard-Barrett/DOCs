<HTML><HEAD><TITLE>[Chapter 4] 4.4 Abbreviations</TITLE><METANAME="DC.title"CONTENT="DNS &amp; BIND"><METANAME="DC.creator"CONTENT="Cricket Liu &amp; Paul Albitz"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:26:45Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-512-2"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch04_01.htm"TITLE="4. Setting Up BIND"><LINKREL="prev"HREF="ch04_03.htm"TITLE="4.3 Setting Up a BIND Configuration File"><LINKREL="next"HREF="ch04_05.htm"TITLE="4.5 Host Name Checking (BIND 4.9.4 and Later Versions)"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="DNS &amp; BIND"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="DNS &amp; BIND"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/dsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_03.htm"TITLE="4.3 Setting Up a BIND Configuration File"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 4.3 Setting Up a BIND Configuration File"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 4<BR>Setting Up <SPANCLASS="acronym">BIND</SPAN></FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_05.htm"TITLE="4.5 Host Name Checking (BIND 4.9.4 and Later Versions)"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 4.5 Host Name Checking (BIND 4.9.4 and Later Versions)"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="AUTOID-3343">4.4 Abbreviations</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="DNS3-IDX-4-DB-FILES-SHORTCUTS-ABBREVIATIONS"></A><ACLASS="indexterm"NAME="DNS3-IDX-4-DOMAIN-NAMES-ABBREVIATIONS"></A><ACLASS="indexterm"NAME="DNS3-IDX-4-ABBREVIATIONS-IN-DB-FILES"></A><ACLASS="indexterm"NAME="DNS3-IDX-4-SHORTCUTS-FOR-DB-FILES"></A>At this point, we have created all the files necessary for a primarymaster name server. Let's go back and revisit the<SPANCLASS="acronym">DNS</SPAN> database files; there are shortcuts we didn'tuse. Unless you see and understand the long form first, though, theshort form can look very cryptic. Now that you know the long form andhave seen the <SPANCLASS="acronym">BIND</SPAN> configuration file, we'll showyou the shortcuts.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-3358">4.4.1 Appending Domains</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3361"></A><ACLASS="indexterm"NAME="AUTOID-3363"></A>The second field of a <ICLASS="wordasword">primary</I> (version 4) or<ICLASS="wordasword">zone</I> (version 8) configuration file linespecifies a domain name. This domain is the key to the most usefulshortcut.  This domain is the <ICLASS="firstterm">origin</I> of all thedata in the db file. The origin is appended to all names in the dbfile not ending in a dot. The origin will be different for each dbfile.</P><PCLASS="para">Since the origin is appended to names, instead of entering<ICLASS="systemitem.sitename">robocop</I>'s address in<ICLASS="filename">db.movie</I> as this:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">robocop.movie.edu.    IN A     192.249.249.2</PRE></BLOCKQUOTE><PCLASS="para">we could have entered it like this:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">robocop    IN A     192.249.249.2</PRE></BLOCKQUOTE><PCLASS="para">In the <ICLASS="filename">db.192.24.249</I> file we enteredthis:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">2.249.249.192.in-addr.arpa.  IN PTR robocop.movie.edu.</PRE></BLOCKQUOTE><PCLASS="para">Since <ICLASS="systemitem.sitename">249.249.192.in-addr.arpa</I> is the origin,we could have entered:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">2  IN PTR robocop.movie.edu.</PRE></BLOCKQUOTE><PCLASS="para">Remember we warned you earlier not to omit the trailing dot whenusing the long names? Suppose you forgot the<ACLASS="indexterm"NAME="AUTOID-3381"></A><ACLASS="indexterm"NAME="AUTOID-3384"></A><ACLASS="indexterm"NAME="AUTOID-3386"></A><ACLASS="indexterm"NAME="AUTOID-3389"></A>trailing dot. An entry like:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">robocop.movie.edu    IN A     192.249.249.2</PRE></BLOCKQUOTE><PCLASS="para">turns into an entry for <ICLASS="systemitem.sitename">robocop.movie.edu.movie.edu</I>, and youdidn't intend that at all.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-3395">4.4.2 @ Notation</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3398"></A>If the domain name is the <EMCLASS="emphasis">same</EM> as the origin, thename can be specified as <SPANCLASS="quote">"@"</SPAN>. This is most often seen inthe <SPANCLASS="acronym">SOA</SPAN> record of the db files. The<SPANCLASS="acronym">SOA</SPAN> records could have been entered thisway:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">@ IN SOA terminator.movie.edu. al.robocop.movie.edu. (                          1        ; Serial                          10800    ; Refresh after 3 hours                          3600     ; Retry after 1 hour                          604800   ; Expire after 1 week                          86400 )  ; Minimum TTL of 1 day</PRE></BLOCKQUOTE></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-3405">4.4.3 Repeat Last Name</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3408"></A><ACLASS="indexterm"NAME="AUTOID-3410"></A><ACLASS="indexterm"NAME="AUTOID-3412"></A>If a resource record name (that starts in column one) is a space ortab, then the name from the last resource record is used. You woulduse this if there were multiple resource records for a name. Here isan example where there are two address records for one name:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">wormhole   IN A     192.249.249.1           IN A     192.253.253.1</PRE></BLOCKQUOTE><PCLASS="para">In the second address record, the name <ICLASS="systemitem.sitename">wormhole</I> is implied.  You can use thisshortcut even if the resource records are of different types.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-3418">4.4.4 The Shortened db Files</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="DNS3-IDX-4-DB-FILES-CONTENTS-OF-EXAMPLE-2"></A>Now that we have shown you the abbreviations, we'll repeat thedb files, making use of these shortcuts.</P><PCLASS="para">Here are the contents of the file <ICLASS="filename">db.movie</I>:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">;; Origin added to names not ending; in a dot: movie.edu;@ IN SOA terminator.movie.edu. al.robocop.movie.edu. (                          1        ; Serial                          10800    ; Refresh after 3 hours                          3600     ; Retry after 1 hour                          604800   ; Expire after 1 week                          86400 )  ; Minimum TTL of 1 day;; Name servers (The name '@' is implied);           IN NS  terminator.movie.edu.           IN NS  wormhole.movie.edu.;; Addresses for the canonical names;localhost  IN A     127.0.0.1robocop    IN A     192.249.249.2terminator IN A     192.249.249.3diehard    IN A     192.249.249.4misery     IN A     192.253.253.2shining    IN A     192.253.253.3carrie     IN A     192.253.253.4wormhole   IN A     192.249.249.1           IN A     192.253.253.1;; Aliases;bigt       IN CNAME terminatordh         IN CNAME diehardwh         IN CNAME wormhole;; Interface specific names;wh249      IN A     192.249.249.1wh253      IN A     192.253.253.1</PRE></BLOCKQUOTE><PCLASS="para">Here are the contents of the file<ICLASS="filename">db.192.249.249</I>:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">;; Origin added to names not ending; in a dot: 249.249.192.in-addr.arpa;@ IN SOA terminator.movie.edu. al.robocop.movie.edu. (                          1        ; Serial                          10800    ; Refresh after 3 hours                          3600     ; Retry after 1 hour                          604800   ; Expire after 1 week                          86400 )  ; Minimum TTL of 1 day;; Name servers (The name '@' is implied);   IN NS  terminator.movie.edu.   IN NS  wormhole.movie.edu.;; Addresses point to canonical name;1  IN PTR wormhole.movie.edu.2  IN PTR robocop.movie.edu.3  IN PTR terminator.movie.edu.4  IN PTR diehard.movie.edu.</PRE></BLOCKQUOTE><PCLASS="para">Here are the contents of the file<ICLASS="filename">db.192.253.253</I>:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">;; Origin added to names not ending; in a dot: 253.253.192.in-addr.arpa;@ IN SOA terminator.movie.edu. al.robocop.movie.edu. (                          1        ; Serial                          10800    ; Refresh after 3 hours                          3600     ; Retry after 1 hour                          604800   ; Expire after 1 week                          86400 )  ; Minimum TTL of 1 day;; Name servers (The name '@' is implied);   IN NS  terminator.movie.edu.   IN NS  wormhole.movie.edu.;; Addresses point to canonical name;1  IN PTR wormhole.movie.edu.2  IN PTR misery.movie.edu.3  IN PTR shining.movie.edu.4  IN PTR carrie.movie.edu.</PRE></BLOCKQUOTE><PCLASS="para">Here are the contents of the file <ICLASS="filename">db.127.0.0</I>:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">@ IN SOA terminator.movie.edu. al.robocop.movie.edu. (                          1        ; Serial                          10800    ; Refresh after 3 hours                          3600     ; Retry after 1 hour                          604800   ; Expire after 1 week                          86400 )  ; Minimum TTL of 1 day   IN NS  terminator.movie.edu.   IN NS  wormhole.movie.edu.1  IN PTR localhost.</PRE></BLOCKQUOTE><PCLASS="para">While looking at the new <ICLASS="filename">db.movie</I> file, youmay notice that we could have removed <ICLASS="systemitem.sitename">movie.edu</I> from the host names of the<SPANCLASS="acronym">SOA</SPAN> and <SPANCLASS="acronym">NS</SPAN> records likethis:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">@ IN SOA terminator al.robocop (                          1        ; Serial                          10800    ; Refresh after 3 hours                          3600     ; Retry after 1 hour                          604800   ; Expire after 1 week                          86400 )  ; Minimum TTL of 1 day  IN NS  terminator  IN NS  wormhole</PRE></BLOCKQUOTE><PCLASS="para">You <EMCLASS="emphasis">can't</EM> do this in the other db filesbecause their origins are different. In <ICLASS="filename">db.movie</I>,we left these names as fully qualified domain names so that the<SPANCLASS="acronym">NS</SPAN> and <SPANCLASS="acronym">SOA</SPAN> records are exactlythe same for <EMCLASS="emphasis">all</EM> the db<ACLASS="indexterm"NAME="AUTOID-3448"></A>files.<ACLASS="indexterm"NAME="AUTOID-3449"></A><ACLASS="indexterm"NAME="AUTOID-3450"></A><ACLASS="indexterm"NAME="AUTOID-3451"></A><ACLASS="indexterm"NAME="AUTOID-3452"></A></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_03.htm"TITLE="4.3 Setting Up a BIND Configuration File"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 4.3 Setting Up a BIND Configuration File"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="DNS &amp; BIND"><IMGSRC="../gifs/txthome.gif"ALT="DNS &amp; BIND"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_05.htm"TITLE="4.5 Host Name Checking (BIND 4.9.4 and Later Versions)"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 4.5 Host Name Checking (BIND 4.9.4 and Later Versions)"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">4.3 Setting Up a BIND Configuration File</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">4.5 Host Name Checking (BIND 4.9.4 and Later Versions)</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>