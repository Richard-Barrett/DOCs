<HTML><HEAD><TITLE>[Chapter 15] 15.7 Additional Resource Records</TITLE><METANAME="DC.title"CONTENT="DNS &amp; BIND"><METANAME="DC.creator"CONTENT="Cricket Liu &amp; Paul Albitz"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:44:34Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-512-2"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch15_01.htm"TITLE="15. Miscellaneous"><LINKREL="prev"HREF="ch15_06.htm"TITLE="15.6 Network Names and Numbers"><LINKREL="next"HREF="ch15_08.htm"TITLE="15.8 DNS Versus X.500"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="DNS &amp; BIND"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="DNS &amp; BIND"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/dsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch15_06.htm"TITLE="15.6 Network Names and Numbers"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 15.6 Network Names and Numbers"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 15<BR>Miscellaneous</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch15_08.htm"TITLE="15.8 DNS Versus X.500"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 15.8 DNS Versus X.500"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="AUTOID-17510">15.7 Additional Resource Records</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="CH15.RESOURCE"></A>There are a couple of resource recordsthat we haven't covered yet in this book. The first of these hasbeen around since the beginning, <SPANCLASS="acronym">HINFO</SPAN>, but hasn't been widely used.The others were defined in <SPANCLASS="acronym">RFC</SPAN> 1183 and several successive <SPANCLASS="acronym">RFC</SPAN>s. Most are experimental, but some are on the standards track and arecoming into more prevalent use. We'll describe them here to giveyou a little head start in getting used to them.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-17518">15.7.1 Host Information</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17521"></A><SPANCLASS="acronym">HINFO</SPAN> stands for <EMCLASS="emphasis">Host <SPANCLASS="acronym">INFO</SPAN>rmation</EM>.The data are a pair of strings identifying the host's hardware typeand operating system. The strings should come from the <SPANCLASS="acronym">MACHINE</SPAN> <SPANCLASS="acronym">NAMES</SPAN>and <SPANCLASS="acronym">OPERATING</SPAN> <SPANCLASS="acronym">SYSTEM</SPAN> <SPANCLASS="acronym">NAMES</SPAN> listed in the &quot;Assigned Numbers&quot; <SPANCLASS="acronym">RFC</SPAN>(currently <SPANCLASS="acronym">RFC</SPAN> 1700), but this requirement is not enforced; youcan use your own abbreviations. The <SPANCLASS="acronym">RFC</SPAN> isn't at all comprehensive,so it is quite possible you won't find your system in the list anyway.Originally, host information records were designed to let serviceslike <SPANCLASS="acronym">FTP</SPAN> determine how to interact with the remote system. Thiswould have made it possible to negotiate data type transformationsautomatically. Unfortunately, this didn't happen&nbsp;- few sites supplyaccurate <SPANCLASS="acronym">HINFO</SPAN> values for all their systems. Some network administratorsuse <SPANCLASS="acronym">HINFO</SPAN> records to help them keep track of the machine types,instead of recording the machine types in a database or a notebook.Here are two examples of <SPANCLASS="acronym">HINFO</SPAN> records; note that the hardware typeor operating system must be surrounded with quotes if it includesany whitespace:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">;; These machine names and system names did not come from <SPANCLASS="acronym">RFC</SPAN> 1340;wormhole  <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">HINFO</SPAN>  <SPANCLASS="acronym">ACME</SPAN>-<SPANCLASS="acronym">HW</SPAN>  <SPANCLASS="acronym">ACME</SPAN>-<SPANCLASS="acronym">GW</SPAN>cujo      <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">HINFO</SPAN>  &quot;Watch Dog Hardware&quot;  &quot;Rabid <SPANCLASS="acronym">OS</SPAN>&quot;</PRE></BLOCKQUOTE><PCLASS="para">As we pointed out, <SPANCLASS="acronym">HINFO</SPAN> records are a security risk&nbsp;- byproviding easily accessible information about a system, you aremaking it easier for a hacker to break in.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-17551">15.7.2 <SPANCLASS="acronym">AFSDB</SPAN></A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17555"></A><ACLASS="indexterm"NAME="AUTOID-17557"></A><SPANCLASS="acronym">AFSDB</SPAN>has a syntax like that of the <SPANCLASS="acronym">MX</SPAN> record, and semantics a bit likethat of the <SPANCLASS="acronym">NS</SPAN> record. An <SPANCLASS="acronym">AFSDB</SPAN> record gives either the locationof an <SPANCLASS="acronym">AFS</SPAN> cell database server or of a <SPANCLASS="acronym">DCE</SPAN> cell's authenticatedname server. The type of server the record points to, and the nameof the host running the server, are contained in the record-specificdata portion of the record.</P><PCLASS="para">So what's an <SPANCLASS="acronym">AFS</SPAN> cell databaseserver? Or <SPANCLASS="acronym">AFS</SPAN>, for that matter? <SPANCLASS="acronym">AFS</SPAN> originally stood for the AndrewFile System, designed by the good folks at Carnegie-Mellon Universityas part of the Andrew Project. (It's now a registered trademarkof Transarc Corporation, which sells <SPANCLASS="acronym">AFS</SPAN> as a product.) <SPANCLASS="acronym">AFS</SPAN> is anetwork filesystem, like <SPANCLASS="acronym">NFS</SPAN>, but one that handles the latency ofwide area networks much better than <SPANCLASS="acronym">NFS</SPAN> does and provides localcaching of files to enhance performance. An <SPANCLASS="acronym">AFS</SPAN> cell database serverruns the process responsible for tracking the location of filesets (groupsof files) on various <SPANCLASS="acronym">AFS</SPAN> fileservers within a cell (a logical groupof hosts). So being able to find the <SPANCLASS="acronym">AFS</SPAN> cell database server isthe key to finding any file in the cell.</P><PCLASS="para">And what'san<ACLASS="indexterm"NAME="AUTOID-17577"></A>authenticatedname server? It holds location information about all sorts of servicesavailable within a <SPANCLASS="acronym">DCE</SPAN> cell. A <SPANCLASS="acronym">DCE</SPAN> cell? That's a logical groupof hosts that share services offered by the Open Group's DistributedComputing Environment (<SPANCLASS="acronym">DCE</SPAN>).</P><PCLASS="para">And now, back to our story.To access another cell's <SPANCLASS="acronym">AFS</SPAN> or <SPANCLASS="acronym">DCE</SPAN> services across a network, youmust first find out where that cell's cell database servers or authenticatedname servers are. Hence the new record type. The domain name the recordis attached to gives the name of the cell the server knows about.Cells are often named after <SPANCLASS="acronym">DNS</SPAN> domains, so this usually doesn'tlook at all odd.</P><PCLASS="para">As we said, the <SPANCLASS="acronym">AFSDB</SPAN> record's syntax is likethe <SPANCLASS="acronym">MX</SPAN> record's syntax. In place of the preferencevalue, you specify the number 1 for an <SPANCLASS="acronym">AFS</SPAN> celldatabase server or 2 for a <SPANCLASS="acronym">DCE</SPAN> authenticated nameserver.</P><PCLASS="para">In place of the mail exchanger host, you specify the nameof the host running the server. Simple!</P><PCLASS="para">Say an <EMCLASS="emphasis">fx.movie.edu</EM> systemsadministrator sets up a <SPANCLASS="acronym">DCE</SPAN> cell (which includes <SPANCLASS="acronym">AFS</SPAN> services) becauseshe wants to experiment with distributed processing to speed upgraphics rendering. She runs both an <SPANCLASS="acronym">AFS</SPAN> cell database server anda <SPANCLASS="acronym">DCE</SPAN> name server on <EMCLASS="emphasis">bladerunner.fx.movie.edu</EM>,another cell database server on <EMCLASS="emphasis">empire</EM>, andanother <SPANCLASS="acronym">DCE</SPAN> name server on <EMCLASS="emphasis">aliens</EM>. She shouldset up the <SPANCLASS="acronym">AFSDB</SPAN> records as follows:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">; Our <SPANCLASS="acronym">DCE</SPAN> cell is called fx.movie.edu, same as the domainfx.movie.edu.  <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">AFSDB</SPAN>  1 bladerunner.fx.movie.edu.               <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">AFSDB</SPAN>  2 bladerunner.fx.movie.edu.               <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">AFSDB</SPAN>  1 empire.fx.movie.edu.               <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">AFSDB</SPAN>  2 aliens.fx.movie.edu.</PRE></BLOCKQUOTE></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-17613">15.7.3 X25, <SPANCLASS="acronym">ISDN</SPAN>, and <SPANCLASS="acronym">RT</SPAN></A></H3><PCLASS="para">These three recordtypes were created specifically in support of research on next-generationinternets. Two of the records,<ACLASS="indexterm"NAME="AUTOID-17618"></A><ACLASS="indexterm"NAME="AUTOID-17620"></A><ACLASS="indexterm"NAME="AUTOID-17622"></A><ACLASS="indexterm"NAME="AUTOID-17625"></A>X25and<ACLASS="indexterm"NAME="AUTOID-17628"></A><SPANCLASS="acronym">ISDN</SPAN>, are simply address records specificto X.25 and <SPANCLASS="acronym">ISDN</SPAN> networks, respectively. Both take arguments (record-specificdata) appropriate to the type of network. The X25 record type usesan X.121<ACLASS="indexterm"NAME="AUTOID-17632"></A><ACLASS="indexterm"NAME="AUTOID-17634"></A>address(X.121 is the <SPANCLASS="acronym">ITU</SPAN>-T recommendation that specifies the format of addressesused in X.25 networks). The <SPANCLASS="acronym">ISDN</SPAN> record type uses an <SPANCLASS="acronym">ISDN</SPAN> address.</P><PCLASS="para"><SPANCLASS="acronym">ISDN</SPAN> stands for Integrated Services Digital Network. Telephonecompanies around the world have proposed using <SPANCLASS="acronym">ISDN</SPAN> protocols toallow their telephone networks to carry both voice and data, creatingan integrated network. Although <SPANCLASS="acronym">ISDN</SPAN>'s availability is spotty throughoutthe U.S., it has been widely adopted in some international markets. Since<SPANCLASS="acronym">ISDN</SPAN> uses the telephone companies' networks, an <SPANCLASS="acronym">ISDN</SPAN> address isjust a phone number, and in fact consists of a country code, followedby an area code or city code, then by a local phone number. Sometimesthere are a few extra digits you wouldn't see in a phone numberat the end, called a subaddress. The subaddress is specified ina separate field in the record-specific data.</P><PCLASS="para">Examplesof the X25 and <SPANCLASS="acronym">ISDN</SPAN> record types are:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">relay.pink.com.  <SPANCLASS="acronym">IN</SPAN>  X25  31105060845delay.hp.com.    <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">ISDN</SPAN>  141555514539488hep.hp.com.      <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">ISDN</SPAN>  141555514539488 004</PRE></BLOCKQUOTE><PCLASS="para">These records are intended for use in conjunctionwith the Route Through (<SPANCLASS="acronym">RT</SPAN>)<ACLASS="indexterm"NAME="AUTOID-17656"></A><ACLASS="indexterm"NAME="AUTOID-17659"></A>recordtype. <SPANCLASS="acronym">RT</SPAN> is syntactically and semantically similar to the <SPANCLASS="acronym">MX</SPAN> recordtype: it specifies an intermediate host that will route <EMCLASS="emphasis">packets</EM> (insteadof mail) to a destination host. So now, instead of only being ableto route mail to a host that isn't directly connected to the Internet,you can route any kind of <SPANCLASS="acronym">IP</SPAN> packet to that host by using anotherhost as a forwarder. The packet could be part of a <EMCLASS="emphasis">telnet</EM> or<EMCLASS="emphasis">ftp</EM> session, or perhaps even a <SPANCLASS="acronym">DNS</SPAN> query!</P><PCLASS="para">Like <SPANCLASS="acronym">MX</SPAN>, <SPANCLASS="acronym">RT</SPAN> includes a preference value, which indicates howdesirable delivery to a particular host is. For example, the records:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">housesitter.movie.edu.  <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">RT</SPAN>  10 relay.pink.com.                        <SPANCLASS="acronym">IN</SPAN>  <SPANCLASS="acronym">RT</SPAN>  20 delay.hp.com.</PRE></BLOCKQUOTE><PCLASS="para">instruct hosts to route packets bound for <EMCLASS="emphasis">housesitter</EM> through <EMCLASS="emphasis">relay.pink.com</EM> (thefirst choice) or through <EMCLASS="emphasis">delay.hp.com</EM> (thesecond choice).</P><PCLASS="para">The way <SPANCLASS="acronym">RT</SPAN> works with X25 and <SPANCLASS="acronym">ISDN</SPAN> (andeven A) records is like this:</P><OLCLASS="orderedlist"><LICLASS="listitem"><PCLASS="para">Internet host A wants to send a packetto host B, which is not connected to the Internet.</P></LI><LICLASS="listitem"><PCLASS="para">Host A looks up host B's <SPANCLASS="acronym">RT</SPAN> records. This searchalso returns all address records (A, X25, <EMCLASS="emphasis">and</EM> <SPANCLASS="acronym">ISDN</SPAN>)for each intermediate host.</P></LI><LICLASS="listitem"><PCLASS="para">Host A sorts the list of intermediate hosts andlooks for its own domain name. If it finds it, it removes it andall intermediate hosts at higher preference values. This is analogousto <EMCLASS="emphasis">sendmail</EM>'s &quot;paring down&quot; a list of mailexchangers. </P></LI><LICLASS="listitem"><PCLASS="para">Host A examines the address record(s) for the mostpreferred intermediate host that remains. If host A is attachedto a network that corresponds to the type of address record indicated,it uses that network to send the packet to the intermediate host.For example, if host A were trying to send a packet through <EMCLASS="emphasis">relay.pink.com</EM>,it would need connectivity to an X.25 network.</P></LI><LICLASS="listitem"><PCLASS="para">If host A lacks appropriate connectivity, it triesthe next intermediate host specified by the <SPANCLASS="acronym">RT</SPAN> records. For example,if host A lacked X.25 connectivity, it might fall back to deliveringvia <SPANCLASS="acronym">ISDN</SPAN> to <EMCLASS="emphasis">delay.hp.com</EM>.</P></LI></OL><PCLASS="para">This process continues until the packet is routed to the mostpreferred intermediate host. The most preferred intermediate hostmay then deliver the packet directly to the destination host's address(which may be A, X25, or <SPANCLASS="acronym">ISDN</SPAN>).<ACLASS="indexterm"NAME="AUTOID-17704"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-17706">15.7.4 Location</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17709"></A><SPANCLASS="acronym">RFC</SPAN> 1876 definesan experimental record type, <SPANCLASS="acronym">LOC</SPAN>, that allows domain administratorsto encode the location of their computers, subnets and networks. In this case, location means latitude, longitude and altitude. Future applications could use this information to produce networkmaps, assess routing efficiency, and more.</P><PCLASS="para">In its basicform, the <SPANCLASS="acronym">LOC</SPAN> record takes latitude, longitude and altitude (inthat order) as its record-specific data.  Latitude and longitudeare expressed in the format:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&lt;degrees&gt; [minutes [seconds.&lt;fractional seconds&gt;]] (N|S|E|W)</PRE></BLOCKQUOTE><PCLASS="para">Altitude is expressed in meters.</P><PCLASS="para">If you'rewondering how in the world you're going to get that data, check out&quot;<SPANCLASS="acronym">RFC</SPAN> 1876 Resources,&quot; at <ACLASS="systemitem.url"HREF="http://www.ckdhr.com/dns-loc/">http://www.ckdhr.com/dns-loc/</A>. This site, created by Christopher Davis, one of the authors of<SPANCLASS="acronym">RFC</SPAN> 1876, is an indispensable collection of information and usefullinks and utilities for people creating <SPANCLASS="acronym">LOC</SPAN> records.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17723"></A>Ifyou don't have your own Global Positioning System receiver to carry aroundto all of your computers, two sites that may come in handy are Etak'sEagle Geocoder, at <ACLASS="systemitem.url"HREF="http://www.geocode.com/eagle.html-ssi">http://www.geocode.com/eagle.html-ssi</A>, whichyou can use to find the latitude and longitude of most addressesin the United States; and AirNav's Airport Information, at <ACLASS="systemitem.url"HREF="http://www.airnav.com/airports/">http://www.airnav.com/airports/</A>,which will let you find the elevation of the closest airport toyou.  If you don't have a major airport near you, don't worry:the database even includes the helipad at my neighborhood hospital!</P><PCLASS="para">Here's a <SPANCLASS="acronym">LOC</SPAN> record for one of our hosts:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">huskymo.acmebw.com.      IN     LOC     40 2 0.373 N 105 17 23.528 W 1638m</PRE></BLOCKQUOTE><PCLASS="para">Optional fields in the record-specific data allowyou to specify how large the entity you're describing is, in meters(<SPANCLASS="acronym">LOC</SPAN> records can describe networks, after all, which can be quitelarge), as well as the horizontal and vertical precision.  The sizedefaults to one meter, which is perfect for a single host.  Horizontalprecision defaults to 10,000 meters, and vertical precision to tenmeters.  These defaults represent the size of a typical <SPANCLASS="acronym">ZIP</SPAN> or postal code,the idea being that you can fairly easily find a latitude and longitudegiven a <SPANCLASS="acronym">ZIP</SPAN> code.</P><PCLASS="para">You can also attach <SPANCLASS="acronym">LOC</SPAN> records tothe names of subnets and networks.  If you've taken the time toenter information about the names and addresses of your networksin the format described in <SPANCLASS="acronym">RFC</SPAN> 1101 (covered earlier in this chapter),you can attach <SPANCLASS="acronym">LOC</SPAN> records to the network names:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">;; Map <SPANCLASS="acronym">HP</SPAN>'s network name to 15.0.0.0.;hp-net.hp.com.   IN   PTR 0.0.0.15.in-addr.arpa.                 IN   LOC 37 24 55.393 N 122 8 37 W 26m</PRE></BLOCKQUOTE></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-17740">15.7.5 <SPANCLASS="acronym">IP</SPAN>v6 Addresses</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17744"></A><ACLASS="indexterm"NAME="AUTOID-17746"></A>If you're to believe thehype, <SPANCLASS="acronym">IP</SPAN>v6 is coming soon to a network near you.  Clearly, the existingA record won't accommodate <SPANCLASS="acronym">IP</SPAN>v6's 128-bit addresses:  <SPANCLASS="acronym">BIND</SPAN> expectsan A record's record-specific data to be a 32-bit address in dotted-octet format.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17753"></A><SPANCLASS="acronym">RFC</SPAN> 1886 introduces a new address record, <SPANCLASS="acronym">AAAA</SPAN>, used to storea 128-bit <SPANCLASS="acronym">IP</SPAN>v6 address.  <SPANCLASS="acronym">AAAA</SPAN> takes as its record-specific datathe textual format of an <SPANCLASS="acronym">IP</SPAN>v6 record described in <SPANCLASS="acronym">RFC</SPAN> 1884.  Thisformat expresses the 128 bits of the address as eight sets of fourhexadecimal digits, separated by colons (&quot;:&quot;).  The first set offour digits encodes the high-order 16 bits of the address.  Everyset of four bits are compressed into the equivalent hexadecimaldigit (e.g., <CODECLASS="literal">1111</CODE> becomes <CODECLASS="literal">f</CODE>).  You can omit leading zeroes in a setof hexadecimal digits.</P><PCLASS="para">So, for example, you'd see <SPANCLASS="acronym">AAAA</SPAN>records like this:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">ipv6         IN     AAAA            4321:0:1:2:3:4:567:89ab</PRE></BLOCKQUOTE><PCLASS="para"><SPANCLASS="acronym">RFC</SPAN> 1886 also extends the additional processing that<SPANCLASS="acronym">BIND</SPAN> and other name servers do, so that name servers include <SPANCLASS="acronym">AAAA</SPAN>records for mail exchangers and name servers that speak <SPANCLASS="acronym">IP</SPAN>v6, forexample.</P><PCLASS="para">Finally, <SPANCLASS="acronym">RFC</SPAN> 1886 establishes a new reversemapping namespace for <SPANCLASS="acronym">IP</SPAN>v6 addresses, called <ICLASS="filename">ip6.int</I>.  Each levelof subdomain under <ICLASS="filename">ip6.int</I> represents a nibble (a 4-bit quantity)in the 128-bit address, with the low-order nibble encoded first(appearing at the far left of the domain name).  Unlike the formatof addresses in <SPANCLASS="acronym">AAAA</SPAN> records, omitting leading zeroes is not allowed,so there are always 32 nibbles and 32 levels of subdomain below<ICLASS="filename">ip6.int</I> in a domain name corresponding to a full <SPANCLASS="acronym">IP</SPAN>v6 address.The domain name that corresponds to the address in the example aboveis:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">b.a.9.8.7.6.5.0.4.0.0.0.3.0.0.0.2.0.0.0.1.0.0.0.0.0.0.0.1.2.3.4.<SPANCLASS="acronym">IP</SPAN>6.<SPANCLASS="acronym">INT</SPAN>.</PRE></BLOCKQUOTE><PCLASS="para">These domain names have <SPANCLASS="acronym">PTR</SPAN> records attached, justas domain names under <ICLASS="systemitem.sitename">in-addr.arpa</I> do.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="AUTOID-17785">15.7.6 <SPANCLASS="acronym">SRV</SPAN></A></H3><PCLASS="para"><ACLASS="indexterm"NAME="CH15.SRV"></A>Locating a service or server withina zone, if you don't know which host it runs on, is a difficultproblem.  Some domain administrators have attempted to solve this problemby using service-specific aliases in their zones.  For example,at Movie U. we created the alias <ICLASS="systemitem.sitename">ftp.movie.edu</I> and point it to thedomain name of our <SPANCLASS="acronym">FTP</SPAN> archive:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">ftp.movie.edu.      IN    CNAME           plan9.fx.movie.edu.</PRE></BLOCKQUOTE><PCLASS="para">This makes it easy for people to guess a domain namethat will get them to our <SPANCLASS="acronym">FTP</SPAN> archive, and separates the name peopleuse to access to archive from the domain name of the host it runson.  If we were to move the archive to a different host, we couldsimply change the <SPANCLASS="acronym">CNAME</SPAN> record.</P><PCLASS="para">The experimental <SPANCLASS="acronym">SRV</SPAN>record, introduced in <SPANCLASS="acronym">RFC</SPAN> 2052, is a general mechanism for locatingservices.  <SPANCLASS="acronym">SRV</SPAN> also provides powerful features that allow domainadministrators to distribute load and provide backup services, similarto the <SPANCLASS="acronym">MX</SPAN> record.</P><PCLASS="para">A unique aspect of the <SPANCLASS="acronym">SRV</SPAN> recordis the format of the domain name it's attached to.  Like service-specific aliases,the domain name to which an <SPANCLASS="acronym">SRV</SPAN> record is attached gives the nameof the service sought, as well as the protocol it runs over, concatenatedwith a domain name.  So, for example:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">ftp.tcp.movie.edu</PRE></BLOCKQUOTE><PCLASS="para">would represent the <SPANCLASS="acronym">SRV</SPAN> records someone <KBDCLASS="command">ftp</KBD>ing to<ICLASS="systemitem.sitename">movie.edu</I> should retrieve in order to find the <ICLASS="systemitem.sitename">movie.edu</I> <SPANCLASS="acronym">FTP</SPAN> servers,while:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">http.tcp.www.movie.edu</PRE></BLOCKQUOTE><PCLASS="para">represents the <SPANCLASS="acronym">SRV</SPAN> records someone accessing the<SPANCLASS="acronym">URL</SPAN> <ACLASS="systemitem.url"HREF="http://www.movie.edu/">http://www.movie.edu/</A> should look up in order to find the <ICLASS="systemitem.sitename">www.movie.edu</I>web servers.</P><PCLASS="para">The names of the service and protocol shouldappear in the latest Assigned Numbers <SPANCLASS="acronym">RFC</SPAN> (the most recent as ofthis writing is <SPANCLASS="acronym">RFC</SPAN> 1700), or be unique names used only locally. Don't use the port or protocol <EMCLASS="emphasis">numbers</EM>, just the names.</P><PCLASS="para">The<SPANCLASS="acronym">SRV</SPAN> record has four resource record-specific fields:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">priority    weight    port    target</PRE></BLOCKQUOTE><PCLASS="para"><ICLASS="parameter">priority</I>, <ICLASS="parameter">weight</I>, and <ICLASS="parameter">port</I> are unsigned 16-bit numbers (between0 and 65535).  <ICLASS="parameter">target</I> is a domain name.</P><PCLASS="para"><EMCLASS="emphasis">Priority</EM> worksvery similarly to the preference in an <SPANCLASS="acronym">MX</SPAN> record:  the lower thenumber in the priority field, the more desirable the associatedtarget.  When searching for the hosts offering a given service, clientsshould try targets at the same priority before trying those at ahigher priority value.</P><PCLASS="para"><EMCLASS="emphasis">Weight</EM> allows domain administratorsto distribute load to multiple targets.  Clients should query targetsat the same priority in proportion to their weight.  For example,if one target has a priority of zero and a weight of one, and anothertarget also has a priority of zero but a weight of two, the secondtarget should receive twice as much load (in queries, connections,whatever) as the first.</P><PCLASS="para"><EMCLASS="emphasis">Port</EM> specifies the port on whichthe service being sought is running.  This allows domain administratorsto run servers on non-standard ports.  For example, a domain administratorcould use <SPANCLASS="acronym">SRV</SPAN> records to point web browsers at a web server runningon port 8000 instead of the standard <SPANCLASS="acronym">HTTP</SPAN> port (80).</P><PCLASS="para"><EMCLASS="emphasis">Target</EM>,finally, specifies the domain name of a host on which the serviceis running (on the port specified in the <ICLASS="parameter">port</I> field).  <ICLASS="parameter">Target</I> mustbe the canonical name of the host (not an alias), with address recordsattached to it.</P><PCLASS="para">So, for the <ICLASS="systemitem.sitename">movie.edu</I> <SPANCLASS="acronym">FTP</SPAN> server, weadded these records to <ICLASS="filename">db.movie</I>:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">ftp.tcp             IN     SRV     1       0       21      plan9.fx.movie.edu.                    IN     SRV     2       0       21      thing.fx.movie.edu.</PRE></BLOCKQUOTE><PCLASS="para">This instructs <SPANCLASS="acronym">SRV</SPAN>-capable <SPANCLASS="acronym">FTP</SPAN> clients to try the<SPANCLASS="acronym">FTP</SPAN> server on <ICLASS="systemitem.sitename">plan9.fx.movie.edu</I>'s port 21 first when connectingto <ICLASS="systemitem.sitename">movie.edu</I>, and then to try the <SPANCLASS="acronym">FTP</SPAN> server on <ICLASS="systemitem.sitename">thing.fx.movie.edu</I>'sport 21 if <ICLASS="systemitem.sitename">plan9</I>'s <SPANCLASS="acronym">FTP</SPAN> server isn't available.</P><PCLASS="para">The records:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">http.tcp.www  <SPANCLASS="acronym">IN</SPAN> <SPANCLASS="acronym">SRV</SPAN> 0 2 80   www.movie.edu.              <SPANCLASS="acronym">IN</SPAN> <SPANCLASS="acronym">SRV</SPAN> 0 1 80   www2.movie.edu.              <SPANCLASS="acronym">IN</SPAN> <SPANCLASS="acronym">SRV</SPAN> 1 1 8000 postmanrings2x.movie.edu.</PRE></BLOCKQUOTE><PCLASS="para">direct web queries for <ICLASS="systemitem.sitename">www.movie.edu</I> to <ICLASS="systemitem.sitename">www.movie.edu</I>'sport 80 and <ICLASS="systemitem.sitename">www2.movie.edu</I>'s port 80, with <ICLASS="systemitem.sitename">www.movie.edu</I> gettingtwice the queries that <ICLASS="systemitem.sitename">www2.movie.edu</I> does.  If neither is available,queries go to <ICLASS="systemitem.sitename">postmanrings2x</I>, on port 8000.</P><PCLASS="para">Unfortunately,we don't know of any clients that support the <SPANCLASS="acronym">SRV</SPAN> record yet.  That'sreally too bad, given how useful <SPANCLASS="acronym">SRV</SPAN> could be.  Since <SPANCLASS="acronym">SRV</SPAN> isn'twidely supported, don't use SRV records in lieu of address records.  It'sprudent to include at least one address record for the &quot;base&quot; domainname to which your <SPANCLASS="acronym">SRV</SPAN> records are attached, and more if you'd likethe load spread between addresses.  If you only list a host as abackup in the <SPANCLASS="acronym">SRV</SPAN> records, don't include its <SPANCLASS="acronym">IP</SPAN> address.  Also,if a host runs a service on a non-standard port, don't include anaddress record for it, since there's no way to redirect clientsto a non-standard port with an A record.</P><PCLASS="para">So, for <ICLASS="systemitem.sitename">www.movie.edu</I>,we include all of these records:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">http.tcp.www <SPANCLASS="acronym">IN</SPAN> <SPANCLASS="acronym">SRV</SPAN> 0 2 80   www.movie.edu.             <SPANCLASS="acronym">IN</SPAN> <SPANCLASS="acronym">SRV</SPAN> 0 1 80   www2.movie.edu.             <SPANCLASS="acronym">IN</SPAN> <SPANCLASS="acronym">SRV</SPAN> 1 1 8000 postmanrings2x.movie.edu.www          <SPANCLASS="acronym">IN</SPAN> A 200.1.4.3             <SPANCLASS="acronym">IN</SPAN> A 200.1.4.4</PRE></BLOCKQUOTE><PCLASS="para">Browsers that can handle <SPANCLASS="acronym">SRV</SPAN>records (whenever they come out) will send twice as many requeststo <ICLASS="systemitem.sitename">www.movie.edu</I> as to <ICLASS="systemitem.sitename">www2.movie.edu</I>, and will only use <ICLASS="systemitem.sitename">postmanrings2x.movie.edu</I>if both of the main web servers are unavailable.  Browsers thatdon't use <SPANCLASS="acronym">SRV</SPAN> records will have their requests round-robinned between<ICLASS="systemitem.sitename">www</I> and <ICLASS="systemitem.sitename">www2</I>.</P><ACLASS="indexterm"NAME="AUTOID-17899"></A></DIV><ACLASS="indexterm"NAME="AUTOID-17900"></A></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch15_06.htm"TITLE="15.6 Network Names and Numbers"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 15.6 Network Names and Numbers"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="DNS &amp; BIND"><IMGSRC="../gifs/txthome.gif"ALT="DNS &amp; BIND"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch15_08.htm"TITLE="15.8 DNS Versus X.500"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 15.8 DNS Versus X.500"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">15.6 Network Names and Numbers</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">15.8 DNS Versus X.500</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>