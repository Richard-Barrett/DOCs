<HTML><HEAD><TITLE>[Chapter 2] Internet Services</TITLE><METANAME="DC.title"CONTENT="Building Internet Firewalls"><METANAME="DC.creator"CONTENT="D. Brent Chapman &amp; Elizabeth D. Zwicky"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:08:54Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-124-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="part01.htm"TITLE="I. Network Security"><LINKREL="prev"HREF="ch01_04.htm"TITLE="1.4 What Is an Internet Firewall?"><LINKREL="next"HREF="ch02_02.htm"TITLE="2.2 File Transfer"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Building Internet Firewalls"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Building Internet Firewalls"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/fsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_04.htm"TITLE="1.4 What Is an Internet Firewall?"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.4 What Is an Internet Firewall?"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 2</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_02.htm"TITLE="2.2 File Transfer"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.2 File Transfer"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="FIRE-02-CHP">2. Internet Services</A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="SECT1"HREF="#FIRE-02-S1-1"TITLE="2.1 Electronic Mail">Electronic Mail</A><BR><ACLASS="SECT1"HREF="ch02_02.htm"TITLE="2.2 File Transfer">File Transfer</A><BR><ACLASS="SECT1"HREF="ch02_03.htm"TITLE="2.3 Remote Terminal Access and Command Execution">Remote Terminal Access and CommandExecution</A><BR><ACLASS="SECT1"HREF="ch02_04.htm"TITLE="2.4 Usenet News">Usenet News</A><BR><ACLASS="SECT1"HREF="ch02_05.htm"TITLE="2.5 The World Wide Web">The World Wide Web</A><BR><ACLASS="SECT1"HREF="ch02_06.htm"TITLE="2.6 Other Information Services">Other Information Services</A><BR><ACLASS="SECT1"HREF="ch02_07.htm"TITLE="2.7 Information About People ">Information About People </A><BR><ACLASS="SECT1"HREF="ch02_08.htm"TITLE="2.8 Real-Time Conferencing Services">Real-Time ConferencingServices</A><BR><ACLASS="SECT1"HREF="ch02_09.htm"TITLE="2.9 Name Service">Name Service</A><BR><ACLASS="SECT1"HREF="ch02_10.htm"TITLE="2.10 Network Management Services">Network Management Services</A><BR><ACLASS="SECT1"HREF="ch02_11.htm"TITLE="2.11 Time Service ">Time Service </A><BR><ACLASS="SECT1"HREF="ch02_12.htm"TITLE="2.12 Network File Systems">Network File Systems</A><BR><ACLASS="SECT1"HREF="ch02_13.htm"TITLE="2.13 Window Systems">Window Systems</A><BR><ACLASS="SECT1"HREF="ch02_14.htm"TITLE="2.14 Printing Systems">Printing Systems</A></P><P></P></DIV><PCLASS="para"><ACLASS="indexterm"NAME="CH02INTSERV"></A><ACLASS="indexterm"NAME="AUTOID-640"></A><ACLASS="indexterm"NAME="AUTOID-643"></A>In <ACLASS="xref"HREF="ch01_01.htm"TITLE="Why Internet Firewalls?">Chapter 1, <CITECLASS="chapter">Why Internet Firewalls?</CITE></A> we discussed, in generalterms, what you're trying to protect when you connect to the Internet:your data, your resources, and your reputation. In designing anInternet firewall, your concerns are more specific; what you need toprotect are those services you're going to use or provide over theInternet.</P><PCLASS="para">There are a number of standard Internet services that users want andthat most sites try to support. There are important reasons to usethese services; indeed, without them, there is little reason to beconnected to the Internet at all. But there are also potential securityproblems with each of them. </P><PCLASS="para">What services do you want to support at your site? Which ones can yousupport securely? Every site is different. Every site has its ownsecurity policy and its own working environment. For example, do allyour users need electronic mail? Do they all need totransfer files outside your organization? How about downloading filesfrom sites outside the organization's own network? Who should be ableto log in remotely from another location over the Internet?</P><PCLASS="para">This chapter briefly summarizes the major Internet services yourusers may be interested in using. It provides only a high-levelsummary (details are given in <ACLASS="xref"HREF="ch08_01.htm"TITLE="Configuring Internet Services">Chapter 8, <CITECLASS="chapter">Configuring Internet Services</CITE></A>). None ofthese services are really secure; each one has its own securityweaknesses, and each has been exploited in various ways by attackers.Before you decide to support a service at your site, you will have toassess how important it is to your users and whether you will be ableto protect them from its dangers. There are various ways of doingthis: running the services only on certain protected machines, usingespecially secure variants of the standard services; or, in somecases, blocking the services completely to or from some or all outsidesystems.</P><PCLASS="para">This chapter doesn't list every Internet service&nbsp;- it can't. Such alist would be incomplete as soon as it was finished, and would includeservices of interest only to a few sites in the world. Instead,we attempt to list the major services, and we hope this book will giveyou the background you need to make decisions about new services as youencounter them.</P><PCLASS="para">Managers and system administrators together need to decide whichservices to support at your site and to what extent. <ACLASS="xref"HREF="ch08_01.htm"TITLE="Configuring Internet Services">Chapter 8</A> describes what is necessary to support theseservices securely once you've decided to provide them, and thedecisions you may need to make about them when building your site'sfirewall.</P><DIVCLASS="sidebar"><H4CLASS="sidebar"><ACLASS="title"NAME="AUTOID-655">Getting Started with Internet Services</A></H4><PCLASS="para">Are you just getting connected? Or, have you been connected for a whilebut are getting concerned about Internet security? Where shouldyou start? Many system administrators try to be too ambitious. If youattempt to develop and deploy the be-all and end-all of firewall systemsright from day one, you probably aren't going to succeed. The field isjust too complex, and the technology is changing so fast that it willchange out from under you before you get such an endeavor&quot;finished.&quot;</P><PCLASS="para">Start small. At many sites, it boils down to six basic services. If you can provide these services securely, most of your users will besatisfied, at least for a while.<ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Electronic mail (<SPANCLASS="acronym">SMTP</SPAN>)</P></LI><LICLASS="listitem"><PCLASS="para">File transfer (<SPANCLASS="acronym">FTP</SPAN>)</P></LI><LICLASS="listitem"><PCLASS="para">Usenet news (<SPANCLASS="acronym">NNTP</SPAN>)</P></LI><LICLASS="listitem"><PCLASS="para">Remote terminal access (Telnet)</P></LI><LICLASS="listitem"><PCLASS="para">World Wide Web access (<SPANCLASS="acronym">HTTP</SPAN>)</P></LI><LICLASS="listitem"><PCLASS="para">Hostname/address lookup (<SPANCLASS="acronym">DNS</SPAN>): usersgenerally don't use this service directly, but it underlies the otherfive services by translating Internet hostnames to<SPANCLASS="acronym">IP</SPAN> addresses and vice versa.</P></LI></UL> </P><PCLASS="para">All six of these services can be safely provided in a number ofdifferent ways, including packet filtering and proxies&nbsp;- firewallapproaches discussed in Part II of this book. Providingthese services lets your users access most Internet resources, and itbuys you time to figure out how to provide the rest of the servicesthey'll be asking for soon, such as Archie, Gopher,<SPANCLASS="acronym">WAIS</SPAN>, and other information services.</P></DIV><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="FIRE-02-S1-1">2.1 Electronic Mail</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-683"></A><ACLASS="indexterm"NAME="AUTOID-686"></A><ACLASS="indexterm"NAME="AUTOID-689"></A><ACLASS="indexterm"NAME="CH02EMAIL"></A>Electronic mail is one of the most popular and basicnetwork services.  It's relatively low risk, but that doesn't meanit's risk free. Forging electronic mail is trivial (just as is forgingregular postal mail), and forgeries facilitate two different types ofattacks: attacks against your reputation and social manipulationattacks (e.g., attacks in which users are sent mail purporting to comefrom an administrator and advising them to change to a specificpassword). Accepting electronic mail ties up computer time and diskspace, opening you up for denial of service attacks, although withproper configuration, only email service will be denied. Particularlywith modern multimedia mail systems, people can send electronic mailcontaining programs that run with insufficient supervision and mayturn out to be <EMCLASS="emphasis">Trojan horses</EM>.</P><PCLASS="para">Although people worry most about the last risk mentionedabove, in practice the most common problems with electronic mail areinadvertent floods (including chain letters) and people who put entirelyinappropriate confidence in the confidentiality of electronic mail andsend proprietary data via electronic mail across the Internet. However,as long as users are educated, and the mail service is isolated fromother services so that inadvertent or purposeful denial of serviceattacks shut down as little as possible, electronic mail is reasonablysafe.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-698"></A><ACLASS="indexterm"NAME="AUTOID-700"></A><ACLASS="indexterm"NAME="AUTOID-703"></A>Simple Mail Transfer Protocol (<SPANCLASS="acronym">SMTP</SPAN>) isthe Internet standard protocol for sending and receiving electronicmail. <SPANCLASS="acronym">SMTP</SPAN> itself is not usually a securityproblem, but <SPANCLASS="acronym">SMTP</SPAN> servers can be. A program thatdelivers mail to users often needs to be able to run as any user thatmight receive mail. This gives it broad power and makes it a temptingtarget for attackers.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-710"></A><ACLASS="indexterm"NAME="AUTOID-712"></A><ACLASS="indexterm"NAME="AUTOID-715"></A>The most common <SPANCLASS="acronym">SMTP</SPAN> server on<SPANCLASS="acronym">UNIX</SPAN> is Sendmail. Sendmail has been exploited in anumber of break-ins, including the Internet worm, which makes peoplenervous about using it. Many of the available replacements, however,are not clearly preferable to Sendmail; the evidence suggests they areless exploited because they are less popular, not because they areless vulnerable. There are exceptions in programs designed explicitlyfor security, but these don't support all the functions necessary tosend and receive arbitrary mail messages; some things are still besthandled by Sendmail running in a secured space.<ACLASS="indexterm"NAME="AUTOID-720"></A></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_04.htm"TITLE="1.4 What Is an Internet Firewall?"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.4 What Is an Internet Firewall?"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Building Internet Firewalls"><IMGSRC="../gifs/txthome.gif"ALT="Building Internet Firewalls"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_02.htm"TITLE="2.2 File Transfer"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.2 File Transfer"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">1.4 What Is an Internet Firewall?</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">2.2 File Transfer</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>