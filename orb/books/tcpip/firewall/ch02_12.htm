<HTML><HEAD><TITLE>[Chapter 2] 2.12 Network File Systems</TITLE><METANAME="DC.title"CONTENT="Building Internet Firewalls"><METANAME="DC.creator"CONTENT="D. Brent Chapman &amp; Elizabeth D. Zwicky"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:09:35Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-124-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch02_01.htm"TITLE="2. Internet Services"><LINKREL="prev"HREF="ch02_11.htm"TITLE="2.11 Time Service "><LINKREL="next"HREF="ch02_13.htm"TITLE="2.13 Window Systems"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Building Internet Firewalls"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Building Internet Firewalls"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/fsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_11.htm"TITLE="2.11 Time Service "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.11 Time Service "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 2<BR>Internet Services</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_13.htm"TITLE="2.13 Window Systems"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.13 Window Systems"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="FIRE-02-S1-12">2.12 Network File Systems</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="CH02NETWORKFILES"></A><ACLASS="indexterm"NAME="AUTOID-1261"></A><ACLASS="indexterm"NAME="AUTOID-1265"></A><ACLASS="indexterm"NAME="AUTOID-1268"></A><ACLASS="indexterm"NAME="AUTOID-1270"></A><ACLASS="indexterm"NAME="CH02FILESNETFILES"></A>There are several protocols available for allowing computers to mount   filesystems that are physically attached to other computers. This   is highly desirable, because it lets people use remote files   without the overhead of transferring them back and forth and trying   to keep multiple versions in sync. It's also extremely dangerous,   because it means that you're allowing people to read your data   without separately authenticating themselves to the machine that   the data is on. The Network File System   (<SPANCLASS="acronym">NFS</SPAN>) and the Andrew File System   (<SPANCLASS="acronym">AFS</SPAN>) are the two most frequently used network   file systems in <SPANCLASS="acronym">UNIX</SPAN>. <SPANCLASS="acronym">NFS</SPAN> was   designed for use in local area networks, and assumes fast response,   high reliability, time synchronization, and a high degree of trust   between machines. <SPANCLASS="acronym">AFS</SPAN> was designed for use   across larger networks, and better tolerates poor performance and   lower degrees of trust.</P><PCLASS="para">There are some serious security problems with<SPANCLASS="acronym">NFS</SPAN>. If you haven't properly configured<SPANCLASS="acronym">NFS</SPAN> (which can be tricky), an attacker may be ableto simply <SPANCLASS="acronym">NFS</SPAN>-mount your filesystems. The way<SPANCLASS="acronym">NFS</SPAN> works, client machines are allowed to read andchange files stored on the server without having to log in to theserver or enter a password. Because <SPANCLASS="acronym">NFS</SPAN> doesn't logtransactions, you might not even know that someone else has fullaccess to your files.</P><PCLASS="para"><SPANCLASS="acronym">NFS</SPAN> does provide a way for you to control whichmachines can access your files. A file called<EMCLASS="emphasis">/etc/exports</EM> lets you specifywhich filesystems can be mounted, and which machines can mountthem. If you leave a filesystem out of<EMCLASS="emphasis">/etc/exports,</EM> no machine can mount it. If you putit in <EMCLASS="emphasis">/etc/exports</EM>, but don't specify what machinescan mount it, you're allowing any machine to mount it. </P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-1292"></A><ACLASS="indexterm"NAME="AUTOID-1295"></A>A number of subtler attacks on <SPANCLASS="acronym">NFS</SPAN> are alsopossible. For example, <SPANCLASS="acronym">NFS</SPAN> has very weak clientauthentication, and an attacker may be able to convince the<SPANCLASS="acronym">NFS</SPAN> server that a request is coming from a clientthat's permitted in the <EMCLASS="emphasis">exports</EM> file. There arealso situations where an attacker can hijack an existing<SPANCLASS="acronym">NFS</SPAN> mount.<BCLASS="emphasis.bold"></B></P><PCLASS="para">These problems are mostly due to the fact that <SPANCLASS="acronym">NFS</SPAN>uses host authentication, which is easily spoofed. Because<SPANCLASS="acronym">NFS</SPAN> doesn't actually work well across theInternet in any case (it assumes a much faster connection betweenhosts), there isn't much point in allowing it between your site andthe Internet. It creates a security problem without addingfunctionality.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-1308"></A><SPANCLASS="acronym">AFS</SPAN> uses Kerberos for authentication, andoptionally encryption, and is designed to work across wide areanetworks, including the Internet. <SPANCLASS="acronym">NFS</SPAN> is shipped aspart of the operating system with most versions of<SPANCLASS="acronym">UNIX</SPAN>, while <SPANCLASS="acronym">AFS</SPAN> is a third-partyproduct. Because of this, and because <SPANCLASS="acronym">AFS</SPAN> andKerberos require significant technical expertise to set up andmaintain, <SPANCLASS="acronym">AFS</SPAN> is not widely used outside of a smallnumber of large sites. If you have a need to do secure, wide areanetwork filesystems, it may be worth investigating<SPANCLASS="acronym">AFS</SPAN>, but it is not covered here.<ACLASS="indexterm"NAME="AUTOID-1317"></A><ACLASS="indexterm"NAME="AUTOID-1318"></A></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_11.htm"TITLE="2.11 Time Service "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.11 Time Service "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Building Internet Firewalls"><IMGSRC="../gifs/txthome.gif"ALT="Building Internet Firewalls"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_13.htm"TITLE="2.13 Window Systems"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.13 Window Systems"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">2.11 Time Service </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">2.13 Window Systems</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>