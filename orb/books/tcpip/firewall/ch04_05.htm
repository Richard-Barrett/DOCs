<HTML><HEAD><TITLE>[Chapter 4] 4.5 What the Future Holds</TITLE><METANAME="DC.title"CONTENT="Building Internet Firewalls"><METANAME="DC.creator"CONTENT="D. Brent Chapman &amp; Elizabeth D. Zwicky"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:13:59Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-124-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch04_01.htm"TITLE="4. Firewall Design"><LINKREL="prev"HREF="ch04_04.htm"TITLE="4.4 Internal Firewalls"><LINKREL="next"HREF="ch05_01.htm"TITLE="5. Bastion Hosts"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Building Internet Firewalls"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Building Internet Firewalls"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/fsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_04.htm"TITLE="4.4 Internal Firewalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 4.4 Internal Firewalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 4<BR>Firewall Design</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch05_01.htm"TITLE="5. Bastion Hosts"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5. Bastion Hosts"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="FIRE-04-S1-5">4.5 What the Future Holds</A></H2><PCLASS="para">Systems that might be called &quot;third generationfirewalls&quot;&nbsp;- firewalls that combine the features and capabilitiesof packet filtering and proxy systems into something more thanboth&nbsp;- are just starting to become available.</P><PCLASS="para">More and more client and server applications are coming with nativesupport for proxied environments. For example, many<SPANCLASS="acronym">WWW</SPAN> clients include proxy capabilities, and lots ofsystems are coming with run-time or compile-time support for genericproxy systems such as the <SPANCLASS="acronym">SOCKS</SPAN> package.</P><PCLASS="para">Packet filtering systems continue to grow more flexible and gain newcapabilities, such as dynamic packet filtering. With dynamic packetfiltering, such as that provided by the CheckPoint Firewall-1 product,the Morning Star Secure Connect router, and the KarlBridge/KarlBrouter,the packet filtering rules are modified &quot;on the fly&quot; bythe router in response to certain triggers. For example, an outgoing<SPANCLASS="acronym">UDP</SPAN> packet might cause the creation of a temporaryrule to allow a corresponding, answering <SPANCLASS="acronym">UDP</SPAN> packetback in.</P><PCLASS="para">The first systems that might be called &quot;third generation&quot;are just starting to appear on the market. For example, the Borderwareproduct from Border Network Technologies and the Gauntlet 3.0 productfrom Trusted Information Systems[6]look like proxy systems from the external side (allrequests appear to come from a single host), but look like packetfiltering systems from the inside (internal hosts and users thinkthey're talking directly to the external systems). They accomplishthis magic through a generous amount of internal bookkeeping oncurrently active connections and through wholesale packet rewriting topreserve the relevant illusions to both sides. TheKarlBridge/KarlBrouter product extends packet filtering in other directions,providing extensions for authentication and filtering at theapplication level. (This is much more precise than the filteringpossible with traditional packet filtering routers.)</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[6] The same folks who produce the free <SPANCLASS="acronym">TIS FWTK</SPAN>discussed throughout this book.</P></BLOCKQUOTE><PCLASS="para">While firewall technologies are changing, so are the underlyingtechnologies of the Internet, and these changes will requirecorresponding changes in firewalls.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2395"></A><ACLASS="indexterm"NAME="AUTOID-2398"></A>The underlying protocol of the Internet, <SPANCLASS="acronym">IP</SPAN>, iscurrently undergoing major revisions, partly to address thelimitations imposed by the use of four-byte host addresses in thecurrent version of the protocol (which is version 4; the existing<SPANCLASS="acronym">IP</SPAN> is sometimes called <SPANCLASS="acronym">IP</SPAN>v4),and the blocks in which they're given out. Basically, the Internet hasbeen so successful and become so popular that four bytes simply isn'ta big enough number to assign a unique address to every host that willjoin the Internet over the next few years, particularly becauseaddresses must be given out to organizations in relatively largeblocks.</P><PCLASS="para">Attempts to solve the address size limitations by giving out smallerblocks of addresses (so that a greater percentage of them are actuallyused) raise problems with routing protocols. Stop-gap solutions to bothproblems are being applied but won't last forever. Estimates for whenthe Internet will run out of new addresses to assign vary, but theconsensus is that either address space or routing table space (if notboth) will be exhausted sometime within a few years after the turn ofthe century. </P><PCLASS="para">While they're working &quot;under the hood&quot; to solve theaddress size limitations, the people designing the new<SPANCLASS="acronym">IP</SPAN> protocol (which is often referred to as&quot;<SPANCLASS="acronym">IP</SPAN>ng&quot; for &quot;<SPANCLASS="acronym">IP</SPAN>next generation&quot;&nbsp;- officially, it will be <SPANCLASS="acronym">IP</SPAN>version 6, or IPv6, when the standards are formally adopted andratified) are taking advantage of the opportunity to make otherimprovements in the protocol. Some of these improvements have thepotential to cause profound changes in how firewalls are constructedand operated; however, it's far too soon to say exactly what theimpact will be. It will probably be at least 1997, if not later,before <SPANCLASS="acronym">IP</SPAN>ng becomes a significant factor for anybut the most &quot;bleeding edge&quot; organizations on theInternet. (<ACLASS="xref"HREF="ch06_01.htm"TITLE="Packet Filtering">Chapter 6</A> describes<SPANCLASS="acronym">IP</SPAN>v6 in somewhat more detail.)</P><PCLASS="para">The underlying network technologies are also changing. Currently, mostnetworks involving more than two machines (i.e., almost anything otherthan dial-up or leased lines) are susceptible to snooping; any node onthe network can see at least some traffic that it's not supposed to bea party to. Newer network technologies, such as frame relay andAsynchronous Transfer Mode (<SPANCLASS="acronym">ATM</SPAN>), pass packetsdirectly from source to destination, without exposing them to snoopingby other nodes in the network.</P><DIVCLASS="sidebar"><H4CLASS="sidebar"><ACLASS="title"NAME="AUTOID-2415">Private <SPANCLASS="acronym">IP</SPAN> Addresses</A></H4><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2419"></A><ACLASS="indexterm"NAME="AUTOID-2422"></A>In general, sites should obtain and use <SPANCLASS="acronym">IP</SPAN>addresses that have been assigned specifically to them by either theirservice provider or their country's Network Information Center(<SPANCLASS="acronym">NIC</SPAN>). This coordinated assignment of addresseswill prevent sites from having difficulties reaching other sitesbecause they've inadvertently chosen conflicting <SPANCLASS="acronym">IP</SPAN>addresses.  Coordinated assignment of addresses also makes life easier(and therefore more efficient) for service providers and other membersof the Internet routing core.</P><PCLASS="para">Unfortunately, some organizations have simply picked<SPANCLASS="acronym">IP</SPAN> addresses out of thin air, because they didn'twant to go to the trouble of getting assigned <SPANCLASS="acronym">IP</SPAN>addresses, because they couldn't get as many addresses as they thoughtthey needed for their purposes (Class A nets are<EMCLASS="emphasis">extremely</EM> difficult to come by because there areonly 126 possible Class A network numbers in the world), or becausethey thought their network would never be connected to theInternet. The problem is, if such organizations ever<EMCLASS="emphasis">do</EM> want to communicate with whoever really ownsthose addresses (via a direct connection, or through the Internet),they'll be unable to because of addressing conflicts.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2434"></A>RFC1597[7]recognizes this long-standing practice and sets aside certain<SPANCLASS="acronym">IP</SPAN> addresses (Class A net 10, Class B nets 172.16through 172.31, and Class C nets 192.168.0 through 192.168.255) forprivate use by any organization. These addresses will never beofficially assigned to anyone and should never be used outside anorganization's own network.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[7] <SPANCLASS="acronym">RFC</SPAN>s (Requests for Comments) are Internet standardsdocuments.</P></BLOCKQUOTE><PCLASS="para">As RFC1627[8] (a followup to RFC1597) points out, RFC1597 doesn't reallyaddress the problem; it merely codifies the problem so that it can bemore easily recognized in the future. If a site chooses to use theseprivate addresses, they're going to have problems if they ever want tolink their site to the Internet (all their connections will have to beproxied, because the private addresses must never leak onto theInternet), or if they ever want to link their site to another sitethat's also using private addresses (for example, because they'vebought or been bought by such a site).</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[8] RFC1918 has superseded RFC1627 and made it obsolete.</P></BLOCKQUOTE><PCLASS="para">Our recommendation is to obtain and use registered<SPANCLASS="acronym">IP</SPAN> addresses if at all possible. If you<EMCLASS="emphasis">must</EM> use private <SPANCLASS="acronym">IP</SPAN> addresses,then use the ones specified by RFC1597, but beware that you're settingyourself up for later problem. We use the RFC1597 addresses throughoutthis book as sample <SPANCLASS="acronym">IP</SPAN> addresses, because we knowthey won't conflict with any site's actual Internet-visible<SPANCLASS="acronym">IP</SPAN> addresses.<ACLASS="indexterm"NAME="AUTOID-2449"></A></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_04.htm"TITLE="4.4 Internal Firewalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 4.4 Internal Firewalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Building Internet Firewalls"><IMGSRC="../gifs/txthome.gif"ALT="Building Internet Firewalls"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch05_01.htm"TITLE="5. Bastion Hosts"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5. Bastion Hosts"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">4.4 Internal Firewalls</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">5. Bastion Hosts</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>