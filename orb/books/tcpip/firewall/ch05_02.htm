<HTML><HEAD><TITLE>[Chapter 5] 5.2 Special Kinds of Bastion Hosts</TITLE><METANAME="DC.title"CONTENT="Building Internet Firewalls"><METANAME="DC.creator"CONTENT="D. Brent Chapman &amp; Elizabeth D. Zwicky"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:14:08Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-124-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch05_01.htm"TITLE="5. Bastion Hosts"><LINKREL="prev"HREF="ch05_01.htm"TITLE="5.1 General Principles"><LINKREL="next"HREF="ch05_03.htm"TITLE="5.3 Choosing a Machine"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Building Internet Firewalls"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Building Internet Firewalls"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/fsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_01.htm"TITLE="5.1 General Principles"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.1 General Principles"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 5<BR>Bastion Hosts</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_03.htm"TITLE="5.3 Choosing a Machine"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.3 Choosing a Machine"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="FIRE-05-S1-2">5.2 Special Kinds of Bastion Hosts</A></H2><PCLASS="para">Most of this chapter discusses bastion hosts that are screened hosts orservice-providing hosts on a screened network. There are several kinds of bastion hosts, however, that are configured similarly but havespecial requirements.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="FIRE-05-S2-1">5.2.1 Nonrouting Dual-homed Hosts</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2484"></A><ACLASS="indexterm"NAME="AUTOID-2487"></A><ACLASS="indexterm"NAME="AUTOID-2490"></A>A nonrouting dual-homed host has multiple network connections, butdoesn't pass traffic between them. Such a host might be a firewall allby itself, or might be part of a more complex firewall. For the mostpart, nonrouting dual-homed hosts are configured like other bastionhosts, but need extra precautions, discussed below, tomake certain they truly are nonrouting. If a nonroutingdual-homed host is your entire firewall, you need to beparticularly paranoid in its configuration and follow the normalbastion host instructions with extreme care. </P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="FIRE-05-S2-2">5.2.2 Victim Machines</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2495"></A>You may want to run services that are difficult to provide safely witheither proxying or packet filtering, or services that are so new thatyou don't know what their security implications are. For that purpose, avictim machine (or sacrificial goat) may be useful. This is a machinethat has nothing on it you care about, and that has no access to machines that an intruder could make use of. It provides only theabsolute minimum necessary to use it for the services you need it for.If possible, it provides only one unsafe or untested service, to avoidunexpected interactions.</P><PCLASS="para">Victim machines are configured much as normal bastion hosts are, exceptthat they almost always have to allow users to log in. The users willalmost always want you to have more services and programs than you wouldconfigure on a normal bastion host; resist the pressure as much aspossible. You do not want users to be comfortable on a victim host:they will come to rely on it, and it will no longer work as designed.The key factor for a victim machine is that it is disposable, and if itis compromised, nobody cares. Fight tooth and nail to preserve this. </P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="FIRE-05-S2-3">5.2.3 Internal Bastion Hosts</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2501"></A><ACLASS="indexterm"NAME="AUTOID-2504"></A>In most configurations, the main bastion host has special interactionswith certain internal hosts. For example, it may be passing electronicmail to an internal mail server, coordinating with an internal nameserver, or passing Usenet news to an internal news server. Thesemachines are effectively secondary bastion hosts, and they should beconfigured and protected more like the bastion host than like normalinternal hosts. You may need to leave more services enabled on them, butyou should go through the same configuration process. </P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_01.htm"TITLE="5.1 General Principles"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.1 General Principles"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Building Internet Firewalls"><IMGSRC="../gifs/txthome.gif"ALT="Building Internet Firewalls"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_03.htm"TITLE="5.3 Choosing a Machine"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.3 Choosing a Machine"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">5.1 General Principles</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">5.3 Choosing a Machine</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>