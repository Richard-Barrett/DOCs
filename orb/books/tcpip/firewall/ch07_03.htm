<HTML><HEAD><TITLE>[Chapter 7] 7.3 Proxy Server Terminology </TITLE><METANAME="DC.title"CONTENT="Building Internet Firewalls"><METANAME="DC.creator"CONTENT="D. Brent Chapman &amp; Elizabeth D. Zwicky"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:18:54Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-124-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch07_01.htm"TITLE="7. Proxy Systems"><LINKREL="prev"HREF="ch07_02.htm"TITLE="7.2 How Proxying Works"><LINKREL="next"HREF="ch07_04.htm"TITLE="7.4 Using Proxying with Internet Services"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Building Internet Firewalls"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Building Internet Firewalls"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/fsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_02.htm"TITLE="7.2 How Proxying Works"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 7.2 How Proxying Works"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 7<BR>Proxy Systems</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_04.htm"TITLE="7.4 Using Proxying with Internet Services"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 7.4 Using Proxying with Internet Services"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="FIRE-07-S1-3">7.3 Proxy Server Terminology </A></H2><PCLASS="para">This section describes a number of specific types of proxy servers.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="FIRE-07-S2-5">7.3.1 Application-Level Versus Circuit-LevelProxies</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="CH07PSAPP"></A><ACLASS="indexterm"NAME="CH07APPLEVPROX"></A><ACLASS="indexterm"NAME="CH07CIRCLEVPROX"></A>An <EMCLASS="emphasis">application-level proxy</EM> is one that knowsabout the particular application it is providing proxy services for;it understands and interprets the commands in the applicationprotocol. A <EMCLASS="emphasis">circuit-level proxy</EM> is one thatcreates a circuit between the client and the server withoutinterpreting the application protocol. The most extreme version of anapplication-level proxy is an application like<EMCLASS="emphasis">Sendmail</EM>, which implements a store-and-forwardprotocol. The most extreme version of a circuit-level proxy is one ofthe modern hybrid proxy gateways that looks like a proxy to theoutside but like a filtering router to the inside.</P><PCLASS="para">In general, application-level proxies use modified procedures, andcircuit-level proxies use modified clients. This has to do with thepracticalities of proxying. In order to make a proxy connection, youhave to know where the connection is supposed to go. A hybrid gatewaycan simply intercept connections, but a proxying host can only receiveconnections that are bound for it; something else has to tell it whereto make the onward connection. An application-level proxy can get thatinformation in the application protocol (either by using designfeatures, or by reinterpreting user-supplied data). A circuit-levelproxy can't interpret the application protocol and needs to have theinformation supplied to it through other means (e.g., by using amodified client that gives the server the destinationaddress). Because the ability to use unmodified clients is a usefulfeature, application-level proxies generally are designed to takeadvantage of their application protocol knowledge (so they usemodified procedures). Circuit-level proxies usually have no way touse modified procedures, so they use modified clients.</P><PCLASS="para">Although there are no known modified-client application-level proxies,there are modified-procedure circuit-level proxies.<EMCLASS="emphasis">plug-gw</EM>, for example, described in &quot;GenericProxying with <SPANCLASS="acronym">TIS FWTK</SPAN>&quot; later in thischapter, uses modified procedures (the connection is made to the proxyserver, instead of the destination host) and is a circuit-levelproxy. It bases destination decisions purely on the source address,and the source and destination ports of the connection.</P><PCLASS="para">The advantage of a circuit-level proxy is that it provides service fora wide variety of different protocols. Most circuit-level proxyservers are also<EMCLASS="emphasis"> </EM>generic proxy servers; they canbe adapted to serve almost any protocol. Not every protocol can easilybe handled by a circuit-level proxy, however. Protocols like<SPANCLASS="acronym">FTP</SPAN>, which communicate port data from the client tothe server, require some protocol-level intervention, and thus someapplication-level knowledge. The disadvantage of a circuit-levelproxy server is that it provides very little control over what happensthrough the proxy. Like a packet filter, it controls connections onthe basis of their source and destination and can't easily determinewhether the commands going through it are safe or even in the expectedprotocol. Circuit-level proxies are easily fooled by servers set up atthe port numbers assigned to other servers.<ACLASS="indexterm"NAME="AUTOID-7275"></A><ACLASS="indexterm"NAME="AUTOID-7276"></A><ACLASS="indexterm"NAME="AUTOID-7277"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="FIRE-07-S2-6">7.3.2 Generic Versus Dedicated Proxies</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7281"></A><ACLASS="indexterm"NAME="AUTOID-7284"></A><ACLASS="indexterm"NAME="AUTOID-7286"></A>Although &quot;application-level&quot; and&quot;circuit-level&quot; are frequently used terms, we more oftendistinguish between &quot;dedicated&quot; and &quot;generic&quot;proxy servers. A <EMCLASS="emphasis">dedicated proxy server</EM> is onethat serves a single protocol; a <EMCLASS="emphasis">generic proxyserver</EM> is one that serves multiple protocols. In practice,dedicated proxy servers are application-level, and generic proxyservers are circuit-level. Depending on how you argue about shades ofmeaning, it might be possible to produce a generic application-levelproxy server (one that understands a wide range of protocols) or adedicated circuit-level proxy server (one that provides only oneservice, but doesn't understand the protocol for it). Neither of theseever occur, however, so we use &quot;dedicated&quot; and&quot;generic&quot; merely because we find them somewhat moreintuitive terms than &quot;application-level&quot; and&quot;circuit-level.&quot;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="FIRE-07-S2-7">7.3.3 Intelligent Proxy Servers</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7293"></A><ACLASS="indexterm"NAME="AUTOID-7295"></A>A proxy server can do a great deal more than simply relay requests;one that does is an <EMCLASS="emphasis">intelligent proxy server</EM>.For example, the <SPANCLASS="acronym">CERN</SPAN> <SPANCLASS="acronym">HTTP</SPAN> proxyserver caches data, so that multiple requests for the same data don'tgo out across the Internet. Proxy servers (particularlyapplication-level servers) can provide better logging and accesscontrols than those achieved through other methods, although fewexisting proxy servers take full advantage of the opportunities. Asproxy servers mature, their abilities are increasing rapidly. Now thatthere are multiple proxy suites that provide basic functionality,they're beginning to compete by adding features. It's easier for adedicated, application-level proxy server to be intelligent; acircuit-level proxy has limited abilities.</P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_02.htm"TITLE="7.2 How Proxying Works"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 7.2 How Proxying Works"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Building Internet Firewalls"><IMGSRC="../gifs/txthome.gif"ALT="Building Internet Firewalls"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_04.htm"TITLE="7.4 Using Proxying with Internet Services"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 7.4 Using Proxying with Internet Services"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">7.2 How Proxying Works</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">7.4 Using Proxying with Internet Services</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>