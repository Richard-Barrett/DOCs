<HTML><HEAD><TITLE>[Chapter 8] 8.18 Analyzing Other Protocols</TITLE><METANAME="DC.title"CONTENT="Building Internet Firewalls"><METANAME="DC.creator"CONTENT="D. Brent Chapman &amp; Elizabeth D. Zwicky"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:27:14Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-124-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch08_01.htm"TITLE="8. Configuring Internet Services"><LINKREL="prev"HREF="ch08_17.htm"TITLE="8.17 Printing Protocols (lpr and lp)"><LINKREL="next"HREF="ch09_01.htm"TITLE="9. Two Sample Firewalls"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Building Internet Firewalls"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Building Internet Firewalls"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/fsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch08_17.htm"TITLE="8.17 Printing Protocols (lpr and lp)"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 8.17 Printing Protocols (lpr and lp)"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 8<BR>Configuring Internet Services</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch09_01.htm"TITLE="9. Two Sample Firewalls"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 9. Two Sample Firewalls"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="FIRE-08-S1-18">8.18 Analyzing Other Protocols</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-16784"></A>How do you go about analyzing protocols that we haven't discussedhere? The first question to ask is: Do you really need to run theprotocol across your firewall, or is there some other satisfactory wayto provide or access the service desired using a protocol alreadysupported by your firewall?</P><PCLASS="para">If you really need to provide a protocol across your firewall, andit's not discussed above, how do you determine what ports it uses andso on? While it's sometimes possible to determine this informationfrom program or protocol documentation, the easiest way to figure itout is usually to ask somebody else, such as the members of theFirewalls mailing list.[54] (See <ACLASS="xref"HREF="appa_01.htm"TITLE="Resources">Appendix A</A>).</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[54] But make sure you check the archives first, to see if the question hasalready been asked and answered.</P></BLOCKQUOTE><PCLASS="para">If you have to determine the answer yourself, the easiest way to do itis usually empirically. Here's what you should do:<OLCLASS="orderedlist"><LICLASS="listitem"><PCLASS="para">Set up a test system that's running as little as possible other thanthe application you want to test.</P></LI><LICLASS="listitem"><PCLASS="para">Next, set up another system to monitor the packets to and from thetest system (using <EMCLASS="emphasis">etherfind</EM> or<EMCLASS="emphasis">tcpdump</EM> or some other package that lets you watchtraffic on the local network). </P></LI><LICLASS="listitem"><PCLASS="para">Run the application on the test system and see what the monitoringsystem records.</P></LI></OL></P><PCLASS="para">You may need to repeat this procedure for every client implementationand every server implementation you intend to use. There areoccasionally unpredictable differences between implementations (e.g.,some clients always use <SPANCLASS="acronym">TCP</SPAN>, even though most<SPANCLASS="acronym">DNS</SPAN> clients use <SPANCLASS="acronym">UDP</SPAN> by default).<ACLASS="indexterm"NAME="AUTOID-16805"></A><ACLASS="indexterm"NAME="AUTOID-16806"></A></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch08_17.htm"TITLE="8.17 Printing Protocols (lpr and lp)"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 8.17 Printing Protocols (lpr and lp)"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Building Internet Firewalls"><IMGSRC="../gifs/txthome.gif"ALT="Building Internet Firewalls"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch09_01.htm"TITLE="9. Two Sample Firewalls"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 9. Two Sample Firewalls"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">8.17 Printing Protocols (lpr and lp)</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">9. Two Sample Firewalls</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>