<HTML><HEAD><TITLE>[Chapter 10] 10.6 Terminal Servers and Modem Pools</TITLE><METANAME="DC.title"CONTENT="Building Internet Firewalls"><METANAME="DC.creator"CONTENT="D. Brent Chapman &amp; Elizabeth D. Zwicky"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:28:52Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-124-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch10_01.htm"TITLE="10. Authentication and Inbound Services"><LINKREL="prev"HREF="ch10_05.htm"TITLE="10.5 Network-Level Encryption"><LINKREL="next"HREF="part03.htm"TITLE="III. Keeping Your Site Secure"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Building Internet Firewalls"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Building Internet Firewalls"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/fsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch10_05.htm"TITLE="10.5 Network-Level Encryption"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 10.5 Network-Level Encryption"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 10<BR>Authentication and InboundServices</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="PART"HREF="part03.htm"TITLE="III. Keeping Your Site Secure"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: III. Keeping Your Site Secure"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="FIRE-10-S1-6">10.6 Terminal Servers and Modem Pools</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="CH10MODEM"></A><ACLASS="indexterm"NAME="CH10TERM"></A><ACLASS="indexterm"NAME="CH10SECM"></A><ACLASS="indexterm"NAME="CH10SECT"></A>Another issue that is only somewhat related to firewalls (but that thesecurity folks putting up firewalls are often asked to address) is whereto locate the terminal servers and modem pools within a site's network. You definitely need to pay as much attention to the security of yourdial-up access ports as you do to the security of your Internetconnection. However, dial-up security (authentication systems, callbacksystems, etc.) is a whole topic of its own, separate from firewalls. We'll therefore restrict our comments to those related to firewalls.</P><PCLASS="para">The big firewall question concerning terminal servers and modem poolsis where to put them: do you put them inside your securityperimeter, or outside? Our advice is to put them on the inside and toprotect them carefully. You'll not only be doing yourself afavor, you'll also be a good neighbor. Putting open terminal serverson the Internet is a risk to other people's sites as well as your own.</P><PCLASS="para">If the modem ports are going to be used primarily to access internalsystems and data (that is, employees working from home or on theroad), then it makes sense to put them on the inside. If you put themon the outside, you'd have to open holes in your perimeter to allowthem access to the internal systems and data&nbsp;- holes that an attackermight be able to take advantage of. Also, if you put them on theoutside, then an attacker who has compromised your perimeter (brokeninto your bastion host, for example) could potentially monitor thework your users do, essentially looking over their shoulders as theyaccess private, sensitive data. If you do put the modems on theinside, you'll have to protect them very carefully, so they don'tbecome an easier break-in target than your firewall. It doesn't do anygood to build a first-class firewall if someone can bypass it bydialing into an unprotected modem connected to the internal network.</P><PCLASS="para">On the other hand, if the modem ports are going to be used primarily toaccess external systems (that is, by employees or guests who mainly useyour site as an access point for the Internet), then it makes more senseto put them on the outside. There's no sense in giving someone accessto your internal systems if they don't need it. This external modempool should be treated just as suspiciously as the bastion host and theother components of your firewall.</P><PCLASS="para">If you find that you need both types of access, then you might want toconsider two modem pools: one on the inside, carefully protected, toaccess internal systems and another on the outside to accessthe Internet.</P><PCLASS="para">If your terminal servers and modem pools are being used to supportdial-up network connections from homes or other sites, you should makesure you enforce any implicit assumptions you have about that usage.For instance, people setting up <SPANCLASS="acronym">PPP</SPAN> accounts onterminal servers generally assume that the <SPANCLASS="acronym">PPP</SPAN>account is going to be used by a single remote machine runningstandalone. More and more machines, however, are part of<SPANCLASS="acronym">LAN</SPAN>s, even at home (Dad's <SPANCLASS="acronym">PC</SPAN> isin the den, Mom's in the living room). That <SPANCLASS="acronym">PPP</SPAN>connection could be used not just by the machine you set it up for,but by anything that machine is connected to, and anything thosemachines are connected to, and so forth. The machine that uses the<SPANCLASS="acronym">PPP</SPAN> account might be connected to a<SPANCLASS="acronym">LAN</SPAN>, with any number of other machines on it; anyof them might be connected (via other <SPANCLASS="acronym">PPP</SPAN>connections, for example) to another site or an Internet serviceprovider. If you don't do anything to prevent it, traffic could flowfrom the Internet, to the second PC, to the &quot;legitimate&quot;PC, and finally into your own net, completely bypassing your firewall.</P><PCLASS="para">You can prevent this problem by simply enabling packet filtering onthe <SPANCLASS="acronym">PPP</SPAN> connection that limits what it<EMCLASS="emphasis">can</EM> do to what you <EMCLASS="emphasis">expect</EM> itto do (i.e., that limits packets on the connection to only packets toor from the machine you expect to be at the other end of theconnection).</P><PCLASS="para">Some sites with significant dial-up networking activity take the approachof building a separate firewall just for that activity. See thediscussion of multiple perimeter networks in <ACLASS="xref"HREF="ch04_01.htm"TITLE="Firewall Design">Chapter 4, <CITECLASS="chapter">Firewall Design</CITE></A>.<ACLASS="indexterm"NAME="AUTOID-20885"></A><ACLASS="indexterm"NAME="AUTOID-20886"></A><ACLASS="indexterm"NAME="AUTOID-20887"></A><ACLASS="indexterm"NAME="AUTOID-20888"></A><ACLASS="indexterm"NAME="AUTOID-20889"></A><ACLASS="indexterm"NAME="AUTOID-20890"></A></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch10_05.htm"TITLE="10.5 Network-Level Encryption"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 10.5 Network-Level Encryption"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Building Internet Firewalls"><IMGSRC="../gifs/txthome.gif"ALT="Building Internet Firewalls"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="PART"HREF="part03.htm"TITLE="III. Keeping Your Site Secure"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: III. Keeping Your Site Secure"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">10.5 Network-Level Encryption</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">III. Keeping Your Site Secure</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>