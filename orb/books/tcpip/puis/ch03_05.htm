<HTML><HEAD><TITLE>[Chapter 3] 3.5 Verifying Your New Password</TITLE><METANAME="DC.title"CONTENT="Practical UNIX &amp; Internet Security"><METANAME="DC.creator"CONTENT="Simson Garfinkel &amp; Gene Spafford"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:00:29Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-148-8"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch03_01.htm"TITLE="3. Users and Passwords"><LINKREL="prev"HREF="ch03_04.htm"TITLE="3.4 Changing Your Password"><LINKREL="next"HREF="ch03_06.htm"TITLE="3.6 The Care and Feeding of Passwords"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Practical UNIX &amp; Internet Security"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Practical UNIX &amp; Internet Security"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_04.htm"TITLE="3.4 Changing Your Password"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.4 Changing Your Password"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 3<BR>Users and Passwords</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_06.htm"TITLE="3.6 The Care and Feeding of Passwords"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 3.6 The Care and Feeding of Passwords"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="PUIS-CHP-3-SECT-5">3.5 Verifying Your New Password</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2316"></A><ACLASS="indexterm"NAME="AUTOID-2319"></A>After you have changed your password, try logginginto your account with the new password to make sure that you'veentered the new password properly. Ideally, you should do this withoutlogging out, so you will have some recourse if you did not changeyour password properly. This is especially crucial if you are loggedin as <ICLASS="systemitem.username">root</I> and you havejust changed the <ICLASS="systemitem.username">root</I>password.</P><DIVCLASS="sidebar"><H4CLASS="sidebar"><ACLASS="title"NAME="AUTOID-2324">Forcing a Changeof Password</A></H4><PCLASS="para">At one major university we know about, it was commonplacefor students to change their passwords and then be unable to loginto their accounts. Most often this happened when students triedto put control characters into their passwords.[7]Other times, students mistyped the password and were unable to retypeit again later. More than a few got so carried away making up afancy password that they couldn't remember it later.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[7] Thecontrol characters ^@, ^G, ^H, ^J, ^M, ^Q, ^S, and ^[should probably not be put in passwords, because they can be interpretedby the system. If your users will log in using xdm, they shouldavoid all control characters, as xdm often filters them out. Youshould also beware of control characters that may interact withyour terminal programs, terminal concentrator monitors, and otherintermediate systems you may use. Finally, you may wish to avoidthe # and @ characters, as some <SPANCLASS="acronym">UNIX</SPAN>systems still interpret these characters with their use as eraseand kill characters.<ACLASS="indexterm"NAME="AUTOID-2330"></A></P></BLOCKQUOTE><PCLASS="para">Well, once a <SPANCLASS="acronym">UNIX</SPAN> password is entered,there is no way to decrypt it and recover it. The only recourseis to have someone change the password to another known value. Thus,the students would bring a picture ID to the computing center office,where a staff member would change the password to <ICLASS="filename">ChangeMe</I>and instruct them to immediately go down the hall to a terminalroom to do exactly that.</P><PCLASS="para">Late one semester shortly after the Internet worm incident,one of the staff decided to try running a password cracker (see<ACLASS="xref"HREF="ch08_01.htm"TITLE="Defending  Your Accounts">Chapter 8</A>) to see how many student account passwords were weak.Much to the surprise of the staff member, dozens of the studentaccounts had a password of <ICLASS="filename">ChangeMe.</I> Furthermore,at least one of the other staff members also had that as a password!The policy soon changed to one in which forgetful students wereforced to enter a new password on the spot.</P><PCLASS="para">Under <SPANCLASS="acronym">SVR4</SPAN>, there is an option to the <ICLASS="filename"><ACLASS="indexterm"NAME="AUTOID-2342"></A>passwd</I>command that can be used by the superuser: -f, (e.g., <KBDCLASS="command">passwd-f nomemory</KBD>). This forces the user to change his password duringthe login process the very next time he logs in to the system. It'sa good option for system administrators to remember. (This behavioris the default on <SPANCLASS="acronym">AIX</SPAN>. <SPANCLASS="acronym">OSF</SPAN>/1uses the chfn command for this same purpose.)</P></DIV><PCLASS="para"></P><PCLASS="para">One way to try out your new password is to use the <ICLASS="filename">su</I> command. Normally, the su command is used to switch toanother account. But as the command requires that you type the passwordof the account to which you are switching, you can effectively usethe su command to test the password of your own account.</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <BCLASS="emphasis.bold"> su nosmis</B>password: <ICLASS="systemitem.password">mypassword</I> %</PRE></BLOCKQUOTE><PCLASS="para">(Of course, instead of typing <KBDCLASS="command">nosmis</KBD> and<ICLASS="systemitem.password">mypassword</I>, use your own account name and password.)</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2358"></A><ACLASS="indexterm"NAME="AUTOID-2360"></A>If you'reusing a machine that is on a network, you can use the telnet orrlogin programs to loop back through the network and log in a secondtime by typing:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <BCLASS="emphasis.bold">telnet localhost </B>Trying 127.0.0.1... Connected to localhost Escape character is '^]'   artemis login: <BCLASS="emphasis.bold">dawn </B>password: <ICLASS="systemitem.password">techtalk</I> Last login: Sun Feb 3 11:48:45 on ttyb %</PRE></BLOCKQUOTE><PCLASS="para">You may need to replace localhost in the above example withthe name of your computer.</P><PCLASS="para">If you try one of the earlier methods and discover that yourpassword is not what you thought it was, you have a definite problem.To change the password to something you do know, you will need thecurrent password. However, you don't know that password!You will need the help of the superuser to fix the situation. (That'swhy you shouldn't log out&nbsp;- if the time is 2 a.m.on Saturday, you might not be able to reach the superuser untilMonday morning, and you might want to get some work done beforethen.)</P><PCLASS="para">The superuser (user root) can't decode the passwordof any user. However, the superuser can help you when you don'tknow what you've set your password to by setting your passwordto something else. If you are running as the superuser, you canset the password of any user, including yourself, without supplyingthe old password. You do this by supplying the username to the <ACLASS="indexterm"NAME="AUTOID-2369"></A><ACLASS="indexterm"NAME="AUTOID-2372"></A><KBDCLASS="command">passwd</KBD>command when you invoke it:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># passwd <BCLASS="emphasis.bold">cindy</B>New password: <ICLASS="systemitem.password">NewR-pas</I> Retype new password: <ICLASS="systemitem.password">NewR-pas</I> # <ACLASS="indexterm"NAME="AUTOID-2380"></A><ACLASS="indexterm"NAME="AUTOID-2383"></A> </PRE></BLOCKQUOTE></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_04.htm"TITLE="3.4 Changing Your Password"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.4 Changing Your Password"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Practical UNIX &amp; Internet Security"><IMGSRC="../gifs/txthome.gif"ALT="Practical UNIX &amp; Internet Security"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_06.htm"TITLE="3.6 The Care and Feeding of Passwords"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 3.6 The Care and Feeding of Passwords"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">3.4 Changing Your Password</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">3.6 The Care and Feeding of Passwords</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>