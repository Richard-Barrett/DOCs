<HTML><HEAD><TITLE>[Chapter 3] 3.6 The Care and Feeding of Passwords</TITLE><METANAME="DC.title"CONTENT="Practical UNIX &amp; Internet Security"><METANAME="DC.creator"CONTENT="Simson Garfinkel &amp; Gene Spafford"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:00:32Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-148-8"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch03_01.htm"TITLE="3. Users and Passwords"><LINKREL="prev"HREF="ch03_05.htm"TITLE="3.5 Verifying Your New Password"><LINKREL="next"HREF="ch03_07.htm"TITLE="3.7 One-Time Passwords"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Practical UNIX &amp; Internet Security"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Practical UNIX &amp; Internet Security"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_05.htm"TITLE="3.5 Verifying Your New Password"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.5 Verifying Your New Password"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 3<BR>Users and Passwords</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_07.htm"TITLE="3.7 One-Time Passwords"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 3.7 One-Time Passwords"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="PUIS-CHP-3-SECT-6">3.6 The Care and Feeding of Passwords</A></H2><PCLASS="para">Although passwords are the most important element of computersecurity, users often receive only cursory instructions about selectingthem.</P><PCLASS="para">If you are a user, be aware that by picking a bad password&nbsp;- orby revealing your password to an untrustworthy individual&nbsp;- youare potentially compromising your entire computer's security.If you are a system administrator, be sure that all of your usersare familiar with the issues raised in this section.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-3-SECT-6.1">3.6.1 Bad Passwords: Open Doors</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2393"></A><ACLASS="indexterm"NAME="AUTOID-2396"></A><ACLASS="indexterm"NAME="AUTOID-2399"></A>A bad password is any password that is easilyguessed.</P><PCLASS="para">In the movie Real Genius, a computer recluse named LaszloHollyfeld breaks into a top-secret military computer over the telephoneby guessing passwords. Laszlo starts by typing the password <ICLASS="filename">AAAAAA</I>,then trying <ICLASS="filename">AAAAAB</I>, then <ICLASS="filename">AAAAAC</I>,and so on, until he finally finds the password that matches.</P><PCLASS="para">Real-life computer crackers are far more sophisticated. Insteadof typing each password by hand, crackers use their computers tomake phone calls (or opening network connections) and try the passwords,automatically retrying when they are disconnected. Instead of tryingevery combination of letters, starting with <ICLASS="filename">AAAAAA </I>(orwhatever), crackers use <ACLASS="indexterm"NAME="AUTOID-2408"></A><ACLASS="indexterm"NAME="AUTOID-2410"></A>hit lists of common passwords such as <ICLASS="systemitem.password">wizard</I> or <ICLASS="systemitem.password">demo</I>. Even a modest home computerwith a good password guessing program can try thousands of passwordsin less than a day's time. Some hit lists used by crackersare several hundred thousand words in length.[8]Therefore, a password that <EMCLASS="emphasis">anybody</EM> else mightuse for his own password is probably a bad choice for you.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[8] Incontrast, if you were to program a home computer to try all 6-lettercombinations from<ICLASS="filename"> AAAAAA</I> to <ICLASS="filename">ZZZZZZ</I>,it would have to try 308,915,776 different passwords. Guessing onepassword per second, that would require nearly ten years.</P></BLOCKQUOTE><PCLASS="para">What's a popular and bad password? Some examplesare your name, your partner's name, or your parents'names. Other bad passwords are these names backwards or followedby a single digit. Short passwords are also bad, because there arefewer of them: they are, therefore, more easily guessed. Especiallybad are &quot;magic words&quot; from computer games, suchas <ICLASS="systemitem.username">xyzzy</I>. They looksecret and unguessable, but in fact are widely known. Other badchoices include phone numbers, characters from your favorite moviesor books, local landmark names, favorite drinks, or famous computerscientists (see the sidebar later in this chapter for still morebad choices). These words backwards or capitalized are also weak.Replacing the letter &quot;l&quot; (lowercase &quot;L&quot;)with &quot;1&quot; (numeral one), or &quot;E&quot;with &quot;3,&quot; adding a digit to either end, or othersimple modifications of common words are also weak. Words in otherlanguages are no better. Dictionaries for dozens of languages areavailable for download on the Internet and dozens of bulletin boardsystems.</P><PCLASS="para">Many versions of <SPANCLASS="acronym">UNIX</SPAN> make a minimal attemptto prevent users from picking bad passwords. For example, undersome versions of <SPANCLASS="acronym">UNIX</SPAN>, if you attempt to picka password with fewer than six letters that are all of the samecase, the <KBDCLASS="command">passwd</KBD> program will ask the user to &quot;Please usea longer password.&quot; After three tries, however, the programrelents and lets the user pick a short one. Better versions allowthe administrator to require a minimum number of letters, a requirementfor nonalphabetic characters, and other restrictions. However, someadministrators turn these requirements off because users complainabout them; this is a bad idea. Users will complain more loudlyif their computers are broken into.</P><DIVCLASS="sidebar"><H4CLASS="sidebar"><ACLASS="title"NAME="AUTOID-2426">Bad Passwords</A></H4><ACLASS="indexterm"NAME="AUTOID-2428"></A><IMGCLASS="graphic"SRC="figs/puis_03pswd.gif"ALT="Figure 3.0"><PCLASS="para">Whenpicking passwords, avoid the following:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Your name, spouse's name, or partner'sname.</P></LI><LICLASS="listitem"><PCLASS="para">Your pet's name or your child'sname.</P></LI><LICLASS="listitem"><PCLASS="para">Names of close friends or coworkers.</P></LI><LICLASS="listitem"><PCLASS="para">Names of your favorite fantasy characters. <ACLASS="indexterm"NAME="AUTOID-2442"></A></P></LI><LICLASS="listitem"><PCLASS="para">Your boss's name.</P></LI><LICLASS="listitem"><PCLASS="para">Anybody's name.</P></LI><LICLASS="listitem"><PCLASS="para">The name of the operating system you'reusing.</P></LI><LICLASS="listitem"><PCLASS="para">Information in the <SPANCLASS="acronym">GECOS</SPAN> fieldof your passwd file entry.</P></LI><LICLASS="listitem"><PCLASS="para">The hostname of your computer.</P></LI><LICLASS="listitem"><PCLASS="para">Your phone number or your license plate number.<ACLASS="indexterm"NAME="AUTOID-2458"></A></P></LI><LICLASS="listitem"><PCLASS="para">Any part of your social security number.</P></LI><LICLASS="listitem"><PCLASS="para">Anybody's birth date.</P></LI><LICLASS="listitem"><PCLASS="para">Other information easily obtained about you (<ICLASS="foreignphrase">e.g.,</I> address, alma mater).</P></LI><LICLASS="listitem"><PCLASS="para">Words such as wizard, guru, gandalf, and so on.<ACLASS="indexterm"NAME="AUTOID-2470"></A></P></LI><LICLASS="listitem"><PCLASS="para">Any username on the computer in any form (as is,capitalized, doubled, etc.).</P></LI><LICLASS="listitem"><PCLASS="para">A word in the English dictionary or in a foreigndictionary.</P></LI><LICLASS="listitem"><PCLASS="para">Place names or any proper nouns. <ACLASS="indexterm"NAME="AUTOID-2479"></A></P></LI><LICLASS="listitem"><PCLASS="para">Passwords of all the same letter.</P></LI><LICLASS="listitem"><PCLASS="para">Simple patterns of letters on the keyboard, likeqwerty.</P></LI><LICLASS="listitem"><PCLASS="para">Any of the above spelled backwards.</P></LI><LICLASS="listitem"><PCLASS="para">Any of the above followed or prepended by a singledigit.</P></LI></UL></DIV></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-3-SECT-6.2">3.6.2 Smoking Joes</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2493"></A><ACLASS="indexterm"NAME="AUTOID-2495"></A><ACLASS="indexterm"NAME="AUTOID-2498"></A>Surprisingly, experts believe that asignificant percentage of all computers without password contentcontrols contain at least one account where the username and thepassword are the same. Such accounts are often called &quot;Joes.&quot;Joe accounts are easy for crackers to find and trivial to penetrate.Most computer crackers can find an entry point into almost any systemsimply by checking every account to see whether it is a Joe account.This is one reason why it is dangerous for your computer to makea list of all of the valid usernames available to the outside world.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-3-SECT-6.3">3.6.3 Good Passwords: Locked Doors</A></H3><PCLASS="para">Good passwords are passwords that are difficult to guess.The best passwords are difficult to guess because they:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Have both uppercase and lowercaseletters.</P></LI><LICLASS="listitem"><PCLASS="para">Have digits and/or punctuation charactersas well as letters.</P></LI><LICLASS="listitem"><PCLASS="para">May include some control characters and/orspaces.</P></LI><LICLASS="listitem"><PCLASS="para">Are easy to remember, so they do not have to bewritten down.</P></LI><LICLASS="listitem"><PCLASS="para">Are seven or eight characters long.</P></LI></UL><PCLASS="para">Can be typed quickly, so somebody cannot determine what youtype by watching over your shoulder.</P><PCLASS="para">It's easy to pick a good password. Here are somesuggestions:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Take two short words and combine themwith a special character or a number, like <ICLASS="systemitem">robot4my</I> or <ICLASS="systemitem">eye-con</I>.</P></LI><LICLASS="listitem"><PCLASS="para">Put together an acronym that's specialto you, like <ICLASS="systemitem">Notfsw</I>(None Of This Fancy Stuff Works), <ICLASS="systemitem">auPEGC</I>(All <SPANCLASS="acronym">UNIX</SPAN> programmers eat green cheese), or <ICLASS="systemitem">Ttl*Hiww </I>(Twinkle, twinkle,little star. How I wonder what...).</P></LI></UL><PCLASS="para">Of course, <ICLASS="systemitem">robot4my</I>,<ICLASS="systemitem">eye-con</I>, <ICLASS="systemitem">Notfsw</I>, <ICLASS="systemitem">Ttl*Hiww</I> and <ICLASS="systemitem">auPEGC</I> are now all bad passwordsbecause they've been printed here.</P><DIVCLASS="sidebar"><H4CLASS="sidebar"><ACLASS="title"NAME="AUTOID-2534">Number of Passwords</A></H4><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2537"></A>If you excludea few of the control characters that should not be used in a password,it is still possible to create more than 43,000,000,000,000,000unique passwords in standard <SPANCLASS="acronym">UNIX</SPAN>.</P><PCLASS="para">Combining dictionaries from 10 different major languages,plus those words reversed, capitalized, with a trailing digit appended,and otherwise slightly modified results in less than 5,000,000 words.Adding a few thousand names and words from popular culture hardlychanges that.</P><PCLASS="para">From this, we can see that users who pick weak passwords aremaking it easy for attackers&nbsp;- they reduce the search spaceto less than .0000000012% of the possible passwords!</P><PCLASS="para">One study of passwords chosen in an unconstrained environment[9] revealed thatusers chose passwords with control characters only 1.4%of the time, and punctuation and space characters less than 6%of the time. All of the characters !@#$%^&amp;*()_-+=[]|\;:&quot;?/,.&lt;&gt;`~'can be used in passwords too; although, some systems may treat the&quot;\&quot;, &quot;#&quot;,and &quot;@&quot; symbols as escape (literal),erase, and kill, respectively. (See the footnote to the earliersidebar entitled &quot;Forcing a Change of Password&quot;for a list of the control characters that should not be includedin a password.)</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[9] See the reference to &quot;Observing Reusable PasswordChoices&quot; in <ACLASS="xref"HREF="appd_01.htm"TITLE="Paper Sources">Appendix D, <CITECLASS="appendix">Paper Sources</CITE></A>.</P></BLOCKQUOTE><PCLASS="para">Next time one of your users complains because of the passwordselection restrictions you have in place and proclaims, &quot;Ican't think of any password that isn't rejectedby the program!&quot;, you might show him this page.</P></DIV></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-3-SECT-6.4">3.6.4 Passwords on Multiple Machines</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2551"></A><ACLASS="indexterm"NAME="AUTOID-2554"></A><ACLASS="indexterm"NAME="AUTOID-2557"></A><ACLASS="indexterm"NAME="AUTOID-2560"></A>If you have several computer accounts, youmay wish to have the same password on every machine, so you haveless you need to remember. However, if you have the same passwordon many machines and one of those machines is compromised, all ofyour accounts are compromised. One common approach used by peoplewith accounts on many machines is to have a base password that canbe modified for each different machine. For example, your base passwordmight be<ICLASS="systemitem"> kxyzzy</I> followedby the first letter of the name of the computer you'reusing. On a computer named athena your password would be <ICLASS="systemitem">kxyzzya</I>, while on a computernamed <ICLASS="systemitem">ems</I> your passwordwould be <ICLASS="systemitem">kxyzzye</I>. (Don't,of course, use exactly this method of varying your passwords.)</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-3-SECT-6.5">3.6.5 Writing Down Passwords</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2570"></A><ACLASS="indexterm"NAME="AUTOID-2573"></A>There is a tired story about a high school studentwho broke into his school's academic computer and changedhis grades; he did this by walking into the school's office,looking at the academic officer's terminal, and writingdown the telephone number, username, and password that were printedon a Post-It note.</P><PCLASS="para">Unfortunately, the story is true&nbsp;- hundreds of timesover.</P><PCLASS="para">Users are admonished to &quot;never write down your password.&quot;The reason is simple enough: if you write down your password, somebodyelse can find it and use it to break into your computer. A passwordthat is memorized is more secure than the same password writtendown, simply because there is less opportunity for other peopleto learn it. On the other hand, a password that <EMCLASS="emphasis">must</EM>be written down to be remembered is quite likely a password thatis not going to be guessed easily. If you write your password onsomething kept in your wallet, the chances of somebody who stealsyour wallet using the password to break into your computer accountare remote indeed.[10]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[10] Unless, of course, you happento be an important person, and your wallet is stolen or rifled aspart of an elaborate plot. In their book <EMCLASS="emphasis">Cyberpunks</EM>,authors John Markoff and Katie Hafner describe a woman called &quot;SusanThunder&quot; who broke into military computers by doing justthat: she would pick up officers at bars and go home with them.Later that night, while the officer was sleeping, Thunder wouldget up, go through the man's wallet, and look for telephonenumbers, usernames, and passwords.</P></BLOCKQUOTE><PCLASS="para">If you must write down your password, then at least followa few precautions:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">When you write it down, don'tidentify your password as being a password.</P></LI><LICLASS="listitem"><PCLASS="para">Don't include the name of the account,network name, or the phone number of the computer on the same pieceof paper as your password.</P></LI><LICLASS="listitem"><PCLASS="para">Don't attach the password to your terminal,keyboard, or any part of your computer.</P></LI><LICLASS="listitem"><PCLASS="para">Don't write your actual password. Instead,disguise it, by mixing in other characters or by scrambling thewritten version of the password in a way that you can remember.For example, if your password is &quot;Iluvfred&quot;, youmight write &quot;fredIluv&quot; or &quot;vfredxyIu&quot;or perhaps &quot;Last week, I lost Uncle Vernon's `friedrice &amp; eggplant delight' recipe&nbsp;- rememberto call him after 3 p.m.&quot;&nbsp;- to throw off a potentialwallet-snatcher.[11]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[11] We hope that last one required somethought. The 3 p.m. means to start with the third word and takethe first letter of every word. With some thought, you can comeup with something equally obscure that you will remember.</P></BLOCKQUOTE></LI></UL><PCLASS="para">Here are some other things to avoid:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Don't record a password online(in a file, in a database, or in an email message), unless the passwordis encrypted.</P></LI><LICLASS="listitem"><PCLASS="para">Likewise, <EMCLASS="emphasis">never send a password to anotheruser via electronic mail</EM>. In The Cuckoo's Egg,Cliff Stoll tells of how a single intruder broke into system aftersystem by searching for the word &quot;password&quot; intext files and electronic mail messages. With this simple trick,the intruder learned of the passwords of many accounts on many differentcomputers across the country.</P></LI><LICLASS="listitem"><PCLASS="para">Don't use your login password as the passwordof application programs. For instance, don't use your loginpassword as your password to an on-line <SPANCLASS="acronym">MUD</SPAN> (multi-userdungeon) game or for a World Wide Web server account. The passwordsin those applications are controlled by others and may be visibleto the wrong people.</P></LI><LICLASS="listitem"><PCLASS="para">Don't use the same password for differentcomputers managed by different organizations. If you do, and anattacker learns the password for one of your accounts, all willbe compromised.</P></LI></UL><PCLASS="para">This last &quot;don't&quot; is very difficultto follow in practice.</P><DIVCLASS="sidebar"><H4CLASS="sidebar"><ACLASS="title"NAME="AUTOID-2607">Using Passwords in More ThanOne Place</A></H4><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2610"></A>Alec Muffett, the author of the Crack program(discussed in <ACLASS="xref"HREF="ch08_01.htm"TITLE="Defending  Your Accounts">Chapter 8</A>), related an entertaining story to us aboutthe reuse of passwords, in more than one place, which we paraphrasehere.</P><PCLASS="para">A student friend of Alec's (call him Bob) spent aco-op year at a major computer company site. During his vacationsand on holidays, he'd come back to school and play Aber<SPANCLASS="acronym">MUD</SPAN>(a network-based game) on Alec's computer. One of Bob'sresponsibilities at the company involved system management. Thecompany was concerned about security, so all passwords were randomstrings of letters with no sensible pattern or order.</P><PCLASS="para">One day, Alec fed the Aber<SPANCLASS="acronym">MUD</SPAN> passwordsinto his development version of the Crack program as a dictionary,because they were stored on his machine as plain text. He then ranthis file against his system user-password file, and found a fewstudent account passwords. He had the students change their passwords,and he then forgot about the matter.</P><PCLASS="para">Some time later, Alec posted a revised version of the Crackprogram and associated files to the Usenet. They ended up in oneof the sources newsgroups and were distributed quite widely. Eventually,after a trip of thousands of miles around the world, they came toBob's company. Bob, being a concerned administrator, decidedto download the files and check them against his company'spasswords. Imagine Bob's shock and horror when the widelydistributed Crack promptly churned out a match for his randomlychosen, super-secret root password!</P><PCLASS="para">The moral of the story is that you should teach your usersto <EMCLASS="emphasis">never</EM> use their account passwords in otherapplications or on other systems outside the same administrativedomain. They never know when those passwords might come back tohaunt them! (And programs like Aber<SPANCLASS="acronym">MUD</SPAN> shouldbe modified to store passwords encrypted with one-way hash functions.)</P></DIV></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_05.htm"TITLE="3.5 Verifying Your New Password"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.5 Verifying Your New Password"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Practical UNIX &amp; Internet Security"><IMGSRC="../gifs/txthome.gif"ALT="Practical UNIX &amp; Internet Security"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_07.htm"TITLE="3.7 One-Time Passwords"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 3.7 One-Time Passwords"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">3.5 Verifying Your New Password</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">3.7 One-Time Passwords</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>