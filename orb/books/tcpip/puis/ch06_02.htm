<HTML><HEAD><TITLE>[Chapter 6] 6.2 What Is Encryption?</TITLE><METANAME="DC.title"CONTENT="Practical UNIX &amp; Internet Security"><METANAME="DC.creator"CONTENT="Simson Garfinkel &amp; Gene Spafford"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:02:32Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-148-8"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch06_01.htm"TITLE="6. Cryptography"><LINKREL="prev"HREF="ch06_01.htm"TITLE="6.1 A Brief History of Cryptography"><LINKREL="next"HREF="ch06_03.htm"TITLE="6.3 The Enigma Encryption System"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Practical UNIX &amp; Internet Security"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Practical UNIX &amp; Internet Security"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_01.htm"TITLE="6.1 A Brief History of Cryptography"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 6.1 A Brief History of Cryptography"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 6<BR>Cryptography</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_03.htm"TITLE="6.3 The Enigma Encryption System"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 6.3 The Enigma Encryption System"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="PUIS-CHP-6-SECT-2">6.2 What Is Encryption?</A></H2><PCLASS="para"><ICLASS="firstterm"><ACLASS="indexterm"NAME="AUTOID-6580"></A><ACLASS="indexterm"NAME="AUTOID-6583"></A><ACLASS="indexterm"NAME="AUTOID-6585"></A>Encryption</I> is a processby which a message (called <ICLASS="firstterm">plaintext</I>) istransformed into another message (called <ICLASS="firstterm">ciphertext</I>)using a mathematical function[5] and a specialencryption password, called the <ICLASS="firstterm">key</I>.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[5] Although it may notbe expressed as such in every case.</P></BLOCKQUOTE><PCLASS="para"><ICLASS="firstterm">Decryption </I>is the reverse process:the ciphertext is transformed back into the original plaintext usinga mathematical function and a key.</P><H4CLASS="figure"><ACLASS="title"NAME="PUIS-CHP-6-FIG-1">Figure 6.1: A simple example of encryption</A></H4><IMGCLASS="graphic"SRC="figs/puis_0601.gif"ALT="Figure 6.1"><PCLASS="para">The process of encryption and decryption is shown in basicterms in <ACLASS="xref"HREF="ch06_02.htm#PUIS-CHP-6-FIG-1"TITLE="A simple example of encryption">Figure 6.1</A>.Here is a simple piece of plaintext:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Encryption can make <SPANCLASS="acronym">UNIX</SPAN> more secure.</PRE></BLOCKQUOTE><PCLASS="para">This message can be encrypted with an encryption algorithmknown as the Data Encryption Standard (<SPANCLASS="acronym">DES</SPAN>),which we describe in a later section, and the key nosmis to producethe following encrypted message:[6]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[6] Encrypted messagesare inherently binary data. Because of the limitations of paper,control characters are printed preceded by a <ACLASS="indexterm"NAME="AUTOID-6606"></A>caret (^), while characters withtheir most significant bit set are preceded by a M-.</P></BLOCKQUOTE><BLOCKQUOTECLASS="screen"><PRECLASS="screen">M-itM-@g^B^?^B?^NM-XM-vZIM-U_h^X^$kM-^^sI^^M-f1M-^ZM-jM-gBM-6M-&gt;^@M-&quot;=^M-^JM-7M--M-^T</PRE></BLOCKQUOTE><PCLASS="para">When this message is decrypted with the key nosmis, the originalmessage is produced:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Encryption can make <SPANCLASS="acronym">UNIX</SPAN> more secure.</PRE></BLOCKQUOTE><PCLASS="para">If you tried to decrypt the encrypted message with a differentkey, such as gandalf, you might get the following:</P><BLOCKQUOTECLASS="screen"><PRECLASS="screen">M-&amp;u=:;M-X^G?M-MM-^MM- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M-,M-kM-^?M-R8M-}}pM-?^M^^M-l^ZM-IM-^U0M-D^KM-eM-hM-yM-^M-^]M-mM-UM-^ZM-@^^N</PRE></BLOCKQUOTE><PCLASS="para">Indeed, the only way to decrypt the encrypted message andget printable text is by knowing the secret key <ICLASS="filename">nosmis</I>. If you don'tknow the key, and you don't have access to a supercomputer,you can't decrypt the text. If you use a strong encryptionsystem, even the supercomputer won't help you.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-6-SECT-2.1">6.2.1 What You Can Do with Encryption</A></H3><PCLASS="para">Encryption can play a very important role in your day-to-daycomputing and communicating:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Encryption can protect informationstored on your computer from unauthorized access&nbsp;- even frompeople who otherwise have access to your computer system.</P></LI><LICLASS="listitem"><PCLASS="para">Encryption can protect information while it is intransit from one computer system to another.</P></LI><LICLASS="listitem"><PCLASS="para">Encryption can be used to deter and detect accidentalor intentional alterations in your data.</P></LI><LICLASS="listitem"><PCLASS="para">Encryption can be used to verify whether or notthe author of a document is really who you think it is.</P></LI></UL><PCLASS="para">Despite these advantages, encryption has its limits:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Encryption can't preventan attacker from deleting your data altogether.</P></LI><LICLASS="listitem"><PCLASS="para">An attacker can compromise the encryption programitself. The attacker might modify the program to use a key differentfrom the one you provide, or might record all of the encryptionkeys in a special file for later retrieval.</P></LI><LICLASS="listitem"><PCLASS="para">An attacker might find a previously unknown andrelatively easy way to decode messages encrypted with the algorithmyou are using.</P></LI><LICLASS="listitem"><PCLASS="para">An attacker could access your file before it isencrypted or after it is decrypted.</P></LI></UL><PCLASS="para">For all these reasons, encryption should be viewed as a partof your overall computer security strategy, but not as a substitutefor other measures such as proper access controls.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-6-SECT-2.2">6.2.2 The Elements of Encryption</A></H3><PCLASS="para">There are many different ways that you can use a computerto encrypt or decrypt information. Nevertheless, each of these so-calledencryption systems share common elements:</P><DLCLASS="variablelist"><DTCLASS="term">Encryption algorithm </DT><DDCLASS="listitem"><PCLASS="para">The encryption algorithm is the function, usuallywith some mathematical foundations, which performs the task of encryptingand decrypting your data.</P></DD><DTCLASS="term">Encryption keys</DT><DDCLASS="listitem"><PCLASS="para">Encryption keys are used by the encryption algorithmto determine <EMCLASS="emphasis">how </EM>data is encrypted or decrypted.Keys are similar to computer passwords: when a piece of informationis encrypted, you need to specify the correct key to access it again.But unlike a password program, an encryption program doesn'tcompare the key you provide with the key you originally used toencrypt the file, and grant you access if the two keys match. Instead,an encryption program uses your key to transform the ciphertextback into the plaintext. If you provide the correct key, you getback your original message. If you try to decrypt a file with thewrong key, you get garbage.[7]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[7] Of course, we are assumingthat your original message wasn't garbage, too. Otherwise,everything you would decrypt would probably appear as garbage!</P></BLOCKQUOTE></DD><DTCLASS="term">Key length </DT><DDCLASS="listitem"><PCLASS="para">As with passwords, encryption keys have a predeterminedlength. Longer keys are more difficult for an attacker to guessthan shorter ones because there are more of them to try in a brute-forceattack. Different encryption systems allow you to use keys of differentlengths; some allow you to use variable-length keys.</P></DD><DTCLASS="term">Plaintext </DT><DDCLASS="listitem"><PCLASS="para">The information which you wish to encrypt.</P></DD><DTCLASS="term">Ciphertext </DT><DDCLASS="listitem"><PCLASS="para">The information after it is encrypted.<ACLASS="indexterm"NAME="AUTOID-6666"></A><ACLASS="indexterm"NAME="AUTOID-6668"></A></P></DD></DL></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-6-SECT-2.3">6.2.3 Cryptographic Strength</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-6674"></A>Different formsof cryptography are not equal. Some systems are easily circumvented,or <ICLASS="firstterm">broken</I>. Others are quite resistant toeven the most determined attack. The ability of a cryptographicsystem to protect information from attack is called its <EMCLASS="emphasis">strength</EM>.Strength depends on many factors, including:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">The secrecy of the key.</P></LI><LICLASS="listitem"><PCLASS="para">The difficulty of guessing the key or trying outall possible keys (a <ACLASS="indexterm"NAME="AUTOID-6683"></A>key search).Longer keys are generally harder to guess or find.</P></LI><LICLASS="listitem"><PCLASS="para">The difficulty of inverting the encryption algorithmwithout knowing the encryption key (<ICLASS="firstterm">breaking</I> the encryption algorithm).</P></LI><LICLASS="listitem"><PCLASS="para">The existence (or lack) of <ACLASS="indexterm"NAME="AUTOID-6691"></A><ICLASS="firstterm">back doors</I>, or additional ways by which an encrypted file can be decryptedmore easily without knowing the key.</P></LI><LICLASS="listitem"><PCLASS="para">The ability to decrypt an entire encrypted messageif you know the way that a portion of it decrypts (called a <ACLASS="indexterm"NAME="AUTOID-6696"></A><ACLASS="indexterm"NAME="AUTOID-6698"></A><ACLASS="indexterm"NAME="AUTOID-6700"></A><ICLASS="firstterm">known text</I><EMCLASS="emphasis"> attack</EM>).</P></LI><LICLASS="listitem"><PCLASS="para">The properties of the plaintext and knowledge ofthose properties by an attacker. (For example, a cryptographic systemmay be vulnerable to attack if all messages encrypted with it beginor end with a known piece of plaintext. These kinds of regularitieswere used by the Allies to crack the German Enigma cipher duringthe Second World War.)</P></LI></UL><PCLASS="para">The goal in cryptographic design is to develop an algorithmthat is so difficult to reverse without the key that it is at leastroughly equivalent to the effort required to guess the key by tryingpossible solutions one at a time. We would like this property tohold even when the attacker knows something about the contents ofthe messages encrypted with the cipher. Some very sophisticatedmathematics are involved in such design.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-6-SECT-2.4">6.2.4 Why Use Encryption with UNIX?</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-6711"></A><ACLASS="indexterm"NAME="AUTOID-6714"></A>Youmight wonder why you need encryption if you are already using anoperating system similar to <SPANCLASS="acronym">UNIX</SPAN> that has passwordsand uses file permissions to control access to sensitive information.The answer to this question is a single word: the superuser<EMCLASS="emphasis">.</EM></P><PCLASS="para">A person with access to the <SPANCLASS="acronym">UNIX</SPAN> superuseraccount can bypass all checks and permissions in the computer'sfilesystem. But there is one thing that the superuser cannot do:decrypt a file properly encrypted by a strong encryption algorithmwithout knowing the key.</P><PCLASS="para">The reason for this limitation is the very difference betweencomputer security controls based on file permissions and passwords,and controls based on cryptography. When you protect informationwith the <SPANCLASS="acronym">UNIX</SPAN> filesystem, the information thatyou are trying to protect resides on the computer &quot;in theclear.&quot; It is still accessible to your system manager (orsomeone else with superuser access), to a malicious computer hackerwho manages to find a fault with your computer's overallsecurity, or even to a thief who steals your computer in the night.You simply can't ensure that the data on your computerwill <EMCLASS="emphasis">never</EM> fall into the wrong hands.</P><PCLASS="para">When you protect information with encryption, the informationis protected by the secrecy of your key, the strength of the encryptionalgorithm, and the particular encryption implementation that youare using. Although your system manager (or someone who steals yourcomputer) can access the <EMCLASS="emphasis">encrypted</EM> file, theycannot <EMCLASS="emphasis">decrypt </EM>the information stored insidethat file.</P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_01.htm"TITLE="6.1 A Brief History of Cryptography"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 6.1 A Brief History of Cryptography"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Practical UNIX &amp; Internet Security"><IMGSRC="../gifs/txthome.gif"ALT="Practical UNIX &amp; Internet Security"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_03.htm"TITLE="6.3 The Enigma Encryption System"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 6.3 The Enigma Encryption System"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">6.1 A Brief History of Cryptography</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">6.3 The Enigma Encryption System</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>