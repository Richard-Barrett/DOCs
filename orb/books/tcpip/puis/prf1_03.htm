<HTML><HEAD><TITLE>[Preface] Which UNIX System?</TITLE><METANAME="DC.title"CONTENT="Practical UNIX &amp; Internet Security"><METANAME="DC.creator"CONTENT="Simson Garfinkel &amp; Gene Spafford"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-03T23:58:08Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-148-8"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="prf1_01.htm"TITLE="Preface"><LINKREL="prev"HREF="prf1_02.htm"TITLE="Scope of This Book"><LINKREL="next"HREF="prf1_04.htm"TITLE="Conventions Used in This Book"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Practical UNIX &amp; Internet Security"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Practical UNIX &amp; Internet Security"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="prf1_02.htm"TITLE="Scope of This Book"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: Scope of This Book"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Preface</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="prf1_04.htm"TITLE="Conventions Used in This Book"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: Conventions Used in This Book"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="PUIS-CHP-PREFACE-SECT-3">Which UNIX System?</A></H2><PCLASS="para">An unfortunate sideeffect of <SPANCLASS="acronym">UNIX</SPAN>'s popularity is that there are manydifferent versions of <SPANCLASS="acronym">UNIX</SPAN>; today, nearly everycomputer manufacturer has its own. Until recently, only <SPANCLASS="acronym">UNIX</SPAN> operatingsystems sold by AT&amp;T could be called &quot;<SPANCLASS="acronym">UNIX</SPAN>&quot;because of licensing restrictions. Others manufacturers adoptednames such as SunOS (Sun Microsystems), Solaris (also Sun Microsystems),Xenix (Microsoft), HP-UX (Hewlett-Packard), <SPANCLASS="acronym">A/UX</SPAN> (Apple),Dynix (Sequent), <SPANCLASS="acronym">OSF</SPAN>/1 (Open Software foundation),Linux (Linus Torvalds), Ultrix (Digital Equipment Corporation),and <SPANCLASS="acronym">AIX</SPAN> (<SPANCLASS="acronym">IBM</SPAN>)-to name a few.Practically every supplier of a <SPANCLASS="acronym">UNIX</SPAN> or <SPANCLASS="acronym">UNIX</SPAN>-likeoperating system made its own changes to the operating system. Someof these changes were small, while others were significant. Someof these changes have dramatic security implications, and unfortunately,many of these implications are usually not evident. Not every vendorconsiders the security implications of their changes before makingthem. </P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-321"></A><ACLASS="indexterm"NAME="AUTOID-323"></A><ACLASS="indexterm"NAME="AUTOID-327"></A><ACLASS="indexterm"NAME="AUTOID-330"></A>When we wrotethe first edition of this book, there were two main families of <SPANCLASS="acronym">UNIX</SPAN>: AT&amp;T System V, and Berkeley's <SPANCLASS="acronym">BSD</SPAN>.There were also some minor variations, including AT&amp;T SystemIII, Xenix, System 8, and a few others. For many years, there wasa sharp division between System V and <SPANCLASS="acronym">BSD</SPAN> systems.System V was largely favored by industry and government becauseof its status as a well-supported, &quot;official&quot; version of <SPANCLASS="acronym">UNIX</SPAN>. <SPANCLASS="acronym">BSD</SPAN>, meanwhile, was largely favored by academicsites and developers because of its flexibility, scope, and additionalfeatures.</P><PCLASS="para">As we describe in <ACLASS="xref"HREF="ch01_01.htm"TITLE="Introduction">Chapter 1</A>,the two main families of <SPANCLASS="acronym">UNIX</SPAN> reunited severalyears ago in the form of System V Release 4 (usually referred toas V.4 or <SPANCLASS="acronym">SVR4</SPAN>). Many of the better featuresof <SPANCLASS="acronym">BSD</SPAN> 4.3 <SPANCLASS="acronym">UNIX</SPAN> were builtinto <SPANCLASS="acronym">SVR4,</SPAN> resulting in a system that combinesmany of the best features of both systems (as well as a few of theworst, unfortunately). This now represents the dominant basis formost modern versions of <SPANCLASS="acronym">UNIX</SPAN>, with the notableexception of the &quot;free&quot; versions of <SPANCLASS="acronym">UNIX</SPAN>: <SPANCLASS="acronym">BSD</SPAN> 4.4,Free<SPANCLASS="acronym">BSD</SPAN>, and Linux.</P><PCLASS="para">This book covers <SPANCLASS="acronym">UNIX</SPAN> security as it relates to common versionsof <SPANCLASS="acronym">UNIX</SPAN>. Specifically, we have attempted to presentthe material here as it pertains to <SPANCLASS="acronym">SVR4</SPAN> and thennote differences with respect to other versions. Because of ourlong-standing experience with (and fondness for) the <SPANCLASS="acronym">BSD</SPAN>-derivedversions of <SPANCLASS="acronym">UNIX</SPAN>, we will often refer to featuredifferences in terms of &quot;<SPANCLASS="acronym">BSD</SPAN>-derived features&quot;and &quot;AT&amp;T-derived features,&quot; even though <SPANCLASS="acronym">SVR4</SPAN> maybe thought of as having both. When you encounter these terms, thinkof &quot;<SPANCLASS="acronym">BSD</SPAN>-derived&quot; as meaning <SPANCLASS="acronym">BSD</SPAN> systems,Ultrix, SunOS 3.X and 4.X, Solaris 2.x, and <SPANCLASS="acronym">SVR4</SPAN>. Whenyou encounter the term &quot;AT&amp;T-derived,&quot; think of System V Release3, Solaris 2.x, and, to some extent, <SPANCLASS="acronym">AIX</SPAN> andHP-UX.</P><PCLASS="para">Particular details in this book concerning specific <SPANCLASS="acronym">UNIX</SPAN> commands, options, and side effects arebased upon the authors' experience with AT&amp;T System V Release3.2 and 4.0, Berkeley <SPANCLASS="acronym">UNIX</SPAN> Release 4.3 and 4.4, <SPANCLASS="acronym">NEXTSTEP</SPAN>, Digital <SPANCLASS="acronym">UNIX</SPAN> (thenew name for <SPANCLASS="acronym">OSF</SPAN>/1), SunOS 4.0 and 4.1, Solaris2.3 and 2.4, and Ultrix 4.0. We've also had the benefit of our technicalreviewers' long experience with other systems, such as <SPANCLASS="acronym">AIX</SPAN>, <SPANCLASS="acronym">HP-UX</SPAN>, and Linux. As these systems are representativeof the majority of <SPANCLASS="acronym">UNIX</SPAN> machines in use, it islikely that these descriptions will suffice for most machines to whichthe reader will have access.</P><BLOCKQUOTECLASS="note"><PCLASS="para"><STRONG>NOTE:</STRONG> Throughout this book, we generally refer to System VRelease 4 as <SPANCLASS="acronym">SVR4</SPAN>. When we refer to SunOS withouta version number, assume that we are referring to SunOS 4.1.x. Whenwe refer to Solaris without a version number, assume that we arereferring to Solaris 2.x.</P></BLOCKQUOTE><PCLASS="para">Many <SPANCLASS="acronym">UNIX</SPAN> vendorshave modified the basic behavior of some of their system commands,and there are dozens upon dozens of <SPANCLASS="acronym">UNIX</SPAN> vendors.As a result, we don't attempt to describe every specific featureoffered in every version issued by every manufacturer-that would onlymake the book longer, as well as more difficult to read. It wouldalso make this book inaccurate, as some vendors change their systemsfrequently. Furthermore, we are reluctant to describe special-casefeatures on systems we have not been able to test thoroughly ourselves.Whether you're a system administrator or an ordinary user, it'svital that you read the reference pages of your own particular <SPANCLASS="acronym">UNIX</SPAN> system to understand the differences betweenwhat is presented in this volume and the actual syntax of the commandsthat you're using. This is especially true in situations in whichyou're depending upon the specific output or behavior of a programto verify or enhance the security of your system.</P><DIVCLASS="sidebar"><H4CLASS="sidebar"><ACLASS="title"NAME="AUTOID-376">The Many Faces of &quot;Free Unix&quot;</A></H4><PCLASS="para">Oneof the difficulties in writing a book such as this is that thereare many, many versions of <SPANCLASS="acronym">UNIX</SPAN>. All of them havedifferences: some minor, some significant. Our problem, as you shall see,is that even apparently minor difference between two operating systems canlead to dramatic differences in overall security. Simply changingthe protection settings on a single file can turn a secure operatingsystem into an unsecure one.</P><PCLASS="para">The Linux operating systemmakes things even more complicated. That's because Linux is an anarchic,moving target. There are many different versions of Linux. Somehave minor differences, such as the installation of a patch or two.Others are drastically different, with different kernels, differentdriver software, and radically different security models. </P><PCLASS="para">Linuxis not the only free form of <SPANCLASS="acronym">UNIX</SPAN>. After therelease of Berkeley 4.3, the Berkeley Computer Systems ResearchGroup (<SPANCLASS="acronym">CSRG</SPAN>) (and a team of volunteers acrossthe Internet) worked to develop a final release, <SPANCLASS="acronym">BSD</SPAN> 4.4,which was devoid of all AT&amp;T code. Somewhere along the line theproject split into several factions, eventually producing threeoperating systems: <SPANCLASS="acronym">BSD</SPAN> 4.4, Net<SPANCLASS="acronym">BSD</SPAN>,and Free<SPANCLASS="acronym">BSD</SPAN>. Today there are several versionsof each of these operating systems. There are also systems basedon Mach and employing <SPANCLASS="acronym">UNIX</SPAN>-like utilities froma number of sources.</P><PCLASS="para">Today, the world of free <SPANCLASS="acronym">UNIX</SPAN> isa maelstrom. It's as if commercial <SPANCLASS="acronym">UNIX</SPAN> was beingpromoted and developed by several thousand different vendors. Thus, ifyou want to run Linux, or Net<SPANCLASS="acronym">BSD</SPAN>, or Free<SPANCLASS="acronym">BSD</SPAN>,or any other such system securely, it is vitally important thatyou know exactly what software you are running on your computer. <EMCLASS="emphasis">Merely reading your manual may not be enough! </EM>Youmay have to read the source code. You may have to verify that thesource code that you are reading actually compiles to produce the binariesthat you are running!</P><PCLASS="para">Also, please note that<EMCLASS="emphasis"> </EM>wecannot possibly describe (or even know) all the possible variationsand implications, so don't assume that we have covered all the nuancesof your particular system. When in doubt, check it out.</P></DIV><BLOCKQUOTECLASS="note"><PCLASS="para"><STRONG>NOTE:</STRONG> By writing this book, we hope to provide informationthat will help users and system administrators improve the securityof their systems. We have tried to ensure the accuracy and completenessof everything within this book. However, as we noted previously,we can't be sure that we have covered everything, and we can't knowabout all the quirks and modifications made to every version andinstallation of <SPANCLASS="acronym">UNIX</SPAN>-derived systems. There areso many versions, furthermore, that sometimes it is easy to getsimilar but different versions confused. Thus, we can't promisethat your system security will never be compromised if you followall our advice, but we can feel sure in promising that attacks willbe less likely. We encourage readers to tell us of significant differencesbetween their own experiences and the examples presented in thisbook; those differences may be noted in future editions.</P></BLOCKQUOTE><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="PUIS-CHP-PREFACE-SECT-3.1">&quot;Secure&quot; Versions of UNIX</A></H3><PCLASS="para">Over time,several vendors have developed &quot;secure&quot; versions of <SPANCLASS="acronym">UNIX</SPAN>,often known as &quot;trusted <SPANCLASS="acronym">UNIX</SPAN>.&quot; These systemsembody mechanisms, enhancements, and restraints described in variousgovernment standards documents. These enhanced versions of <SPANCLASS="acronym">UNIX</SPAN> aredesigned to work in <ACLASS="indexterm"NAME="AUTOID-406"></A><ACLASS="indexterm"NAME="AUTOID-408"></A>Multi-Level Security (<SPANCLASS="acronym">MLS</SPAN>)and Compartmented-Mode Workstation (<SPANCLASS="acronym">CMW</SPAN>) environments-wherethere are severe constraints designed to prevent the mixing of dataand code with different security classifications, such as Secretand Top-Secret. Trusted Xenix and System <SPANCLASS="acronym">V/MLS</SPAN> aretwo of the better-known instances of trusted <SPANCLASS="acronym">UNIX</SPAN>.</P><PCLASS="para">Secure <SPANCLASS="acronym">UNIX</SPAN> systems generally have extrafeatures added to them including access control lists, data labeling,and enhanced auditing. They also remove some traditional featuresof <SPANCLASS="acronym">UNIX</SPAN> such as the superuser's special accessprivileges, and access to some device files. Despite these changes,the systems still bear a resemblance to standard <SPANCLASS="acronym">UNIX</SPAN>.</P><PCLASS="para">These systems are not in widespread use outside of selectedgovernment agencies. It seems doubtful to us that they will everenjoy widely popular acceptance because many of the features onlymake sense within the context of a military security policy. Onthe other hand, some of these enhancements are useful in the commercialenvironment as well, and C2 security features are already commonin many modern versions of <SPANCLASS="acronym">UNIX</SPAN>. </P><PCLASS="para">Todaytrusted <SPANCLASS="acronym">UNIX</SPAN> systems are often more difficultto use in a wide variety of environments, more difficult to portprograms to, and more expensive to obtain and maintain. Thus, wehaven't bothered to describe the quirks and special features ofthese systems in this book. If you have such a system, we recommendthat you read the vendor documentation carefully and repeatedly.If these systems become more commonly accepted, we'll describe themin a future edition.</P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="prf1_02.htm"TITLE="Scope of This Book"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: Scope of This Book"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Practical UNIX &amp; Internet Security"><IMGSRC="../gifs/txthome.gif"ALT="Practical UNIX &amp; Internet Security"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="prf1_04.htm"TITLE="Conventions Used in This Book"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: Conventions Used in This Book"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">Scope of This Book</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">Conventions Used in This Book</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>