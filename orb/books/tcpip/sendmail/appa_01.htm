<HTML><HEAD><TITLE>[Appendix A] The client.cf File</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T22:49:53Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="part05.htm"TITLE="V. Appendixes"><LINKREL="prev"HREF="part05.htm"TITLE="V. Appendixes"><LINKREL="next"HREF="appb_01.htm"TITLE="B. Host Status File Internals"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="PART"HREF="part05.htm"TITLE="V. Appendixes"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: V. Appendixes"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Appendix A</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="APPENDIX"HREF="appb_01.htm"TITLE="B. Host Status File Internals"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: B. Host Status File Internals"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="APPENDIX"><H1CLASS="appendix"><ACLASS="title"NAME="SML2-AP-A">A. The client.cf File</A></H1><PCLASS="para"></P><PCLASS="para">In Part I of this book a configuration file that always forwards tothe hub was partly developed.<ACLASS="indexterm"NAME="SML2-AP-A-IX-CLIENT-CF"></A>This appendix presents it in annotated and cross-referencedform, but please use this file only to learn about <EMCLASS="emphasis">sendmail</EM>. If youreally need a client file that always forwards to a hub, use the<EMCLASS="emphasis">nullclient</EM> feature described in <ACLASS="xref"HREF="ch16_01.htm"TITLE="The null.mc File and m4">Chapter 16, <CITECLASS="chapter">The null.mc File and m4</CITE></A>.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">V7                                                                    <ICLASS="lineannotation"><ACLASS="xref"HREF="ch05_01.htm"TITLE="The sendmail.cf File">Chapter 5, <CITECLASS="chapter">The sendmail.cf File</CITE></A></I># Defined macros                                                      <ICLASS="lineannotation"><ACLASS="xref"HREF="ch07_01.htm"TITLE="Macros">Chapter 7, <CITECLASS="chapter">Macros</CITE></A></I>                               <ICLASS="lineannotation">Note that in the next two lines you should replace mailhost</I>                               <ICLASS="lineannotation">with the real internal name of your mail hub and mail.us.edu</I>                               <ICLASS="lineannotation">with the real canonical name of your mail hub.</I>D{REMOTE}mailhost         # The name of the mail hub                  <ICLASS="lineannotation"><ACLASS="xref"HREF="ch07_01.htm"TITLE="Macros">Chapter 7</A></I>D{HUB}mail.us.edu         # Hub as known to the outside world         <ICLASS="lineannotation"><ACLASS="xref"HREF="ch11_01.htm"TITLE="Rule Sets 1 and S=">Chapter 11, <CITECLASS="chapter">Rule Sets 1 and S=</CITE></A></I>Cw localhost              # My other names                            <ICLASS="lineannotation"><ACLASS="xref"HREF="ch12_01.htm"TITLE="Class">Chapter 12, <CITECLASS="chapter">Class</CITE></A></I>Fw -o /etc/sendmail.cw    # A file of other names                     <ICLASS="lineannotation"><ACLASS="xref"HREF="ch12_01.htm"TITLE="Class">Chapter 12</A></I>Ct root daemon                                                        <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14, <CITECLASS="chapter">Headers, Precedence, and Trust</CITE></A></I># Options                                                             <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13, <CITECLASS="chapter">Setting Options</CITE></A></I>                               <ICLASS="lineannotation">Note that you must change the next line to the path for your</I>                               <ICLASS="lineannotation">queue directory before putting this configuration file into use.</I>O QueueDirectory=/tmp     # Use /var/spool/mqueue upon release        <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I>O Timeout.queuewarn=4h                                                <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I>O Timeout.queuereturn=5d                                              <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I>O DeliveryMode=background                                             <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I>O TempFileMode=0600                                                   <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I>O DefaultUser=1:1                                                     <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I>O LogLevel=9                                                          <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I>O OldStyleHeaders=True                                                <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I>O BlankSub=.              # Replace unquoted spaces                   <ICLASS="lineannotation"><ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13</A></I># Headers                                                             <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>HFrom: &lt;$g&gt;                     # Added only if missing               <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>                               <ICLASS="lineannotation">Note that this is a minimal Received: header. See <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-25"TITLE="">Section 35.10.25, Received:</A> for</I>                               <ICLASS="lineannotation">a more complete version of this header.</I>HReceived: by $j; $b            # Always added                        <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>H?x?Full-Name: $?x$x$.          # Add full name if available          <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>H?D?Date: $a                    # Add if F=D                          <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>H?M?Message-Id: &lt;$t.$i@$j&gt;      # Add if F=M                          <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I># Precedence                                                          <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>Pspecial-delivery=100                                                 <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>Pfirst-class=0                                                        <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>Plist=-30                                                             <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>Pbulk=-60                                                             <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I>Pjunk=-100                                                            <ICLASS="lineannotation"><ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I># Delivery agent definition to forward mail to hub                    <ICLASS="lineannotation"><ACLASS="xref"HREF="ch06_01.htm"TITLE="The Mail Hub and Delivery Agents">Chapter 6, <CITECLASS="chapter">The Mail Hub and Delivery Agents</CITE></A></I>Mhub, P=[IPC], S=Hubset, R=0, F=xmDFMuXa, T=DNS/RFC822/SMTP, A=IPC $h <ICLASS="lineannotation"><ACLASS="xref"HREF="ch06_01.htm"TITLE="The Mail Hub and Delivery Agents">Chapter 6</A>, <ACLASS="xref"HREF="ch11_01.htm"TITLE="Rule Sets 1 and S=">Chapter 11</A>, <ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A></I># Sendmail requires this, but we won't use it.                        <ICLASS="lineannotation"><ACLASS="xref"HREF="ch06_01.htm"TITLE="The Mail Hub and Delivery Agents">Chapter 6</A></I>Mlocal, P=/bin/mail, F=lsDFMAw5:/|@rmn, S=0, R=0, A=mail -d $u        <ICLASS="lineannotation"><ACLASS="xref"HREF="ch06_01.htm"TITLE="The Mail Hub and Delivery Agents">Chapter 6</A></I>S0 # select delivery agent                                            <ICLASS="lineannotation"><ACLASS="xref"HREF="ch09_01.htm"TITLE="Rule Set 0">Chapter 9, <CITECLASS="chapter">Rule Set 0</CITE></A></I>R@ $+                   $#error $: Missing user name                  <ICLASS="lineannotation"><ACLASS="xref"HREF="ch09_01.htm"TITLE="Rule Set 0">Chapter 9</A></I>R$+                     $#hub $@${REMOTE} $:$1  forward to hub        <ICLASS="lineannotation"><ACLASS="xref"HREF="ch09_01.htm"TITLE="Rule Set 0">Chapter 9</A></I>S3 # preprocessing for all rule sets                                  <ICLASS="lineannotation"><ACLASS="xref"HREF="ch10_01.htm"TITLE="Rule Set 3">Chapter 10, <CITECLASS="chapter">Rule Set 3</CITE></A></I>R$* &lt;&gt; $*               $n              handle &lt;&gt; error address       <ICLASS="lineannotation"><ACLASS="xref"HREF="ch10_01.htm"TITLE="Rule Set 3">Chapter 10</A></I>R$* &lt; $* &lt;$*&gt; $* &gt; $*   $2&lt;$3&gt;$4        de-nest brackets              <ICLASS="lineannotation"><ACLASS="xref"HREF="ch10_01.htm"TITLE="Rule Set 3">Chapter 10</A></I>R$* &lt; $* &gt; $*           $2              basic RFC822 parsing          <ICLASS="lineannotation"><ACLASS="xref"HREF="ch10_01.htm"TITLE="Rule Set 3">Chapter 10</A></I>SHubset # Rewrite the sender for the hubR$-                     $@ $1@${HUB}    user -&gt; user@hub              <ICLASS="lineannotation"><ACLASS="xref"HREF="ch11_01.htm"TITLE="Rule Sets 1 and S=">Chapter 11</A></I>R$- @ $=w               $@ $1@${HUB}    user@local -&gt; user@hub        <ICLASS="lineannotation"><ACLASS="xref"HREF="ch11_01.htm"TITLE="Rule Sets 1 and S=">Chapter 11</A>, <ACLASS="xref"HREF="ch12_01.htm"TITLE="Class">Chapter 12</A></I>R$- @ $=w . $m          $@ $1@${HUB}    user@local.domain -&gt; user@hub <ICLASS="lineannotation"><ACLASS="xref"HREF="ch12_01.htm"TITLE="Class">Chapter 12</A></I></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62857"></A></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="PART"HREF="part05.htm"TITLE="V. Appendixes"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: V. Appendixes"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="APPENDIX"HREF="appb_01.htm"TITLE="B. Host Status File Internals"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: B. Host Status File Internals"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">V. Appendixes</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">B. Host Status File Internals</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>