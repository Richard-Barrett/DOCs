<HTML><HEAD><TITLE>[Chapter 1] 1.3 Three Important Parts</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:32:06Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch01_01.htm"TITLE="1. Introduction"><LINKREL="prev"HREF="ch01_02.htm"TITLE="1.2 Why Is sendmail So Complex?"><LINKREL="next"HREF="ch01_04.htm"TITLE="1.4 Run sendmail by Hand"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_02.htm"TITLE="1.2 Why Is sendmail So Complex?"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.2 Why Is sendmail So Complex?"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 1<BR>Introduction</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_04.htm"TITLE="1.4 Run sendmail by Hand"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 1.4 Run sendmail by Hand"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-1-SECT-3">1.3 Three Important Parts</A></H2><PCLASS="para">The <EMCLASS="emphasis">sendmail</EM> program is actually composed of several parts, includingprograms, files, directories, and the services it provides.Its foundation is a <EMCLASS="emphasis">configuration file</EM> that definesthe location and behavior of these other parts and containsrules for rewriting addresses. A <EMCLASS="emphasis">queue directory</EM> holds mailuntil it can be delivered. An <EMCLASS="emphasis">aliases file</EM> allows alternativenames for users and creation of mailing lists.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-1-SECT-3-1">1.3.1 The Configuration File</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-784"></A><ACLASS="indexterm"NAME="AUTOID-787"></A><ACLASS="indexterm"NAME="AUTOID-789"></A>The configuration file contains all the information <EMCLASS="emphasis">sendmail</EM> needs to do its job.Within it youprovide information, such asfile locations, permissions, and modes of operation.</P><PCLASS="para">Rewriting rules and rule sets also appear in the configurationfile.They transform a mail addressinto another form that may be required for delivery.They are perhaps the single mostconfusing aspect of the configuration file.Because the configuration file is designedto be fast for <EMCLASS="emphasis">sendmail</EM> to read and parse,rules can look cryptic to humans:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$+@$+          $:$1&lt;@$2&gt;      focus on domainR$+&lt;$+@$+&gt;      $1$2&lt;@$3&gt;      move gaze right</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-799"></A><ACLASS="indexterm"NAME="AUTOID-802"></A>But what appears to be complex is really just succinct. The <CODECLASS="literal">R</CODE>at the beginning of each line, for example, labels a <EMCLASS="emphasis">rewrite</EM> rule.And the <CODECLASS="literal">$+</CODE> expressions mean to match one or more parts of an address.With experience, such expressions (and indeed the configurationfile as a whole) soon become meaningful.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-1-SECT-3-2">1.3.2 The Queue</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-810"></A><ACLASS="indexterm"NAME="AUTOID-814"></A><ACLASS="indexterm"NAME="AUTOID-817"></A>Not all mail messages can be delivered immediately.When delivery is delayed, <EMCLASS="emphasis">sendmail</EM> must be ableto save it for later transmission.The <EMCLASS="emphasis">sendmail</EM> queue is a directory that holds mail until itcan be delivered.A mail message may be queued:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">When the destination machine is unreachable or down.The mail message will be delivered when the destinationmachine returns to service.</P></LI><LICLASS="listitem"><PCLASS="para">When a mail message has many recipients. Some mailmessages may be successfully delivered,and others may not. Those that fail are queued for later delivery.</P></LI><LICLASS="listitem"><PCLASS="para">When a mail message is expensive. Expensive mail(such as mail sent over a long-distance phone line) canbe queued for delivery when rates are lower.</P></LI><LICLASS="listitem"><PCLASS="para">When safety is of concern.The <EMCLASS="emphasis">sendmail</EM> program can be configured to queue all mail messages,thus minimizing the risk of loss should the machine crash.</P></LI></UL></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-1-SECT-3-3">1.3.3 Aliases and Mailing Lists</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-834"></A><ACLASS="indexterm"NAME="AUTOID-836"></A><ACLASS="indexterm"NAME="AUTOID-838"></A>Aliases allow mail that is sent to one address to be redirected toanother address. They also allow mail to be appended to files or pipedthrough programs, and they form the basis of mailing lists.The heart of aliasing is the <EMCLASS="emphasis">aliases</EM>(5) file (often stored indatabase format for swifter lookups).Aliasing is also available to the individual user via a file called.<EMCLASS="emphasis">forward</EM> in the user's home directory.</P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_02.htm"TITLE="1.2 Why Is sendmail So Complex?"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.2 Why Is sendmail So Complex?"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_04.htm"TITLE="1.4 Run sendmail by Hand"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 1.4 Run sendmail by Hand"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">1.2 Why Is sendmail So Complex?</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">1.4 Run sendmail by Hand</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>