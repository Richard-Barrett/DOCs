<HTML><HEAD><TITLE>[Chapter 4] 4.3 Debugging (-d)</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:33:30Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch04_01.htm"TITLE="4. How to Run sendmail"><LINKREL="prev"HREF="ch04_02.htm"TITLE="4.2 Verbose (-v)"><LINKREL="next"HREF="ch04_04.htm"TITLE="4.4 Things to Try"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_02.htm"TITLE="4.2 Verbose (-v)"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 4.2 Verbose (-v)"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 4<BR>How to Run sendmail</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_04.htm"TITLE="4.4 Things to Try"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 4.4 Things to Try"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-4-SECT-3">4.3 Debugging (-d)</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-4-IX-D-SWITCH-SENDMAIL"></A><ACLASS="indexterm"NAME="SML2-CH-4-IX-DEBUGGING"></A>The <EMCLASS="emphasis">sendmail</EM> program can also produce <EMCLASS="emphasis">debugging</EM> output.The <EMCLASS="emphasis">sendmail</EM> program is placed in debugging mode by using the<CODECLASS="literal">-d</CODE> command-line switch.That switch produces far more information than <CODECLASS="literal">-v</CODE>.To see for yourself, enter the following command line, but substituteyour own login name in place of the <CODECLASS="replaceable"><I>you</I></CODE>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>/usr/lib/sendmail -d </B></CODE><CODECLASS="replaceable"><I>you</I></CODE><CODECLASS="userinput"><B> &lt; /dev/null</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">This command line produces a great deal of output.We won't explain this output, because it is explained in <ACLASS="xref"HREF="ch37_01.htm"TITLE="Debugging with -d">Chapter 37, <CITECLASS="chapter">Debugging with -d</CITE></A>.For now just rememberthat the <EMCLASS="emphasis">sendmail</EM> program's debugging output canproduce a great deal of information.</P><PCLASS="para">In addition to producing lots of debugging information, the <CODECLASS="literal">-d</CODE>switch can be modified to display specific debugginginformation. By adding a numeric argument to the <CODECLASS="literal">-d</CODE>switch, outputcan be limited to one specific aspect of the <EMCLASS="emphasis">sendmail</EM> program'sbehavior.</P><PCLASS="para">Type in this command line, but change <CODECLASS="replaceable"><I>you</I></CODE>to your own login name.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="literal">% </CODE><CODECLASS="userinput"><B>/usr/lib/sendmail -d40 </B></CODE><CODECLASS="replaceable"><I>you</I></CODE><CODECLASS="userinput"><B> &lt; /dev/null</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, the <CODECLASS="literal">-d40</CODE> is the debugging switch witha category of <CODECLASS="literal">40</CODE>. That category limits <EMCLASS="emphasis">sendmail</EM>'sprogram output to information about the queue.The following output shows you some information about how yourmail message was queued.A detailed explanation of this output is covered in <ACLASS="xref"HREF="ch37_05.htm#SML2-CH-37-SECT-5-138"TITLE="">Section 37.5.138, -d40.1</A>.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&gt;&gt;&gt;&gt;&gt; queueing GAA14008 (new id) queueall=1 &gt;&gt;&gt;&gt;&gt;queueing 95688=you:        mailer 4 (local), host `'        user `you', ruser `&lt;null&gt;'        next=0, alias 95460, uid 0, gid 0        flags=6008&lt;QPRIMARY,QPINGONFAILURE,QPINGONDELAY&gt;        owner=(none), home=&quot;/home/you&quot;, fullname=&quot;Your FullName&quot;        orcpt=&quot;(none)&quot;, statmta=(none), rstatus=(none)&lt;&lt;&lt;&lt;&lt; done queueing GAA14008 &lt;&lt;&lt;&lt;&lt;</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2713"></A>In addition to a category, a <EMCLASS="emphasis">level</EM> may also be specified. Thelevel adjusts the amount of output produced. A low level produceslittle output; a high level produces greater and more complexoutput. The string following the <CODECLASS="literal">-d</CODE> has the form</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">category.level</PRE></BLOCKQUOTE></P><PCLASS="para">For example, enter the following command line:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="literal">% </CODE><CODECLASS="userinput"><B>/usr/lib/sendmail -d0.1 -bp</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">-d0</CODE> instructs <EMCLASS="emphasis">sendmail</EM> to produce generaldebugging information. The level <CODECLASS="literal">.1</CODE> limits <EMCLASS="emphasis">sendmail</EM>to its minimal output. That level could have been omitted, becausea level <CODECLASS="literal">.1</CODE> is the default. Recall that <CODECLASS="literal">-bp</CODE>causes <EMCLASS="emphasis">sendmail</EM> to print the contents of its queue.The output produced looks something like the following:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Version 8.8.4 Compiled with: LOG NAMED_BIND NDBM NETINET NETUNIX NIS SCANF                XDEBUG============ SYSTEM IDENTITY (after readcf) ============      (short domain name) $w = here  (canonical domain name) $j = here.us.edu         (subdomain name) $m = us.edu              (node name) $k = here========================================================Mail queue is empty</PRE></BLOCKQUOTE></P><PCLASS="para">Here, the <CODECLASS="literal">-d0.1</CODE> switch causes <EMCLASS="emphasis">sendmail</EM> to printits version, some information about how it was compiled, andhow it interpreted your host (domain) name.Now run the same command line again, but change the levelfrom <CODECLASS="literal">.1</CODE> to <CODECLASS="literal">.11</CODE>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="literal">% </CODE><CODECLASS="userinput"><B>/usr/lib/sendmail -d0.11 -bp</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The increase in the level causes <EMCLASS="emphasis">sendmail</EM> to print more information:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Version 8.8.4 Compiled with: LOG NAMED_BIND NDBM NETINET NETUNIX NIS SCANF                XDEBUG    OS Defines: HASFLOCK HASGETUSERSHELL HASINITGROUPS HASLSTAT                HASSETREUID HASSETSID HASSETVBUF HASUNAME IDENTPROTO                IP_SRCROUTE   Config file: /etc/sendmail.cf      Pid file: /etc/sendmail.pidcanonical name: here.us.edu UUCP nodename: here        a.k.a.: [123.45.67.89]============ SYSTEM IDENTITY (after readcf) ============      (short domain name) $w = here  (canonical domain name) $j = here.us.edu         (subdomain name) $m = us.edu              (node name) $k = here========================================================Mail queue is empty</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2749"></A><ACLASS="indexterm"NAME="AUTOID-2750"></A><ACLASS="indexterm"NAME="AUTOID-2751"></A></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_02.htm"TITLE="4.2 Verbose (-v)"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 4.2 Verbose (-v)"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_04.htm"TITLE="4.4 Things to Try"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 4.4 Things to Try"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">4.2 Verbose (-v)</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">4.4 Things to Try</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>