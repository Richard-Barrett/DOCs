<HTML><HEAD><TITLE>[Chapter 5] 5.3 A Quick Tour</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:33:46Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch05_01.htm"TITLE="5. The sendmail.cf File"><LINKREL="prev"HREF="ch05_02.htm"TITLE="5.2 The Minimal File"><LINKREL="next"HREF="ch05_04.htm"TITLE="5.4 Things to Try"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_02.htm"TITLE="5.2 The Minimal File"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.2 The Minimal File"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 5<BR>The sendmail.cf File</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_04.htm"TITLE="5.4 Things to Try"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.4 Things to Try"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-5-SECT-3">5.3 A Quick Tour</A></H2><PCLASS="para">The other commands in a configuration file tend to bemore complex than the version command you just saw (so complex,in fact, that whole chapters are dedicated to most of them).Here, we present a quick tourof each command &nbsp;- just enough to give you the flavor of a configurationfile but in small enough bites to be easily digested.&#13;</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-1">5.3.1 Mail Delivery Agents</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3021"></A><ACLASS="indexterm"NAME="AUTOID-3024"></A><ACLASS="indexterm"NAME="AUTOID-3027"></A>Recall that the <EMCLASS="emphasis">sendmail</EM> program does not generally deliver mail itself.Instead, it calls other programs to perform that delivery. The <CODECLASS="literal">M</CODE> command defines a mail deliveryagent (a program that delivers the mail). For example, as waspreviously shown:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mlocal,    P=/bin/mail, F=lsDFMAw5:/|@rmn, S=10, R=20/40,</PRE></BLOCKQUOTE></P><PCLASS="para">This tells <EMCLASS="emphasis">sendmail</EM> that <CODECLASS="literal">local</CODE>mail is to be delivered by using the <EMCLASS="emphasis">/bin/mail</EM> program.The other parameters in this line are introduced in <ACLASS="xref"HREF="ch06_01.htm"TITLE="The Mail Hub and Delivery Agents">Chapter 6, <CITECLASS="chapter">The Mail Hub and Delivery Agents</CITE></A>,and detailed in <ACLASS="xref"HREF="ch30_01.htm"TITLE="Delivery Agents">Chapter 30, <CITECLASS="chapter">Delivery Agents</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-2">5.3.2 Macros</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3042"></A><ACLASS="indexterm"NAME="AUTOID-3044"></A><ACLASS="indexterm"NAME="AUTOID-3046"></A><ACLASS="indexterm"NAME="AUTOID-3048"></A><ACLASS="indexterm"NAME="AUTOID-3050"></A><ACLASS="indexterm"NAME="AUTOID-3052"></A><ACLASS="indexterm"NAME="AUTOID-3055"></A>The ability to define a value once and then use itin many places makes maintaining your <EMCLASS="emphasis">sendmail.cf</EM> file easier.The <CODECLASS="literal">D</CODE> <EMCLASS="emphasis">sendmail.cf</EM> command defines a macro.A macro's name is either a single letter or curly-brace-enclosedmultiple characters. It has text as a value. Oncedefined, that text can be referenced symbolically elsewhere:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">DRmail.us.edu           <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> a single letter</I>D{REMOTE}mail.us.edu    <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> multiple characters (beginning with V8.7)</I></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="literal">R</CODE> and <CODECLASS="literal">{REMOTE}</CODE> are macro names that have thestring <CODECLASS="literal">mail.us.edu</CODE> as their values. Those values are accessedelsewhere in the <EMCLASS="emphasis">sendmail.cf</EM> file with expressions such as<CODECLASS="literal">$R</CODE> and <CODECLASS="literal">${REMOTE}</CODE>.Macros are introduced in<ACLASS="xref"HREF="ch07_01.htm"TITLE="Macros">Chapter 7, <CITECLASS="chapter">Macros</CITE></A>,and detailed in <ACLASS="xref"HREF="ch31_01.htm"TITLE="Defined Macros">Chapter 31, <CITECLASS="chapter">Defined Macros</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-3">5.3.3 Rules</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3077"></A>At the heart of the <EMCLASS="emphasis">sendmail.cf</EM> file are sequences of rules thatrewrite (transform) mail addresses from one form to another. This is necessary chiefly because addresses must conform to manydiffering standards. The <CODECLASS="literal">R</CODE> command is used to define a rewriting rule:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$-      $@ $1 @ $R     user -&gt; user @ remote</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3084"></A><ACLASS="indexterm"NAME="AUTOID-3087"></A>Mail addresses are compared to the rule onthe left (<CODECLASS="literal">$-</CODE>). If they match that rule, they are rewritten on the basis of the rule on the right (<CODECLASS="literal">$@ $1 $@ $R</CODE>). The text at the farright is a comment (that doesn't require a leading <CODECLASS="literal">#</CODE>).</P><PCLASS="para">Use of multicharacter macros and <CODECLASS="literal">#</CODE> comments can make rulesappear a bit less cryptic:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$-                        # If a plain user name      $@ $1 @ ${REMOTE}    #    append &quot;@&quot; remote host</PRE></BLOCKQUOTE></P><PCLASS="para">The details of rules like this are more fully explained beginning in <ACLASS="xref"HREF="ch08_01.htm"TITLE="Addresses and Rules">Chapter 8, <CITECLASS="chapter">Addresses and Rules</CITE></A>,and detailed in <ACLASS="xref"HREF="ch28_01.htm"TITLE="Rules">Chapter 28, <CITECLASS="chapter">Rules</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-4">5.3.4 Rule Sets</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3103"></A><ACLASS="indexterm"NAME="AUTOID-3105"></A>Because rewriting may require several steps, rules areorganized into sets, which can be thought of as subroutines.The <CODECLASS="literal">S</CODE> command begins a rule set:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S3</PRE></BLOCKQUOTE></P><PCLASS="para">This particular <CODECLASS="literal">S</CODE> command begins rule set 3. Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>, rule setscan be given symbolic names as well as numbers:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">SHubset</PRE></BLOCKQUOTE></P><PCLASS="para">This particular <CODECLASS="literal">S</CODE> command begins a rule setnamed <CODECLASS="literal">Hubset</CODE>.[3]Named rule sets are automatically assignednumbers by <EMCLASS="emphasis">sendmail</EM>.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[3] This is an actual symbolic name that we will usewhen developing the <EMCLASS="emphasis">client.cf</EM> file (specifically in<ACLASS="xref"HREF="ch11_01.htm"TITLE="Rule Sets 1 and S=">Chapter 11, <CITECLASS="chapter">Rule Sets 1 and S=</CITE></A>).</P></BLOCKQUOTE><PCLASS="para">All the <CODECLASS="literal">R</CODE> commands (rules) that follow an <CODECLASS="literal">S</CODE> commandbelong to that rule set.A rule set ends when another <CODECLASS="literal">S</CODE> command appears todefine another rule set.Rule sets are introduced in <ACLASS="xref"HREF="ch08_01.htm"TITLE="Addresses and Rules">Chapter 8</A>and detailed in <ACLASS="xref"HREF="ch29_01.htm"TITLE="Rule Sets">Chapter 29, <CITECLASS="chapter">Rule Sets</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-5">5.3.5 Class Macros</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3132"></A><ACLASS="indexterm"NAME="AUTOID-3134"></A><ACLASS="indexterm"NAME="AUTOID-3137"></A>There are times when the single text value of a <CODECLASS="literal">D</CODE> command(macro definition) is not sufficient. Often, you will want todefine a macro to have multiple values and view those values aselements in an array.The <CODECLASS="literal">C</CODE> command defines a class macro.A class macro is like an array in that it can hold many items.The name of a class is either a single letter or, beginning withV8.7, a curly-brace-enclosed multicharacter name:<ACLASS="indexterm"NAME="AUTOID-3141"></A><ACLASS="indexterm"NAME="AUTOID-3143"></A><ACLASS="indexterm"NAME="AUTOID-3145"></A></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">CW localhost fontserver             <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> a single letter</I>C{MY_NAMES} localhost fontserver    <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> multiple characters (beginning with V8.7)</I></PRE></BLOCKQUOTE></P><PCLASS="para">Here, each contains two items: <CODECLASS="literal">localhost</CODE> and <CODECLASS="literal">fontserver</CODE>.The value of a class macro is accessed with an expression such as <CODECLASS="literal">$=W</CODE> or <CODECLASS="literal">$={MY_NAMES}</CODE>.Class macros are introduced in <ACLASS="xref"HREF="ch12_01.htm"TITLE="Class">Chapter 12, <CITECLASS="chapter">Class</CITE></A>,and detailed in <ACLASS="xref"HREF="ch32_01.htm"TITLE="Class Macros">Chapter 32, <CITECLASS="chapter">Class Macros</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-6">5.3.6 File Class Macros</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3161"></A><ACLASS="indexterm"NAME="AUTOID-3163"></A><ACLASS="indexterm"NAME="AUTOID-3165"></A>To make administration easier, it is often convenient to storelong or volatile lists of values in a file.The <CODECLASS="literal">F</CODE> <EMCLASS="emphasis">sendmail.cf</EM> command defines a file class macro.It is just like the <CODECLASS="literal">C</CODE> command above, except that thearray values are taken from a file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">FW/etc/mynamesF{MY_NAMES}/etc/mynames         <ICLASS="lineannotation"> <IMGSRC="../chars/larr.gif"ALT="&lt;-"> multiple characters (beginning with V8.7)</I></PRE></BLOCKQUOTE></P><PCLASS="para">Here, the file class macros <CODECLASS="literal">W</CODE> and <CODECLASS="literal">{MY_NAMES}</CODE> obtain their valuesfrom the file <EMCLASS="emphasis">/etc/mynames</EM>.</P><PCLASS="para">The file class macro can also take its list of valuesfrom the output of a program. That form looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">FM|/bin/shownamesF{MY_NAMES}|/bin/shownames      <ICLASS="lineannotation"> <IMGSRC="../chars/larr.gif"ALT="&lt;-"> multiple characters (beginning with V8.7)</I></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <EMCLASS="emphasis">sendmail</EM> runs the program <CODECLASS="literal">/bin/shownames</CODE>.The output of that program is appended to the class macro.File class macros are introduced in <ACLASS="xref"HREF="ch12_01.htm"TITLE="Class">Chapter 12</A>,and detailed in<ACLASS="xref"HREF="ch32_01.htm"TITLE="Class Macros">Chapter 32</A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-7">5.3.7 Options</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3190"></A>Options tell the <EMCLASS="emphasis">sendmail</EM> program many useful and necessarythings. They specify the location of key files, set timeouts, and define how<EMCLASS="emphasis">sendmail</EM> will act and how it will dispose of errors.They can be used to tune <EMCLASS="emphasis">sendmail</EM> to meet your particular needs.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3196"></A>The <CODECLASS="literal">O</CODE> command is used to set <EMCLASS="emphasis">sendmail</EM>options. An example of the option command looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">OQ/var/spool/mqueueO QueueDirectory= /var/spool/mqueue     <ICLASS="lineannotation"> <IMGSRC="../chars/larr.gif"ALT="&lt;-"> beginning with V8.7</I></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3204"></A>Here, <CODECLASS="literal">Q</CODE> option (beginning with V8.7 called <CODECLASS="literal">QueueDirectory</CODE>) definesthe name of the directory in which mail willbe queued as <EMCLASS="emphasis">/var/spool/mqueue</EM>.Options are introduced in <ACLASS="xref"HREF="ch13_01.htm"TITLE="Setting Options">Chapter 13, <CITECLASS="chapter">Setting Options</CITE></A>,and detailed in <ACLASS="xref"HREF="ch34_01.htm"TITLE="Options">Chapter 34, <CITECLASS="chapter">Options</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-8">5.3.8 Headers</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3214"></A>Mail messages are composed of two parts: a header followed (aftera blank line) by the body. The body may contain virtually anything.[4]The header, on the other hand, contains linesof information that must strictly conform to certain standards.<ACLASS="indexterm"NAME="AUTOID-3223"></A>The <CODECLASS="literal">H</CODE> command is used to specifywhich mail headers to includein a mail message and how each will look:</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[4] With the advent of MIME (Multipurpose Internet Mail Extensions),the message body can now be composedof many minimessages, each with its own MIME header andsub-body.<ACLASS="indexterm"NAME="AUTOID-3218"></A><ACLASS="indexterm"NAME="AUTOID-3221"></A></P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">HReceived: $?sfrom $s $.by $j ($v/$Z)$?r with $r$. id $i$?u for $u$.; $b</PRE></BLOCKQUOTE></P><PCLASS="para">This particular <CODECLASS="literal">H</CODE> command tells <EMCLASS="emphasis">sendmail</EM> that a <CODECLASS="literal">Received:</CODE>header line must be added to the header of every mail message.Headers are introduced in <ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14, <CITECLASS="chapter">Headers, Precedence, and Trust</CITE></A>,and detailed in <ACLASS="xref"HREF="ch35_01.htm"TITLE="Headers">Chapter 35, <CITECLASS="chapter">Headers</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-9">5.3.9 Priority</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3237"></A><ACLASS="indexterm"NAME="AUTOID-3240"></A><ACLASS="indexterm"NAME="AUTOID-3244"></A><ACLASS="indexterm"NAME="AUTOID-3246"></A>Not all mail has the same priority. Mass mailings (to amailing list, for example) should be transmitted after mail toindividual users.The <CODECLASS="literal">P</CODE> command sets the beginning priorityfor a mail message. That priority is used to determine amessage's order when the mail queue is processed.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Pjunk= -100</PRE></BLOCKQUOTE></P><PCLASS="para">This particular <CODECLASS="literal">P</CODE> command tells <EMCLASS="emphasis">sendmail</EM> that mail with a <CODECLASS="literal">Precedence:</CODE> header line of <CODECLASS="literal">junk</CODE> should be processed last.Priority commands are introduced in <ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A>and detailed in<ACLASS="xref"HREF="ch35_01.htm"TITLE="Headers">Chapter 35</A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-10">5.3.10 Trusted Users</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3262"></A><ACLASS="indexterm"NAME="AUTOID-3264"></A><ACLASS="indexterm"NAME="AUTOID-3267"></A><ACLASS="indexterm"NAME="AUTOID-3269"></A>For some software (such as UUCP) to function correctly, it must be ableto tell <EMCLASS="emphasis">sendmail</EM> whom a mail message is from.This is necessary when that software runs as a different useridentity (<EMCLASS="emphasis">uid</EM>) than that specified in the <CODECLASS="literal">From:</CODE>line in the message header.The <CODECLASS="literal">T</CODE> <EMCLASS="emphasis">sendmail.cf</EM> command[5]lists those users thatare <EMCLASS="emphasis">trusted</EM> to override the <CODECLASS="literal">From:</CODE> address in a mailmessage. All other users have a warning included in the mail message header.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[5] The <CODECLASS="literal">T</CODE> command was ignored from versions V8.1 through V8.6 and restored under V8.7.With V8.7 it is actually implemented as the class <CODECLASS="literal">$=t</CODE>.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Troot daemon uucp</PRE></BLOCKQUOTE></P><PCLASS="para">This particular <CODECLASS="literal">T</CODE> <EMCLASS="emphasis">sendmail.cf</EM> command says that thereare three users who are to be considered trusted. They are<EMCLASS="emphasis">root</EM> (who is a god under UNIX), <EMCLASS="emphasis">daemon</EM> (<EMCLASS="emphasis">sendmail</EM> usually runs as the pseudo-user <EMCLASS="emphasis">daemon</EM>),and <EMCLASS="emphasis">uucp</EM> (necessary for UUCP softwareto work properly).Trusted users are introduced in <ACLASS="xref"HREF="ch14_01.htm"TITLE="Headers, Precedence, and Trust">Chapter 14</A>and detailed in<ACLASS="xref"HREF="ch22_01.htm"TITLE="Security">Chapter 22, <CITECLASS="chapter">Security</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-11">5.3.11 Keyed Databases</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3298"></A><ACLASS="indexterm"NAME="AUTOID-3301"></A><ACLASS="indexterm"NAME="AUTOID-3303"></A>Certain information, such as a list of UUCP hosts, is better maintainedoutside of the <EMCLASS="emphasis">sendmail.cf</EM> file. External databases (called <EMCLASS="emphasis">keyed</EM> databases) provide fasteraccess to such information. Keyed databases were introduced with V8.6 andcome in several forms, the nature and location of which are declaredwith the <CODECLASS="literal">K</CODE> configuration command:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Kuucp hash /etc/mail/uucphosts</PRE></BLOCKQUOTE></P><PCLASS="para">This particular <CODECLASS="literal">K</CODE> command declares a database with thesymbolic name <CODECLASS="literal">uucp</CODE>, with the type <CODECLASS="literal">hash</CODE>, locatedin <EMCLASS="emphasis">/etc/mail/uucphosts</EM>. The <CODECLASS="literal">K</CODE> commandis detailed and the types of databases are explained, in<ACLASS="xref"HREF="ch33_01.htm"TITLE="Database Macros">Chapter 33, <CITECLASS="chapter">Database Macros</CITE></A>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-5-SECT-3-12">5.3.12 Environment variables</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-3321"></A><ACLASS="indexterm"NAME="AUTOID-3323"></A><ACLASS="indexterm"NAME="AUTOID-3326"></A>The <EMCLASS="emphasis">sendmail</EM> program is ultraparanoid about security. One wayto circumvent security with <EMCLASS="emphasis">suid</EM> programs like <EMCLASS="emphasis">sendmail</EM> isby running them with bogus environmental variables. To prevent suchan end run, V8 <EMCLASS="emphasis">sendmail</EM> erases all its environment variableswhen it starts. It then presets the values for a small setof variables (such as TZ and SYSTYPE). This small, safe environmentis then passed to its delivery agents.Beginning with <CODECLASS="literal">V8.7</CODE> <EMCLASS="emphasis">sendmail</EM>,sites that wish to augment this list may do so with the <CODECLASS="literal">E</CODE>configuration command.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">EPOSTGRESHOME=/home/postgres</PRE></BLOCKQUOTE></P><PCLASS="para">Here, the environment variable POSTGRESHOME is assigned the value<EMCLASS="emphasis">/home/postgres</EM>. This allows programs to use the <EMCLASS="emphasis">postgres</EM>(1)database to access information.The <CODECLASS="literal">E</CODE> command is detailed in <ACLASS="xref"HREF="ch22_01.htm"TITLE="Security">Chapter 22</A>.<ACLASS="indexterm"NAME="AUTOID-3343"></A><ACLASS="indexterm"NAME="AUTOID-3344"></A><ACLASS="indexterm"NAME="AUTOID-3345"></A>&#13;</P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_02.htm"TITLE="5.2 The Minimal File"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.2 The Minimal File"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_04.htm"TITLE="5.4 Things to Try"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.4 Things to Try"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">5.2 The Minimal File</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">5.4 Things to Try</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>