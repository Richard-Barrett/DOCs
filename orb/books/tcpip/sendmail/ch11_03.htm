<HTML><HEAD><TITLE>[Chapter 11] 11.3 All Mail from the Hub</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:36:36Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch11_01.htm"TITLE="11. Rule Sets 1 and S="><LINKREL="prev"HREF="ch11_02.htm"TITLE="11.2 Rule Set S="><LINKREL="next"HREF="ch11_04.htm"TITLE="11.4 Rule Set Hubset"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch11_02.htm"TITLE="11.2 Rule Set S="><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 11.2 Rule Set S="BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 11<BR>Rule Sets 1 and S=</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch11_04.htm"TITLE="11.4 Rule Set Hubset"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 11.4 Rule Set Hubset"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-11-SECT-3">11.3 All Mail from the Hub</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-6084"></A>Recall that one purpose of <EMCLASS="emphasis">client.cf</EM> isto make all messages appear to originate from the hub. The purposeof a rule set <CODECLASS="literal">Hubset</CODE> is to rewrite the sender's addressso that the mail message always appears to originatefrom the hub machine.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">From: user@client        <ICLASS="lineannotation"><IMGSRC="../chars/darr.gif"ALT="-v"></I>      <ICLASS="lineannotation">becomes</I>        <ICLASS="lineannotation"><IMGSRC="../chars/darr.gif"ALT="-v"></I>From: user@hub</PRE></BLOCKQUOTE></P><PCLASS="para">This could be done by rule set 3, but that wouldaffect all addresses, both recipient and sender, which isnot appropriate. Mail should not appear to be both <EMCLASS="emphasis">to andfrom</EM> the hub, but should appearto be only <EMCLASS="emphasis">from</EM> the hub.It could also be done in rule set 1 (which wewill cover soon), but thatwould affect all sender addresses. You don't want to rewriteall sender addresses, just those that are being sent through the hub.You may someday want to use <CODECLASS="literal">prog</CODE>or <CODECLASS="literal">local</CODE> delivery agents, and the sender's address should be left unchanged for them.&#13;</P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch11_02.htm"TITLE="11.2 Rule Set S="><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 11.2 Rule Set S="BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch11_04.htm"TITLE="11.4 Rule Set Hubset"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 11.4 Rule Set Hubset"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">11.2 Rule Set S=</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">11.4 Rule Set Hubset</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>