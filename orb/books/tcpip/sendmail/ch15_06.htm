<HTML><HEAD><TITLE>[Chapter 15] 15.6 Install the client.cf File</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T18:39:29Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch15_01.htm"TITLE="15. Install and Test the client.cf File"><LINKREL="prev"HREF="ch15_05.htm"TITLE="15.5 Prevent the Daemon from Running"><LINKREL="next"HREF="ch15_07.htm"TITLE="15.7 Things to Try"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch15_05.htm"TITLE="15.5 Prevent the Daemon from Running"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 15.5 Prevent the Daemon from Running"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 15<BR>Install and Test the client.cf File</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch15_07.htm"TITLE="15.7 Things to Try"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 15.7 Things to Try"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-15-SECT-6">15.6 Install the client.cf File</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-8702"></A><ACLASS="indexterm"NAME="AUTOID-8705"></A>At last! All the pieces are in place, and you can install the <EMCLASS="emphasis">client.cf</EM>file as the official system configuration file.</P><PCLASS="para">As we explained when we began developing the <EMCLASS="emphasis">client.cf</EM> file,you should not type it in yourself. The pieces that we developed werestrictly instructional and should not be used as is. Instead,you should bear with us for the rest of the tutorial chapters.In the next chapter you are shown how to generate a full-fledgedconfiguration file. If you have been typing in <EMCLASS="emphasis">client.cf</EM> allalong, you can use it here. If you waited, you should skip tothe next chapter, then return here.</P><PCLASS="para">Just to be safe,once you have obtained, tuned, and tested a <EMCLASS="emphasis">client.cf</EM> file,make a backup copy of the system configuration file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>cp /etc/sendmail.cf /etc/sendmail.cf.orig</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">#</CODE> prompt indicates that you are doing this as <EMCLASS="emphasis">root</EM>.Next, overwrite the system configuration file with the new <EMCLASS="emphasis">client.cf</EM>file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>cp ./client.cf /etc/sendmail.cf</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Now that the <EMCLASS="emphasis">client.cf</EM> file is in place as your system configuration file,you need to kill and restart the <EMCLASS="emphasis">sendmail</EM> daemon. Review <ACLASS="xref"HREF="ch04_01.htm#SML2-CH-4-SECT-1-1"TITLE="Daemon Mode (-bd)">Section 4.1.1, "Daemon Mode (-bd)"</A>if you have forgotten how to do this. Remember, when you restart it, that you arenow starting it in queue-processing mode as shown in the previous section.Here is how we kill and restart <EMCLASS="emphasis">sendmail</EM> for version 8.7:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>kill -HUP `head -1 /etc/sendmail.pid`</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">That's all there is to it. From now on, any mail that is sent from yourmachine will result in <EMCLASS="emphasis">sendmail</EM> using your configurationfile in place of the original.</P><PCLASS="para">Once again, it is important to test your configuration file. Send mail to yourself andothers using your favorite MUA. Examine the results (especiallythe header information), and ask others to do so too.If anything is amiss, first try to fix the new configuration file.If that fails, put the saved original back as the system configurationfile until you can solve the problem.</P><PCLASS="para">Some problems will doubtless require expertise beyond that providedin this tutorial. For those, you will need to take on the referencechapters. This will be even more necessary if youare managing a hub machine or if you want mail delivered locally.&#13;</P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch15_05.htm"TITLE="15.5 Prevent the Daemon from Running"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 15.5 Prevent the Daemon from Running"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch15_07.htm"TITLE="15.7 Things to Try"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 15.7 Things to Try"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">15.5 Prevent the Daemon from Running</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">15.7 Things to Try</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>