<HTML><HEAD><TITLE>[Chapter 25] Mailing Lists and ~/.forward</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T19:39:05Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="part03.htm"TITLE="III. Administration"><LINKREL="prev"HREF="ch24_07.htm"TITLE="24.7 Pitfalls"><LINKREL="next"HREF="ch25_02.htm"TITLE="25.2 :include: Mailing Lists"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch24_07.htm"TITLE="24.7 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 24.7 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 25</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch25_02.htm"TITLE="25.2 :include: Mailing Lists"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 25.2 :include: Mailing Lists"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="SML2-CH-25">25. Mailing Lists and ~/.forward</A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="sect1"HREF="#SML2-CH-25-SECT-1"TITLE="25.1 Internal Mailing Lists">Internal Mailing Lists</A><BR><ACLASS="sect1"HREF="ch25_02.htm"TITLE="25.2 :include: Mailing Lists">:include: Mailing Lists</A><BR><ACLASS="sect1"HREF="ch25_03.htm"TITLE="25.3 Defining a Mailing List Owner">Defining a Mailing List Owner</A><BR><ACLASS="sect1"HREF="ch25_04.htm"TITLE="25.4 Exploder Mailing Lists">Exploder Mailing Lists</A><BR><ACLASS="sect1"HREF="ch25_05.htm"TITLE="25.5 Problems with Mailing Lists">Problems with Mailing Lists</A><BR><ACLASS="sect1"HREF="ch25_06.htm"TITLE="25.6 Packages That Help">Packages That Help</A><BR><ACLASS="sect1"HREF="ch25_07.htm"TITLE="25.7 The User's ~/.forward File">The User's ~/.forward File</A><BR><ACLASS="sect1"HREF="ch25_08.htm"TITLE="25.8 Pitfalls">Pitfalls</A></P><P></P></DIV><PCLASS="para"></P><PCLASS="para">As was shown in the previous chapter, the <EMCLASS="emphasis">sendmail</EM> program isable to obtain its list of recipients from the <EMCLASS="emphasis">aliases</EM> file.It can also obtain lists of recipients from external files.In this chapter we will examine the two forms that thoseexternal files take: the <CODECLASS="literal">:include:</CODE> form (accessed from the<EMCLASS="emphasis">aliases</EM> file) and the individual user's <EMCLASS="emphasis">~/.forward</EM>file.Since the chief use of the <CODECLASS="literal">:include:</CODE> form of alias is to create&amp;<EMCLASS="emphasis">mailing lists</EM>, we will first discuss mailing listsin general, then their creation and management, and then the user's<EMCLASS="emphasis">~/.forward</EM> file.</P><PCLASS="para">A mailing list is the name of a single recipient that, whenexpanded by <EMCLASS="emphasis">sendmail</EM> aliasing, becomes a list of manyrecipients. Mailing lists can be internal (in which all recipientsare listed in the <EMCLASS="emphasis">aliases</EM> file), external (in which all recipientsare listed in external files), or a combination of the two.The list of recipients that forms a mailing list can includeusers, programs, and files.</P><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-25-SECT-1">25.1 Internal Mailing Lists</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-25-IX-INTERNAL-MAILING-LISTS"></A><ACLASS="indexterm"NAME="SML2-CH-25-IX-MAILING-LISTS-INTERNAL"></A><ACLASS="indexterm"NAME="SML2-CH-25-IX-ALIASING-INTERNAL-MAILING-LISTS"></A>An internal mailing list is simply an entry inthe <EMCLASS="emphasis">aliases</EM> file that has more than one recipientlisted on the right-hand side. Consider, for example,the following <EMCLASS="emphasis">aliases</EM> file entries:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">admin:  bob,jim,philbob:    \bob,/u/bob/admin/maillog</PRE></BLOCKQUOTE></P><PCLASS="para">Here, the name <CODECLASS="literal">admin</CODE> is actually the name of a mailing list,because it expands to more than one recipient. Similarly, thename <CODECLASS="literal">bob</CODE> is a mailing list, because it expands to tworecipients. Since <CODECLASS="literal">bob</CODE> is also included in the <CODECLASS="literal">admin</CODE>list,mail sent to that mailing list will be alias-expandedby <EMCLASS="emphasis">sendmail</EM> to produce the following listof recipients:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">jim, phil, \bob, /u/bob/admin/maillog</PRE></BLOCKQUOTE></P><PCLASS="para">This causes the mail message to be delivered to the localusers <CODECLASS="literal">jim</CODE> and <CODECLASS="literal">phil</CODE> in the normal way. That is, each undergoes additional alias processing,and the <EMCLASS="emphasis">~/.forward</EM> file of each is examined tosee whether either should be forwarded.The recipient <CODECLASS="literal">\bob</CODE>, on the other hand,is delivered without any further aliasing because of the leadingbackslash.Finally, the message is appended to the file <EMCLASS="emphasis">/u/bob/admin/maillog</EM>.</P><PCLASS="para">Internal mailing lists can become very complex as they striveto support the needs of large institutions. Examine the following simple,but revealing, example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">research:     user1, user2applications: user3, user4admin:        user5, user6advertising:  user7, user8engineering:  research, applicationsfrontoffice:  admin, advertisingeveryone:     engineering, frontoffice</PRE></BLOCKQUOTE></P><PCLASS="para">Only the first four aliases above expand to real usernames. Thelast three form mailing lists out of combinations of those four,the last being a superset that includes all users.</P><PCLASS="para">When the number of mailing lists is small and they don't change often,they can be effectively managed as part ofthe <EMCLASS="emphasis">aliases</EM> file. But as their number and size grow,you should consider moving individual lists to external files.[1]<ACLASS="indexterm"NAME="AUTOID-23395"></A><ACLASS="indexterm"NAME="AUTOID-23396"></A><ACLASS="indexterm"NAME="AUTOID-23397"></A></P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[1] Only <EMCLASS="emphasis">root</EM> should be permitted to write to the <EMCLASS="emphasis">aliases</EM> file.If you keep mailing lists inside that file, it may need to bewritable by others. This can create a security breach(see <ACLASS="xref"HREF="ch22_05.htm#SML2-CH-22-SECT-5-4"TITLE="Recommended Permissions">Section 22.5.4, "Recommended Permissions"</A>).</P></BLOCKQUOTE></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch24_07.htm"TITLE="24.7 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 24.7 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch25_02.htm"TITLE="25.2 :include: Mailing Lists"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 25.2 :include: Mailing Lists"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">24.7 Pitfalls</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">25.2 :include: Mailing Lists</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>