<HTML><HEAD><TITLE>[Chapter 27] 27.5 The V Configuration Command</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T19:49:50Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch27_01.htm"TITLE="27. The Configuration File"><LINKREL="prev"HREF="ch27_04.htm"TITLE="27.4 Continuation Lines"><LINKREL="next"HREF="ch27_06.htm"TITLE="27.6 Pitfalls"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_04.htm"TITLE="27.4 Continuation Lines"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 27.4 Continuation Lines"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 27<BR>The Configuration File</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_06.htm"TITLE="27.6 Pitfalls"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 27.6 Pitfalls"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-27-SECT-5">27.5 The V Configuration Command</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-27-IX-V-CONFIGURATION-COMMAND"></A><ACLASS="indexterm"NAME="SML2-CH-27-IX-VERSION-SENDMAIL"></A><ACLASS="indexterm"NAME="SML2-CH-27-IX-COMPATIBILITY-BETWEEN-SENDMAIL-VERSIONS"></A>The <CODECLASS="literal">V</CODE> configuration command was added to V8 <EMCLASS="emphasis">sendmail</EM>to prevent old versions of configuration files from breaking whenused with V8 <EMCLASS="emphasis">sendmail</EM>. The syntax for the <CODECLASS="literal">V</CODE> configurationcommand looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">V<CODECLASS="replaceable"><I>level                 </I></CODE><ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> V8.1 and above</I>V<CODECLASS="replaceable"><I>level/vendor          </I></CODE><ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> V8.6 and above</I></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-25907"></A>Here, <CODECLASS="replaceable"><I>level</I></CODE> is a positive integer, and <CODECLASS="literal">/vendor</CODE> isa string. We will cover the vendor part soon.</P><PCLASS="para">If <CODECLASS="replaceable"><I>level</I></CODE> is higher thanthe maximum allowed for the current version,<EMCLASS="emphasis">sendmail</EM> prints the following warning and accepts thevalue:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Warning: .cf version level (<ICLASS="lineannotation">lev</I>) exceeds program functionality (<ICLASS="lineannotation">max</I>)</PRE></BLOCKQUOTE></P><PCLASS="para">If <CODECLASS="replaceable"><I>level</I></CODE> is less than 0 or if the <CODECLASS="literal">V</CODE> configurationcommand is omitted, the default <CODECLASS="replaceable"><I>level</I></CODE> is 0.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-25925"></A><ACLASS="indexterm"NAME="AUTOID-25928"></A>The effects of the various version levels are relatively minor.As <EMCLASS="emphasis">sendmail</EM> continues to develop, they may become more pronounced.Currently, the version levels are as follows:</P><DLCLASS="variablelist"><DTCLASS="term"><EMCLASS="emphasis">0</EM></DT><DDCLASS="listitem"><PCLASS="para">The check for a valid shell in <EMCLASS="emphasis">/etc/shells</EM> is ignored(see <ACLASS="xref"HREF="ch22_08.htm#SML2-CH-22-SECT-8-4"TITLE="The /etc/shells file">Section 22.8.4, "The /etc/shells file"</A>).&#13;</P></DD><DTCLASS="term"><EMCLASS="emphasis">0-1</EM></DT><DDCLASS="listitem"><PCLASS="para">MX records are looked up with the RES_DEFNAMES andRES_DNSRCH cleared.The high bit is always stripped from the body of every mail message.</P></DD><DTCLASS="term"><EMCLASS="emphasis">2+</EM></DT><DDCLASS="listitem"><PCLASS="para">The <EMCLASS="emphasis">sendmail</EM> program automatically adds a <CODECLASS="literal">-a.</CODE>to the &quot;<CODECLASS="literal">host host</CODE>&quot; mapif that map isn't declared in the configuration file.RES_DEFNAMES and RES_DNSRCH are not turned off as they were forolder versions.Rule set 5 behavior is enabled.</P></DD><DTCLASS="term"><EMCLASS="emphasis">0-2</EM></DT><DDCLASS="listitem"><PCLASS="para">Set <CODECLASS="literal">UseErrorsTo</CODE> (<CODECLASS="literal">l</CODE>) option(see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-74"TITLE="">Section 34.8.74, UseErrorsTo (l)</A>) to true automatically.</P></DD><DTCLASS="term"><EMCLASS="emphasis">2+</EM></DT><DDCLASS="listitem"><PCLASS="para">Automaticallysets the <CODECLASS="literal">$w</CODE> macro to be the short name instead of thefully qualified local hostname (<CODECLASS="literal">$j</CODE> still containsthe fully qualified name and <CODECLASS="literal">$m</CODE> the local domain).</P></DD><DTCLASS="term"><EMCLASS="emphasis">3+</EM></DT><DDCLASS="listitem"><PCLASS="para">You may use the new-style comments.</P></DD><DTCLASS="term"><EMCLASS="emphasis">0-5</EM></DT><DDCLASS="listitem"><PCLASS="para">For V8.7 and above <EMCLASS="emphasis">sendmail</EM>, level 5 or lower causes the <CODECLASS="literal">F=5Aw:|/@</CODE>flags to automatically be set for the <CODECLASS="literal">local</CODE> deliver agent and the<CODECLASS="literal">F=o</CODE> flag to automatically be set for the <CODECLASS="literal">prog</CODE> and <CODECLASS="literal">*file*</CODE>delivery agents.</P></DD><DTCLASS="term"><EMCLASS="emphasis">0-5</EM></DT><DDCLASS="listitem"><PCLASS="para">Looking up MX records with<CODECLASS="literal">HasWildcardMX</CODE> listed with the <CODECLASS="literal">ResolverOptions</CODE> (<CODECLASS="literal">I</CODE>)option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-55"TITLE="">Section 34.8.55, ResolverOptions (I)</A>), causes RES_QUERYto be used in place of RES_SEARCH.Default the <CODECLASS="literal">ColonOkInAddr</CODE> option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-9"TITLE="">Section 34.8.9, ColonOkInAddr</A>)to false.</P></DD><DTCLASS="term"><EMCLASS="emphasis">0-6</EM></DT><DDCLASS="listitem"><PCLASS="para">Set the <CODECLASS="literal">SmtpGreetingMessage</CODE>option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-65"TITLE="">Section 34.8.65, SmtpGreetingMessage or $e</A>) with the value of <CODECLASS="literal">$e</CODE> if <CODECLASS="literal">$e</CODE>has a value.Set the <CODECLASS="literal">OperatorChars</CODE> option(see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-45"TITLE="">Section 34.8.45, OperatorChars or $o</A>) with the value of <CODECLASS="literal">$o</CODE> if <CODECLASS="literal">$o</CODE>has a value. Beginning with V8.8 <EMCLASS="emphasis">sendmail</EM>, a level of 6 or less causes the<CODECLASS="literal">F=q</CODE> flag (see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-36"TITLE="">Section 30.8.36, F=q</A>) for the <CODECLASS="literal">local</CODE>, <CODECLASS="literal">prog</CODE>, and <CODECLASS="literal">*file*</CODE> delivery agents to be automatically set.</P></DD><DTCLASS="term"><EMCLASS="emphasis">7</EM></DT><DDCLASS="listitem"><PCLASS="para">As of V8.8, the current version.&#13;</P></DD></DL><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-27-SECT-5-1">27.5.1 The vendor</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-26022"></A><ACLASS="indexterm"NAME="AUTOID-26024"></A>Beginning with V8.6 <EMCLASS="emphasis">sendmail</EM>, the <CODECLASS="replaceable"><I>level</I></CODE> for the versioncommand can be followed by the identity of the vendor.The form of that declaration looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">V<CODECLASS="replaceable"><I>level/vendor          </I></CODE><ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> V8.6 and above</I></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">/</CODE> must immediately follow the <CODECLASS="replaceable"><I>level</I></CODE> with no interveningspace.  There may be arbitrary space between the <CODECLASS="literal">/</CODE> and the<CODECLASS="replaceable"><I>vendor</I></CODE>.The string that is the vendor specification may either be one of the following:</P><DLCLASS="variablelist"><DTCLASS="term"><EMCLASS="emphasis">Berkeley</EM></DT><ACLASS="indexterm"NAME="AUTOID-26042"></A><DDCLASS="listitem"><PCLASS="para">This is a configuration file based on the BSD distribution and is the one youget when you build and install from the source.As of V8.8, this declaration does nothing. If you use this configuration filewith another vendor's version of <EMCLASS="emphasis">sendmail</EM>, the <CODECLASS="literal">Berkeley</CODE> tellsthe other version that you are using a configuration file based on the BSDsource.</P></DD><DTCLASS="term"><EMCLASS="emphasis">Sun</EM></DT><ACLASS="indexterm"NAME="AUTOID-26051"></A><DDCLASS="listitem"><PCLASS="para">This is a configuration file intended for use with Sun's release of<EMCLASS="emphasis">sendmail</EM>. If it is declared and if you are running Sun's<EMCLASS="emphasis">sendmail</EM>, the enhancements documented in Appendix <ACLASS="xref"HREF="appd_01.htm"TITLE="Sun Enhancements">Appendix D, <CITECLASS="appendix">Sun Enhancements</CITE></A>, become available for your use.If you are not running Sun's <EMCLASS="emphasis">sendmail</EM>, an error is printed.</P></DD></DL><PCLASS="para">If any other string appears in the <CODECLASS="replaceable"><I>vendor</I></CODE> part, <EMCLASS="emphasis">sendmail</EM> willprint the following error and ignore that vendor declaration:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">invalid V line vendor code: <ICLASS="lineannotation">bad vendor name here</I></PRE></BLOCKQUOTE></P><PCLASS="para">Note that vendors other than those shown may have customized their<EMCLASS="emphasis">sendmail</EM> too, so this may not be a complete list.[3]<ACLASS="indexterm"NAME="AUTOID-26070"></A><ACLASS="indexterm"NAME="AUTOID-26071"></A><ACLASS="indexterm"NAME="AUTOID-26072"></A>&#13;</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[3] Vendors that enhance their sendmail are <EMCLASS="emphasis">strongly</EM> encouraged touse a new vendor code.</P></BLOCKQUOTE></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_04.htm"TITLE="27.4 Continuation Lines"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 27.4 Continuation Lines"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_06.htm"TITLE="27.6 Pitfalls"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 27.6 Pitfalls"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">27.4 Continuation Lines</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">27.6 Pitfalls</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>