<HTML><HEAD><TITLE>[Chapter 28] 28.3 The Workspace</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T19:50:15Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch28_01.htm"TITLE="28. Rules"><LINKREL="prev"HREF="ch28_02.htm"TITLE="28.2 Tokenizing Rules"><LINKREL="next"HREF="ch28_04.htm"TITLE="28.4 The Behavior of a Rule"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch28_02.htm"TITLE="28.2 Tokenizing Rules"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 28.2 Tokenizing Rules"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 28<BR>Rules</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch28_04.htm"TITLE="28.4 The Behavior of a Rule"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 28.4 The Behavior of a Rule"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-28-SECT-3">28.3 The Workspace</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-26426"></A><ACLASS="indexterm"NAME="AUTOID-26428"></A><ACLASS="indexterm"NAME="AUTOID-26431"></A>As was mentioned, rules exist to rewrite addresses. We won't coverthe reasons this rewriting needs to be done just yet but will insteadconcentrate on the general behavior of rewriting.</P><PCLASS="para">Before any rulesare called to perform rewriting, a temporary buffer calledthe &amp;&quot;workspace&quot; is created. The address to be rewrittenis then tokenized and placed into that workspace.The process of tokenizing addresses in the workspace is exactlythe same as the tokenizing of rules that you saw before:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">gw@wash.dc.gov    <EMCLASS="emphasis">becomes <IMGSRC="../chars/rarr.gif"ALT="-&gt;">  gw  @  wash  .  dc  . gov</EM></PRE></BLOCKQUOTE></P><PCLASS="para">Here, the tokenizing characters defined by the <CODECLASS="literal">OperatorChars</CODE> (pre-V8.7, <CODECLASS="literal">$o</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-45"TITLE="">Section 34.8.45</A>)and those defined internally by <EMCLASS="emphasis">sendmail</EM> caused the address to bebroken into seven tokens.The process of rewriting changes the tokens in the workspace:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">		<ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> workspace is </I>&quot;gw&quot; &quot;@&quot; &quot;wash&quot; &quot;.&quot; &quot;dc&quot; &quot;.&quot; &quot;gov&quot;R<ICLASS="lineannotation">lhs</I> <ICLASS="lineannotation">rhs</I>R<ICLASS="lineannotation">lhs</I> <ICLASS="lineannotation">rhs</I>		<ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules rewrite the workspace</I>R<ICLASS="lineannotation">lhs</I> <ICLASS="lineannotation">rhs</I>		<ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> workspace is </I>&quot;gw&quot; &quot;.&quot; &quot;LOCAL&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">Here, the workspace began with seven tokens. The three hypotheticalrules recognized that this was a local address (in tokenform) and rewrote it so that it became three tokens.</P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch28_02.htm"TITLE="28.2 Tokenizing Rules"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 28.2 Tokenizing Rules"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch28_04.htm"TITLE="28.4 The Behavior of a Rule"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 28.4 The Behavior of a Rule"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">28.2 Tokenizing Rules</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">28.4 The Behavior of a Rule</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>