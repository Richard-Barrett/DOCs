<HTML><HEAD><TITLE>[Chapter 28] 28.7 Pitfalls</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T19:51:02Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch28_01.htm"TITLE="28. Rules"><LINKREL="prev"HREF="ch28_06.htm"TITLE="28.6 The RHS"><LINKREL="next"HREF="ch29_01.htm"TITLE="29. Rule Sets"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch28_06.htm"TITLE="28.6 The RHS"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 28.6 The RHS"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 28<BR>Rules</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch29_01.htm"TITLE="29. Rule Sets"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 29. Rule Sets"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-28-SECT-7">28.7 Pitfalls</A></H2><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Any text following a rule-set number in a <CODECLASS="literal">$&gt;</CODE> expressionin the <SPANCLASS="acronym">RHS</SPAN> should be separated from the expression with a space.If the space is absent and the text is other than a separatingcharacter or an operator, the text is ignored. For example,in <CODECLASS="literal">$&gt;22xxx</CODE>, the <CODECLASS="literal">xxx</CODE> is ignored.&#13;</P></LI><LICLASS="listitem"><PCLASS="para">Because rules are processed like addresses when the configurationfile is read, they can silently change from what was intended if they areparenthesized or if other nonaddress components are used.&#13;</P></LI><LICLASS="listitem"><PCLASS="para">Copying rules between screen windows can cause tabs to invisibly becomespaces, leading to rule failure.&#13;</P></LI><LICLASS="listitem"><PCLASS="para">A lone <CODECLASS="literal">$*</CODE> in the <SPANCLASS="acronym">LHS</SPAN> is especially dangerous. It canlead to endless rule looping and cause all rules that follow it to be ignored (remember the <CODECLASS="literal">$:</CODE> and <CODECLASS="literal">$@</CODE>prefixes in the <SPANCLASS="acronym">RHS</SPAN>).&#13;</P></LI><LICLASS="listitem"><PCLASS="para">Failure to test new rules can bring a site to its knees. A floodof bounced mail messages can run up the load on a machine andpossibly even require a reboot. <EMCLASS="emphasis">Always</EM> test everynew rule both with <CODECLASS="literal">-bt</CODE> (testing) mode (see <ACLASS="xref"HREF="ch38_08.htm"TITLE="Batch Rule-Set Testing">Section 38.8, "Batch Rule-Set Testing"</A>).and selected <CODECLASS="literal">-d</CODE> (debugging) switches (see <ACLASS="xref"HREF="ch37_05.htm#SML2-CH-37-TAB-1"TITLE="Debugging Switches by Category">Table 37.2</A> in <ACLASS="xref"HREF="ch37_05.htm"TITLE="Reference in Numerical Order">Section 37.5, "Reference in Numerical Order"</A>).</P></LI></UL><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-27334"></A></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch28_06.htm"TITLE="28.6 The RHS"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 28.6 The RHS"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch29_01.htm"TITLE="29. Rule Sets"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 29. Rule Sets"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">28.6 The RHS</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">29. Rule Sets</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>