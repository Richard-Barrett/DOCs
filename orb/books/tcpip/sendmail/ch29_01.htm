<HTML><HEAD><TITLE>[Chapter 29] Rule Sets</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T19:51:09Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="part04.htm"TITLE="IV. Reference"><LINKREL="prev"HREF="ch28_07.htm"TITLE="28.7 Pitfalls"><LINKREL="next"HREF="ch29_02.htm"TITLE="29.2 Rule Sets and m4"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch28_07.htm"TITLE="28.7 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 28.7 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 29</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch29_02.htm"TITLE="29.2 Rule Sets and m4"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 29.2 Rule Sets and m4"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="SML2-CH-29">29. Rule Sets</A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="sect1"HREF="#SML2-CH-29-SECT-1"TITLE="29.1 The S Configuration Command">The S Configuration Command</A><BR><ACLASS="sect1"HREF="ch29_02.htm"TITLE="29.2 Rule Sets and m4">Rule Sets and m4</A><BR><ACLASS="sect1"HREF="ch29_03.htm"TITLE="29.3 The Sequence of Rule Sets">The Sequence of Rule Sets</A><BR><ACLASS="sect1"HREF="ch29_04.htm"TITLE="29.4 Rule Set 3">Rule Set 3</A><BR><ACLASS="sect1"HREF="ch29_05.htm"TITLE="29.5 Rule Set 4">Rule Set 4</A><BR><ACLASS="sect1"HREF="ch29_06.htm"TITLE="29.6 Rule Set 0">Rule Set 0</A><BR><ACLASS="sect1"HREF="ch29_07.htm"TITLE="29.7 Rule Set 5">Rule Set 5</A><BR><ACLASS="sect1"HREF="ch29_08.htm"TITLE="29.8 Rule Set 2">Rule Set 2</A><BR><ACLASS="sect1"HREF="ch29_09.htm"TITLE="29.9 Rule Set 1">Rule Set 1</A><BR><ACLASS="sect1"HREF="ch29_10.htm"TITLE="29.10 The check_... Rule Sets">The check_... Rule Sets</A><BR><ACLASS="sect1"HREF="ch29_11.htm"TITLE="29.11 Pitfalls">Pitfalls</A></P><P></P></DIV><PCLASS="para"></P><PCLASS="para">Rule sets in the configuration file, like subroutines in a program,control the sequence of steps <EMCLASS="emphasis">sendmail</EM> uses to rewriteaddresses. Inside each rule set is a series of zero or more individualrules.<ACLASS="indexterm"NAME="SML2-CH-29-IX-RULE-SETS"></A>Rules are used to select the appropriate delivery agent forany particular address, to detect and reject addressing errors,and to transform addresses to meet particular needs.</P><PCLASS="para">In this chapter we will cover all aspects of rule sets,showing that rule sets are called in particular ordersand explaining why this is so.</P><PCLASS="para">We will explain many of the rules that typically appearin rule sets.But be forewarned: The examples of rules in this chapter areexplanatory only. Your <EMCLASS="emphasis">sendmail.cf</EM> file is likely to haverules that are somewhat different from these examples. Copying or usingthese examples, without first understanding the underlying principles,can cause email to begin to fail.&#13;</P><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-29-SECT-1">29.1 The S Configuration Command</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-29-IX-S-CONFIGURATION-COMMAND"></A>The <CODECLASS="literal">S</CODE> configuration command declares the start ofa rule set. It is perhaps the simplest of all configurationcommands and looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S<CODECLASS="replaceable"><I>ident</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">S</CODE>, like all configuration commands, must begin theline. The <CODECLASS="replaceable"><I>ident</I></CODE> identifies the rule set. There maybe whitespace between the <CODECLASS="literal">S</CODE> and the <CODECLASS="replaceable"><I>ident</I></CODE>.If the <CODECLASS="replaceable"><I>ident</I></CODE> is missing, <EMCLASS="emphasis">sendmail</EM> prints the followingerror message and skips that particular rule set declaration:<ACLASS="indexterm"NAME="AUTOID-27361"></A></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">/etc/sendmail.cf: line <CODECLASS="replaceable"><I>num</I></CODE>: invalid ruleset name: &quot;&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">Prior to V8.7 <EMCLASS="emphasis">sendmail</EM> the <CODECLASS="replaceable"><I>ident</I></CODE> could only benumeric. Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM> the <CODECLASS="replaceable"><I>ident</I></CODE>may be numeric or alphanumeric. We cover the old form first, thenthe new.&#13;</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-29-SECT-1-1">29.1.1 Rule-Set Numbers</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-27374"></A><ACLASS="indexterm"NAME="AUTOID-27377"></A><ACLASS="indexterm"NAME="AUTOID-27380"></A>Prior to V8.7 <EMCLASS="emphasis">sendmail</EM>, rule sets could be identified only by numbers.When a rule set is declaredwith an integer, that integer is taken to be the numeric identity of the rule set:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S<CODECLASS="replaceable"><I>#</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="literal">#</CODE> is an integer such as 23.If the <CODECLASS="literal">#</CODE> is greater than half[1]the maximumnumber of rule sets allowed (MAXRWSETS in <EMCLASS="emphasis">conf.h</EM>) or is negative,<EMCLASS="emphasis">sendmail</EM> <EMCLASS="emphasis">syslog</EM>(3)'s the following error messageat the level LOG_CRIT and defaults the rule set to 0:</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[1] The reason for this will become clear shortly.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">bad ruleset <CODECLASS="replaceable"><I>#</I></CODE> (<CODECLASS="replaceable"><I>n</I></CODE> max)</PRE></BLOCKQUOTE></P><PCLASS="para">Here, the <CODECLASS="literal">#</CODE> is the bad rule-set number from the configurationfile, and <CODECLASS="replaceable"><I>n</I></CODE> is the maximum allowable rule-set number(the value of MAXRWSETS/2). By default, the maximum value for <CODECLASS="literal">#</CODE> is 99.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-29-SECT-1-2">29.1.2 Rule-Set Names</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-29-IX-NAMES-RULE-SET"></A>Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>, rule sets may be declared withnumbers (as above) or with more meaningful names. The form fora rule-set name declaration looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S<CODECLASS="replaceable"><I>name</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The name may contain only ASCII alphanumeric characters andthe underscore character. Any bad character causes that characterand the characters following it to be silently ignored:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">My_rule            <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> good</I>My rule            <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> bad, name is ``My''</I></PRE></BLOCKQUOTE></P><PCLASS="para">Case is recognized; that is, <CODECLASS="literal">Myrule</CODE> and <CODECLASS="literal">MYRULE</CODE> aredifferent names.You may use any name that begins with an uppercase letter.Names that begin with a lowercase letter or an underscorecharacter are reserved for internal use by <EMCLASS="emphasis">sendmail</EM>.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-27423"></A>There may be at most MAXRWSETS/2 named rule sets (whereMAXRWSETS is defined in <EMCLASS="emphasis">conf.h</EM>). Each rule set that is declaredbeyond that amount causes <EMCLASS="emphasis">sendmail</EM> to print the followingerror and ignore that rule-set declaration:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><ACLASS="indexterm"NAME="AUTOID-27429"></A><CODECLASS="replaceable"><I>name</I></CODE>: too many named rulesets (<CODECLASS="replaceable"><I>#</I></CODE> max)</PRE></BLOCKQUOTE></P><PCLASS="para">When you declare a rule set name, <EMCLASS="emphasis">sendmail</EM> associates a numberwith it. That number is selected by counting down from MAXRWSETS. That is,the first name is given the number MAXRWSETS-1, the second is given the numberMAXRWSETS-2, and so on.Named rule sets may be used anywhere that numbered rule sets can be used.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-29-SECT-1-3">29.1.3 Associate Number with Name</A></H3><PCLASS="para">When knowing the number associated with a named rule set is of importance, youcan associate a number with a name when the name is declared. Theform of such a combined declaration looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S<CODECLASS="replaceable"><I>name</I></CODE>=<CODECLASS="replaceable"><I>num</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, the rule set named <CODECLASS="replaceable"><I>name</I></CODE> is declared. Instead of <EMCLASS="emphasis">sendmail</EM>associating a number with it, you create the association by followingthe <CODECLASS="replaceable"><I>name</I></CODE> with an <CODECLASS="literal">=</CODE> character and then an integer <CODECLASS="replaceable"><I>num</I></CODE>.Arbitrary whitespace may surround the <CODECLASS="literal">=</CODE> character. If the integeris missing or non-numeric, <EMCLASS="emphasis">sendmail</EM> prints the following errorand skips that rule-set declaration:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><ACLASS="indexterm"NAME="AUTOID-27452"></A>/etc/sendmail.cf: line <CODECLASS="replaceable"><I>num</I></CODE>: bad ruleset definition &quot;<CODECLASS="replaceable"><I>bad</I></CODE>&quot; (number required after `=')</PRE></BLOCKQUOTE></P><PCLASS="para">Although it is ugly, different names may share the same number:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Sfoo=1Sfee=1</PRE></BLOCKQUOTE></P><PCLASS="para">However, the same name may not be given a different number. Consider thefollowing example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">SMyrule=1SMyrule=2</PRE></BLOCKQUOTE></P><PCLASS="para">This causes <EMCLASS="emphasis">sendmail</EM> to print the following error and skipthe second declaration:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">/etc/sendmail.cf: line <CODECLASS="replaceable"><I>num</I></CODE>: Myrule: ruleset changed value (old 1, new 2)</PRE></BLOCKQUOTE></P><PCLASS="para">Named rule sets have numbers associated with them when they first appear. If youuse a named rule set in an <CODECLASS="literal">S=</CODE> equate for a delivery agent and thenlater attempt to assign it a value, you will get an error like the above:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mprog, P=sh, ...., S=<CODECLASS="userinput"><B>Myrule</B></CODE>, ......S<CODECLASS="userinput"><B>Myrule</B></CODE>=2</PRE></BLOCKQUOTE></P><PCLASS="para">The solution is either to move the rule-set declaration (and its rules)so that they reside above the delivery agent declarationor to declare a numeric associationin the delivery agent declaration instead of in the rule-set declaration:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mprog, P=sh, ...., S=<CODECLASS="userinput"><B>Myrule=2</B></CODE>, ......S<CODECLASS="userinput"><B>Myrule</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">or to place just the <CODECLASS="literal">S</CODE> line above the delivery agent declarationand the rules, without the <CODECLASS="literal">=2</CODE>, below it:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S<CODECLASS="userinput"><B>Myrule=2</B></CODE>Mprog, P=sh, ...., S=<CODECLASS="userinput"><B>Myrule</B></CODE>, ......S<CODECLASS="userinput"><B>Myrule</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">In general, we recommend that you assign numbers to named rule setsonly if there is a genuine need.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-29-SECT-1-4">29.1.4 Macros in Rule-Set Names</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-27490"></A>Macros may be used in any or all of a part of a rule-set declaration.They may be used to declare a name:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D{NAME}mynameS${NAME}</PRE></BLOCKQUOTE></P><PCLASS="para">or to declare a number:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D{NUMBER}12S${NUMBER}</PRE></BLOCKQUOTE></P><PCLASS="para">or both a name and a number:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D{NAME}mynameD{NUMBER}12S${NAME}=${NUMBER}</PRE></BLOCKQUOTE></P><PCLASS="para">or even the whole thing:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D{SET}myset=12S${SET}</PRE></BLOCKQUOTE></P><PCLASS="para">You may use single- and multicharacter macros in any combination.Macros may be used in any rule-set declaration, includingsubroutine calls inside rules:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$* &lt; $=w &gt; $*       $@ $&gt;${NAME} $2</PRE></BLOCKQUOTE></P><PCLASS="para">But they may not be used in the <CODECLASS="literal">S=</CODE> or the <CODECLASS="literal">R=</CODE> of delivery agents:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mprog, P=sh, ..., S=$X, R=$X, ...                    <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>    <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                    <ICLASS="lineannotation">neither of these will work</I></PRE></BLOCKQUOTE></P><PCLASS="para">Macros can be used in the command line to modify a configuration filewhen <EMCLASS="emphasis">sendmail</EM> is run. Consider the desire to call one rule setwhen running as a daemon and anotherwhen processing the queue. You might declare such a rule like:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$* &lt; @ $+ &gt; $*     $@ $&gt;<CODECLASS="userinput"><B>$A</B></CODE> $2</PRE></BLOCKQUOTE></P><PCLASS="para">The two different runs might look like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># /usr/lib/sendmail -MAdaemon_rule -bd# /usr/lib/sendmail -MAqueue_rule -q30m</PRE></BLOCKQUOTE></P><PCLASS="para">The first defines the <CODECLASS="literal">$A</CODE> macro to have the value <CODECLASS="literal">daemon_rule</CODE> and resultsin this subroutine call:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$* &lt; @ $+ &gt; $*     $@ $&gt;<CODECLASS="userinput"><B>daemon_rule</B></CODE> $2</PRE></BLOCKQUOTE></P><PCLASS="para">The second defines the <CODECLASS="literal">$A</CODE> macro to have the value <CODECLASS="literal">queue_rule</CODE> and results in this different subroutine call:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$* &lt; @ $+ &gt; $*     $@ $&gt;<CODECLASS="userinput"><B>queue_rule</B></CODE> $2</PRE></BLOCKQUOTE></P><PCLASS="para">Note that you cannot define multi character macros from thecommand line. Also note that defining macros from the command linecan result in <EMCLASS="emphasis">sendmail</EM> giving up its <EMCLASS="emphasis">root</EM> privilege.<ACLASS="indexterm"NAME="AUTOID-27538"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-29-SECT-1-5">29.1.5 Rule Sets and Lists of Rules</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-27542"></A>All rules (<CODECLASS="literal">R</CODE> lines)that follow a rule-set declaration are added to and become partof that rule set:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S0R...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set 0</I>SMysetR...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set Myset</I>S1R...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set 1</I></PRE></BLOCKQUOTE></P><PCLASS="para">Rule sets need not be declared in any particular order. Anyorder that clarifies the intention of the configuration fileas a whole is acceptable. If a rule set appears more than oncein a configuration file, V8 <EMCLASS="emphasis">sendmail</EM> will print a warning:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">WARNING: Ruleset <CODECLASS="replaceable"><I>name</I></CODE> redefined                <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> Prior to V8.8</I>WARNING: Ruleset <CODECLASS="replaceable"><I>name</I></CODE> has multiple definitions <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> V8.8</I></PRE></BLOCKQUOTE></P><PCLASS="para">and append the new rules to the old:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S0R...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set 0</I>S2R...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set 2</I>S0            <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> warning issued</I>R...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules appended to earlier rule set 0</I></PRE></BLOCKQUOTE></P><PCLASS="para">Note that the warning is given in all cases prior to V8.8, but beginningwith V8.8, it is issued only in <CODECLASS="literal">-bt</CODE> rule-testing mode or ifthe <CODECLASS="literal">-d37.1</CODE> debugging switch is set.</P><PCLASS="para">Other configuration commands may be interspersed among rule definitionswithout affecting the rule set to which the rules are added:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S0R...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set 0</I>Pjunk=-100DUuucphost.our.domainR...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set 0</I></PRE></BLOCKQUOTE></P><PCLASS="para">Any rules that appear before the first <CODECLASS="literal">S</CODE> command areadded to rule set 0 by default:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set 0</I>S1            <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> first S command in configuration file</I>R...          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rules added to rule set 1</I></PRE></BLOCKQUOTE></P><PCLASS="para"></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-29-SECT-1-6">29.1.6 Odds and Ends</A></H3><PCLASS="para">Arbitrary text that follows a rule set declarationis ignored unless it appears to be part of the declaration:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S11 100 more rule sets     <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rule set 11</I>S11100 more rule sets      <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rule set 11,100 is illegal</I>SMyset 100 more rule sets  <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rule set Myset</I></PRE></BLOCKQUOTE></P><PCLASS="para">Although the first and last of the above examples work, we recommend thatyou use the <CODECLASS="literal">#</CODE> commenting mechanism instead:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S11 #100 more rule sets     <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rule set 11</I>S11#100 more rule sets      <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rule set 11</I>SMyset #100 more rule sets  <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rule set Myset</I></PRE></BLOCKQUOTE></P><PCLASS="para">A rule-set declaration that has no rules associated with itis exactly the same as a rule set that is not declared. Bothare like do-nothing subroutines:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">             <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rule set 1 not declared. Same as</I>S2           <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> rule set 2 without rules</I>S3R...</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-27602"></A></P></DIV></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch28_07.htm"TITLE="28.7 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 28.7 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch29_02.htm"TITLE="29.2 Rule Sets and m4"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 29.2 Rule Sets and m4"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">28.7 Pitfalls</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">29.2 Rule Sets and m4</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>