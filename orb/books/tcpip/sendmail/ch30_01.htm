<HTML><HEAD><TITLE>[Chapter 30] Delivery Agents</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T19:52:59Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="part04.htm"TITLE="IV. Reference"><LINKREL="prev"HREF="ch29_11.htm"TITLE="29.11 Pitfalls"><LINKREL="next"HREF="ch30_02.htm"TITLE="30.2 The Symbolic Name"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch29_11.htm"TITLE="29.11 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 29.11 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 30</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_02.htm"TITLE="30.2 The Symbolic Name"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.2 The Symbolic Name"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="SML2-CH-30">30. Delivery Agents</A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="sect1"HREF="#SML2-CH-30-SECT-1"TITLE="30.1 Configuration File Syntax">Configuration File Syntax</A><BR><ACLASS="sect1"HREF="ch30_02.htm"TITLE="30.2 The Symbolic Name">The Symbolic Name</A><BR><ACLASS="sect1"HREF="ch30_03.htm"TITLE="30.3 m4 Configuration Syntax">m4 Configuration Syntax</A><BR><ACLASS="sect1"HREF="ch30_04.htm"TITLE="30.4 The Equates">The Equates</A><BR><ACLASS="sect1"HREF="ch30_05.htm"TITLE="30.5 Internally Defined Names">Internally Defined Names</A><BR><ACLASS="sect1"HREF="ch30_06.htm"TITLE="30.6 How Executed">How Executed</A><BR><ACLASS="sect1"HREF="ch30_07.htm"TITLE="30.7 Pitfalls">Pitfalls</A><BR><ACLASS="sect1"HREF="ch30_08.htm"TITLE="30.8 Alphabetized F= Flags">Alphabetized F= Flags</A></P><P></P></DIV><PCLASS="para"></P><PCLASS="para">The <EMCLASS="emphasis">sendmail</EM> program does not perform the actual delivery of mail.Instead, it calls other programs (called mail delivery agents) to performthat service. Because the mechanics of delivery can vary so widelyfrom delivery agent to delivery agent, <EMCLASS="emphasis">sendmail</EM> needs a greatdeal of information about each delivery agent.Each <EMCLASS="emphasis">sendmail</EM> <CODECLASS="literal">M</CODE> configuration-filecommand defines a mail delivery agentand the information that <EMCLASS="emphasis">sendmail</EM> needs.<ACLASS="indexterm"NAME="SML2-CH-30-IX-DELIVERY-AGENTS-MTAS"></A></P><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-30-SECT-1">30.1 Configuration File Syntax</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-28679"></A>Like all <EMCLASS="emphasis">sendmail.cf</EM> commands, the <CODECLASS="literal">M</CODE> mail delivery agentcommand must begin a line. One typical such command looks likethis:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">        <ICLASS="lineannotation">delivery program</I>                        <ICLASS="lineannotation">command line</I>        <ICLASS="lineannotation"><IMGSRC="../chars/darr.gif"ALT="-v"></I>                                     <ICLASS="lineannotation"><IMGSRC="../chars/darr.gif"ALT="-v"></I>Mlocal, P=/bin/mail, F=rlsDFMmnP, S=10, R=20, A=mail -d $u                     <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>            <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>     <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                     <ICLASS="lineannotation">flags</I>         <ICLASS="lineannotation">sender/recipient rules</I></PRE></BLOCKQUOTE></P><PCLASS="para">This <CODECLASS="literal">M</CODE> configuration command is composed of six parts: a symbolic namefollowed by five equates,each separated from the others by commas. Spacesbetween the parts are optional. The specific syntax of the mail deliveryagent command is</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">M<CODECLASS="replaceable"><I>symname, equate, equate, ...</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The letter <CODECLASS="literal">M</CODE> always begins the delivery agent definition,followed by a symbolic name (the <CODECLASS="replaceable"><I>symname</I></CODE>) of your choosing and acomma-separated list of delivery agent equates.Only the <CODECLASS="literal">P=</CODE> and <CODECLASS="literal">A=</CODE> equates are required. The othersare optional.</P><PCLASS="para">The comma following the symbolic name is optional. As longas there is a space following the symbolic name, <EMCLASS="emphasis">sendmail</EM>parses it correctly. The comma should, however, always be includedfor improved clarity.[1]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[1] SunOS 4.1.2's <EMCLASS="emphasis">sendmail</EM> does not properly support freezingif the comma is present.</P></BLOCKQUOTE><PCLASS="para">In the following, the first example includes the comma, and the secondomits it. Both are parsed by <EMCLASS="emphasis">sendmail</EM> in exactly the same way:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mlocal, P=/bin/mail, F=rlsDFMmnP, S=10, R=20, A=mail -d $uMlocal  P=/bin/mail, F=rlsDFMmnP, S=10, R=20, A=mail -d $u</PRE></BLOCKQUOTE></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch29_11.htm"TITLE="29.11 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 29.11 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_02.htm"TITLE="30.2 The Symbolic Name"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.2 The Symbolic Name"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">29.11 Pitfalls</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">30.2 The Symbolic Name</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>