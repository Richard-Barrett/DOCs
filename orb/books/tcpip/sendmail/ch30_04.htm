<HTML><HEAD><TITLE>[Chapter 30] 30.4 The Equates</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T19:53:39Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch30_01.htm"TITLE="30. Delivery Agents"><LINKREL="prev"HREF="ch30_03.htm"TITLE="30.3 m4 Configuration Syntax"><LINKREL="next"HREF="ch30_05.htm"TITLE="30.5 Internally Defined Names"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_03.htm"TITLE="30.3 m4 Configuration Syntax"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.3 m4 Configuration Syntax"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 30<BR>Delivery Agents</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_05.htm"TITLE="30.5 Internally Defined Names"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.5 Internally Defined Names"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-30-SECT-4">30.4 The Equates</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-30-IX-DELIVERY-AGENTS-MTAS-EQUATES-FOR"></A><ACLASS="indexterm"NAME="SML2-CH-30-IX-EQUATES"></A><ACLASS="indexterm"NAME="AUTOID-28853"></A>Recall that the form for the <CODECLASS="literal">M</CODE> command is</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">M<CODECLASS="replaceable"><I>symname, equate, equate, equate, ...</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Each <CODECLASS="replaceable"><I>equate</I></CODE> expression is of the form</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">field=arg</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">field</CODE> is one of those in <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-TAB-0"TITLE="Delivery Agent Equates">Table 30.1</A>.Only thefirst character of the <CODECLASS="literal">field</CODE> is recognized. That is, allof the following are equivalent:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S=21Sender=21SenderRuleSet=21</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">field</CODE> is followed by more optionalwhitespace, the mandatory <CODECLASS="literal">=</CODE> character, optional whitespace,and finally the <CODECLASS="literal">arg</CODE>. The form that the <CODECLASS="replaceable"><I>arg</I></CODE> takes varies depending on the <CODECLASS="replaceable"><I>field</I></CODE>. It mayor may not be required.</P><PCLASS="para">Special characters can be embedded into the <CODECLASS="replaceable"><I>field</I></CODE> as shown in<ACLASS="xref"HREF="ch31_03.htm#SML2-CH-31-TAB-2"TITLE="Special Characters Allowed in Macro Text">Table 31.3</A> of <ACLASS="xref"HREF="ch31_03.htm#SML2-CH-31-SECT-3-2"TITLE="Syntax of the Configuration File Macro's Text">Section 31.3.2, "Syntax of the Configuration File Macro's Text"</A>.For example, the backslash notation can be used to embed commasand a newline character into the <CODECLASS="literal">A=</CODE> equate like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">...    A=eatmail -F0\,12\,99 -E\n</PRE></BLOCKQUOTE></P><PCLASS="para">The complete list of equates is shown in<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-TAB-0"TITLE="Delivery Agent Equates">Table 30.1</A>.A full description of each begins in the next section. They are presented in alphabetical order rather than in the order in which they would appearin typical delivery agent definitions.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="SML2-CH-30-TAB-0">Table 30.1: Delivery Agent Equates</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Equate</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Field Name</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1"></TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Meaning</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">A=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Argv</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-1"TITLE="">Section 30.4.1, A=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Delivery agent's command-line arguments</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">C=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Charset</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-2"TITLE="">Section 30.4.2, C=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Default MIME character set (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">D=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Directory</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-3"TITLE="">Section 30.4.3, D=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Paths to directories for execution (V8.6 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">E=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">EOL</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-4"TITLE="">Section 30.4.4, E=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">End-of-line string</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">F=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Flags</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5, F=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Flags describing a delivery agent's behavior</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">L=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Linelimit</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-6"TITLE="">Section 30.4.6, L=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Maximum line length (V8.1 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">M=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Maximum</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-7"TITLE="">Section 30.4.7</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Maximum message size</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">N=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Niceness</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-8"TITLE="">Section 30.4.8, N=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">How to <EMCLASS="emphasis">nice</EM>(2) the agent (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">P=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Path</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-9"TITLE="">Section 30.4.9, P=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Path to the delivery program</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">R=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Recipient</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-10"TITLE="">Section 30.4.10, R=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Recipient rewriting rule set</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">S=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Sender</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-11"TITLE="">Section 30.4.11, S=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Sender rewriting rule set</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">T=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Type</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-12"TITLE="">Section 30.4.12, T=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Types for DSN diagnostics (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">U=</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UID</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-13"TITLE="">Section 30.4.13, U=</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Run agent as uid:gid (V8.7 and above)</TD></TR></TBODY></TABLE><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-1">30.4.1 A=</A></H3><PCLASS="refpurpose">The argv for this delivery agent</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-28995"></A>The program that is to be run (specified by the <CODECLASS="literal">P=</CODE> equate) is givenits C language <CODECLASS="literal">char **argv</CODE> array (list of command-line arguments)by this <CODECLASS="literal">A=</CODE> equate. This equate is traditionally the last one specified,because, prior to V8.7, the <CODECLASS="literal">argv</CODE> arguments were all thosefrom the <CODECLASS="literal">=</CODE> to the end of the line:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mlocal, P=/bin/mail, F=rlsDFMmnP, S=10, R=20, A=mail -d $u                                                <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                                 <ICLASS="lineannotation">prior to V8.7, argv to end of line <IMGSRC="../chars/rarr.gif"ALT="-&gt;"></I></PRE></BLOCKQUOTE></P><PCLASS="para">Beginning with V8.7, the <CODECLASS="literal">A=</CODE> is treated like any other equate, in thatit ends at the end of line <EMCLASS="emphasis">or</EM> at the first comma. The backslash charactercan be used as a prefix to embed commas in the <CODECLASS="literal">A=</CODE> equate.</P><PCLASS="para">Macros are expanded and may be used in this<CODECLASS="literal">argv</CODE> array.  For example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">A=mail -d $u</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">A=</CODE> begins the declaration of the argument array.The program that is specified by the <CODECLASS="literal">P=</CODE> equate (<CODECLASS="literal">/bin/mail</CODE>) will be executed with an <CODECLASS="literal">argv</CODE> of</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">argv[0] = &quot;mail&quot;argv[1] = &quot;-d&quot;              <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> switch means perform final delivery</I>argv[2] = &quot;fred&quot;            <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> where macro </I>$u<ICLASS="lineannotation"> contains &quot;fred&quot;</I></PRE></BLOCKQUOTE></P><PCLASS="para">The macro value of <CODECLASS="literal">$u</CODE> contains the current recipient name (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-36"TITLE="">Section 31.10.36, $u</A>). Another macro that commonly appears in <CODECLASS="literal">A=</CODE> fields is <CODECLASS="literal">$h</CODE>, the recipient host(see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-17"TITLE="">Section 31.10.17, $h</A>).You are, of course, free to use any macro you find necessary as a partof this <CODECLASS="literal">argv</CODE> array.Note that <CODECLASS="literal">$u</CODE> is special in that if it is missing, <EMCLASS="emphasis">sendmail</EM> willspeak SMTP to the delivery agent (see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-1-3"TITLE="$u in A=">Section 30.4.1.3, "$u in A="</A>).Also note that any arguments in excess of the maximum number defined by MAXPV(see <ACLASS="xref"HREF="ch18_08.htm#SML2-CH-18-SECT-8-19"TITLE="">Section 18.8.19, MAX...</A>), usually 40, are silently ignored.&#13;</P><DIVCLASS="refsect2"><H4CLASS="refsect2"><ACLASS="title"NAME="SML2-CH-30-SECT-4-1-1">30.4.1.1 m4 A= definitions</A></H4><PCLASS="para">Under V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration you can definethe <CODECLASS="literal">A=</CODE> equate using the values shown in the leftmost column of<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-TAB-1"TITLE="m4 Modification of A= Equates">Table 30.2</A>.For example, to modify the <CODECLASS="literal">A=</CODE> equate for the <CODECLASS="literal">local</CODE>delivery agent, you might include this definition in your <CODECLASS="literal">mc</CODE> file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">define(`LOCAL_MAILER_ARGS', `put.local -d $u -l')dnl</PRE></BLOCKQUOTE></P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="SML2-CH-30-TAB-1">Table 30.2: m4 Modification of A= Equates</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">define()</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Agent</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">MAILER()</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Default A=</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CYRUS_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">deliver -e -m $h -- $u</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CYRUS_BB_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrusbb</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">deliver -e -m $u</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">FAX_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mailfax $u $h $f</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">LOCAL_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail -d $u</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">LOCAL_SHELL_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">prog</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">sh -c $u</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">MAIL11_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11 $g $x $h $u</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">PH_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">ph</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">phquery</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">phquery -- $u</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">POP_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop $u</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">PROCMAIL_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail -m $h $f $u</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">IPC $h</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP8_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp8</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">IPC $h</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">ESMTP_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">esmtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">IPC $h</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">RELAY_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">relay</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">IPC $h</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">USENET_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">usenet</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">usenet</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">inews -m -h -n</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_ARGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uux - -r -a$g -gC $h!rmail ($u)</TD></TR></TBODY></TABLE><PCLASS="para">In general, the definitions in the <EMCLASS="emphasis">_CF_DIR_/ostype</EM> subdirectory arepretuned in a way that is best for most sites. If you want to make changes, remember thateach definition that you put in your <CODECLASS="literal">mc</CODE> file <EMCLASS="emphasis">replaces</EM> thedefinition in <EMCLASS="emphasis">_CF_DIR_/ostype</EM>. Therefore it's best to copy an existing definitionand modify it for your own use. Just be sure you don't omit something important.(The <EMCLASS="emphasis">_CF_DIR_</EM> prefix is described in <ACLASS="xref"HREF="ch19_02.htm#SML2-CH-19-SECT-2-1"TITLE="Maintain local files with _CF_DIR_">Section 19.2.1</A>.)</P></DIV><DIVCLASS="refsect2"><H4CLASS="refsect2"><ACLASS="title"NAME="SML2-CH-30-SECT-4-1-2">30.4.1.2 $h and other arguments in A=[IPC]</A></H4><PCLASS="para">For network delivery via the <CODECLASS="literal">P=[IPC]</CODE> delivery agent, the <CODECLASS="literal">A=</CODE>equate is usually declared like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">A=IPC $h</PRE></BLOCKQUOTE></P><PCLASS="para">The value in <CODECLASS="literal">$h</CODE> is the value returned by rule set 0's<CODECLASS="literal">$@</CODE> operator and is usually the name of the host to which<EMCLASS="emphasis">sendmail</EM> should connect. During delivery the <EMCLASS="emphasis">sendmail</EM> program expands this hostnameinto a possible list of MX records.[3]It attempts deliveryto each MX record. If all delivery attempts fail and ifthe V8 <CODECLASS="literal">FallbackMXhost</CODE> (<CODECLASS="literal">V</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-25"TITLE="">Section 34.8.25, FallbackMXhost (V)</A>)is set, delivery is attempted to that fallback host. In all cases, if there areno MX records, delivery is attempted to the A record instead.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[3] Unless the V8.8 <CODECLASS="literal">F=0</CODE> flag is set (see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-1"TITLE="">Section 30.8.1, F=0</A>).</P></BLOCKQUOTE><PCLASS="para">Beginning with V8 <EMCLASS="emphasis">sendmail</EM>, <CODECLASS="literal">$h</CODE> (possibly as returned by rule set 0)can be a colon-separated list of hosts. The <EMCLASS="emphasis">sendmail</EM> programattempts to connect to each in turn, left to right:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">A=IPC <CODECLASS="replaceable"><I>hostA</I></CODE>:<CODECLASS="replaceable"><I>hostB</I></CODE>:<CODECLASS="replaceable"><I>hostC</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, it tries to connect to <CODECLASS="replaceable"><I>hostA</I></CODE> first.If that fails, it next tries <CODECLASS="replaceable"><I>hostB</I></CODE>, and so on.As usual, trying a host means trying its MX records first, orits A record if there are no MX records.</P><PCLASS="para">The host (as <CODECLASS="literal">$h</CODE>) is usually the only argumentgiven to <CODECLASS="literal">IPC</CODE>. But, strictly speaking, <CODECLASS="literal">IPC</CODE> can acceptthree arguments, like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">A=IPC <CODECLASS="replaceable"><I>hostlist</I></CODE> <CODECLASS="replaceable"><I>port</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="replaceable"><I>port</I></CODE> (third argument) is usually omitted and sodefaults to 25. However, a port number can be included to force<EMCLASS="emphasis">sendmail</EM> to connect on a different port.</P><PCLASS="para">To illustrate, consider the need to force mail to a gatewaymachine to be always delivered on a particular port. First,design a new delivery agent that uses <CODECLASS="literal">IPC</CODE> for transport.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mgateway, P=[IPC], ..., A=IPC gateway.domain $h</PRE></BLOCKQUOTE></P><PCLASS="para">Here, any mail that selects the <CODECLASS="literal">gateway</CODE> delivery agentis transported over the network (the <CODECLASS="literal">[IPC]</CODE>) tothe machine <CODECLASS="literal">gateway.domain</CODE>. The port number is carriedin <CODECLASS="literal">$h</CODE>, which usually carries the hostname.</P><PCLASS="para">Next, design a rule in rule set 0 that selects this delivery agent:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$+ &lt; @ $+ .gateway &gt; $*            $#gateway $@ 26 $: $1 &lt; @ $2 .gateway&gt; $3</PRE></BLOCKQUOTE></P><PCLASS="para">This rule selects the <CODECLASS="literal">gateway</CODE> delivery agent for any addressthat ends in <CODECLASS="literal">.gateway</CODE>. The host part that is returned by the <CODECLASS="literal">$@</CODE>is the port number to use. The <CODECLASS="literal">$:</CODE> part (the address) ispassed in the envelope. Note that the gateway also has to belistening on the same port for this to work.</P><PCLASS="para">In the event that you wish to carry the port number in a macro,you may do so by specifying the host with <CODECLASS="literal">$h</CODE>. For example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mgateway, P=[IPC], ..., A=IPC <CODECLASS="userinput"><B>$h $P</B></CODE>R$+ &lt; @ $+ .gateway &gt; $*            $#gateway $@ <CODECLASS="userinput"><B>$2</B></CODE> $: $1 &lt; @ $2 .gateway&gt; $3</PRE></BLOCKQUOTE></P><PCLASS="para">Then <EMCLASS="emphasis">sendmail</EM> can be run with the command-line argument</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">-MP26</PRE></BLOCKQUOTE></P><PCLASS="para">to cause <CODECLASS="literal">gateway</CODE> mail to go out on port 26.</P></DIV><DIVCLASS="refsect2"><H4CLASS="refsect2"><ACLASS="title"NAME="SML2-CH-30-SECT-4-1-3">30.4.1.3 $u in A=</A></H4><PCLASS="para">The <CODECLASS="literal">$u</CODE> macro is special in the <CODECLASS="literal">A=</CODE> equate's field.If <CODECLASS="literal">$u</CODE> <EMCLASS="emphasis">does not</EM> appear in the array, <EMCLASS="emphasis">sendmail</EM> assumesthe program in <CODECLASS="literal">P=</CODE> equate speaks SMTP. Consequently, youshould <EMCLASS="emphasis">never</EM> use a<CODECLASS="literal">$u</CODE> when defining mail delivery agents thatspeak SMTP. All agents that use <CODECLASS="literal">[IPC]</CODE>or <CODECLASS="literal">[TCP]</CODE> in their <CODECLASS="literal">P=</CODE> equate's field must use SMTP.</P><PCLASS="para">If <CODECLASS="literal">$u</CODE> <EMCLASS="emphasis">does</EM> appear in the array, <EMCLASS="emphasis">sendmail</EM> assumes that the program in <CODECLASS="literal">P=</CODE> does <EMCLASS="emphasis">not</EM> speak SMTP.</P><PCLASS="para">If <CODECLASS="literal">$u</CODE> appears and the <CODECLASS="literal">F=m</CODE> delivery agent flagis also specified, then the argument containing <CODECLASS="literal">$u</CODE>is repeated as many times as there are recipients. For example,a typical <CODECLASS="literal">uucp</CODE> delivery agent definition looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Muucp, P=/bin/uux, F=<CODECLASS="userinput"><B>m</B></CODE>sDFMhuU, S=13, R=23, A=uux - -r $h!rmail (<CODECLASS="userinput"><B>$u</B></CODE>)                     <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                                          <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                     <ICLASS="lineannotation">note</I>                                      <ICLASS="lineannotation">note</I></PRE></BLOCKQUOTE></P><PCLASS="para">In the above, the <CODECLASS="literal">m</CODE> flag is set in the <CODECLASS="literal">F=</CODE> equate's field,which tells <EMCLASS="emphasis">sendmail</EM> that this delivery agent candeliver to multiple recipients simultaneously.The <CODECLASS="literal">$u</CODE> macro is also included as one of the arguments specifiedby the <CODECLASS="literal">A=</CODE> command-line array. Thus if mail is sent with thisdelivery agent to multiple recipients, say <CODECLASS="literal">jim</CODE>, <CODECLASS="literal">bill</CODE>,and <CODECLASS="literal">joe</CODE>, then the <CODECLASS="literal">($u)</CODE> argument[4]is repeatedthree times, once for each recipient:</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[4] When <CODECLASS="literal">$u</CODE> is used as part of a UUCP delivery agent's<CODECLASS="literal">F=A</CODE> array, it should be parenthesized. This is what the<EMCLASS="emphasis">uux</EM>(1) program expects.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">uux - -r $h!rmail (jim) (bill) (joe)</PRE></BLOCKQUOTE></P></DIV></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-2">30.4.2 C=</A></H3><PCLASS="refpurpose">The default MIME character set</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29267"></A><ACLASS="indexterm"NAME="AUTOID-29269"></A><ACLASS="indexterm"NAME="AUTOID-29272"></A><ACLASS="indexterm"NAME="AUTOID-29274"></A>The <CODECLASS="literal">C=</CODE> equate (introduced with V8.7 <EMCLASS="emphasis">sendmail</EM>)is used to define a default character set for use withthe MIME <CODECLASS="literal">Content-Type:</CODE> header (see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-9"TITLE="">Section 35.10.9, Content-Type:</A>).If it is present, its value supersedes that of the <CODECLASS="literal">DefaultCharSet</CODE> option(see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-14"TITLE="">Section 34.8.14, DefaultCharSet</A>).</P><PCLASS="para">Note that the <CODECLASS="literal">C=</CODE> equate is examined only when the delivery agent is selected fora sender address. </P><PCLASS="para">When a mail message is converted from 8 to 7 bits(see the <CODECLASS="literal">EightBitMode</CODE> (<CODECLASS="literal">8</CODE>) option in <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-22"TITLE="">Section 34.8.22, EightBitMode (8)</A>), it is important  that the result looks like a MIME message. V8.7 <EMCLASS="emphasis">sendmail</EM> firstoutputs the following header (if one is not already present):  </P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">MIME-Version: 1.0</PRE></BLOCKQUOTE></P><PCLASS="para">Next, V8.7 <EMCLASS="emphasis">sendmail</EM> looks for a <CODECLASS="literal">Content-Type:</CODE> header(see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-9"TITLE="">Section 35.10.9</A>).If none is found, the following is inserted, where <CODECLASS="replaceable"><I>charset</I></CODE>is the value declared for the <CODECLASS="literal">C=</CODE> equate of the sender's deliveryagent:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Content-Type: text/plain; charset=<CODECLASS="replaceable"><I>charset</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">If the argument to the <CODECLASS="literal">C=</CODE> is missing, the followingerror is printed and the <CODECLASS="literal">C=</CODE> becomes undefined:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">mailer <CODECLASS="replaceable"><I>agent_name</I></CODE>: null charset</PRE></BLOCKQUOTE></P><PCLASS="para">If the <CODECLASS="literal">C=</CODE> equateis undefined in your configuration file, <CODECLASS="replaceable"><I>charset</I></CODE>defaults to the value of the <CODECLASS="literal">DefaultCharSet</CODE> option. If bothare undefined, the value for <CODECLASS="replaceable"><I>charset</I></CODE> becomes &quot;unknown-8bit.&quot;</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-3">30.4.3 D=</A></H3><PCLASS="refpurpose">Paths to directories for execution</P>(V8.6 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29319"></A><ACLASS="indexterm"NAME="AUTOID-29321"></A>Ordinarily, whenever <EMCLASS="emphasis">sendmail</EM> executes a program via the<CODECLASS="literal">prog</CODE> delivery agent, it does so from within the <EMCLASS="emphasis">sendmail</EM>queue directory. One unfortunate side effect of this behavioris that shell scripts written with the C-shell (and possiblyother programs) may failbecause they cannot <EMCLASS="emphasis">stat</EM>(2) the current directory.To alleviate this problem, V8 <EMCLASS="emphasis">sendmail</EM> has introduced the<CODECLASS="literal">D=</CODE> delivery agent equate. This new equate allows youto specify a series of directories for <EMCLASS="emphasis">sendmail</EM> toattempt to <EMCLASS="emphasis">chdir</EM>(2) intobefore invoking the delivery program.</P><PCLASS="para">The form of the <CODECLASS="literal">D=</CODE> equate looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D=<CODECLASS="replaceable"><I>path1</I></CODE>:<CODECLASS="replaceable"><I>path2</I></CODE>...</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">D=</CODE> is followed by a colon-separated series ofdirectory pathnames. Before running the delivery program,<EMCLASS="emphasis">sendmail</EM> tries to <EMCLASS="emphasis">chdir</EM>(2) into each in turn,leftmost to rightmost, until it succeeds. If it does notsucceed with any of the directories (perhapsbecause none of them exist), <EMCLASS="emphasis">sendmail</EM> remains inits queue directory.</P><PCLASS="para">One recommended setting for the <CODECLASS="literal">D=</CODE> equate is this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D=$z:/tmp</PRE></BLOCKQUOTE></P><PCLASS="para">Here, <EMCLASS="emphasis">sendmail</EM> first tries to <EMCLASS="emphasis">chdir</EM>(2) into thedirectory defined by the <CODECLASS="literal">$z</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-46"TITLE="">Section 31.10.46, $z</A>).That macro eithercontains the full pathname of the recipient's home directory oris NULL. If it is NULL or if the home directory is unavailable,the <EMCLASS="emphasis">chdir</EM>(2) fails, and <EMCLASS="emphasis">sendmail</EM>instead does a <EMCLASS="emphasis">chdir</EM>(2) to the <EMCLASS="emphasis">/tmp</EM> directory.</P><PCLASS="para">In using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration, the value givento <CODECLASS="literal">D=</CODE> can be easily changed only for the <CODECLASS="literal">prog</CODE> delivery agent, which defaults to</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D=$z:/</PRE></BLOCKQUOTE></P><PCLASS="para">For <CODECLASS="literal">prog</CODE> it can be redefined by using LOCAL_SHELL_DIR, as, for example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">define(`LOCAL_SHELL_DIR', `$z:/var/tmp')dnlMAILER(local)</PRE></BLOCKQUOTE></P><PCLASS="para">Here, LOCAL_SHELL_DIR is given a new value before the <CODECLASS="literal">prog</CODE> deliveryagent is loaded (via the <CODECLASS="literal">local</CODE>).</P><PCLASS="para">For all other delivery agents you must firstcopy an existing delivery agent definition, thenmodify it as outlined in <ACLASS="xref"HREF="ch30_03.htm#SML2-CH-30-SECT-3-1"TITLE="Tuning Without an Appropriate Keyword">Section 30.3.1, "Tuning Without an Appropriate Keyword"</A>.</P><PCLASS="para">If the <CODECLASS="literal">D=</CODE> argument is missing, the following error is printedand the <CODECLASS="literal">D=</CODE> becomes undefined:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">mailer <CODECLASS="replaceable"><I>agent_name</I></CODE>: null working directory</PRE></BLOCKQUOTE></P><PCLASS="para">The <EMCLASS="emphasis">chdir</EM>(2) process can be traced with the <CODECLASS="literal">-d11.20</CODE> debugging switch (see <ACLASS="xref"HREF="ch37_05.htm#SML2-CH-37-SECT-5-46"TITLE="">Section 37.5.46, -d11.20</A>).</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-4">30.4.4 E=</A></H3><PCLASS="refpurpose">The end-of-line string</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29389"></A><ACLASS="indexterm"NAME="AUTOID-29391"></A>The <CODECLASS="literal">E=</CODE> equate specifies the end-of-line character or characters.Those characters are generated by <EMCLASS="emphasis">sendmail</EM> for outgoing messagesand recognized by <EMCLASS="emphasis">sendmail</EM> for incoming messages.</P><PCLASS="para">The end-of-line characters are defined with the <CODECLASS="literal">E=</CODE>equate as backslash-escaped control characters, such as</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">E=\r\n</PRE></BLOCKQUOTE></P><PCLASS="para">Prior to V8.8the default end-of-line string, if the <CODECLASS="literal">E=</CODE> field was missing,was the C language newline character, <CODECLASS="literal">\n</CODE>.[5]Beginning with V8.8 <EMCLASS="emphasis">sendmail</EM>, the default is <CODECLASS="literal">\n</CODE> for allbut delivery agents that speak SMTP, in which case the default is<CODECLASS="literal">\r\n</CODE>.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[5] On some NeXT computers (prior to OS version 2.0)the default E= terminator is <CODECLASS="literal">\r\n</CODE>.This can cause serious problems when used with some non-TCP deliveryagents like UUCP. If you have a system that does this, you canoverride that improper default with <CODECLASS="literal">E=\n</CODE>.</P></BLOCKQUOTE><PCLASS="para">In general, delivery agents that speak SMTP (those that <EMCLASS="emphasis">lack</EM>a <CODECLASS="literal">$u</CODE> in the <CODECLASS="literal">A=</CODE> argument array, should have theirend-of-line field set to <CODECLASS="literal">E=\r\n</CODE> (for a carriage return/line feedpair). [6]Delivery agents that do not speakSMTP (those that <EMCLASS="emphasis">include</EM> a <CODECLASS="literal">$u</CODE> in the <CODECLASS="literal">A=</CODE> argument array)should have theirend-of-line field set to <CODECLASS="literal">E=\n</CODE> (for a lone linefeed character).</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[6] line feed is the same ASCII character as newline.</P></BLOCKQUOTE><PCLASS="para">In using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration, the value givento <CODECLASS="literal">E=</CODE> cannot be easily changed. It is supplied tothe MAILER(smtp) delivery agents as <CODECLASS="literal">\r\n</CODE> but is left as the default <CODECLASS="literal">\n</CODE> forall others.If you need to change this value at the m4 level, you must firstcopy an existing delivery agent definition, thenmodify it as outlined in <ACLASS="xref"HREF="ch30_03.htm#SML2-CH-30-SECT-3-1"TITLE="Tuning Without an Appropriate Keyword">Section 30.3.1</A>.</P><PCLASS="para">If the <CODECLASS="literal">E=</CODE> equate's argument is missing, the following error message is printedand the <CODECLASS="literal">E=</CODE> becomes undefined:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">mailer <CODECLASS="replaceable"><I>agent_name</I></CODE>: null end-of-line string</PRE></BLOCKQUOTE></P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-5">30.4.5 F=</A></H3><PCLASS="refpurpose">Flags describing a delivery agent's behavior</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29441"></A><ACLASS="indexterm"NAME="AUTOID-29443"></A>The <CODECLASS="literal">F=</CODE> equate is probably more fraught with peril than the others.The flags specified with <CODECLASS="literal">F=</CODE> tell <EMCLASS="emphasis">sendmail</EM> how thedelivery agent will behave and what its needs will be.These flags are used in one or more of three ways:</P><PCLASS="para">First, if a header definition relies conditionally on a flag:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?<CODECLASS="userinput"><B>P</B></CODE>?Return-Path: &lt;$g&gt;  <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>  <ICLASS="lineannotation">apply if P flag specified in F= equate.</I></PRE></BLOCKQUOTE></P><PCLASS="para">and if that flag is listed as a part of the <CODECLASS="literal">F=</CODE> equate:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mlocal, P=/bin/mail, F=rlsDFMmn<CODECLASS="userinput"><B>P</B></CODE>, S=10, R=20, A=mail -d $u                               <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                               <ICLASS="lineannotation">apply in header</I></PRE></BLOCKQUOTE></P><PCLASS="para">then that header is includedin all mail messages that are sent via this delivery agent.</P><PCLASS="para">Second, if a delivery agent needs a special command-line argument that<EMCLASS="emphasis">sendmail</EM> can produce for it but requires that argumentonly under special circumstances, selected <CODECLASS="literal">F=</CODE> flags canproduce that result. For example, the <CODECLASS="literal">F=f</CODE> flag specifiesthat the delivery agent needs a <CODECLASS="literal">-f</CODE> command-lineswitch when it is forwarding network mail.</P><PCLASS="para">Third, the <CODECLASS="literal">F=</CODE> flags also tell <EMCLASS="emphasis">sendmail</EM> how this particulardelivery agent behaves. For example, it performs finaldelivery or requires uppercase preserved for usernames.</P><PCLASS="para">Many flags have special meaning to <EMCLASS="emphasis">sendmail</EM>; others are strictly user-defined. All of the flags aredetailed at the end of this chapter (<ACLASS="xref"HREF="ch30_08.htm"TITLE="Alphabetized F= Flags">Section 30.8, "Alphabetized F= Flags"</A>).</P><PCLASS="para">Note that whitespace characters cannot be used as flags. Also note thatflags OR together (they are really just bits), so they can be declaredseparately, for clarity, as in the following:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">F=D,     # include Date: header if not presentF=F,     # include From: header if not presentF=7,     # strip the hi bit when delivering</PRE></BLOCKQUOTE></P><PCLASS="para">&#13;Or they can be declared all together, with no change in meaning or effect, like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">F=DF7,</PRE></BLOCKQUOTE></P><PCLASS="para">Note that the argument followingthe <CODECLASS="literal">F=</CODE> is optional, and an empty declaration is silently ignored.Also note that the comma can be used as a flag by prefixing it with a backslash.&#13;</P></DIV><DIVCLASS="refsect1"><H4CLASS="refsect1"><ACLASS="title"NAME="SML2-CH-30-SECT-4-5-1">30.4.5.1 </A>m4 modification of F=</H4><PCLASS="para">When using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration, you can modify various flagsfor inclusion with most delivery agents. As shown in<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-TAB-2"TITLE="m4 Modification of F= Equates">Table 30.3</A>some modifications are made by appending the new flags to the original flags.Others are made by replacing a few flags with new ones and appending the resultto the originals. For example, the following declaration:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">define(`LOCAL_MAILER_FLAGS', `f')dnl</PRE></BLOCKQUOTE></P><PCLASS="para">results in these flags being defined for the <CODECLASS="literal">local</CODE> delivery agent:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">lsDFMAwq5:/|@f</PRE></BLOCKQUOTE></P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="SML2-CH-30-TAB-2">Table 30.3: m4 Modification of F= Equates</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">define()</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Agent</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">MAILER()</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Append to</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Replace</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CYRUS_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">lsDFMnPq</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">5@A</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CYRUS_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrusbb</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">lsDFMnPq</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">FAX_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">DFMhu</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">LOCAL_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">lsDFMAwq5:/|@</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">rmn</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">LOCAL_SHELL_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">prog</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">lsDFMoq</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">eu</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">MAIL11_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal"></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">nsFx</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">PH_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">ph</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">phquery</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">nrDFM</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">ehmu</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">POP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">lsDFMq</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Penu</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">PROCMAIL_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">DFMm</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Shu</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">mDFMuX</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">esmtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">mDFMuXa</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp8</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">mDFMuX8</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">relay</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">mDFMuXa8</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">USENET_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">usenet</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal"></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">rlsDFMmn</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">DFMhuUd</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-old</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">DFMhuUd</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">suucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">mDFMhuUd</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-new</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">mDFMhuUd</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-dom</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">mDFMhuUd</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_FLAGS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-uudom</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">mDFMhuUd</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD></TR></TBODY></TABLE><PCLASS="para">&#13;To append to flags or to replace them, use the appropriate definition from theleft-most column of the table and make sure your definition precedesthe MAILER <EMCLASS="emphasis">m4</EM> command, for example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">define(`SMTP_MAILER_FLAGS', `P')dnl                 <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> first</I>MAILER(smtp)                                        <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> second</I></PRE></BLOCKQUOTE></P><PCLASS="para">If you reverse them, the <EMCLASS="emphasis">define</EM> will be silently ignored.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-6">30.4.6 L=</A></H3><PCLASS="refpurpose">Maximum line length</P>(V8.1 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29659"></A><ACLASS="indexterm"NAME="AUTOID-29661"></A><ACLASS="indexterm"NAME="AUTOID-29663"></A>The <CODECLASS="literal">L=</CODE> equate is used to limit the length of text linesin the body of a mail message. If this equate is omittedand if the delivery agent has the obsolete <CODECLASS="literal">F=L</CODE> flag set(see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-29"TITLE="">Section 30.8.29, F=L</A>),<EMCLASS="emphasis">sendmail</EM> defaults to SMTPLINELIM (990) as definedin <EMCLASS="emphasis">conf.h</EM> (see <ACLASS="xref"HREF="ch18_08.htm#SML2-CH-18-SECT-8-43"TITLE="">Section 18.8.43, SMTPLINELIM</A>).If the <CODECLASS="literal">F=L</CODE> is clear (as it is in modern configurationfiles), <EMCLASS="emphasis">sendmail</EM> defaults to 0.The <CODECLASS="literal">F=L</CODE> is honored for compatibility with older versions of<EMCLASS="emphasis">sendmail</EM> that lack this <CODECLASS="literal">L=</CODE> equate.</P><PCLASS="para">Limiting line length causes overly long lines to be split.When an output line is split, the text up to the splitis first transmitted, followed by the <CODECLASS="literal">!</CODE> character.After that the characters defined by the <CODECLASS="literal">E=</CODE> equateare transmitted. A line may be split into two or more pieces.For example, consider the following text from the body of a mail message:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">The maximum line length for SMTP mail is 990 characters.A delivery agent speaksSMTP when the $u macro is omitted from the A= equate.</PRE></BLOCKQUOTE></P><PCLASS="para">A delivery agent could limit line length to 20 characters witha declaration of</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">L=20</PRE></BLOCKQUOTE></P><PCLASS="para">With that limit, the above text would be split during transmission intothe following lines:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">The maximum line len!gth for SMTP mail is!990 characters.But that length is o!nly enforced if the !F=L flag is includedin a delivery agent !definition. A delive!ry agent speaksSMTP when the $u mac!ro is omitted from t!he A= equate.</PRE></BLOCKQUOTE></P><PCLASS="para">&#13;Limiting the line length can find application with programs that can't handlelong lines. A 40-character braille print-driving program might be one example.</P><PCLASS="para">If the argument to <CODECLASS="literal">L=</CODE> is missing or if it evaluates to 0 or less,the maximum line limit is set to zero, in which case no limit is enforced.</P><PCLASS="para">In using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration,the default for the <CODECLASS="literal">smtp</CODE>, <CODECLASS="literal">esmtp</CODE>, and <CODECLASS="literal">smtp8</CODE> deliveryagents is 990. The default for the <CODECLASS="literal">relay</CODE> delivery agent is 2040.The default for all other delivery agents is 0.To change the default at the m4 level,copy an existing delivery agent definition and modify it as outlined in <ACLASS="xref"HREF="ch30_03.htm#SML2-CH-30-SECT-3-1"TITLE="Tuning Without an Appropriate Keyword">Section 30.3.1</A>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-7">30.4.7 M=</A></H3><PCLASS="refpurpose">Maximum message size</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29705"></A><ACLASS="indexterm"NAME="AUTOID-29707"></A><ACLASS="indexterm"NAME="AUTOID-29710"></A>The <CODECLASS="literal">M=</CODE> equate is used to limit the totalsize (header and body combined) of messages handledby a delivery agent. The form for the <CODECLASS="literal">M=</CODE> equate is</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">M=<CODECLASS="replaceable"><I>nbytes</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="replaceable"><I>nbytes</I></CODE> is the ASCII representation of an integer that specifies the largest size in bytes thatcan be transmitted. If <CODECLASS="replaceable"><I>nbytes</I></CODE> is missing, or if theentire <CODECLASS="literal">M=</CODE> equate is missing, <CODECLASS="replaceable"><I>nbytes</I></CODE> becomeszero. If the value is zero, no checking is done for a maximum.</P><PCLASS="para">If the size of the message exceeds the limit specified, an errormessage is returned (bounced) that looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">--- Transcript of session follows ---552 &lt;<CODECLASS="replaceable"><I>recipient</I></CODE>&gt;... Message is too large; <CODECLASS="replaceable"><I>nbytes</I></CODE> bytes max</PRE></BLOCKQUOTE></P><PCLASS="para">Bounced mail includes only a copy of the headers. The body is specificallynot bounced. The DSN status is set to 5.2.3 (see RFC1893).</P><PCLASS="para">This equate is usually used with UUCP agents, where the costof telephone connections is of concern. It may also findapplication in mail to files, where disk space is limited.</P><PCLASS="para">Prior to V8 <EMCLASS="emphasis">sendmail</EM>,care had to be used to avoid setting <CODECLASS="literal">M=</CODE> to a non-zero value whenthe delivery agent had the <CODECLASS="literal">F=e</CODE> flag set. That flag tells<EMCLASS="emphasis">sendmail</EM> that the delivery agent is <EMCLASS="emphasis">expensive</EM>. If the<CODECLASS="literal">c</CODE> option is also set, expensive mail is queuedrather than delivered. A problem arose because the size ofthe message was ignored when it was delivered from the queue, sono queued messages were ever bounced for exceedingthe <CODECLASS="literal">M=</CODE> limit.  This bug is fixed in V8 <EMCLASS="emphasis">sendmail</EM>.&#13;</P></DIV><DIVCLASS="refsect1"><H4CLASS="refsect1"><ACLASS="title"NAME="SML2-CH-30-SECT-4-7-1">30.4.7.1 </A>m4 modifications of M=</H4><PCLASS="para">In using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration, the maximum message size canbe changed by using the definitions listed in the leftmost column of<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-TAB-3"TITLE="m4 Modification of M= Equates">Table 30.4</A>.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="SML2-CH-30-TAB-3">Table 30.4: m4 Modification of M= Equates</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">define()</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Agent</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">MAILER()</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Default M=</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CYRUS_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CYRUS_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrusbb</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">FAX_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">100000</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">LOCAL_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">LOCAL_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">prog</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">ph</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">phquery</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">PROCMAIL_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">esmtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">SMTP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp8</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">relay</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">USENET_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">usenet</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">usenet</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">100000</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-old</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">100000</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">suucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">100000</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-new</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">100000</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-dom</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">100000</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_MAX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-uudom</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">100000</TD></TR></TBODY></TABLE><PCLASS="para">To change a maximum size, place your definition beforethe MAILER command in your <CODECLASS="literal">mc</CODE> file. For example,here is one way to increase the limit on UUCP traffic toa more reasonable one million:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">define(`UUCP_MAILER_MAX', `1000000')dnlMAILER(`uucp')</PRE></BLOCKQUOTE></P><PCLASS="para">To change the limit for agents that lack a definition,copy an existing delivery agent definition, thenmodify it as outlined in <ACLASS="xref"HREF="ch30_03.htm#SML2-CH-30-SECT-3-1"TITLE="Tuning Without an Appropriate Keyword">Section 30.3.1</A>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-8">30.4.8 N=</A></H3><PCLASS="refpurpose">How to <EMCLASS="emphasis">nice</EM>(3) the agent</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29869"></A><ACLASS="indexterm"NAME="AUTOID-29871"></A>The <CODECLASS="literal">N=</CODE> equate is used to give a deliveryagent a priority in relation to other processes.The mechanism is discussed in theonline manual for <EMCLASS="emphasis">nice</EM>(3).</P><PCLASS="para">&#13;The form for the <CODECLASS="literal">N=</CODE> equate looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">N=<CODECLASS="replaceable"><I>incr</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="replaceable"><I>incr</I></CODE> is a signed integer expression that will adjustthe &quot;niceness&quot; up or down. If <CODECLASS="replaceable"><I>incr</I></CODE> is zero or missing,the niceness of the delivery agent is unchanged.Positive numbers reduce system priority. Negativenumbers increase it.</P><PCLASS="para">One possible application for the <CODECLASS="literal">N=</CODE> equate might be with Usenetnews. Because news seldom needs to flow as quickly as normal email,its delivery agent (<CODECLASS="literal">usenet</CODE>) can be forced to run at a lowsystem priority:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Musenet, P=/usr/lib/news/inews, F=rlsDFMmn, M=10000, <CODECLASS="userinput"><B>N=10,</B></CODE> A=inews -m -h -n</PRE></BLOCKQUOTE></P><PCLASS="para">To change the niceness at the m4 level,copy an existing delivery agent definition and modify it as outlined in <ACLASS="xref"HREF="ch30_03.htm#SML2-CH-30-SECT-3-1"TITLE="Tuning Without an Appropriate Keyword">Section 30.3.1</A>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-9">30.4.9 P=</A></H3><PCLASS="refpurpose">Path to the delivery agent</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29899"></A><ACLASS="indexterm"NAME="AUTOID-29901"></A>The <CODECLASS="literal">P=</CODE> equate specifies the full pathname of theprogram that will act as the delivery agent. The formfor the <CODECLASS="literal">P=</CODE> equate looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">P=<CODECLASS="replaceable"><I>path</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">If <CODECLASS="replaceable"><I>path</I></CODE> is missing, <EMCLASS="emphasis">sendmail</EM> will print the followingerror message and set  <CODECLASS="literal">P=</CODE> to NULL.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">mailer <CODECLASS="replaceable"><I>agent_name</I></CODE>: empty path name</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="replaceable"><I>path</I></CODE> can also be one of three names that are defined internally to <EMCLASS="emphasis">sendmail</EM>.Those internally defined names are <CODECLASS="literal">[IPC]</CODE>, which tells <EMCLASS="emphasis">sendmail</EM> to forwardmail over a kernel-supported (usually TCP/IP) network;<CODECLASS="literal">[FILE]</CODE>, which tells <EMCLASS="emphasis">sendmail</EM>to deliver to a file; and <CODECLASS="literal">[LPC]</CODE>, which is used fordebugging.</P><DLCLASS="variablelist"><DTCLASS="term"><EMCLASS="emphasis">P=path</EM></DT><DDCLASS="listitem"><PCLASS="para">When the <CODECLASS="replaceable"><I>path</I></CODE> begins with a slash character(when it is a full pathname), <EMCLASS="emphasis">sendmail</EM> firstforks (creates a copy of itself), and then the child process (the copy) execs (replaces itself with)the program. The argument vector (<EMCLASS="emphasis">argv</EM>, or command-linearguments) supplied to the program is specified by the <CODECLASS="literal">A=</CODE>equate (see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-1"TITLE="">Section 30.4.1</A>). The program inherits the environment[7]of <EMCLASS="emphasis">sendmail</EM>and has its standard input and output connected to the parent process(the <EMCLASS="emphasis">sendmail</EM> that forked).The message (header and body) is  fed to the program throughits standard input. The envelope (sender and recipient addresses)may or may not be provided on the command line, depending on thenature of the program as defined by its <CODECLASS="literal">F=</CODE> flags.If the <CODECLASS="literal">A=</CODE> <EMCLASS="emphasis">does not</EM> include the <CODECLASS="literal">$u</CODE> macro,then <EMCLASS="emphasis">sendmail</EM> will speak SMTP on standard I/O with the program.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[7] In most versions of <EMCLASS="emphasis">sendmail</EM> the environment is stripped forsecurity. V8 passes only TZ=, AGENT=, and (beginning with V8.7) theenvironmental variables specified with the <CODECLASS="literal">E</CODE> configurationcommand (see <ACLASS="xref"HREF="ch22_02.htm#SML2-CH-22-SECT-2-1"TITLE="The E Configuration Command">Section 22.2.1, "The E Configuration Command"</A>).</P></BLOCKQUOTE></DD><DTCLASS="term"><EMCLASS="emphasis">P=[IPC]</EM></DT><DDCLASS="listitem"><PCLASS="para">The special internal name <CODECLASS="literal">[IPC]</CODE> specifies that <EMCLASS="emphasis">sendmail</EM>is to make a network connection to the recipient host and thatit should talk SMTP to that host. Most current versions of <EMCLASS="emphasis">sendmail</EM>allow the name <CODECLASS="literal">[TCP]</CODE>[8]to be a synonym for<CODECLASS="literal">[IPC]</CODE>, but <CODECLASS="literal">[IPC]</CODE> should be used when portabilityis of concern.The <CODECLASS="literal">$u</CODE> macro should <EMCLASS="emphasis">never</EM> be included in the <CODECLASS="literal">A=</CODE>for this internal name.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[8] Originally, IPC meant &quot;interprocessor communications,&quot; not&quot;interprocess communications&quot; as it does today. Some vendorshave made TCP a synonym, thinking that it was more descriptiveof the TCP/IP network mechanism.That may be a mistake on their part, because <EMCLASS="emphasis">sendmail</EM> can interface to other networkprotocols such as XNS and OSI.</P></BLOCKQUOTE></DD><DTCLASS="term"><EMCLASS="emphasis">P=[FILE]</EM></DT><DDCLASS="listitem"><PCLASS="para">Beginning with V8 <EMCLASS="emphasis">sendmail</EM>, the internal name <CODECLASS="literal">[FILE]</CODE>specifies that delivery will be made by appending the message toa file. This name is intended for use by the <CODECLASS="literal">*file*</CODE> delivery agent (see<ACLASS="xref"HREF="ch30_05.htm"TITLE="Internally Defined Names">Section 30.5, "Internally Defined Names"</A>).<CODECLASS="literal">[FILE]</CODE> can be useful for designing a custom delivery agent whosepurpose is to append to files (perhaps coupled with the <CODECLASS="literal">U=</CODE> equate,<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-13"TITLE="">Section 30.4.13</A>, to force particular ownership of the file).</P></DD><DTCLASS="term"><EMCLASS="emphasis">P=[LPC]</EM></DT><DDCLASS="listitem"><PCLASS="para">The special internal name <CODECLASS="literal">[LPC]</CODE> (for local person communication)causes <EMCLASS="emphasis">sendmail</EM> torun in a sort of debugging mode. In this mode the mail messageis sent to the <EMCLASS="emphasis">sendmail</EM> program'sstandard input, and replies are read (in the case ofSMTP) from its standard output; you act as the SMTP server.</P></DD></DL><PCLASS="para">The <CODECLASS="literal">[LPC]</CODE> mode can be very helpful in tracking downmail problems. Consider the mystery of duplicate five-character&quot;<CODECLASS="literal">From&nbsp;</CODE>&quot; header lines that appear at the beginning of a mail messagewhen mail is sent with UUCP. To solve the mystery, make a copy of your<EMCLASS="emphasis">sendmail.cf</EM> file and change the <CODECLASS="literal">P=</CODE> for the UUCPdelivery agent to <CODECLASS="literal">[LPC]</CODE> in that copy:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Muucp, P=/usr/bin/uux, F=msDFMhuU, S=13, R=23, A=uux - -r $h!rmail ($u)          <ICLASS="lineannotation"><IMGSRC="../chars/darr.gif"ALT="-v"></I>          <ICLASS="lineannotation">change to</I>          <ICLASS="lineannotation"><IMGSRC="../chars/darr.gif"ALT="-v"></I>Muucp, P=[LPC], F=msDFMhuU, S=13, R=23, A=uux - -r $h!rmail ($u)</PRE></BLOCKQUOTE></P><PCLASS="para">Then run <EMCLASS="emphasis">sendmail</EM> by hand to see what it is sending tothe <EMCLASS="emphasis">uux</EM> program:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>/usr/lib/sendmail -C</B></CODE><CODECLASS="replaceable"><I>copy.cf uucpaddress</I></CODE><CODECLASS="userinput"><B> &lt; </B></CODE><CODECLASS="replaceable"><I>message</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, the <CODECLASS="literal">-C</CODE><CODECLASS="replaceable"><I>copy.cf</I></CODE> command-line argument causes<EMCLASS="emphasis">sendmail</EM> to use the copy of the <EMCLASS="emphasis">sendmail.cf</EM> file ratherthan the original. The <CODECLASS="replaceable"><I>uucpaddress</I></CODE> is the address ofa recipient that would normally be sent via UUCP. The <CODECLASS="replaceable"><I>message</I></CODE>should contain only a <CODECLASS="literal">Subject:</CODE> header line and a minimalbody:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Subject: test   <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> one line header</I>                <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> a blank line</I>This is a test. <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> one line body</I></PRE></BLOCKQUOTE></P><PCLASS="para">If <EMCLASS="emphasis">sendmail</EM> prints the message with a five-character &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot;header line at the top, then you know that <EMCLASS="emphasis">sendmail</EM>is the culprit.&#13;</P></DIV><DIVCLASS="refsect1"><H4CLASS="refsect1"><ACLASS="title"NAME="SML2-CH-30-SECT-4-9-1">30.4.9.1 </A>m4 modifications of P=</H4><PCLASS="para">In using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration technique, the <CODECLASS="literal">P=</CODE> equatecan be easily changed for all delivery agents byusing the definitions in the leftmost column of<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-TAB-4"TITLE="m4 Modification of P= Equates">Table 30.5</A>.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="SML2-CH-30-TAB-4">Table 30.5: m4 Modification of P= Equates</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">define()</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Agent</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">MAILER()</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Default P=</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CYRUS_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/cyrus/bin/deliver</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CYRUS_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrusbb</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">cyrus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/cyrus/bin/deliver</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">FAX_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/local/lib/fax/mailfax</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">LOCAL_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/bin/mail</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">LOCAL_SHELL_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">prog</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">local</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/bin/sh</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">MAIL11_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail11</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/etc/mail11</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">PH_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">ph</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">phquery</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/local/etc/phquery</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">POP_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">pop</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/lib/mh/spop</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">PROCMAIL_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">procmail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/local/bin/procmail</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">[IPC]</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">esmtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">[IPC]</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp8</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">[IPC]</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">relay</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">smtp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">[IPC]</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">USENET_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">usenet</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">usenet</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/lib/news/inews</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/bin/uux</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-old</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/bin/uux</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">suucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/bin/uux</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-new</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/bin/uux</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-dom</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/bin/uux</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">UUCP_MAILER_PATH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp-uudom</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">uucp</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/usr/bin/uux</TD></TR></TBODY></TABLE><PCLASS="para">In general, the default values given to these are automatically set whenyou include the appropriate OSTYPE() directive (see <ACLASS="xref"HREF="ch20_03.htm#SML2-CH-20-SECT-3-1"TITLE="">Section 20.3.1, addheader()</A>).</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-10">30.4.10 R=</A></H3><PCLASS="refpurpose">Recipient Rewriting Set</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-30147"></A><ACLASS="indexterm"NAME="AUTOID-30149"></A>The <CODECLASS="literal">R=</CODE> equate specifies a rule setto be used for processing all envelope- and header-recipient addressesfor a specific delivery agent.Mail messages are always addressed to at least one recipient,but there may be more. The addresses of the recipients are givenin the envelope and are usually repeated in the mail message's header. The envelopeaddress is given to <EMCLASS="emphasis">sendmail</EM> in one of three ways:as a command-line argument;as an SMTP RCPT command; or as <CODECLASS="literal">To:</CODE>, <CODECLASS="literal">Cc:</CODE>,and <CODECLASS="literal">Bcc:</CODE> headers (if the <CODECLASS="literal">-t</CODE> command-line switch is given).[9]<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-FIG-0"TITLE="The flow of addresses through rule sets">Figure 30.1</A>shows how the <CODECLASS="literal">R=</CODE> rule set fits into the flow of addresses throughrule sets.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[9] The <CODECLASS="literal">-t</CODE> switch is intended for initial submissions only.</P></BLOCKQUOTE><H4CLASS="figure"><ACLASS="title"NAME="SML2-CH-30-FIG-0">Figure 30.1: The flow of addresses through rule sets</A></H4><IMGCLASS="graphic"SRC="figs/sm1001.gif"ALT="Figure 30.1"><PCLASS="para"></P><PCLASS="para">There are two forms for the <CODECLASS="literal">R=</CODE> equate. One is the standard form,and the other is an enhanced alternative beginning with V8 <EMCLASS="emphasis">sendmail</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R=<CODECLASS="replaceable"><I>ruleset            </I></CODE><ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> legal for all</I>R=<CODECLASS="replaceable"><I>eset/hset          </I></CODE><ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> legal beginning with V8</I></PRE></BLOCKQUOTE></P><PCLASS="para">In the first case, <CODECLASS="replaceable"><I>ruleset</I></CODE> specifies the rule set to use inrewriting both headers and the envelope.If thatvalue is zero or if the entire <CODECLASS="literal">R=</CODE> equate ismissing, no rule set is called.</P><PCLASS="para">In the second case, two rule sets may be specified.[10]One rule setis specific to the envelope, and the other is specific to headers.The envelope-specific rule set is the one to the left of the slash; theheader-specific rule set is to the right (<CODECLASS="literal">R=eset/hset</CODE>). If both values are missing, both default to zero.If only one is missing, the missing value defaults to the other value.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[10] This form was inspired by an identical form in IDA <EMCLASS="emphasis">sendmail</EM>.</P></BLOCKQUOTE><PCLASS="para">Either rule set may be specified by using names or numbers or both:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R=Myset                   <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> name</I>R=12                      <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> number</I>R=Myset=12                <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> both</I></PRE></BLOCKQUOTE></P><PCLASS="para">See <ACLASS="xref"HREF="ch29_01.htm#SML2-CH-29-SECT-1"TITLE="The S Configuration Command">Section 29.1, "The S Configuration Command"</A> for a discussion of the variouslegal ways in which rule sets can be specified.</P><PCLASS="para">Macros may not be used in delivery agent rule-set specifications.That is,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R=$X</PRE></BLOCKQUOTE></P><PCLASS="para">will not give the expected result. Instead, <EMCLASS="emphasis">sendmail</EM> willcomplain about a missing rule-set specification.</P><PCLASS="para">When using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration, you cannotchange or specify <CODECLASS="literal">R=</CODE> rule sets.If the need arises, however, you cancopy an existing delivery agent definition and thenmodify it as outlined in <ACLASS="xref"HREF="ch30_03.htm#SML2-CH-30-SECT-3-1"TITLE="Tuning Without an Appropriate Keyword">Section 30.3.1</A>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-11">30.4.11 S=</A></H3><PCLASS="refpurpose">Sender rewriting set</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-30210"></A><ACLASS="indexterm"NAME="AUTOID-30212"></A>The <CODECLASS="literal">S=</CODE> equate specifies a rule setto be used for processing both envelope- and header-sender addresses.The sender's address is given in the envelope and generally repeated in the mail message's <CODECLASS="literal">From:</CODE>header line.[11]The envelopeaddress is given to <EMCLASS="emphasis">sendmail</EM> in one of four ways: as a <CODECLASS="literal">-f</CODE> command-line argument,as an SMTP <CODECLASS="literal">MAIL</CODE> command, as a<CODECLASS="literal">From:</CODE> header, or derived from the identity of the userwho ran the program (these latter two are used only during initial message submission).<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-FIG-0"TITLE="The flow of addresses through rule sets">Figure 30.1</A>shows how the <CODECLASS="literal">S=</CODE> rule set fits into the flow of addresses throughrule sets.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[11] It is not unusual for these to differ. For example, mail thathas been passed through a mailing list exploder may show one addressin the envelope and another in the <CODECLASS="literal">From:</CODE> header line.</P></BLOCKQUOTE><PCLASS="para">There are two forms for the <CODECLASS="literal">S=</CODE> equate. One is the standard form,and the other is an enhanced alternative beginning with V8 <EMCLASS="emphasis">sendmail</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S=<CODECLASS="replaceable"><I>ruleset            </I></CODE><ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> legal for all</I>S=<CODECLASS="replaceable"><I>eset/hset          </I></CODE><ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> legal beginning with V8</I></PRE></BLOCKQUOTE></P><PCLASS="para">The first case specifies a rule set (<CODECLASS="replaceable"><I>ruleset</I></CODE>) that will processboth recipient and header addresses.If <CODECLASS="replaceable"><I>ruleset</I></CODE> is zero or if the entire <CODECLASS="literal">S=</CODE> equate ismissing, no rule set is called.</P><PCLASS="para">In the second case, one rule set is specific to the envelope, and the other is specific toheaders.  The envelope-specific rule is the one to the left of the slash; the header-specific rule is the one to the right (<CODECLASS="literal">S=eset/hset</CODE>).If both values are both missing, no sender <CODECLASS="literal">S=</CODE> processing is done.If only one is missing, the missing value defaults to become the other value.(See <ACLASS="xref"HREF="ch29_01.htm"TITLE="Rule Sets">Chapter 29, <CITECLASS="chapter">Rule Sets</CITE></A>, for a descriptionof possible errors and how the new V8.7 symbolic rule set names can be used.)</P><PCLASS="para">Either rule set may be specified using names or numbers or both:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S=Myset                   <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> name</I>S=12                      <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> number</I>S=Myset=12                <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> both</I></PRE></BLOCKQUOTE></P><PCLASS="para">See <ACLASS="xref"HREF="ch29_01.htm#SML2-CH-29-SECT-1"TITLE="The S Configuration Command">Section 29.1</A> for a discussion of the variouslegal ways rule sets can be specified.</P><PCLASS="para">Macros may not be used in delivery agent rule set specifications.That is,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">S=$X</PRE></BLOCKQUOTE></P><PCLASS="para">will not give the expected result. Instead, <EMCLASS="emphasis">sendmail</EM> willcomplain about a missing rule set specification.</P><PCLASS="para">When using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration, you cannotchange or specify <CODECLASS="literal">S=</CODE> rule sets.If the need arises, however, you cancopy an existing delivery agent definition, thenmodify it as outlined in <ACLASS="xref"HREF="ch30_03.htm#SML2-CH-30-SECT-3-1"TITLE="Tuning Without an Appropriate Keyword">Section 30.3.1</A>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-12">30.4.12 T=</A></H3><PCLASS="refpurpose">Types for DSN diagnostics</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-30269"></A><ACLASS="indexterm"NAME="AUTOID-30271"></A>Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>, notification of successful, deferred,or failed delivery is now determined by Delivery StatusNotification (DSN, see RFC1891). The <CODECLASS="literal">T=</CODE> equate provides three pieces of required information to DSN.The pieces are separated by the slash character:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">T=<CODECLASS="replaceable"><I>mta-type</I></CODE>/<CODECLASS="replaceable"><I>addr-type</I></CODE>/<CODECLASS="replaceable"><I>diag-type</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The first piece, the <CODECLASS="replaceable"><I>mta-type</I></CODE>, is later suppliedto the <CODECLASS="literal">Reporting-MTA:</CODE> DSN header, as its first argument:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Reporting-MTA: dns; here.us.edu               <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>               <ICLASS="lineannotation">mta-type here</I></PRE></BLOCKQUOTE></P><PCLASS="para">The second piece, the <CODECLASS="replaceable"><I>addr-type</I></CODE>, is later suppliedto the <CODECLASS="literal">Final-Recipient:</CODE> DSN header, as its first argument:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Final-Recipient: rfc822; badname@here.us.edu                 <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                 <ICLASS="lineannotation">addr-type here</I></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;The third piece, the <CODECLASS="replaceable"><I>diag-type</I></CODE>, is later suppliedto the <CODECLASS="literal">Diagnostic-Code:</CODE> DSN header, as its first argument:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Diagnostic-Code: smtp; 550 &lt;badname@here.us.edu&gt;... User unknown                 <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                 <ICLASS="lineannotation">diag-type here</I></PRE></BLOCKQUOTE></P><PCLASS="para">If the <CODECLASS="literal">P=</CODE> for a delivery agent is <CODECLASS="literal">[IPC]</CODE> or<CODECLASS="literal">[TCP]</CODE>, an undeclared <CODECLASS="replaceable"><I>mta-type</I></CODE> defaults to <CODECLASS="literal">dns</CODE>,an undeclared <CODECLASS="replaceable"><I>addr-type</I></CODE> to <CODECLASS="literal">rfc822</CODE>, and an undeclared<CODECLASS="replaceable"><I>diag-type</I></CODE> to <CODECLASS="literal">smtp</CODE>. For any other <CODECLASS="literal">P=</CODE> the defaultfor an undeclared entry is NULL.</P><PCLASS="para">In configuring with the <EMCLASS="emphasis">m4</EM> technique, the declarations of the<CODECLASS="literal">T=</CODE> equates are</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">T=X-Unix                        <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> cyrus and prog (equivalent to X-Unix/X-Unix/X-Unix)</I>T=X-Phone/X-FAX/X-Unix          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> fax</I>T=DNS/RFC822/X-Unix             <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> local, pop, and procmail</I>T=DNS/RFC822/SMTP               <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> all SMTP agents</I>T=X-Usenet/X-Usenet/X-Unix      <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> Usenet</I>T=X-UUCP/X-UUCP/X-Unix          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> all UUCP agents</I></PRE></BLOCKQUOTE></P><PCLASS="para">You cannot change these <CODECLASS="literal">T=</CODE> defaults.If the need arises, you can, however,copy an existing delivery agent definition and thenmodify it as outlined in <ACLASS="xref"HREF="ch30_03.htm#SML2-CH-30-SECT-3-1"TITLE="Tuning Without an Appropriate Keyword">Section 30.3.1</A>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-4-13">30.4.13 U=</A></H3><PCLASS="refpurpose">Run agent as uid:gid</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-30336"></A><ACLASS="indexterm"NAME="AUTOID-30338"></A>Prior to V8.7 the user and group identities under which <EMCLASS="emphasis">sendmail</EM>ran were defined by an elaborate set of properties (described underthe <CODECLASS="literal">F=S</CODE> flag in <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-40"TITLE="">Section 30.8.40, F=S</A>).Beginning with V8.7, <EMCLASS="emphasis">sendmail</EM> now offers the <CODECLASS="literal">U=</CODE> equateas the means to define those identities.If the <CODECLASS="literal">U=</CODE> equate is specified, it sets the defaultuser and group identities for the delivery agent and always overridesthe values of the <CODECLASS="literal">DefaultUser</CODE> (<CODECLASS="literal">u</CODE>) (<CODECLASS="literal">g</CODE>) option (see<ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-15"TITLE="">Section 34.8.15, DefaultUser (g)(u)</A>).If the <CODECLASS="literal">F=S</CODE> flag is not set, any controlling user will override this<CODECLASS="literal">U=</CODE> equate.If the <CODECLASS="literal">F=S</CODE> flag is set, this <CODECLASS="literal">U=</CODE> equate is absolute, overridingeverything, including any controlling user.</P><PCLASS="para">The form of the <CODECLASS="literal">U=</CODE> equate looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">U=<CODECLASS="replaceable"><I>user</I></CODE>:<CODECLASS="replaceable"><I>group</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="replaceable"><I>user</I></CODE> is the alphanumeric identity of a user on the localsystem. If <CODECLASS="replaceable"><I>user</I></CODE> is found in the local <EMCLASS="emphasis">passwd</EM>(5) file, thenumeric <EMCLASS="emphasis">uid</EM> from that file becomes the value used. Otherwise, <CODECLASS="replaceable"><I>user</I></CODE>,which must be fully numeric, becomes the value used.</P><PCLASS="para">The colon,[12]if present, is followed by the alphanumeric identity of a group on thelocal system. If the <CODECLASS="replaceable"><I>group</I></CODE> is found in the local <EMCLASS="emphasis">group</EM>(5)file, the numeric <EMCLASS="emphasis">gid</EM> from that file is used. Otherwise, <CODECLASS="replaceable"><I>group</I></CODE>,which must be fully numeric, becomes the value used. If the colonand group are missing or if the <CODECLASS="replaceable"><I>user</I></CODE> was found in the<EMCLASS="emphasis">passwd</EM>(5) file, the value is taken from the <EMCLASS="emphasis">gid</EM> field of the<EMCLASS="emphasis">passwd</EM>(5) file.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[12] A colon is used because the POSIX standard allows login names to containa dot.</P></BLOCKQUOTE><PCLASS="para">In using V8 <EMCLASS="emphasis">sendmail</EM>'s m4 configuration, no <CODECLASS="literal">U=</CODE> equate is specifiedfor any delivery agent. You cannot add a <CODECLASS="literal">U=</CODE> equate with the <EMCLASS="emphasis">m4</EM> technique.If the need arises, however, you cancopy an existing delivery agent definition and then modify it as outlined in <ACLASS="xref"HREF="ch30_03.htm"TITLE="m4 Configuration Syntax">Section 30.3, "m4 Configuration Syntax"</A>.<ACLASS="indexterm"NAME="AUTOID-30384"></A><ACLASS="indexterm"NAME="AUTOID-30385"></A></P></DIV></BLOCKQUOTE></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_03.htm"TITLE="30.3 m4 Configuration Syntax"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.3 m4 Configuration Syntax"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_05.htm"TITLE="30.5 Internally Defined Names"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.5 Internally Defined Names"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">30.3 m4 Configuration Syntax</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">30.5 Internally Defined Names</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>