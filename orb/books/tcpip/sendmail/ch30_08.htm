<HTML><HEAD><TITLE>[Chapter 30] 30.8 Alphabetized F= Flags</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T19:58:27Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch30_01.htm"TITLE="30. Delivery Agents"><LINKREL="prev"HREF="ch30_07.htm"TITLE="30.7 Pitfalls"><LINKREL="next"HREF="ch31_01.htm"TITLE="31. Defined Macros"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_07.htm"TITLE="30.7 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.7 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 30<BR>Delivery Agents</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch31_01.htm"TITLE="31. Defined Macros"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 31. Defined Macros"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-30-SECT-8">30.8 Alphabetized F= Flags</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-30-IX-FLAGS-DELIVERY-AGENT"></A><ACLASS="indexterm"NAME="SML2-CH-30-IX-DELIVERY-AGENTS-MTAS-FLAGS"></A>In this section we detail each of the delivery agent flags.The complete list is shown in<ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-TAB-7"TITLE="Delivery Agent F= Flags">Table 30.8</A>.They are presented in alphabetical order.Lowercase letters precede uppercase letters for each flag.</P><PCLASS="para">When configuring with the <EMCLASS="emphasis">m4</EM> technique, you should consult<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-TAB-1"TITLE="m4 Modification of A= Equates">Table 30.2</A> in <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5-1"TITLE="m4 modification of F=">Section 30.4.5.1, "m4 modification of F="</A>, to determinewhich flags are set by default for which delivery agents.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="SML2-CH-30-TAB-7">Table 30.8: Delivery Agent F= Flags</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Flag</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1"></TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Meaning</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">0</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-1"TITLE="">Section 30.8.1</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Turn off MX lookups for delivery agent (V8.8 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">3</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-2"TITLE="">Section 30.8.2, F=3</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Extend quoted-printable to EBCDIC (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">5</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-3"TITLE="">Section 30.8.3, F=5</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Use rule set 5 after local aliasing (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">7</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-4"TITLE="">Section 30.8.4, F=7</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Strip the high bit when delivering (V8.6 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">8</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-5"TITLE="">Section 30.8.5, F=8</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Suppress EightBitMode=m MIME encoding (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">9</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-6"TITLE="">Section 30.8.6, F=9</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Convert 7- to 8-bit if appropriate</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">:</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-7"TITLE="">Section 30.8.7, F=:</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Check for :include: files (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">|</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-8"TITLE="">Section 30.8.8, F=| (vertical bar)</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Check for |program addresses (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">/</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-9"TITLE="">Section 30.8.9, F=/ (forward slash)</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Check for /file addresses (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">@</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-10"TITLE="">Section 30.8.10, F=@</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">User can be User Database key (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">a</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-11"TITLE="">Section 30.8.11, F=a</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Run extended SMTP protocol (V8.6 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">A</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-12"TITLE="">Section 30.8.12, F=A</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">User can be LHS of an alias (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">b</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-13"TITLE="">Section 30.8.13, F=b</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Add a blank line after message (V8.6 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">c</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-14"TITLE="">Section 30.8.14, F=c</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Exclude comment from $g in headers (V8.6 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">C</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-15"TITLE="">Section 30.8.15, F=C</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Add <EMCLASS="emphasis">@domain</EM> to recipient</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">d</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-16"TITLE="">Section 30.8.16, F=d</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Never enclose route addresses in &lt;&gt; (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">D</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-17"TITLE="">Section 30.8.17, F=D</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Need <CODECLASS="literal">Date:</CODE> in header</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">e</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-18"TITLE="">Section 30.8.18, F=e</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Mark expensive delivery agents</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">E</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-19"TITLE="">Section 30.8.19, F=E</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Change extra From into &gt;From</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">f</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-20"TITLE="">Section 30.8.20, F=f</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Delivery agent adds -f to argv</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">F</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-21"TITLE="">Section 30.8.21, F=F</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Need <CODECLASS="literal">From:</CODE> in header</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">g</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-22"TITLE="">Section 30.8.22, F=g</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Suppress From:&lt;&gt; (V8.6 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">h</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-23"TITLE="">Section 30.8.23, F=h</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Preserve uppercase in hostname</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">i</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-24"TITLE="">Section 30.8.24, F=i</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Do UDB sender rewrite on envelope (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">I</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-25"TITLE="">Section 30.8.25, F=I (uppercase i)</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Send SMTP VERB to other site</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">j</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-26"TITLE="">Section 30.8.26, F=j</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Perform UDB rewrite of header recipient addresses (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">k</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-27"TITLE="">Section 30.8.27, F=k</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Don't check for loops in HELO command (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">l</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-28"TITLE="">Section 30.8.28, F=l (lowercase L)</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Delivery agent is local (final) delivery</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">L</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-29"TITLE="">Section 30.8.29</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Specify SMTP line limits (Obsolete)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">m</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-30"TITLE="">Section 30.8.30, F=m</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Multiple recipients possible</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">M</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-31"TITLE="">Section 30.8.31, F=M</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Need <CODECLASS="literal">Message-ID:</CODE> in header</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">n</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-32"TITLE="">Section 30.8.32, F=n</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Don't use UNIX-style <CODECLASS="literal">From</CODE> in header</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">o</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-33"TITLE="">Section 30.8.33</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Always run delivery agent as recipient (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">p</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-34"TITLE="">Section 30.8.34, F=p</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Process return path correctly (deprecated)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">P</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-35"TITLE="">Section 30.8.35, F=P</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Need <CODECLASS="literal">Return-Path:</CODE> in header</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">q</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-36"TITLE="">Section 30.8.36, F=q</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">250 versus 252 return for SMTP VRFY (V8.8 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">r</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-37"TITLE="">Section 30.8.37, F=r</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Delivery agent adds -r to argv</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">R</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-38"TITLE="">Section 30.8.38, F=R</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Use a reserved TCP port (V8 only)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">s</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-39"TITLE="">Section 30.8.39, F=s</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Strip quotation marks</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">S</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-40"TITLE="">Section 30.8.40</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Assume specified uid and gid (Revised for V8.7)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">u</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-41"TITLE="">Section 30.8.41, F=u</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Preserve uppercase for username</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">U</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-42"TITLE="">Section 30.8.42, F=U</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Use UNIX-style <CODECLASS="literal">From</CODE> line</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">w</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-43"TITLE="">Section 30.8.43, F=w</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Check for /etc/passwd entry (V8.7 and above)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">x</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-44"TITLE="">Section 30.8.44, F=x</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Need <CODECLASS="literal">Full-Name:</CODE> in header</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">X</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-45"TITLE="">Section 30.8.45, F=X</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Delivery agent needs RFC821 hidden dot</TD></TR></TBODY></TABLE><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-1">30.8.1 F=0</A></H3><PCLASS="refpurpose">Turn off MX lookups for delivery agent</P>(V8.8 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31239"></A><ACLASS="indexterm"NAME="AUTOID-31241"></A>During the delivery phase of a message, <EMCLASS="emphasis">sendmail</EM> looks up the destination hostname with DNS and (possibly) redirects deliveryto MX hosts, if present.One way (but not the best way) to suppress that MX lookup is to surround the destination hostname with square brackets.An unfortunate side effect of this technique is that the square bracketsare included in the envelope of the message:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">RCPT To:&lt;user@[mail.us.edu]&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">F=0</CODE> flag is a better way to suppress MX lookups.For an example of one use for this flag,consider the <CODECLASS="literal">nullclient</CODE> feature from <ACLASS="xref"HREF="ch19_06.htm#SML2-CH-19-SECT-6-20"TITLE="">Section 19.6.20, FEATURE(nullclient)</A>.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">FEATURE(`nullclient',`mail.us.edu')</PRE></BLOCKQUOTE></P><PCLASS="para">Here, all mail will be forwarded to <CODECLASS="literal">mail.us.edu</CODE>; but because <CODECLASS="literal">mail.us.edu</CODE>is not surrounded by square brackets, its MX records will be looked up fordelivery. This may not be desirable, because the hostname in the envelopewill change depending on which MX record is selected.To suppress those MX lookups, we can surround the addresswith square brackets:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">FEATURE(`nullclient',`[mail.us.edu]')</PRE></BLOCKQUOTE></P><PCLASS="para">But this has the unfortunate side effect of adding the bracketed name<CODECLASS="literal">[mail.us.edu]</CODE> to the outgoing envelope. If, instead,the brackets are omitted and the <CODECLASS="literal">F=0</CODE> flag is added, we achievethe same MX suppression effect and send out a legal envelope:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">define(`SMTP_MAILER_FLAGS', `0')FEATURE(`nullclient',`mail.us.edu')</PRE></BLOCKQUOTE></P><PCLASS="para">A better way to achieve the same effect is to define a new delivery agent anduse that with the <CODECLASS="literal">nullclient</CODE> feature:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">FEATURE(`nullclient',`nomxsmtp:mail.us.edu')LOCAL_CONFIGM<CODECLASS="userinput"><B>nomxsmtp</B></CODE>, P=[IPC], F=<CODECLASS="userinput"><B>0</B></CODE>mDFMuX, S=11/31, R=21, E=\r\n, L=990, T=DNS/RFC822/SMTP, A=IPC $h                       <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>                     <ICLASS="lineannotation">note</I></PRE></BLOCKQUOTE></P><PCLASS="para">This second approach is much better for the various <CODECLASS="literal">..._RELAY</CODE> features.</P><PCLASS="para">The <CODECLASS="literal">F=0</CODE> flag is suitable only for configurations like the <CODECLASS="literal">nullclient</CODE>.It can be extremely dangerous to use it with any other delivery agents, becauseit can cause necessary MX lookups to be skipped.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-2">30.8.2 F=3</A></H3><PCLASS="refpurpose">Extend quoted-printable to EBCDIC</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31284"></A><ACLASS="indexterm"NAME="AUTOID-31286"></A><ACLASS="indexterm"NAME="AUTOID-31288"></A><ACLASS="indexterm"NAME="AUTOID-31290"></A><ACLASS="indexterm"NAME="AUTOID-31292"></A>When <EMCLASS="emphasis">sendmail</EM> is required to convert a message body into <EMCLASS="emphasis">quoted-printable</EM> form as determined by the <CODECLASS="literal">EightBitMode</CODE>(<CODECLASS="literal">8</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-22"TITLE="">Section 34.8.22</A>), it ordinarilyconverts only those characters that are required by RFC1521.Unfortunately, mail that is transmitted to some IBM machines (specificallythose that speak EBCDIC instead of ASCII) can becomegarbled because of the way EBCDIC represents (or fails torepresent) certain characters.  Those characters are</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">! &quot; # $ @ \ [  ] ^ ` { | } ~</PRE></BLOCKQUOTE></P><PCLASS="para">When sending MIME mail to such sites, you should probably setthe <CODECLASS="literal">F=3</CODE> flag for any delivery agents that handle those sites.Setting this flag tells <EMCLASS="emphasis">sendmail</EM> to encode those characters, in additionto those normally encoded, using <EMCLASS="emphasis">quoted-printable</EM>.</P><PCLASS="para">Note that <EMCLASS="emphasis">sendmail</EM> does this encoding only if 8-bit characters appearin the message. This flag solves one EBCDIC problem but should notbe thought of as a general solution for all EBCDIC problems.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-3">30.8.3 F=5</A></H3><PCLASS="refpurpose">Use rule set 5 after local aliasing</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31315"></A><ACLASS="indexterm"NAME="AUTOID-31317"></A><ACLASS="indexterm"NAME="AUTOID-31320"></A>Prior to V8.7 <EMCLASS="emphasis">sendmail</EM>, only the <CODECLASS="literal">local</CODE> delivery agentcould cause rule set 5 to be called (see <ACLASS="xref"HREF="ch29_07.htm"TITLE="Rule Set 5">Section 29.7, "Rule Set 5"</A>). Rule set5 is called after aliasing and before forwarding, and can be usedto select a new delivery agent. Beginning with V8.7,any delivery agent with the <CODECLASS="literal">F=A</CODE> flag set(see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-12"TITLE="">Section 30.8.12</A>) cancause an address to be looked up in the <EMCLASS="emphasis">aliases</EM>(5) file.Therefore any delivery agent that has the <CODECLASS="literal">F=A</CODE> and<CODECLASS="literal">F=5</CODE> flag set willcause rule set 5 to be called as though the agent were the<CODECLASS="literal">local</CODE> delivery agent.</P><PCLASS="para">In configuration files prior to Version 6 (see <ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5, "The V Configuration Command"</A>) this flag is automatically set for the <CODECLASS="literal">local</CODE> delivery agent.Note that addresses that (perhaps artificially) begin withan <CODECLASS="literal">@</CODE> character cause rule set 5 to be skipped (see<ACLASS="xref"HREF="ch29_07.htm"TITLE="Rule Set 5">Section 29.7</A>).</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-4">30.8.4 F=7</A></H3><PCLASS="refpurpose">Strip the high bit when delivering</P>(V8.6 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31345"></A><ACLASS="indexterm"NAME="AUTOID-31347"></A><ACLASS="indexterm"NAME="AUTOID-31349"></A>Under old versions of <EMCLASS="emphasis">sendmail</EM>, all lines of text outputby <EMCLASS="emphasis">sendmail</EM> (including the header and body of a message) automaticallyhave the high bit cleared (zeroed) for every character.This behavior remains unchanged under V8 <EMCLASS="emphasis">sendmail</EM> for configurationfile versions 2 or less (see <ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5</A>).But with version 3 and above configuration files, the message body is transmitted with the high bit intact by default.For those delivery agents that should not allow 8-bit data to betransmitted, you may use the <CODECLASS="literal">F=7</CODE> flag to force the oldbehavior.</P><PCLASS="para">Beginning with V8.7, the <CODECLASS="literal">F=7</CODE> flag can be used to suppresscertain kinds of MIME conversions. For example, if the<CODECLASS="literal">EightBitMode</CODE> (<CODECLASS="literal">8</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-22"TITLE="">Section 34.8.22</A>)is set to <CODECLASS="literal">p</CODE> (pass 8)and if the message contains 8-bit MIME data in its body, this <CODECLASS="literal">F=7</CODE> flag will force <EMCLASS="emphasis">sendmail</EM> to bounce the message withthe following SMTP error, to put <CODECLASS="literal">5.6.3</CODE> (see RFC1893) in its DSNstatus, and to exit with EX_DATAERR:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">554 Cannot send 8-bit data to 7-bit destination</PRE></BLOCKQUOTE></P><PCLASS="para">Note that <CODECLASS="literal">F=7</CODE> affects only the message body. Headers always have thehigh bit cleared.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-5">30.8.5 F=8</A></H3><PCLASS="refpurpose">Suppress EightBitMode=m MIME encoding</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31378"></A><ACLASS="indexterm"NAME="AUTOID-31380"></A><ACLASS="indexterm"NAME="AUTOID-31382"></A>Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>,you can set the <CODECLASS="literal">EightBitMode</CODE> (<CODECLASS="literal">8</CODE>) option(see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-22"TITLE="">Section 34.8.22</A>) to <CODECLASS="literal">m</CODE> (mimefy) to forceall unlabeled 8-bit mail to be converted into MIME labeled mail.</P><PCLASS="para">&#13;You can suppress this conversion for particular delivery agents byspecifying the <CODECLASS="literal">F=8</CODE> flag.This form of suppression has the effect of setting the <CODECLASS="literal">EightBitMode</CODE> (<CODECLASS="literal">8</CODE>) optionto <CODECLASS="literal">p</CODE> (pass 8) for an individual delivery agent.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-6">30.8.6 F=9</A></H3><PCLASS="refpurpose">Convert 7- to 8-bit if appropriate</P>(V8.8 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31402"></A><ACLASS="indexterm"NAME="AUTOID-31404"></A><ACLASS="indexterm"NAME="AUTOID-31406"></A><ACLASS="indexterm"NAME="AUTOID-31408"></A>The <CODECLASS="literal">F=9</CODE> flag cause the MIME message body of a deliveredmessage to be converted back from either <EMCLASS="emphasis">quoted-printable</EM> or<EMCLASS="emphasis">base64</EM> into its original 8-bit form. The <CODECLASS="literal">F=9</CODE> flag iseffective only if <EMCLASS="emphasis">sendmail</EM> was compiled with MIME7TO8defined (see <ACLASS="xref"HREF="ch18_08.htm#SML2-CH-18-SECT-8-21"TITLE="">Section 18.8.21, MIME7TO8</A>).</P><PCLASS="para">Conversion works only on single-part MIME messages. If the<CODECLASS="literal">Content-Transfer-Encoding:</CODE> header type is <CODECLASS="literal">base64</CODE>,conversion is done from <EMCLASS="emphasis">base64</EM> to 8-bit. Otherwise,if the <CODECLASS="literal">Content-Transfer-Encoding:</CODE> header type is<EMCLASS="emphasis">quoted-printable</EM>, then conversion is done from<EMCLASS="emphasis">quoted-printable</EM> to 8-bit. If the<CODECLASS="literal">Content-Transfer-Encoding:</CODE> header type is neither,no conversion is done.The conversion process can be watched with the <CODECLASS="literal">-d43.3</CODE>debugging switch (see <ACLASS="xref"HREF="ch37_05.htm#SML2-CH-37-SECT-5-151"TITLE="">Section 37.5.151, -d43.3</A>).</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-7">30.8.7 F=:</A></H3><PCLASS="refpurpose">Check for :include: files</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31434"></A><ACLASS="indexterm"NAME="AUTOID-31436"></A>Prior to V8.7 <EMCLASS="emphasis">sendmail</EM>, only the <CODECLASS="literal">local</CODE> deliveryagent could recognize the <CODECLASS="literal">:include:</CODE> directive for creatingmailing lists (see <ACLASS="xref"HREF="ch25_02.htm"TITLE=":include: Mailing Lists">Section 25.2, ":include: Mailing Lists"</A>).</P><PCLASS="para">Beginning with V8.7, any delivery agent can be made to recognize the<CODECLASS="literal">:include:</CODE> directive by setting the <CODECLASS="literal">F=:</CODE> flag (orto ignore it by not setting the <CODECLASS="literal">F=:</CODE> flag). This flag allows you to design a<CODECLASS="literal">local</CODE> delivery agent without <CODECLASS="literal">:include:</CODE> supportor local-type clones with <CODECLASS="literal">:include:</CODE> support.In configuration files prior to Version 6 (see <ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5</A>) this flag is automatically set for the <CODECLASS="literal">local</CODE> delivery agent.</P><PCLASS="para">This flag is only legal for addresses contained in <EMCLASS="emphasis">aliases</EM>(5) databases or <EMCLASS="emphasis">~/.forward</EM> files. Any <CODECLASS="literal">:include:</CODE> address in an SMTP dialog or on the command-line will be rejected.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-8">30.8.8 F=| (vertical bar)</A></H3><PCLASS="refpurpose">Check for |program addresses</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31463"></A><ACLASS="indexterm"NAME="AUTOID-31465"></A><ACLASS="indexterm"NAME="AUTOID-31468"></A>Prior to V8.7 <EMCLASS="emphasis">sendmail</EM>, only the <CODECLASS="literal">local</CODE> deliveryagent could recognize the <CODECLASS="literal">|</CODE> character as a directive to pipe the mailmessage through a program.(See <ACLASS="xref"HREF="ch24_02.htm#SML2-CH-24-SECT-2-3"TITLE="Delivery via Programs">Section 24.2.3, "Delivery via Programs"</A> and <ACLASS="xref"HREF="ch25_07.htm#SML2-CH-25-SECT-7-4"TITLE="Piping Through Programs">Section 25.7.4, "Piping Through Programs"</A>.)</P><PCLASS="para">Beginning with V8.7, any delivery agent can be made toaccept the leading <CODECLASS="literal">|</CODE> character.If the <CODECLASS="literal">F=|</CODE> flag is present, the delivery agent willaccept the leading <CODECLASS="literal">|</CODE> character and call the <CODECLASS="literal">prog</CODE>delivery agent to pipe the message through a program.If the flag is absent, this ability to pipe is prohibited.In general, the <CODECLASS="literal">F=|</CODE> flag should be present for the<CODECLASS="literal">local</CODE> and local-clone delivery agents but absent forall others.In configuration files prior to Version 6 (see <ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5</A>) this flag is automatically set for the <CODECLASS="literal">local</CODE> delivery agent.</P><PCLASS="para">This flag is only legal for addresses contained in <EMCLASS="emphasis">aliases</EM>(5) databases or <EMCLASS="emphasis">~/.forward</EM> files. Any <CODECLASS="literal">|</CODE><CODECLASS="replaceable"><I>program</I></CODE> address in a SMTP dialog or on the command-line will be rejected.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-9">30.8.9 F=/ (forward slash)</A></H3><PCLASS="refpurpose">Check for /file addresses</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31498"></A><ACLASS="indexterm"NAME="AUTOID-31500"></A><ACLASS="indexterm"NAME="AUTOID-31502"></A>Prior to V8.7 <EMCLASS="emphasis">sendmail</EM>, only the <CODECLASS="literal">local</CODE> deliveryagent could recognize a leading <CODECLASS="literal">/</CODE> character as a directive to append themail message to a file.(See <ACLASS="xref"HREF="ch24_02.htm#SML2-CH-24-SECT-2-2"TITLE="Delivery to Files">Section 24.2.2</A> and <ACLASS="xref"HREF="ch25_07.htm#SML2-CH-25-SECT-7-3"TITLE="Appending to Files">Section 25.7.3, "Appending to Files"</A>.)</P><PCLASS="para">Beginning with V8.7, any delivery agent can be made to accept the leading <CODECLASS="literal">/</CODE> character.If the <CODECLASS="literal">F=/</CODE> flag is present, the delivery agent willaccept a leading <CODECLASS="literal">/</CODE> character and call the <CODECLASS="literal">*file*</CODE>delivery agent to append the mail message to a file.If the flag is absent, this ability to append is prohibited.In general, the <CODECLASS="literal">F=/</CODE> flag should be present for the<CODECLASS="literal">local</CODE> and local-clone delivery agents but absent forall others.In configuration files prior to Version 6 (see <ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5</A>), this flag is automatically set for the <CODECLASS="literal">local</CODE> delivery agent.</P><PCLASS="para">This flag is only legal for addresses contained in <EMCLASS="emphasis">aliases</EM>(5) databases or <EMCLASS="emphasis">~/.forward</EM> files. Any <CODECLASS="literal">/</CODE><CODECLASS="replaceable"><I>file</I></CODE> address in an SMTP dialog or on the command-line will be rejected.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-10">30.8.10 F=@</A></H3><PCLASS="refpurpose">User can be User Database key</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31532"></A><ACLASS="indexterm"NAME="AUTOID-31534"></A>If V8.7 or above <EMCLASS="emphasis">sendmail</EM> has been compiled with User Databasesupport (see <ACLASS="xref"HREF="ch33_05.htm"TITLE="The User Database">Section 33.5, "The User Database"</A>), specifying this flag for a deliveryagent causes the delivery agent to perform User Database lookups foreach address it handles.For sender header and envelope addresses, a User Database <CODECLASS="literal">mailname</CODE> keyword is used to perform reverse aliasing.For recipient envelope addresses, a User Database<CODECLASS="literal">maildrop</CODE> keyword is used to perform additional forward aliasing.Note that any address with a leading <CODECLASS="literal">@</CODE> character (in the <CODECLASS="literal">$:</CODE> partof the triple returned by rule set 0) causes User Database lookups to be skipped.Also note that the absence of an <CODECLASS="literal">F=i</CODE> flag (<ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-24"TITLE="">Section 30.8.24</A>)suppresses User Database rewriting of the envelope sender.</P><PCLASS="para">If the <CODECLASS="literal">F=@</CODE> flag is present, the delivery agent willtry to use the User Database. If the <CODECLASS="literal">F=@</CODE> flag is absent,all User Database lookups are skipped. In general, thisflag should be present for the<CODECLASS="literal">local</CODE> and local-clone delivery agents but absent forall others.In configuration files prior to Version 6 (see <ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5</A>) this flag is automatically set for the <CODECLASS="literal">local</CODE> delivery agent.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-11">30.8.11 F=a</A></H3><PCLASS="refpurpose">Run extended SMTP protocol</P>(V8 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31558"></A><ACLASS="indexterm"NAME="AUTOID-31560"></A>Most versions of <EMCLASS="emphasis">sendmail</EM> run only basic SMTP (SimpleMail Transfer Protocol) defined in RFC821.In 1993 that service was extended by RFC1425 to becomeExtended SMTP (or ESMTP). Beginning with V8 <EMCLASS="emphasis">sendmail</EM>, you can enable a delivery agent to use ESMTP by specifyingthe <CODECLASS="literal">F=a</CODE> flag. This causes <EMCLASS="emphasis">sendmail</EM> to first tryto use the extended form of the HELO command, called EHLO.If that fails to be acknowledged as okay, <EMCLASS="emphasis">sendmail</EM>tries again with nonextended SMTP. If the initial inbound greetingincludes a line containing the word ESMTP, the <CODECLASS="literal">F=a</CODE> flag is assumed.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-12">30.8.12 F=A</A></H3><PCLASS="refpurpose">User can be LHS of an alias</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31576"></A><ACLASS="indexterm"NAME="AUTOID-31578"></A><ACLASS="indexterm"NAME="AUTOID-31581"></A>Prior to V8.7 <EMCLASS="emphasis">sendmail</EM>, only the <CODECLASS="literal">local</CODE> deliveryagent could cause addresses to be looked up in the <EMCLASS="emphasis">aliases</EM>(5)database (see <ACLASS="xref"HREF="ch24_01.htm#SML2-CH-24-SECT-1-2"TITLE="Local Must Be Local">Section 24.1.2, "Local Must Be Local"</A>).Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>, any delivery agent that hasan <CODECLASS="literal">F=A</CODE> flag set will cause its <CODECLASS="literal">$:</CODE> address tobe looked up on the left-hand side of the <EMCLASS="emphasis">aliases</EM>(5) file.</P><PCLASS="para">For example, the <CODECLASS="literal">F=A</CODE> flag can be used to design a local-clonedelivery agent that recognizes certain nonlocal addresses as localfor aliasing purposes:[16]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[16] This example is somewhat contrived because the same thing can be donein a more versatile manner with the <CODECLASS="literal">mailertable</CODE> feature (see <ACLASS="xref"HREF="ch19_06.htm#SML2-CH-19-SECT-6-14"TITLE="">Section 19.6.14, FEATURE(mailertable)</A>).</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">R$+ &lt;@ FIRE.WALL&gt;     $#firelocal $: $1@fire.wall</PRE></BLOCKQUOTE></P><PCLASS="para">This allows an alias file like the following to legally exist:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">George.Washington@fire.wall:   gw@internal.net</PRE></BLOCKQUOTE></P><PCLASS="para">As a safety net (and if the <CODECLASS="literal">F=5</CODE> flag is also specified),any address that is not found in the <EMCLASS="emphasis">aliases</EM>(5) database willbe passed to rule set 5 (see <ACLASS="xref"HREF="ch29_07.htm"TITLE="Rule Set 5">Section 29.7</A>),where another delivery agent can be selected.</P><PCLASS="para">In configuration files prior to Version 6 (see <ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5</A>) the <CODECLASS="literal">F=A</CODE> flag is automatically set for the <CODECLASS="literal">local</CODE> delivery agent.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-13">30.8.13 F=b</A></H3><PCLASS="refpurpose">Add a blank line after message</P>(V8.6 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31619"></A><ACLASS="indexterm"NAME="AUTOID-31621"></A><ACLASS="indexterm"NAME="AUTOID-31624"></A>Some UNIX mailbox formats require a blank line at the end of one message andbefore the start of the next message.If your local version of <EMCLASS="emphasis">/bin/mail</EM> does not assure one, you may usethe <CODECLASS="literal">F=b</CODE> flag. If this flag is specified andif the message being sent to the delivery agent lacks ablank line at the end, <EMCLASS="emphasis">sendmail</EM> adds one.This flag is also appropriate for use with the <CODECLASS="literal">*file*</CODE> deliveryagent.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-14">30.8.14 F=c</A></H3><PCLASS="refpurpose">Exclude comment from $g in headers</P>(V8.6 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31639"></A><ACLASS="indexterm"NAME="AUTOID-31641"></A><ACLASS="indexterm"NAME="AUTOID-31644"></A>Ordinarily, <EMCLASS="emphasis">sendmail</EM> tries to preserve all RFC822 commentsin sender addresses (see <ACLASS="xref"HREF="ch35_03.htm#SML2-CH-35-SECT-3-4"TITLE="Comments in the Header Field">Section 35.3.4, "Comments in the Header Field"</A>).But beginning with V8.7, RFC822 comments can be be strippedby setting this <CODECLASS="literal">F=c</CODE> flag.(An RFC822 comment is one in parentheses or text outside angle brackets.)The sender address, always without a comment and stripped ofangle brackets, is placed into<CODECLASS="literal">$g</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-16"TITLE="">Section 31.10.16, $g</A>) and is used with the <CODECLASS="literal">-f</CODE> or <CODECLASS="literal">-r</CODE>arguments to <CODECLASS="literal">A=</CODE> (see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-37"TITLE="">Section 30.8.37</A>).In assembling headers,the comment is ordinarily restored to <CODECLASS="literal">$g</CODE>; but if this <CODECLASS="literal">F=c</CODE> flagis set, the comment is left out.</P><PCLASS="para">The main use for this flag is to supply just the address to programs thatcannot handle anything else.Another use might be to suppress disclosure of potentiallyproprietary information. By adding <CODECLASS="literal">F=c</CODE> to the <CODECLASS="literal">smtp</CODE> deliveryagent, for example, you can cause sender headers that are defined with <CODECLASS="literal">$g</CODE>to go out without RFC822 comments:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">From: George Washington (The Prez!) &lt;CX75G@fire.wall&gt;    <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> without F=c</I>From: CX75G@fire.wall                                    <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> with F=c</I></PRE></BLOCKQUOTE></P><PCLASS="para">Note that this does no good at all if users send out mail withdisclosing headers already present or if they give out informationin signature lines.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-15">30.8.15 F=C</A></H3><PCLASS="refpurpose">Add @domain to recipient</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31675"></A><ACLASS="indexterm"NAME="AUTOID-31677"></A><ACLASS="indexterm"NAME="AUTOID-31680"></A><ACLASS="indexterm"NAME="AUTOID-31683"></A>The <CODECLASS="literal">F=C</CODE> flag causes <EMCLASS="emphasis">sendmail</EM> to append an <EMCLASS="emphasis">@domain</EM>extension to any recipient address that lacks one.The <EMCLASS="emphasis">@domain</EM> that is added is copied from the envelope sender'saddress. </P><PCLASS="para">This <CODECLASS="literal">F=C</CODE> flag is not looked for in the delivery agentdefinition that was selected to send the message. Rather, it is looked for in the delivery agent that would beselected if the sender were the recipient (as in the caseof bounced mail). </P><PCLASS="para">To illustrate, consider the following mail:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">From: bill@oursite.eduTo: john@remotesite.gov, <CODECLASS="userinput"><B>alice</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The recipient address <CODECLASS="literal">alice</CODE> lacks an <EMCLASS="emphasis">@domain</EM>specification. The <EMCLASS="emphasis">sendmail</EM> program processes the envelopesender address <CODECLASS="literal">bill@oursite.edu</CODE> to decide on a deliveryagent definition that can be used if this mail needs to bereturned. If that envelope sender's return mail delivery agent has the<CODECLASS="literal">F=C</CODE> flag set, then the <CODECLASS="literal">@oursite.edu</CODE> part of theenvelope sender's address is appended to <CODECLASS="literal">alice</CODE>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">From: bill@oursite.eduTo: john@remotesite.gov, <CODECLASS="userinput"><B>alice@oursite.edu</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">F=C</CODE> flag is traditionally used for the <CODECLASS="literal">smtp</CODE> classof delivery agent that is supposed to always supply an <EMCLASS="emphasis">@domain</EM>part for all addresses.</P><PCLASS="para">Note that the domain part of the <EMCLASS="emphasis">envelope</EM> sender is used. In ourexample the envelope and header sender are the same.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-16">30.8.16 F=d</A></H3><PCLASS="refpurpose">Never enclose route addresses in &lt;&gt;</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31721"></A><ACLASS="indexterm"NAME="AUTOID-31723"></A><ACLASS="indexterm"NAME="AUTOID-31726"></A>Ordinarily, V8 <EMCLASS="emphasis">sendmail</EM> forces envelope-sender route addresses[17]to be enclosedin angle brackets. But beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>,angle brackets can be omitted by specifying <CODECLASS="literal">F=d</CODE>.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[17] Also see the <CODECLASS="literal">DontPruneRoutes</CODE> option in <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-20"TITLE="">Section 34.8.20, DontPruneRoutes (R)</A>and how route addresses are handled in rules in <ACLASS="xref"HREF="ch29_04.htm#SML2-CH-29-SECT-4-3"TITLE="Handling Routing Addresses">Section 29.4.3, "Handling Routing Addresses"</A>.</P></BLOCKQUOTE><PCLASS="para">Under some circumstances it is possible for these angle-bracketedaddresses to be given to a shell, causing them to be wrongly viewed as IO redirection.This problem is most common with the UUCP delivery agents.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-17">30.8.17 F=D</A></H3><PCLASS="refpurpose">Need Date: in header</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31746"></A><ACLASS="indexterm"NAME="AUTOID-31748"></A>The <CODECLASS="literal">F=D</CODE> flag is used by <EMCLASS="emphasis">sendmail.cf</EM> header commandsto forcethe inclusion of date information:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?D?Resent-Date: $aH?D?Date: $a</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">F=D</CODE> flag has no special internal meaning to <EMCLASS="emphasis">sendmail</EM>.It is a convention that is used only in the assorted <CODECLASS="literal">Date:</CODE> header(see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-10"TITLE="">Section 35.10.10, Date:</A>) definitions.See <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5</A> for a general description of this process.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-18">30.8.18 F=e</A></H3><PCLASS="refpurpose">Mark expensive delivery agents</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31768"></A><ACLASS="indexterm"NAME="AUTOID-31770"></A><ACLASS="indexterm"NAME="AUTOID-31772"></A>The <EMCLASS="emphasis">sendmail.cf</EM> <CODECLASS="literal">HoldExpensive</CODE> (<CODECLASS="literal">c</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-29"TITLE="">Section 34.8.29, HoldExpensive (c)</A>)tells <EMCLASS="emphasis">sendmail</EM> not to connect to expensive delivery agents. Instead, mail destinedfor those agents is queued for later delivery. This <CODECLASS="literal">F=e</CODE>flag marks a delivery agent as expensive.</P><PCLASS="para">For example, consider a site connected to the Internet overa dial-on-demand ISDN link that costs lots of money per minute.Such a site might want all the Internetmail to be queued and would arrange for that queue to be processedonly once every other hour.</P><PCLASS="para">Under V8 <EMCLASS="emphasis">sendmail</EM>, verbose output (watch delivery) cancels the effect of the<CODECLASS="literal">F=e</CODE> flag (suppresses queueing).[18]Verbose output is set with the <CODECLASS="literal">-v</CODE> commandline switch (see <ACLASS="xref"HREF="ch36_07.htm#SML2-CH-36-SECT-7-41"TITLE="">Section 36.7.41, -v</A>) or the <CODECLASS="literal">Verbose</CODE> (<CODECLASS="literal">v</CODE>) option(see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-76"TITLE="">Section 34.8.76</A>).</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[18] According to Eric Allman, &quot;It's assumed that if you say youwant to watch delivery, you <EMCLASS="emphasis">really</EM> want to watch it.&quot;</P></BLOCKQUOTE></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-19">30.8.19 F=E</A></H3><PCLASS="refpurpose">Change extra From into &gt;From</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31801"></A><ACLASS="indexterm"NAME="AUTOID-31803"></A>All UNIX mail-reading programs, such as <EMCLASS="emphasis">/usr/ucb/Mail</EM>, require thateach mail message in a file of many mail messages be delimitedfrom the others by a blank line, then a line that begins with the five characters &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot;:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">and thanks again. - bill               <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> one message ends</I>                                        <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> a blank line</I>From george Fri Apr  6 12:03:45 1996   <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> next message starts</I></PRE></BLOCKQUOTE></P><PCLASS="para">This means that any given mail message may have only one linein it that begins with the five characters &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot;.To prevent such lines being improperly fed to such mail delivery agents, <EMCLASS="emphasis">sendmail</EM> offers the <CODECLASS="literal">F=E</CODE> flag. This flagtells <EMCLASS="emphasis">sendmail</EM> to insert a <CODECLASS="literal">&gt;</CODE> character at thefront of all but the first such lines found. Consider the following:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">From tim@here.us.edu Mon Dec 27 13:00:03 1999From now on, let's meet on Saturdays instead of Tuesdayslike we discussed.</PRE></BLOCKQUOTE></P><PCLASS="para">If the <CODECLASS="literal">F=E</CODE> flag is specified for the delivery agent thatdelivers the above message, <EMCLASS="emphasis">sendmail</EM> converts itto read</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">From tim@here.us.edu Mon Dec 30 13:00:03 1996&gt;From now on, let's meet on Saturdays instead of Tuesdayslike we discussed.</PRE></BLOCKQUOTE></P><PCLASS="para">This <CODECLASS="literal">F=E</CODE> flag is rarely needed. Usually, the program specifiedby the <CODECLASS="literal">local</CODE> delivery agent definition handles <CODECLASS="literal">From</CODE>line conversions. This flag should be used <EMCLASS="emphasis">only</EM>  with delivery agents that handle final local delivery.</P><PCLASS="para">You may wish to consider omitting this flag from the <CODECLASS="literal">prog</CODE>definition. Omitting it allows a user the option of <EMCLASS="emphasis">not</EM> transforming &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot; lines, by specifying a programin his or her <EMCLASS="emphasis">~/.forward</EM> file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-20">30.8.20 F=f</A></H3><PCLASS="refpurpose">Delivery agent adds -f to argv</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31843"></A><ACLASS="indexterm"NAME="AUTOID-31845"></A>If <EMCLASS="emphasis">sendmail</EM> is run with a <CODECLASS="literal">-f</CODE> command-line argument (see <ACLASS="xref"HREF="ch36_07.htm#SML2-CH-36-SECT-7-21"TITLE="">Section 36.7.21, -f and -r</A>)and if the <CODECLASS="literal">F=f</CODE> flag is specified, the <CODECLASS="literal">A=</CODE> forthis delivery agent will have the two additional arguments <CODECLASS="literal">-f</CODE>and <CODECLASS="literal">$g</CODE> inserted between its <CODECLASS="literal">argv[0]</CODE> and <CODECLASS="literal">argv[1]</CODE>.For example, if <EMCLASS="emphasis">sendmail</EM> is run as</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">/usr/lib/sendmail -f jim host!bill</PRE></BLOCKQUOTE></P><PCLASS="para">and if the delivery agent for sending to <CODECLASS="literal">host</CODE>is defined as</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Muucp, P=/bin/uux, F=fmsDFMhuU, S=13, R=23, A=uux - -r $h!rmail ($u)</PRE></BLOCKQUOTE></P><PCLASS="para">then the <CODECLASS="literal">f</CODE> in <CODECLASS="literal">F=fmsDFhuU</CODE> causes the <CODECLASS="literal">A=</CODE>of</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">A=uux - -r $h@rmail ($u)</PRE></BLOCKQUOTE></P><PCLASS="para">to be rewritten as</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">A=uux -f $g - -r $h@rmail ($u)</PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="literal">$g</CODE> is <CODECLASS="literal">jim</CODE> from the original command line (butrewritten to be a return address relative to the recipient).The original <CODECLASS="literal">-f</CODE> argument <CODECLASS="literal">jim</CODE> is first rewrittenby rule sets 3, 1, and 4. The result of those rewrites is placedinto <CODECLASS="literal">$f</CODE>. The <CODECLASS="literal">$f</CODE> macro is rewritten by rule sets 3,1, <CODECLASS="literal">S=</CODE>, and 4, and the result is placed into <CODECLASS="literal">$g</CODE>.(<CODECLASS="literal">$f</CODE> and <CODECLASS="literal">$g</CODE> are described in <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-16"TITLE="">Section 31.10.16</A>.)</P><PCLASS="para">Note that the <CODECLASS="literal">F=f</CODE> and the <CODECLASS="literal">F=r</CODE> flags are very similar and easilyconfused.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-21">30.8.21 F=F</A></H3><PCLASS="refpurpose">Need From: in header</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31895"></A><ACLASS="indexterm"NAME="AUTOID-31897"></A>The <CODECLASS="literal">F=F</CODE> flag is used by <EMCLASS="emphasis">sendmail.cf</EM> header commandsto force the inclusion of sender (From) information (see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5</A>):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?F?Resent-From: $qH?F?From: $q</PRE></BLOCKQUOTE></P><PCLASS="para">&#13;The <CODECLASS="literal">F=F</CODE> flag has no special internal meaning to <EMCLASS="emphasis">sendmail</EM>.It is a convention that is used only in the assorted <CODECLASS="literal">From:</CODE> header(see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-14"TITLE="">Section 35.10.14, From:</A>) definitions.See <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5</A> for a general description of this process.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-22">30.8.22 F=g</A></H3><PCLASS="refpurpose">Suppress From:&lt;&gt;</P>(V8.6 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31918"></A><ACLASS="indexterm"NAME="AUTOID-31920"></A><ACLASS="indexterm"NAME="AUTOID-31923"></A><ACLASS="indexterm"NAME="AUTOID-31926"></A><ACLASS="indexterm"NAME="AUTOID-31929"></A><ACLASS="indexterm"NAME="AUTOID-31933"></A>The special address <CODECLASS="literal">&lt;&gt;</CODE> is used as the envelope senderwhen <EMCLASS="emphasis">sendmail</EM> bounces a mail message. This address isintended to prevent bounced messages from themselves bouncing.Unfortunately, not all configuration files properly handlethis form of sender address. The stock SunOS configuration files priorto Solaris 2.3,for example, caused <EMCLASS="emphasis">sendmail</EM> to enter an endlessloop when processing <CODECLASS="literal">&lt;&gt;</CODE>.Also, some UUCP implementations get confused when they are executedwith command line arguments of:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">-f &lt;&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">As an interim measure, until all programs learn to correctly handlethe <CODECLASS="literal">&lt;&gt;</CODE> address, you may use the <CODECLASS="literal">F=g</CODE> flagto suppress that address for selected delivery agents.If the <CODECLASS="literal">F=g</CODE> flag is set fora delivery agent, it uses the value of <CODECLASS="literal">$g</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-16"TITLE="">Section 31.10.16</A>) in place of the <CODECLASS="literal">&lt;&gt;</CODE>, where <CODECLASS="literal">$g</CODE> contains <CODECLASS="literal">$n</CODE> (usually MAILER-DAEMON see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-26"TITLE="">Section 31.10.26, $n</A>) withan <CODECLASS="literal">@</CODE> and your domain name appended.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-23">30.8.23 F=h</A></H3><PCLASS="refpurpose">Preserve uppercase in hostname</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31962"></A><ACLASS="indexterm"NAME="AUTOID-31964"></A><ACLASS="indexterm"NAME="AUTOID-31967"></A>Some delivery agents, such as those that deal with files, requirethat the recipient's hostname be left as is.The hostname portion of the recipient's address is ordinarilyconverted to all lowercase before being tucked into <CODECLASS="literal">$h</CODE>.Specifying the <CODECLASS="literal">F=h</CODE>flag tells <EMCLASS="emphasis">sendmail</EM> to not convert that address to lowercase.[19]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[19] This flag was added specifically to handle the UUCP host named <EMCLASS="emphasis">Shasta</EM>at Stanford University.</P></BLOCKQUOTE><PCLASS="para">The <CODECLASS="literal">$h</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-17"TITLE="">Section 31.10.17</A>) is usually used with the <CODECLASS="literal">A=</CODE> equateof a delivery agent. For example</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Muucp, P=/usr/bin/uux, F=msDFMhuU, A=uux - -r $h!rmail ($u)</PRE></BLOCKQUOTE></P><PCLASS="para">Here, the <CODECLASS="literal">h</CODE> in <CODECLASS="literal">F=msDFMhuU</CODE> tells<EMCLASS="emphasis">sendmail</EM> to leave the <CODECLASS="literal">$h</CODE> alone and <EMCLASS="emphasis">not</EM>to convert the hostname in that defined macro to lowercase.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-24">30.8.24 F=i</A></H3><PCLASS="refpurpose">Do UDB sender rewrite on envelope</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-31996"></A><ACLASS="indexterm"NAME="AUTOID-31998"></A><ACLASS="indexterm"NAME="AUTOID-32001"></A><ACLASS="indexterm"NAME="AUTOID-32004"></A>The <CODECLASS="literal">F=@</CODE> flag (see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-10"TITLE="">Section 30.8.10</A>)allows all addresses for a given delivery agent to be rewrittenby the User Database (see <ACLASS="xref"HREF="ch33_05.htm"TITLE="The User Database">Section 33.5</A>). The <CODECLASS="literal">F=i</CODE> flag eithersuppresses that rewrite for the sender envelope (if absent) or allows thatrewrite for the sender envelope (if present).For example, consider mail from the user <CODECLASS="literal">jane</CODE>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">MAIL from: jane         <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> SMTP envelope sender</I>From: jane              <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> header sender</I></PRE></BLOCKQUOTE></P><PCLASS="para">Now assume that a User Database entry like the following exists:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">jane:mailname       Jane.Doe</PRE></BLOCKQUOTE></P><PCLASS="para">If the <CODECLASS="literal">F=i</CODE> flag is absent but the <CODECLASS="literal">F=@</CODE> flag present,the envelope-sender address will remain unchanged, but the header-sender address will be rewritten by the User Database:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">MAIL from: jane         <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> SMTP envelope sender</I>From: Jane.Doe          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> header sender</I></PRE></BLOCKQUOTE></P><PCLASS="para">But if the <CODECLASS="literal">F=i</CODE> and <CODECLASS="literal">F=@</CODE> flags are both present,the envelope- and header-sender addresses will both be rewrittenby the User Database:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">MAIL from: Jane.Doe     <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> SMTP envelope sender</I>From: Jane.Doe          <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> header sender</I></PRE></BLOCKQUOTE></P><PCLASS="para">No matter how the envelope-sender address is rewritten (with orwithout use of the User Database), the result issaved to the <CODECLASS="literal">S</CODE> lineof the <EMCLASS="emphasis">qf</EM> file (<ACLASS="xref"HREF="ch23_09.htm#SML2-CH-23-SECT-9-14"TITLE="">Section 23.9.14, S line</A>).</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-25">30.8.25 F=I (uppercase i)</A></H3><PCLASS="refpurpose">Send SMTP VERB to other site</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32045"></A><ACLASS="indexterm"NAME="AUTOID-32047"></A>The <CODECLASS="literal">F=I</CODE> flag tells the local <EMCLASS="emphasis">sendmail</EM> to sendthe following VERB[20]SMTP command to the receiving <EMCLASS="emphasis">sendmail</EM>:</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[20] VERB is defined in RFC1700.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">VERB				<ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> ours sends</I>200 Verbose mode			<ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> recipient replies</I></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">VERB</CODE> SMTP command causes the receiving <EMCLASS="emphasis">sendmail</EM> to go intoverbose mode <EMCLASS="emphasis">and</EM> to set its deliver mode to <EMCLASS="emphasis">interactive</EM>.This has the same effect as would occur if the receiving <EMCLASS="emphasis">sendmail</EM> hadbeen run with the command-line options <CODECLASS="literal">-v</CODE> and <CODECLASS="literal">-odi</CODE> set.</P><PCLASS="para">The <CODECLASS="literal">F=I</CODE> flag is intended as an aid in debugginga remote receiving site's <EMCLASS="emphasis">sendmail</EM>. The <CODECLASS="literal">VERB</CODE> SMTP commandcauses that remote site to run in verbose mode.By temporarily adding the <CODECLASS="literal">F=I</CODE> flag to a delivery agent'sdefinition and then running <EMCLASS="emphasis">sendmail</EM> locally with the <CODECLASS="literal">-v</CODE> command-line argument, you can watch boththe local and the remote's verbose output.Each line of the remote site's verbose output will be seen locallyprefixed with a <CODECLASS="literal">050</CODE>.</P><PCLASS="para">Note that if the <CODECLASS="literal">PrivacyOptions</CODE> (<CODECLASS="literal">p</CODE>) option on the remotesite's <EMCLASS="emphasis">sendmail</EM> is set to <CODECLASS="literal">noexpn</CODE> (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-47"TITLE="">Section 34.8.47, PrivacyOptions (p)</A>),that site's response to the <CODECLASS="literal">VERB</CODE> SMTP command will be thisrejection:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">502 Verbose unavailable</PRE></BLOCKQUOTE></P><PCLASS="para">Also note that if the other side is not running <EMCLASS="emphasis">sendmail</EM>, you may seeother errors:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">501 No argument given in VERB command.  <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> PMDF V5.0</I>250 Ok                                  <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> post.office v1.9.1 (but ignores its own Ok)</I></PRE></BLOCKQUOTE></P><PCLASS="para">In both these cases, the request to the other machine to go into verbose mode hasfailed.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-26">30.8.26 F=j</A></H3><PCLASS="refpurpose">Perform UDB rewrite of header recipient addresses</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32098"></A><ACLASS="indexterm"NAME="AUTOID-32100"></A><ACLASS="indexterm"NAME="AUTOID-32103"></A><ACLASS="indexterm"NAME="AUTOID-32106"></A>If <EMCLASS="emphasis">sendmail</EM> was compiled with User Database support (see <ACLASS="xref"HREF="ch18_08.htm#SML2-CH-18-SECT-8-54"TITLE="">Section 18.8.54, USERDB</A>)and if that database is being used (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-75"TITLE="">Section 34.8.75, UserDatabaseSpec (U)</A>), you may have <EMCLASS="emphasis">sendmail</EM>rewrite header recipient addresses using that database. The <CODECLASS="literal">F=j</CODE>flag tells <EMCLASS="emphasis">sendmail</EM> to look up recipient addresses in the User Database(using the <CODECLASS="literal">mailname</CODE> keyword). If an appropriate entry is found, itis used in place of the original address in the recipient headers.The process is the same as that described for the <CODECLASS="literal">F=i</CODE> flag, except that here it is for recipientheaders.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-27">30.8.27 F=k</A></H3><PCLASS="refpurpose">Don't check for loops in HELO command</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32125"></A><ACLASS="indexterm"NAME="AUTOID-32127"></A><ACLASS="indexterm"NAME="AUTOID-32130"></A><ACLASS="indexterm"NAME="AUTOID-32132"></A>When another host connects to the local host and that other host claims to have the same canonical name as the local host, it should be considered an error.In V8.6 <EMCLASS="emphasis">sendmail</EM>, settingthe <CODECLASS="literal">CheckLoopBack</CODE> variable in <EMCLASS="emphasis">conf.c</EM> determined whether this error wasdetected. But beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>,this check is based on the delivery agent. If the<CODECLASS="literal">F=k</CODE> flag is absent, the check is done. If the <CODECLASS="literal">F=k</CODE> flagis set, the check is skipped.</P><PCLASS="para">The check is performed only for SMTP connections. The literal canonical namegiven in the connecting host's HELO line is compared to the canonical namefor the local host. If they are the same, the following erroris printed, and the connection is disallowed:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">553 <CODECLASS="replaceable"><I>host</I></CODE> config error: mail loops back to myself           <IMGSRC="../chars/larr.gif"ALT="&lt;-"> V8.6553 <CODECLASS="replaceable"><I>host</I></CODE> config error: mail loops back to me (MX problem?) <IMGSRC="../chars/larr.gif"ALT="&lt;-"> V8.7</PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="replaceable"><I>host</I></CODE> is the name of the offending host.</P><PCLASS="para">A problem can arise at sites that run two different invocationsof <EMCLASS="emphasis">sendmail</EM> (one for SMTP connections and anotherfor command-line invocation, where each uses a different configuration file).In this instance, when the latter connects to the former, this error may occur.Such sites may find it necessary to set the <CODECLASS="literal">F=k</CODE> flag for the deliveryagent that handles SMTP connections, usually <CODECLASS="literal">Msmtp</CODE>.With an m4 configuration the following command does just that:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">define(`SMTP_MAILER_FLAGS',`k')dnl</PRE></BLOCKQUOTE></P><PCLASS="para">Note that <EMCLASS="emphasis">sendmail</EM> must recognize its local hostnameamong many possible names. See <ACLASS="xref"HREF="ch32_05.htm#SML2-CH-32-SECT-5-8"TITLE="">Section 32.5.8, $=w</A> fora discussion of <CODECLASS="literal">$=w</CODE> and MX records.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-28">30.8.28 F=l (lowercase L)</A></H3><PCLASS="refpurpose">Agent performs local (final) delivery</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32166"></A><ACLASS="indexterm"NAME="AUTOID-32168"></A><ACLASS="indexterm"NAME="AUTOID-32171"></A><ACLASS="indexterm"NAME="AUTOID-32175"></A>The <CODECLASS="literal">F=l</CODE> flag tells <EMCLASS="emphasis">sendmail</EM> that this delivery agentwill be performing final delivery (usually on the local machine).This notification affects <EMCLASS="emphasis">sendmail</EM>'s behavior in three ways.</P><PCLASS="para">First, it enables the DSN notify on success mechanism.[21]That is, if the messagewere received via SMTP with the envelope</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[21] This replaces the <CODECLASS="literal">Return-Receipt-To:</CODE> header line.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">RCPT To: user@here.us.edu NOTIFY=SUCCESS</PRE></BLOCKQUOTE></P><PCLASS="para">then <EMCLASS="emphasis">sendmail</EM> (upon final local delivery) sends back to the original sender an email message acknowledging receipt. This mechanism should beused sparingly.</P><PCLASS="para">Second, the <CODECLASS="literal">F=l</CODE> flag allows <EMCLASS="emphasis">sendmail</EM> to ignore any host part ofthe triple returned by rule set 0. Ordinarily, the <CODECLASS="literal">$@</CODE>operator must appear in the RHS for all deliveryagents selected. If no host is selected by <CODECLASS="literal">$@</CODE>, <EMCLASS="emphasis">sendmail</EM>prints this error and bounces the message</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">554 buildaddr: no host</PRE></BLOCKQUOTE></P><PCLASS="para">But since the host is not always needed for final delivery, the presenceof the <CODECLASS="literal">F=l</CODE> flag tells <EMCLASS="emphasis">sendmail</EM> to silently ignorea missing host part.</P><PCLASS="para">Third, the <CODECLASS="literal">F=l</CODE> flag influences how undeliverable mail will be handled. Whenthe <CODECLASS="literal">ErrorMode</CODE> (<CODECLASS="literal">e</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-24"TITLE="">Section 34.8.24, ErrorMode (e)</A>)is <CODECLASS="literal">q</CODE> (quiet), such mail is usually reported in the<EMCLASS="emphasis">sendmail</EM> program's<EMCLASS="emphasis">exit</EM>(2) status (see <ACLASS="xref"HREF="ch36_05.htm"TITLE="sendmail's exit() Status">Section 36.5, "sendmail's exit() Status"</A>).With the <CODECLASS="literal">F=l</CODE> flag set, the undeliverablemessage will instead be appended to <EMCLASS="emphasis">~/dead.letter</EM> for a local senderor mailed back for a remote sender.</P><PCLASS="para">In general, the <CODECLASS="literal">F=l</CODE> flag should always be specified for the <CODECLASS="literal">local</CODE>, <CODECLASS="literal">prog</CODE>,and <CODECLASS="literal">*file*</CODE> delivery agents.</P><PCLASS="para">Note that the processing of a user's <EMCLASS="emphasis">~/.forward</EM> file is no longer tied to the <CODECLASS="literal">local</CODE>delivery agent, nor to this <CODECLASS="literal">F=l</CODE> flag. The ability to look in a user's<EMCLASS="emphasis">~/.forward</EM> file is now determined by the <CODECLASS="literal">F=w</CODE> flag.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-29">30.8.29 F=L</A></H3><PCLASS="refpurpose">Specify SMTP line limits</P>(obsolete as of V8.8)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32230"></A><ACLASS="indexterm"NAME="AUTOID-32232"></A><ACLASS="indexterm"NAME="AUTOID-32234"></A>Prior to V8.8 <EMCLASS="emphasis">sendmail</EM>, this <CODECLASS="literal">F=L</CODE> flag caused <EMCLASS="emphasis">sendmail</EM>to split output lines in the message body so that they did not exceed990 characters and always caused <EMCLASS="emphasis">sendmail</EM>to clear the most significant bit of the characters inthose lines.</P><PCLASS="para">Beginning with V8.8 <EMCLASS="emphasis">sendmail</EM>, <CODECLASS="literal">F=L</CODE> emulates thisold behavior under certain conditions.<CODECLASS="literal">F=L</CODE> causes <EMCLASS="emphasis">sendmail</EM> to assign <CODECLASS="literal">L=</CODE> a default value of 990, if it is missing one(see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-6"TITLE="">Section 30.4.6</A>), and (if the configuration file levelis 1 or less) to set the <CODECLASS="literal">F=7</CODE> flag.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-30">30.8.30 F=m</A></H3><PCLASS="refpurpose">Allow delivery to multiple recipients</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32256"></A><ACLASS="indexterm"NAME="AUTOID-32258"></A><ACLASS="indexterm"NAME="AUTOID-32261"></A><ACLASS="indexterm"NAME="AUTOID-32264"></A>Whenever the <EMCLASS="emphasis">sendmail</EM> program executes the program specifiedby the <CODECLASS="literal">P=</CODE> equate (see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-9"TITLE="">Section 30.4.9</A>), that program is givenits <EMCLASS="emphasis">argv</EM> vector as specified by the <CODECLASS="literal">A=</CODE> equate (see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-1"TITLE="">Section 30.4.1</A>).As the last step in building that <EMCLASS="emphasis">argv</EM>, <EMCLASS="emphasis">sendmail</EM> appendsone or more recipient addresses.</P><PCLASS="para">The decision as to whether it appends one address or many isdetermined by the <CODECLASS="literal">F=m</CODE> flag. If this flag is not specified,the delivery agent is given only one recipient.Otherwise, if it is specified, the delivery agent may be givenmany recipients.In either case, if there are more recipients than the argv canaccept, the delivery agent is rerun as many times as is necessaryto handle them all.</P><PCLASS="para">Note that <EMCLASS="emphasis">sendmail</EM> is able todistinguish only between failures involving one, many, or all of the recipientswhen it is delivering with SMTP.Otherwise, it judges delivery as successful if a zero <EMCLASS="emphasis">exit</EM>(2) value is returnedby a delivery agent. If the delivery agent fails to deliver toone of many recipients, it exits with a nonzero value, and  because ofthat single failure, <EMCLASS="emphasis">sendmail</EM> will presume that delivery to allrecipients failed.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-31">30.8.31 F=M</A></H3><PCLASS="refpurpose">Need Message-ID: in header</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32289"></A><ACLASS="indexterm"NAME="AUTOID-32291"></A>The <CODECLASS="literal">F=M</CODE> flag is used by <EMCLASS="emphasis">sendmail.cf</EM> header commandsto force the inclusion of message identification information.(see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5</A>):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?M?Resent-Message-ID: &lt;$t.$i@$j&gt;H?M?Message-ID: &lt;$t.$i@$j&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">F=M</CODE> flag has no special internal meaning to <EMCLASS="emphasis">sendmail</EM>.It is a convention that is used only in the assorted <CODECLASS="literal">Message-ID:</CODE> header(see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-19"TITLE="">Section 35.10.19, Message-ID:</A>) definitions.See <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5</A> for a general description of this process.</P><PCLASS="para">Note that the <CODECLASS="literal">Message-ID:</CODE> header definition should alwaysbe included in the <EMCLASS="emphasis">sendmail.cf</EM> file because packages expect the presence of that header by many software packages.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-32">30.8.32 F=n</A></H3><PCLASS="refpurpose">Don't use UNIX-style From in header</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32315"></A><ACLASS="indexterm"NAME="AUTOID-32317"></A>The UNIX-style mailbox (a single file into which many mail messagesare placed) requires that each message be separated from the othersby a blank line followed by a line that begins with the fivecharacters &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot;:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">and thanks again. - bill                  <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> one message ends</I>                                           <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> a blank line</I>From george Fri Apr  6 12:03:45 1990      <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> next message starts</I></PRE></BLOCKQUOTE></P><PCLASS="para">Ordinarily, <EMCLASS="emphasis">sendmail</EM> adds a five-character &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot;line to a message if there isn't one.The <CODECLASS="literal">F=n</CODE> flag prevents <EMCLASS="emphasis">sendmail</EM> from doing this. It is intended foruse when not dealing with a UNIX-style mailbox.</P><PCLASS="para">Note that if the <CODECLASS="literal">F=U</CODE> flag is specified (but not <CODECLASS="literal">F=n</CODE>),then the five-character &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot;header line is created, and the words <CODECLASS="literal">remote from $g</CODE>are appended to that line.The <CODECLASS="literal">F=n</CODE> flag should <EMCLASS="emphasis">always</EM> be specified for SMTPdelivery agents. The five-character &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot; lineis not a valid RFC822 header (because it lacks a colon) and is not permitted.</P><PCLASS="para">Apart from SMTP, the use of the <CODECLASS="literal">F=n</CODE> flag is best determinedon a case-by-case basis. Some delivery agents always generatea &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot; line, so the <CODECLASS="literal">F=n</CODE> flag can be usedto avoid duplication. Some delivery agents generatea &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot; line only if there is not already one there,so the <CODECLASS="literal">F=n</CODE> flag is optional and perhaps best omitted.Some delivery agents never generatea &quot;<CODECLASS="literal">From&nbsp;</CODE>&quot; line, yet require one (such as the <EMCLASS="emphasis">uux</EM>program); for these the <CODECLASS="literal">F=n</CODE> flag should always beomitted.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-33">30.8.33 F=o</A></H3><PCLASS="refpurpose">Always run delivery agent as recipient</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32355"></A><ACLASS="indexterm"NAME="AUTOID-32357"></A><ACLASS="indexterm"NAME="AUTOID-32360"></A>Under certain circumstances, before <EMCLASS="emphasis">sendmail</EM> delivers to a file or through programs, it may assume the identity (<EMCLASS="emphasis">uid</EM> and <EMCLASS="emphasis">gid</EM>) of the controlling user(see <ACLASS="xref"HREF="ch24_02.htm#SML2-CH-24-SECT-2-2"TITLE="Delivery to Files">Section 24.2.2</A> for a description of this process).Beginning with V8.7, the <CODECLASS="literal">F=o</CODE> flag changes this behavior.Specifying <CODECLASS="literal">F=o</CODE> flag causes<EMCLASS="emphasis">sendmail</EM> to assume the identity of the recipient.Omitting the <CODECLASS="literal">F=o</CODE> flag causes <EMCLASS="emphasis">sendmail</EM> to assume the identityof the controlling user where appropriate.</P><PCLASS="para">In version 5 and earlier configuration files (<ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5</A>)this flag is automaticallyset for the <CODECLASS="literal">prog</CODE> and <CODECLASS="literal">*file*</CODE> delivery agents.Note that the <CODECLASS="literal">U=</CODE> equate (see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-13"TITLE="">Section 30.4.13</A>), when specified,always overrides the controlling user.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-34">30.8.34 F=p</A></H3><PCLASS="refpurpose">Process return path per RFC821</P>(deprecated)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32386"></A><ACLASS="indexterm"NAME="AUTOID-32388"></A><ACLASS="indexterm"NAME="AUTOID-32391"></A>The SMTP <EMCLASS="emphasis">mail</EM> command normally uses the envelope address for the sender:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">MAIL From:&lt;jqp@wash.dc.gov&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">If the <CODECLASS="literal">F=p</CODE> flag is specified, <EMCLASS="emphasis">sendmail</EM> insteadsends a transformed version of that address. The transformationcan take one of two forms, depending on the first character ofthe envelope address. If that address begins with an <CODECLASS="literal">@</CODE>character, then an <CODECLASS="literal">@</CODE>, the local hostname and a comma are prependedto that address to create a legal return path:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&lt;@hub:jqp@wash.dc.gov&gt;  <ICLASS="lineannotation"><IMGSRC="../chars/darr.gif"ALT="-v"></I><ICLASS="lineannotation">becomes</I>  <ICLASS="lineannotation"><IMGSRC="../chars/darr.gif"ALT="-v"></I>&lt;@ourhost,@hub:jqp@wash.dc.gov&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">If the envelope address for the sender does not start with an<CODECLASS="literal">@</CODE> character, then an <CODECLASS="literal">@</CODE>, the local hostname, and a colonare prepended to that address:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&lt;jqp@wash.dc.gov&gt; <EMCLASS="emphasis">becomes</EM> &lt;@ourhost:jqp@wash.dc.gov&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">See also the <CODECLASS="literal">DontPruneRoutes</CODE> option.</P><PCLASS="para">Note that these forms of address transformations are discouraged byRFC1123. For this reason the <CODECLASS="literal">F=p</CODE> flag is deprecatedand may be removed from future versions of <EMCLASS="emphasis">sendmail</EM>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-35">30.8.35 F=P</A></H3><PCLASS="refpurpose">Need Return-Path: in header</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32426"></A><ACLASS="indexterm"NAME="AUTOID-32428"></A>The <CODECLASS="literal">F=P</CODE> flag is used by <EMCLASS="emphasis">sendmail.cf</EM> header commandsto force the inclusion of return-path information:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?P?Return-Path: &lt;$g&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">F=P</CODE> flag has no special internal meaning to <EMCLASS="emphasis">sendmail</EM>.It is a convention that is used only in the assorted <CODECLASS="literal">Return-Path:</CODE> header(see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-28"TITLE="">Section 35.10.28, Return-Path:</A>) definitions.See <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5</A> for a general description of this process.</P><PCLASS="para">The sender's envelope address (the address that would be usedto return mail if it were bounced, for example) is placed into <CODECLASS="literal">$g</CODE>for use in the <CODECLASS="literal">Return-Path:</CODE> header line.This is usually done during final delivery, although it canalso be done for delivery agents that lack a clear envelopeaddress.The form of the address in the <CODECLASS="literal">$g</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-16"TITLE="">Section 31.10.16</A>) depends on the setting of the <CODECLASS="literal">F=p</CODE> flag.Note that this is normally the same as the address in the five character&quot;<CODECLASS="literal">From&nbsp;</CODE>&quot; line.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-36">30.8.36 F=q</A></H3><PCLASS="refpurpose">250 versus 252 return for SMTP VRFY</P>(8.8 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32455"></A><ACLASS="indexterm"NAME="AUTOID-32458"></A><ACLASS="indexterm"NAME="AUTOID-32460"></A>Prior to RFC1123 a successful reply to the SMTP VRFYcommand was always prefixed with a 250, meaning that sending to thisaddress was likely to result in successful delivery:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>VRFY user</B></CODE>250 user@here.us.edu (Full Name)</PRE></BLOCKQUOTE></P><PCLASS="para">Here, <EMCLASS="emphasis">sendmail</EM> states (with the <CODECLASS="literal">250</CODE>) that it interpretedthe address as <EMCLASS="emphasis">valid locally</EM> and that delivery or relaying to another site would be attempted.</P><PCLASS="para">RFC1123 now requires that shades of meaning be conveyed inthat success code, so thecorrect prefix should be 252, which means that we will <EMCLASS="emphasis">accept</EM> the addressand attempt to relay it elsewhere.</P><PCLASS="para">If the <CODECLASS="literal">F=q</CODE> flag is set, <EMCLASS="emphasis">sendmail</EM> returns the 250 prefix;otherwise, it returns the 252 prefix.It should be set only for delivery agents doing local delivery.For configuration files earlier than version 7, the  <CODECLASS="literal">F=q</CODE> flag is automatically set for the <CODECLASS="literal">local</CODE>, <CODECLASS="literal">prog</CODE>, and<CODECLASS="literal">*file*</CODE> delivery agents.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-37">30.8.37 F=r</A></H3><PCLASS="refpurpose">Delivery agent adds -r to argv</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32486"></A><ACLASS="indexterm"NAME="AUTOID-32488"></A>If <EMCLASS="emphasis">sendmail</EM> is run with a <CODECLASS="literal">-f</CODE> command-line argument,and if the <CODECLASS="literal">F=r</CODE> flag is specified, the <CODECLASS="literal">A=</CODE> forthis delivery agent has the two additional arguments, <CODECLASS="literal">-r</CODE>and <CODECLASS="literal">$g</CODE>, inserted between its <CODECLASS="literal">argv[0]</CODE> and <CODECLASS="literal">argv[1]</CODE>.Consider a case in which <EMCLASS="emphasis">sendmail</EM> is run as</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">/usr/lib/sendmail -f jim bill</PRE></BLOCKQUOTE></P><PCLASS="para">If <CODECLASS="literal">bill</CODE> is a local user and the delivery agent for <CODECLASS="literal">local</CODE>is defined as</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mlocal, P=/bin/mail, F=rlsDFMmnP, S=10, R=20, A=mail -d $u</PRE></BLOCKQUOTE></P><PCLASS="para">then the <CODECLASS="literal">r</CODE> in <CODECLASS="literal">F=rlsDFmnP</CODE> will cause the <CODECLASS="literal">A=</CODE>of</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">A=mail -d $u</PRE></BLOCKQUOTE></P><PCLASS="para">to be rewritten as</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">A=mail -r $g -d $u</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">$g</CODE> is <CODECLASS="literal">jim</CODE> from the original command line (butrewritten to be a return address relative to the recipient).The original <CODECLASS="literal">-f</CODE> argument <CODECLASS="literal">jim</CODE> is first rewrittenby rule sets 3, 1, and 4. The result of those rewrites is placedinto <CODECLASS="literal">$f</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-14"TITLE="">Section 31.10.14, $f</A>). The <CODECLASS="literal">$f</CODE> macro is rewritten by rule sets 3,1, <CODECLASS="literal">S=</CODE>, and 4, and the result is placed into <CODECLASS="literal">$g</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-16"TITLE="">Section 31.10.16</A>).</P><PCLASS="para">Note that the <CODECLASS="literal">F=f</CODE> and the <CODECLASS="literal">F=r</CODE> flags are very similar and easilyconfused.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-38">30.8.38 F=R</A></H3><PCLASS="refpurpose">Use a reserved TCP port</P>(V8.6 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32537"></A><ACLASS="indexterm"NAME="AUTOID-32539"></A><ACLASS="indexterm"NAME="AUTOID-32541"></A><ACLASS="indexterm"NAME="AUTOID-32544"></A>The <CODECLASS="literal">F=R</CODE> flag causes<EMCLASS="emphasis">sendmail</EM> to connect on a reserved (privileged) TCP port for additional security. Privileged Internet  ports  are  those  in  the  range  0 to 1023.Only <EMCLASS="emphasis">root</EM> is allowed to connect to such ports.The <EMCLASS="emphasis">sendmail</EM> program calls <EMCLASS="emphasis">rresvport</EM>(3) to obtain a socketon its selected port.Note that this is done only when instantiating an outgoing connection. See<ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-1-2"TITLE="$h and other arguments in A=[IPC]">Section 30.4.1.2, "$h and other arguments in A=[IPC]"</A> for another way to set the outgoing port number.</P><PCLASS="para">This flag is suitable only for use with the <CODECLASS="literal">[IPC]</CODE> and <CODECLASS="literal">[TCP]</CODE>delivery agents. Note that <EMCLASS="emphasis">sendmail</EM> is usually <EMCLASS="emphasis">suid</EM> <EMCLASS="emphasis">root</EM> when run as a daemon.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-39">30.8.39 F=s</A></H3><PCLASS="refpurpose">Strip quotation marks</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32566"></A><ACLASS="indexterm"NAME="AUTOID-32568"></A><ACLASS="indexterm"NAME="AUTOID-32571"></A><ACLASS="indexterm"NAME="AUTOID-32574"></A><ACLASS="indexterm"NAME="AUTOID-32577"></A>Some delivery agents don't correctly understandquotation marks in addresses, for example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&quot;dechost::user&quot;@relay</PRE></BLOCKQUOTE></P><PCLASS="para">For delivery agents that do not correctly understand them,the <CODECLASS="literal">F=s</CODE> flag causes <EMCLASS="emphasis">sendmail</EM> to strip all quotation marksfrom the address before handing it to the delivery agent:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">dechost::user@relay</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">local</CODE> delivery agent should always have the <CODECLASS="literal">F=s</CODE>flag specified. The <CODECLASS="literal">prog</CODE> delivery agent commonlyhas the <CODECLASS="literal">F=s</CODE> flag specified. The <CODECLASS="literal">uucp</CODE> delivery agentmay or may notrequire that flag depending on the specifics of the program specifiedin the <CODECLASS="literal">P=</CODE> equate.The <CODECLASS="literal">[IPC]</CODE> and <CODECLASS="literal">[TCP]</CODE> delivery agents should <EMCLASS="emphasis">never</EM>specify the <CODECLASS="literal">F=s</CODE> flag.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-40">30.8.40 F=S</A></H3><PCLASS="refpurpose">Assume specified uid and gid</P>(Revised for V8.7)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32606"></A><ACLASS="indexterm"NAME="AUTOID-32608"></A><ACLASS="indexterm"NAME="AUTOID-32611"></A><ACLASS="indexterm"NAME="AUTOID-32613"></A>There are two major ways in which <EMCLASS="emphasis">sendmail</EM> can be run:as an <EMCLASS="emphasis">suid</EM> <EMCLASS="emphasis">root</EM> process (that is, with the permissionsof <EMCLASS="emphasis">root</EM> no matter who runs it) or as an ordinaryprocess run by an ordinary (nonprivileged) user (that is,with <EMCLASS="emphasis">root</EM> privilege <EMCLASS="emphasis">only</EM> if it is run by <EMCLASS="emphasis">root</EM>).When <EMCLASS="emphasis">sendmail</EM> is running with <EMCLASS="emphasis">root</EM> privilegeand when the <CODECLASS="literal">F=S</CODE> flag is specified for a delivery agent,<EMCLASS="emphasis">sendmail</EM> <EMCLASS="emphasis">always</EM> invokes that delivery agent as theeffective user andeffective group specified by the <CODECLASS="literal">U=</CODE> equate.[22]If the <CODECLASS="literal">U=</CODE> equate is unspecified or is specified as zero, itruns as <EMCLASS="emphasis">root</EM>. In both instances, the real GID andUID remain that of the receiving user -that is, the <CODECLASS="literal">F=S</CODE> flagacts like the UNIX <EMCLASS="emphasis">suid</EM> and <EMCLASS="emphasis">sgid</EM> bits.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[22] Prior to V8.7 there was no <CODECLASS="literal">U=</CODE> equate, so<CODECLASS="literal">F=S</CODE> always ran as <EMCLASS="emphasis">root</EM>.</P></BLOCKQUOTE><PCLASS="para">If the <CODECLASS="literal">F=S</CODE> is not specified for the delivery agent,<EMCLASS="emphasis">sendmail</EM> first checks to see whether there is a controllinguser for the address. If there is one, <EMCLASS="emphasis">sendmail</EM> becomes thatuser for delivery. If delivery is to a fileand if the <EMCLASS="emphasis">suid</EM> bit is set for that file,<EMCLASS="emphasis">sendmail</EM> becomes the owner of the file. Similarly,if delivery is to a file and the <EMCLASS="emphasis">sgid</EM> bit is set,<EMCLASS="emphasis">sendmail</EM> sets its group identity to the group of the file.Finally, if the user or group part of the <CODECLASS="literal">U=</CODE> equate was missingor 0, <EMCLASS="emphasis">sendmail</EM> assumes the identity of the <CODECLASS="literal">DefaultUser</CODE>  (<CODECLASS="literal">u</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-15"TITLE="">Section 34.8.15</A>).Otherwise, it assumes the identity of the <CODECLASS="literal">U=</CODE> equate.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-41">30.8.41 F=u</A></H3><PCLASS="refpurpose">Preserve uppercase for username</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32660"></A><ACLASS="indexterm"NAME="AUTOID-32662"></A><ACLASS="indexterm"NAME="AUTOID-32665"></A>The username portion of the recipient's address is ordinarilyconverted to lowercase before being tucked into <CODECLASS="literal">$u</CODE>.The <CODECLASS="literal">$u</CODE> is usually used with the <CODECLASS="literal">A=</CODE> equateof a delivery agent:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mprog,  P=/bin/sh,   F=lsDFMeuP,  S=10, R=20, A=sh -c $u</PRE></BLOCKQUOTE></P><PCLASS="para">Some delivery agents, such as the <CODECLASS="literal">prog</CODE> agent, execute programs.They requirethat the program (user) name be left as is (otherwise, the program name wouldnot be found). Specifying the <CODECLASS="literal">F=u</CODE>flag tells <EMCLASS="emphasis">sendmail</EM> to <EMCLASS="emphasis">not</EM> convert that name to lowercase.</P><PCLASS="para">Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>, the <CODECLASS="literal">F=u</CODE> flag also determineshow some aliases are treated. If it is set, usernames are stored inthe <EMCLASS="emphasis">aliases</EM> database without conversion to lowercase. If it isclear, they are converted to lowercase.</P><PCLASS="para">Also if the <CODECLASS="literal">F=u</CODE> flag is set, looking up the owner partthat follows the <CODECLASS="literal">owner-</CODE> in a mailing list is done ina case-sensitive manner. If the <CODECLASS="literal">F=u</CODE> flag is clear, theowner is converted to lowercase before being looked up.</P><PCLASS="para">In general, the <CODECLASS="literal">F=u</CODE> flag should be set in all delivery agent declarations, except the <CODECLASS="literal">local</CODE> delivery agent.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-42">30.8.42 F=U</A></H3><PCLASS="refpurpose">Use UUCP-Style From line</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32697"></A><ACLASS="indexterm"NAME="AUTOID-32699"></A>The <CODECLASS="literal">F=U</CODE> flag causes <EMCLASS="emphasis">sendmail</EM> to prepend a five-character&quot;<CODECLASS="literal">From&nbsp;</CODE>&quot;line to the start of the headers if there is not already one there.Whether one was prepended or not, this flag also tells <EMCLASS="emphasis">sendmail</EM>to add the words <CODECLASS="literal">remote from </CODE><EMCLASS="emphasis">host</EM> to the end of that line andalso requires that <CODECLASS="literal">$g</CODE> be in the form <EMCLASS="emphasis">host!...</EM>.</P><PCLASS="para">The <CODECLASS="literal">F=U</CODE> flag is required when a neighbor UUCP site runsan old (or possibly SysV) version of the <EMCLASS="emphasis">rmail</EM> program.The newer BSD versions of <EMCLASS="emphasis">rmail</EM> do not require this flag.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-43">30.8.43 F=w</A></H3><PCLASS="refpurpose">Check for /etc/passwd entry</P>(V8.7 and above)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32721"></A><ACLASS="indexterm"NAME="AUTOID-32723"></A>The <EMCLASS="emphasis">sendmail</EM> program uses the <EMCLASS="emphasis">passwd</EM>(5) file to determinewhether a local address corresponds to a local account. If it does, thehome directory for the user is copied into <CODECLASS="literal">$z</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-46"TITLE="">Section 31.10.46</A>).Then the full name of the user is extracted from the <EMCLASS="emphasis">gecos</EM> fieldof the <EMCLASS="emphasis">passwd</EM>(5) file and placed into <CODECLASS="literal">$x</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-42"TITLE="">Section 31.10.42, $x</A>).</P><PCLASS="para">Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>, the information in the <EMCLASS="emphasis">passwd</EM>(5)file is looked up only if the <CODECLASS="literal">F=w</CODE> flag is set for the recipient'sdelivery agent. In general, it must be present (set) for the <CODECLASS="literal">local</CODE>and any local-clone delivery agents but should be absent for all other deliveryagents. For configuration files less than 6 (see <ACLASS="xref"HREF="ch27_05.htm"TITLE="The V Configuration Command">Section 27.5</A>),the <CODECLASS="literal">F=w</CODE> flag is automatically set for the <CODECLASS="literal">local</CODE> delivery agent.</P><PCLASS="para">Omitting the <CODECLASS="literal">F=w</CODE> flag has several consequences:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">The recipient'shome directory is not looked up, and all user-levelforwarding is prevented. Note that this voids all forwarding, even if the user'shome is defined as part of the <CODECLASS="literal">ForwardPath</CODE> (<CODECLASS="literal">J</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-27"TITLE="">Section 34.8.27, ForwardPath (J)</A>).</P></LI><LICLASS="listitem"><PCLASS="para">The user's full name is not looked up in the <EMCLASS="emphasis">gecos</EM> field of the<EMCLASS="emphasis">passwd</EM>(5) file. </P></LI><LICLASS="listitem"><PCLASS="para">The <EMCLASS="emphasis">uid</EM> and <EMCLASS="emphasis">gid</EM> of the recipient become unavailable, sothe identity of the controlling user cannot be set to that of the recipient.</P></LI></UL><PCLASS="para">Note that this flag should be considered mandatory for <CODECLASS="literal">local</CODE>and local clones.If you want to cancel forwarding, use the <CODECLASS="literal">ForwardPath</CODE> (<CODECLASS="literal">J</CODE>) option.Attempting to cancel forwarding by omitting the <CODECLASS="literal">F=w</CODE> flag can haveunpredictable side effects that may cause mail to fail.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-44">30.8.44 F=x</A></H3><PCLASS="refpurpose">Need Full-Name: in header</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32770"></A><ACLASS="indexterm"NAME="AUTOID-32772"></A>The <CODECLASS="literal">F=x</CODE> flag is used by <EMCLASS="emphasis">sendmail.cf</EM> header commandsto force the inclusion of the user's full name (see <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5</A>):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?x?Full-Name: $x</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">F=x</CODE> flag has no special internal meaning to <EMCLASS="emphasis">sendmail</EM>.It is a convention that is used only in the assorted <CODECLASS="literal">Full-Name:</CODE> header(see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-15"TITLE="">Section 35.10.15, Full-Name:</A>) definitions.See <ACLASS="xref"HREF="ch30_04.htm#SML2-CH-30-SECT-4-5"TITLE="">Section 30.4.5</A> for a general description of this process.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-30-SECT-8-45">30.8.45 F=X</A></H3><PCLASS="refpurpose">Need RFC821 hidden dot</P>(All versions)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32793"></A><ACLASS="indexterm"NAME="AUTOID-32796"></A><ACLASS="indexterm"NAME="AUTOID-32799"></A>Delivery agents that speak SMTPrequire that any line of the message that begins with a dot have thatdot doubled.Delivery agents speak SMTP when the <CODECLASS="literal">$u</CODE> is missingfrom the <CODECLASS="literal">A=</CODE> equate. For example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mether, P=[TCP], F=msDFMuCX, S=11, R=21, A=TCP $h</PRE></BLOCKQUOTE></P><PCLASS="para">An example of a file that contains leading dots is a <EMCLASS="emphasis">troff</EM>(1) source file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">.\&quot; Show example.PsMether, P=[TCP], F=msDFMuCX, S=11, R=21, A=TCP $h.Ps</PRE></BLOCKQUOTE></P><PCLASS="para">In the above, three lines begin with a leading dot.The <CODECLASS="literal">F=X</CODE> flag causes <EMCLASS="emphasis">sendmail</EM> to transmit theabove message as</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">..\&quot; Show example..PsMether, P=[TCP], F=msDFMuCX, S=11, R=21, A=TCP $h..Pe</PRE></BLOCKQUOTE></P><PCLASS="para">The extra leading dot isautomatically restored to a single dot at the receiving end.&#13;</P><PCLASS="para">This <CODECLASS="literal">F=X</CODE> flag should be used only with delivery agents thatspeak SMTP. It should not be used with other delivery agents, becausethey will not know to strip the extra dots.<ACLASS="indexterm"NAME="AUTOID-32817"></A><ACLASS="indexterm"NAME="AUTOID-32818"></A><ACLASS="indexterm"NAME="AUTOID-32819"></A></P></DIV></BLOCKQUOTE></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_07.htm"TITLE="30.7 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.7 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch31_01.htm"TITLE="31. Defined Macros"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 31. Defined Macros"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">30.7 Pitfalls</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">31. Defined Macros</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>