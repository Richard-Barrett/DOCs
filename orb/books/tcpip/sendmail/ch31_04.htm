<HTML><HEAD><TITLE>[Chapter 31] 31.4 Macro Names</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T20:10:54Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch31_01.htm"TITLE="31. Defined Macros"><LINKREL="prev"HREF="ch31_03.htm"TITLE="31.3 Configuration File Definitions"><LINKREL="next"HREF="ch31_05.htm"TITLE="31.5 Macro Expansion: $ and $&amp;"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch31_03.htm"TITLE="31.3 Configuration File Definitions"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 31.3 Configuration File Definitions"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 31<BR>Defined Macros</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch31_05.htm"TITLE="31.5 Macro Expansion: $ and $&amp;"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 31.5 Macro Expansion: $ and $&amp;"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-31-SECT-4">31.4 Macro Names</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-33263"></A><ACLASS="indexterm"NAME="AUTOID-33266"></A>Prior to V8.7 <EMCLASS="emphasis">sendmail</EM>, macros could only have single characters as names.Beginning with V8.7, macros may be single- or multicharacter.&#13;</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-31-SECT-4-1">31.4.1 Single-Character Names</A></H3><PCLASS="para">Prior to V8.7 <EMCLASS="emphasis">sendmail</EM>the name of a macro was required to be a single character.Beginning with V8.7, the name of a macro may optionally bea single character.Any character may be used. However, <EMCLASS="emphasis">sendmail</EM>uses many characters internally and requires that they servespecific purposes. In general, only uppercase letters should be employedas user-defined macro names. Arbitrary use ofother characters can lead to unexpected results.</P><PCLASS="para">The character that is the macro's name must be a single-bytecharacter. Multibyte international characters have onlythe first byte (or last, depending on the machine architecture) usedfor the macro's name, and what remains is joined tothe <CODECLASS="replaceable"><I>text</I></CODE>.</P><PCLASS="para">The high (most significant) bit of the character isalways cleared (set to zero) by <EMCLASS="emphasis">sendmail</EM>.&#13;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-31-SECT-4-2">31.4.2 Multicharacter Names</A></H3><PCLASS="para">Beginning with V8.7, macro names may be multicharacter. A multicharacter macroname must always appear inside a curly brace pair.[7].SP_resetFor example,</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[7] As an artifact of this scheme, a singlecharacter surrounded in curly braces is treated as if the curly braceswere absent:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D<CODECLASS="replaceable"><I>Xtext           </I></CODE><ICLASS="lineannotation"> <IMGSRC="../chars/larr.gif"ALT="&lt;-"> a single character name</I>D<CODECLASS="replaceable"><I>{X}text         </I></CODE><ICLASS="lineannotation"> <IMGSRC="../chars/larr.gif"ALT="&lt;-"> the same beginning with V8.7</I></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">D<CODECLASS="replaceable"><I>{name}text</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="replaceable"><I>name</I></CODE> is one or more characters that form the macro name.If there are no characters between the curly braces, <EMCLASS="emphasis">sendmail</EM>prints the following error and names the macro &quot;<CODECLASS="literal">{}</CODE>&quot;:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Name required for macro/class</PRE></BLOCKQUOTE></P><PCLASS="para">A multicharacter macro name may contain only letters, digits, andthe underscore character. Each bad character between the curlybraces (including spaces) will produce the following error and cause that character to be ignored:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Invalid macro/class character</PRE></BLOCKQUOTE></P><PCLASS="para">In general, your macro names should always begin with an uppercase character.Macro names that begin with lowercase characters are reserved for the internaluse of <EMCLASS="emphasis">sendmail</EM>.</P><PCLASS="para">If the left curly brace is missing but the right is present, the macro namebecomes the first letter following the <CODECLASS="literal">D</CODE> and the rest becomes the <CODECLASS="replaceable"><I>text</I></CODE>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Dname}text       <ICLASS="lineannotation"><IMGSRC="../chars/rarr.gif"ALT="-&gt;"> becomes <IMGSRC="../chars/rarr.gif"ALT="-&gt;"></I>  n  ame}text</PRE></BLOCKQUOTE></P><PCLASS="para">If the right curly brace is missing but the left is present, the following erroris printed, and the macro is not defined</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Unbalanced { on <CODECLASS="replaceable"><I>nametext</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The maximum length of a macro name is hard-coded at 20 characters and cannot bechanged with compile-time definitions. If you declare a macro name that (notcounting the curly braces) is longer than 20 characters, the following error willbe printed and the excess characters will become the value of an undefined name.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Macro/class name ({VeryLongMacroNameHere}) too long (20 chars max)</PRE></BLOCKQUOTE></P><PCLASS="para">Because of the way multicharacter names are encoded into a single byte,there is a fixed limit on the number of multicharacter macro names that you may declare. That limitincludes those multicharacter names internally defined by <EMCLASS="emphasis">sendmail</EM>,[8]and those declared for class macros.There may be at most 96 multicharacter macro names. If you try to declare a 97th name,the following error will print and that definition will be ignored:</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[8] One for V8.7 and many for V8.8.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Macro/class {<CODECLASS="replaceable"><I>name</I></CODE>}: too many long names</PRE></BLOCKQUOTE></P><PCLASS="para"></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch31_03.htm"TITLE="31.3 Configuration File Definitions"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 31.3 Configuration File Definitions"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch31_05.htm"TITLE="31.5 Macro Expansion: $ and $&amp;"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 31.5 Macro Expansion: $ and $&amp;"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">31.3 Configuration File Definitions</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">31.5 Macro Expansion: $ and $&amp;</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>