<HTML><HEAD><TITLE>[Chapter 35] 35.5 Header Behavior in conf.c</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T21:48:24Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch35_01.htm"TITLE="35. Headers"><LINKREL="prev"HREF="ch35_04.htm"TITLE="35.4 ?flags? in Header Definitions"><LINKREL="next"HREF="ch35_06.htm"TITLE="35.6 Headers by Category"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_04.htm"TITLE="35.4 ?flags? in Header Definitions"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 35.4 ?flags? in Header Definitions"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 35<BR>Headers</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_06.htm"TITLE="35.6 Headers by Category"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 35.6 Headers by Category"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-35-SECT-5">35.5 Header Behavior in conf.c</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-35-IX-CONF-C-FILE"></A><ACLASS="indexterm"NAME="SML2-CH-35-IX-HEADERS-MESSAGE-CONF-C-FILE"></A>The <EMCLASS="emphasis">sendmail</EM> program has a built-in understanding of manyheader names. How those names are used is determinedby a set of flags in the source file <EMCLASS="emphasis">conf.c</EM> supplied with the sourcedistribution.Site policy determines which flags are applied to which headers,but, in general, <EMCLASS="emphasis">conf.c</EM> applies them in the way that isbest suited for almost all Internet sites. If you desire to redefine the flagsfor a particular header name, look for the name's declarationin the C language structure definition <CODECLASS="literal">HdrInfo</CODE> in <EMCLASS="emphasis">conf.c</EM>.Be sure to read the comments in that file. Changesto header flags represent a permanent site policy change and shouldnot be undertaken lightly.(We illustrate this process after explaining the flags.)</P><PCLASS="para">The flags that determine header use are listed in<ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-TAB-1"TITLE="Header Flags in conf.c">Table 35.2</A>.Note that each flag name is prefixed with an <CODECLASS="literal">H_</CODE>.Also note that the hexadecimal values are displayed by the<CODECLASS="literal">-d31.6</CODE> debugging switch (see <ACLASS="xref"HREF="ch37_05.htm#SML2-CH-37-SECT-5-114"TITLE="">Section 37.5.114, -d31.6</A>).</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="SML2-CH-35-TAB-1">Table 35.2: Header Flags in conf.c</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Flag</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Hex</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1"></TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Version</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Description</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_EOH</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0001</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-1"TITLE="H_EOH">Section 35.5.1, "H_EOH"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Terminates all headers</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_RCPT</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0002</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-2"TITLE="H_RCPT">Section 35.5.2, "H_RCPT"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Contains a recipient address</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_DEFAULT</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0004</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-3"TITLE="H_DEFAULT">Section 35.5.3, "H_DEFAULT"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">If already in headers, don't insert</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_RESENT</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0008</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-4"TITLE="H_RESENT">Section 35.5.4, "H_RESENT"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Is a <CODECLASS="literal">Resent-</CODE> header</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_CHECK</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0010</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-5"TITLE="H_CHECK">Section 35.5.5, "H_CHECK"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Process <CODECLASS="literal">?</CODE><CODECLASS="replaceable"><I>flags</I></CODE><CODECLASS="literal">?</CODE></P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_ACHECK</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0020</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-6"TITLE="H_ACHECK">Section 35.5.6, "H_ACHECK"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Ditto, but always, not just default</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_FORCE</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0040</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-7"TITLE="H_FORCE">Section 35.5.7, "H_FORCE"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Insert header (allows duplicates)</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_TRACE</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0080</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-8"TITLE="H_TRACE">Section 35.5.8, "H_TRACE"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Count these to get the hop count</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_FROM</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0100</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-9"TITLE="H_FROM">Section 35.5.9, "H_FROM"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Contains a sender address</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_VALID</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0200</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-10"TITLE="H_VALID">Section 35.5.10, "H_VALID"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V5 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Has a validated field value</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_ERRSTO</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x0800</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-11"TITLE="H_ERRSTO">Section 35.5.11, "H_ERRSTO"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V8.6 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">An <CODECLASS="literal">errors-to:</CODE> header</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_CTE</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x1000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-12"TITLE="H_CTE">Section 35.5.12, "H_CTE"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V8.7 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Is &quot;constant transfer encoding&quot;</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_CTYPE</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x2000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-13"TITLE="H_CTYPE">Section 35.5.13, "H_CTYPE"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V8.7 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Is &quot;content type&quot;</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_BCC</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x4000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-14"TITLE="H_BCC">Section 35.5.14, "H_BCC"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V8.7 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Strip value from header</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">H_ENCODABLE</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x8000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-15"TITLE="H_ENCODABLE">Section 35.5.15, "H_ENCODABLE"</A></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">V8.8 and up</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Field can be RFC1522 encoded</P></TD></TR></TBODY></TABLE><PCLASS="para">Note that there is no flag that always causes aparticular header to be removed, nor is there a flag thatalways causes a particular header to be replaced (although you cantrick <EMCLASS="emphasis">sendmail</EM> with H_ACHECK see <ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-16"TITLE="Replacing Headers with H_ACHECK">Section 35.5.16, "Replacing Headers with H_ACHECK"</A>).</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-1">35.5.1 H_EOH</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48604"></A>Headers that are marked with the H_EOH flag cause <EMCLASS="emphasis">sendmail</EM> to immediatelystop all header processing and treat the rest of the header linesas message body.This is useful for separating RFC822-compliant header lines fromheaders created by a noncompliant network.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-2">35.5.2 H_RCPT</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48610"></A>Headers that are marked with the H_RCPT flag are assumed to contain valid recipientaddresses in their fields. Only headers with this flag can leadto message delivery.These addresses will be rewritten. These headers are used to determine the recipient address only if the <CODECLASS="literal">-t</CODE> command-line switch (see <ACLASS="xref"HREF="ch36_07.htm#SML2-CH-36-SECT-7-38"TITLE="">Section 36.7.38, -t</A>)is used.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-3">35.5.3 H_DEFAULT</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48617"></A>The <EMCLASS="emphasis">sendmail</EM> program automatically sets the H_DEFAULT flag forall headers declared in the configuration file.This flag tells <EMCLASS="emphasis">sendmail</EM> to macro expand the header just beforeit is used.Only one of each header that is marked with this flag is allowed to existin the headers portion of a mail message. If such a headeralready exists, <EMCLASS="emphasis">sendmail</EM> does not add another.The H_FORCE and H_TRACE flags override this flag in that regard.This flag must never be specified in <EMCLASS="emphasis">conf.c</EM>&nbsp;- it is set automaticallyby <CODECLASS="literal">H</CODE> configuration command (see <ACLASS="xref"HREF="ch35_01.htm#SML2-CH-35-SECT-1"TITLE="The H Configuration Command">Section 35.1, "The H Configuration Command"</A>).</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-4">35.5.4 H_RESENT</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48628"></A>The H_RESENT flag tells <EMCLASS="emphasis">sendmail</EM> that the header line is prefixedwith the <CODECLASS="literal">resent-</CODE> string. Only headers that are marked with this flagcan tell <EMCLASS="emphasis">sendmail</EM> that this is a &quot;forwarded&quot; message.If no &quot;forwarded&quot; headers are found, <EMCLASS="emphasis">sendmail</EM> stripsany bogus <CODECLASS="literal">resent-</CODE> header lines from the message's header.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-5">35.5.5 H_CHECK</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48638"></A>If a header definition in the configuration file begins witha <CODECLASS="literal">?</CODE><CODECLASS="replaceable"><I>flags</I></CODE><CODECLASS="literal">?</CODE> conditional, this flag is setfor that header. It tells <EMCLASS="emphasis">sendmail</EM> to insert thisheader only if one of its <CODECLASS="literal">?</CODE><CODECLASS="replaceable"><I>flags</I></CODE><CODECLASS="literal">?</CODE> correspondsto one of the delivery agent's <CODECLASS="literal">F=</CODE> flags (see <ACLASS="xref"HREF="ch35_04.htm"TITLE="?flags? in Header Definitions">Section 35.4, "?flags? in Header Definitions"</A>).This flag must never be specified in <EMCLASS="emphasis">conf.c</EM>&nbsp;- it is setautomatically when <EMCLASS="emphasis">sendmail</EM> reads <CODECLASS="literal">H</CODE> lines with<CODECLASS="literal">?</CODE><CODECLASS="replaceable"><I>flags</I></CODE><CODECLASS="literal">?</CODE> header flags.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-6">35.5.6 H_ACHECK</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48658"></A>The H_ACHECK flag marks a header that should normally be discarded unlessa delivery agent's <CODECLASS="literal">F=</CODE> flag calls for its inclusion.It is usually set for the <CODECLASS="literal">Bcc:</CODE> header, which isdiscarded for the privacy of a blind carbon copy list, andthe <CODECLASS="literal">Full-Name:</CODE> header, which is intended as a wayfor a user to add a full name (see the <CODECLASS="literal">$x</CODE> macro, <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-42"TITLE="">Section 31.10.42</A>) when thereis no full name defined in the <EMCLASS="emphasis">passwd</EM>(5) file.Note that H_ACHECK, when combined with bogus <CODECLASS="literal">?</CODE><CODECLASS="replaceable"><I>flags</I></CODE><CODECLASS="literal">?</CODE>of a header configuration file declaration can cause appropriate headers to always be deleted or replaced (see <ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-16"TITLE="Replacing Headers with H_ACHECK">Section 35.5.16</A>).Also note that under V8 <EMCLASS="emphasis">sendmail</EM> the H_ACHECK flagalone always causes a header to be replaced.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-7">35.5.7 H_FORCE</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48674"></A>The H_FORCE flag causes <EMCLASS="emphasis">sendmail</EM> to always insert a header.It is used in the <EMCLASS="emphasis">conf.c</EM> file with selected traceheaders. It can be thought of as allowingduplicates. That is, the header will be inserted even ifone like it is already present.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-8">35.5.8 H_TRACE</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48681"></A>Headers that are marked with the H_TRACE flag are counted in determininga mail message's &quot;hop&quot; count.This flag is intended for use in the <EMCLASS="emphasis">conf.c</EM> file.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-9">35.5.9 H_FROM</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48687"></A>Headers that are marked with the H_FROM flag are assumed to contain a valid senderaddress.This flag is intended for use in the <EMCLASS="emphasis">conf.c</EM> file.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-10">35.5.10 H_VALID</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48693"></A>The H_VALID flag is set and cleared internally by <EMCLASS="emphasis">sendmail</EM> to indicateto itself that a particular header line has been correctly processedand can now be used as is. This flag should never be used inthe <EMCLASS="emphasis">conf.c</EM> file.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-11">35.5.11 H_ERRSTO</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48700"></A>The H_ERRSTO flag specifies which headers can be usedfor returning error notification mail. Those headers take priorityover all others for that notification if the <CODECLASS="literal">UseErrorsTo</CODE> (<CODECLASS="literal">l</CODE>)option is true (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-74"TITLE="">Section 34.8.74, UseErrorsTo (l)</A>).</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-12">35.5.12 H_CTE</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48708"></A>The H_CTE flag specifies that a header is the MIME RFC1521 content transfer encoding header(see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-8"TITLE="">Section 35.10.8, Content-Transfer-Encoding:</A>).</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-13">35.5.13 H_CTYPE</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48714"></A>The H_CTYPE flag specifies that a header isa MIME RFC1521 content-type header(see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-9"TITLE="">Section 35.10.9, Content-Type:</A>).</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-14">35.5.14 H_BCC</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48720"></A>The H_BCC flag indicates that a header is eithera <CODECLASS="literal">Bcc:</CODE> (see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-4"TITLE="">Section 35.10.4, Bcc:</A>) or a <CODECLASS="literal">Resent-Bcc:</CODE> header.The disposition of those headers is covered underthe <CODECLASS="literal">NoRecipient-Action</CODE> option(see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-43"TITLE="">Section 34.8.43, NoRecipientAction</A>).</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-15">35.5.15 H_ENCODABLE</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48730"></A>The H_ENCODABLE flag tells <EMCLASS="emphasis">sendmail</EM> that the field partmay be encoded in the way described in RFC1522. As of V8.8,this flag is unsupported in code.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-35-SECT-5-16">35.5.16 Replacing Headers with H_ACHECK</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48736"></A><ACLASS="indexterm"NAME="AUTOID-48738"></A>Some MUAs tend to insert their own <CODECLASS="literal">Message-ID:</CODE>header (see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-19"TITLE="">Section 35.10.19, Message-ID:</A>).This can cause difficulty tracing email problems, becausethose MUA headers lack the <EMCLASS="emphasis">sendmail</EM> queue identifier.One solution is possible at sites that have a central mail hubmachine. At such a site, all the client machines use a simpleconfiguration file that forwards all mail to the hub for processing.</P><PCLASS="para">To delete the bogus <CODECLASS="literal">Message-ID:</CODE>, so that a good one will begenerated on the hub, you can redefine <CODECLASS="literal">Message-ID:</CODE> in<EMCLASS="emphasis">conf.c</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&quot;message-id&quot;,           0,&quot;message-id&quot;,           H_ACHECK,       <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> change to this</I></PRE></BLOCKQUOTE></P><PCLASS="para">Here, we changed the <CODECLASS="literal">0</CODE> flag for the <CODECLASS="literal">Message-ID:</CODE> headerinto a H_ACHECK flag. We do this only on the client machineversions of <EMCLASS="emphasis">sendmail</EM> but <EMCLASS="emphasis">not</EM> on the hub.The <CODECLASS="literal">Message-ID:</CODE> header will then be strippedfrom every outgoing message on every client machine andcreated (if missing) on the hub.<ACLASS="indexterm"NAME="AUTOID-48756"></A><ACLASS="indexterm"NAME="AUTOID-48757"></A></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_04.htm"TITLE="35.4 ?flags? in Header Definitions"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 35.4 ?flags? in Header Definitions"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_06.htm"TITLE="35.6 Headers by Category"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 35.6 Headers by Category"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">35.4 ?flags? in Header Definitions</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">35.6 Headers by Category</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>