<HTML><HEAD><TITLE>[Chapter 35] 35.10 Alphabetized Reference</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T21:53:09Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch35_01.htm"TITLE="35. Headers"><LINKREL="prev"HREF="ch35_09.htm"TITLE="35.9 Pitfalls"><LINKREL="next"HREF="ch36_01.htm"TITLE="36. The Command Line"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_09.htm"TITLE="35.9 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 35.9 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 35<BR>Headers</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch36_01.htm"TITLE="36. The Command Line"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 36. The Command Line"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-35-SECT-10">35.10 Alphabetized Reference</A></H2><PCLASS="para">Some header lines need to be declared in the configurationfile by using the <CODECLASS="literal">H</CODE> command. Others are created internally by<EMCLASS="emphasis">sendmail</EM>. Still others are created by mail MUAs.These differences are described individually with eachheader-line <CODECLASS="replaceable"><I>name</I></CODE>.The following discussion of header names is in alphabetical order.</P><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-1">35.10.1 Apparently-From:</A></H3><PCLASS="refpurpose">The unknown sender</P>(Smail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49473"></A><ACLASS="indexterm"NAME="AUTOID-49475"></A>The <EMCLASS="emphasis">Smail 3.x</EM> program (a UUCP-oriented replacement for <EMCLASS="emphasis">sendmail</EM>)produces an <CODECLASS="literal">Apparently-From:</CODE> header when it is unableto find any of the official sender headers in a mail message. Theaddress that it provides to this nonstandard header is taken from theenvelope of the message.</P><PCLASS="para">The <EMCLASS="emphasis">sendmail</EM> program, on the other hand, places the envelopesender into a <CODECLASS="literal">From:</CODE> header in this situation.If there is no envelope senderand if the sender was not specified in the command line, <EMCLASS="emphasis">sendmail</EM>sets the sender to be postmaster.</P><PCLASS="para">The <CODECLASS="literal">Apparently-From:</CODE> header is mentioned here only becauseit may appear in messages received at sites that run <EMCLASS="emphasis">sendmail</EM>.It shouldn't cause problems, because a good sender addressstill appears in the SMTP envelope.</P><PCLASS="para">The <CODECLASS="literal">Apparently-From:</CODE> header should never be declaredin the configuration file and should not be added to <EMCLASS="emphasis">conf.c</EM>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-2">35.10.2 Apparently-To:</A></H3><PCLASS="refpurpose">When the message lacks a recipient</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49499"></A><ACLASS="indexterm"NAME="AUTOID-49501"></A>If the header of a mail message lacks recipient information (lacksall of the <CODECLASS="literal">To:</CODE>, <CODECLASS="literal">Cc:</CODE>,and <CODECLASS="literal">Bcc</CODE>: header lines), <EMCLASS="emphasis">sendmail</EM> adds an<CODECLASS="literal">Apparently-To:</CODE> headerline and puts the recipient's address from theenvelope into the field of that line.This behavior is hard-coded into pre-8.7 <EMCLASS="emphasis">sendmail</EM>,but beginning with version 8.7, it can be tuned withthe <CODECLASS="literal">NoRecipientAction</CODE> option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-43"TITLE="">Section 34.8.43</A>).</P><PCLASS="para">The <CODECLASS="literal">Apparently-To:</CODE> header name is not defined inRFC822. It is added by pre-8.7 <EMCLASS="emphasis">sendmail</EM>because RFC822 <EMCLASS="emphasis">requires</EM> at least one <CODECLASS="literal">To:</CODE> or<CODECLASS="literal">Cc:</CODE> header, and neither is present.</P><PCLASS="para">An <CODECLASS="literal">Apparently-To:</CODE> header should <EMCLASS="emphasis">never</EM> be definedin the configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-3">35.10.3 Auto-Submitted:</A></H3><PCLASS="refpurpose">Why the bounce</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49529"></A><ACLASS="indexterm"NAME="AUTOID-49531"></A><ACLASS="indexterm"NAME="AUTOID-49533"></A>When a message is returned because of an error or because a &quot;return receipt&quot;was requested, V8 <EMCLASS="emphasis">sendmail</EM> adds an <CODECLASS="literal">Auto-Submitted:</CODE> header.This header describes the reason for the return:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Auto-Submitted: auto-generated (<ICLASS="lineannotation">reason</I>)</PRE></BLOCKQUOTE></P><PCLASS="para">The <EMCLASS="emphasis">reason</EM> can be one of four things:It can be <CODECLASS="literal">warning-timeout</CODE> if the messagehas reached its <CODECLASS="literal">Timeout.queuewarn</CODE> option threshold (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-70"TITLE="">Section 34.8.70, Timeout (r)</A>).It can be <CODECLASS="literal">postmaster-warning</CODE> if the failure was delivered tothe postmaster as a result of a problem that the postmaster shouldfix, such as an MX configuration error. It can be <CODECLASS="literal">return-receipt</CODE> if the message was returned because of a <CODECLASS="literal">Return-Receipt-To:</CODE> header (see <ACLASS="xref"HREF="ch35_10.htm#SML2-CH-35-SECT-10-29"TITLE="">Section 35.10.29</A>) or a DSN NOTIFY=SUCCESS request (see RFC1891).Finally, it can be <CODECLASS="literal">failure</CODE> for any other reason.</P><PCLASS="para">In all instances, <EMCLASS="emphasis">sendmail</EM> also adds a <CODECLASS="literal">Subject:</CODE> header thatcontains the actual text that led to the bounce or return. This text isidentical to that saved in the <CODECLASS="literal">qf</CODE> file's <CODECLASS="literal">M</CODE> line (see <ACLASS="xref"HREF="ch23_09.htm#SML2-CH-23-SECT-9-9"TITLE="">Section 23.9.9, M line</A>).</P><PCLASS="para">The <CODECLASS="literal">Auto-Submitted:</CODE> header should <EMCLASS="emphasis">never</EM> be definedin the configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-4">35.10.4 Bcc:</A></H3><PCLASS="refpurpose">Blind carbon copy</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49568"></A><ACLASS="indexterm"NAME="AUTOID-49570"></A><ACLASS="indexterm"NAME="AUTOID-49572"></A>A blind carbon copy is a copy of the mail message that is sent toone or more recipients without the knowledge of the primaryrecipients. Primary recipients are listed in the <CODECLASS="literal">To:</CODE>and <CODECLASS="literal">Cc:</CODE> lines.When there are multiple blind carbon copy recipients, knowledge ofeach other is also hidden.</P><PCLASS="para">When run with a <CODECLASS="literal">-t</CODE> command-line switch (to gather recipientsfrom the headers),the <EMCLASS="emphasis">sendmail</EM> program achieves this end by saving a listof all the blind carbon copy recipients, deleting the<CODECLASS="literal">Bcc:</CODE> header line, and then delivering to eachblind carbon copy recipient.(See the <CODECLASS="literal">Apparently-To:</CODE> header.)</P><PCLASS="para">The <CODECLASS="literal">Bcc:</CODE> header should <EMCLASS="emphasis">never</EM> be declared in theconfiguration file.</P><PCLASS="para">The field for the <CODECLASS="literal">Bcc:</CODE> header must containone or more properly formed addresses. Where there is more thanone, each should be separated from the others by commas.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-5">35.10.5 Cc:</A></H3><PCLASS="refpurpose">Carbon copy</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49594"></A>The <CODECLASS="literal">Cc:</CODE> header is one of a few that specifythe list of primary recipients. The <EMCLASS="emphasis">sendmail</EM> program treatsthe <CODECLASS="literal">Cc:</CODE> header no differently from the way it treats the <CODECLASS="literal">To:</CODE>header.From the user's point of view, the <CODECLASS="literal">Cc:</CODE> header impliesthat there arerecipients to whom an informational copy of the message was supplied.</P><PCLASS="para">The <CODECLASS="literal">Cc:</CODE> header should <EMCLASS="emphasis">never</EM> be declared in theconfiguration file.</P><PCLASS="para">The field for the <CODECLASS="literal">Cc:</CODE> header must containone or more properly formed addresses.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-6">35.10.6 Comments:</A></H3><PCLASS="refpurpose">Header commentary</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49614"></A>The <CODECLASS="literal">Comments:</CODE> header is used to place explanatory textinto the header portion of an email. The field portionof the <CODECLASS="literal">Comments:</CODE> header may contain arbitrary text.</P><PCLASS="para">One possible use for a <CODECLASS="literal">Comments:</CODE> header would be tonotify recipients that one person is replying to mail for another:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Comments: Ben is in France for the next month or          so gathering information for the meeting.          I am handling his mail while he is away.   <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>   <ICLASS="lineannotation">whitespace</I></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">Comments:</CODE> header should <EMCLASS="emphasis">rarely</EM> be declaredin the configuration file. If it is, it should be prefixed withappropriate <CODECLASS="literal">?</CODE><CODECLASS="replaceable"><I>flags</I></CODE><CODECLASS="literal">?</CODE>. For example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?B?Comments: Local delivery is experimentally being handled       by a new program. Complaints to root.</PRE></BLOCKQUOTE></P><PCLASS="para">This comment is included only in headers that are deliveredvia the <CODECLASS="literal">local</CODE> delivery agent, because that deliveryagent is the only one to include the <CODECLASS="literal">F=B</CODE> flag:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Mlocal, P=/bin/mail, F=rlsDFMmnP<CODECLASS="userinput"><B>B</B></CODE>, S=10, R=20, A=mail -d $u</PRE></BLOCKQUOTE></P><PCLASS="para">For all versions of <EMCLASS="emphasis">sendmail</EM> except V8, ifthere is already a <CODECLASS="literal">Comments:</CODE> header in the message,this configuration-file declaration is ignored.For V8 <EMCLASS="emphasis">sendmail</EM> this declaration will always cause thenew <CODECLASS="literal">Comment:</CODE> header to be <EMCLASS="emphasis">added</EM> to the mail message.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-7">35.10.7 Content-Length:</A></H3><PCLASS="refpurpose">The size of the body of the message</P>(System V Release 4)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49652"></A>The <CODECLASS="literal">Content-Length:</CODE> header describes the approximate size of the bodyof a message. The size is always a decimal expression of thenumber of bytes occupied by the body.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Content-Length: 5678</PRE></BLOCKQUOTE></P><PCLASS="para">It is used by some MUAs to find a message faster in a largefile of many messages. It is always created or added byMUAs or delivery agents and never by MTAs. It should never be declared inthe configuration file.</P><PCLASS="para">For Sun's version of V8 <EMCLASS="emphasis">sendmail</EM> the behavior of the<CODECLASS="literal">Content-Length:</CODE> can be traced with the <CODECLASS="literal">-d80</CODE> debuggingswitch (see <ACLASS="xref"HREF="ch37_05.htm#SML2-CH-37-SECT-5-190"TITLE="">Section 37.5.190, -d80.1</A>). All other versions of <EMCLASS="emphasis">sendmail</EM>ignore this header.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-8">35.10.8 Content-Transfer-Encoding:</A></H3><PCLASS="refpurpose">Auxiliary MIME encoding used in the message</P>(RFC1521)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49672"></A>The MIME <CODECLASS="literal">Content-Transfer-Encoding:</CODE> header describes what auxiliary encodingwas applied to the message body to allow it to pass  through  emailtransport  mechanisms that may have data or character set limitations.Specifically, RFC821 requires message bodies to contain only 7-bit data.To transport 8-bit data (such as images and sounds) via SMTP, it is necessaryto convert that data to 7 bits. The <CODECLASS="literal">Content-Transfer-Encoding:</CODE> headerspecifies precisely how that conversion was done:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Content-Transfer-Encoding: <ICLASS="lineannotation">how</I></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <EMCLASS="emphasis">how</EM> is defined by RFC821 to be one of the following:<CODECLASS="literal">base64</CODE> (see RFC1521), <CODECLASS="literal">quoted-printable</CODE> (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-22"TITLE="">Section 34.8.22, EightBitMode (8)</A>),<CODECLASS="literal">8bit</CODE> (meaning that the message body contains unencoded 8-bit data in line lengthsuitable for SMTP transport),<CODECLASS="literal">7bit</CODE> (the message body contains 7-bit, SMTP-compliant data),or <CODECLASS="literal">binary</CODE> (the message body contains 8-bit data in a form that iscompletely unsuitable for SMTP transport).</P><PCLASS="para">See the <CODECLASS="literal">EightBitMode</CODE> (<CODECLASS="literal">8</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-22"TITLE="">Section 34.8.22</A>)for a description of how V8 <EMCLASS="emphasis">sendmail</EM> converts between 8- and 7-bit data.The <CODECLASS="literal">Content-Transfer-Encoding:</CODE> header should never be declared inthe configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-9">35.10.9 Content-Type:</A></H3><PCLASS="refpurpose">The nature of the body of the message</P>(RFC1521)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49701"></A>The <CODECLASS="literal">Content-Type:</CODE> header describes the nature of thebody of a mail message. In the absence of such a header, thebody is presumed to be composed of ASCII characters that have their high(most significant) bits turned off.One possible setting for this header might look like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Content-Type: text/plain; charset=ISO-8859-1</PRE></BLOCKQUOTE></P><PCLASS="para">This header says that the body uses the ISO-8859-1 character set.</P><PCLASS="para">This header is usually created by the originating MUA. It shouldnever be declared in the configuration file of pre-V8.7 versionsof <EMCLASS="emphasis">sendmail</EM>. Beginning with V8.7, the content type for8- to 7-bit MIME conversions can be declared with the <CODECLASS="literal">DefaultCharSet</CODE>option (<ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-14"TITLE="">Section 34.8.14, DefaultCharSet</A>).</P><PCLASS="para">When bouncing mail, V8 <EMCLASS="emphasis">sendmail</EM> creates a MIME-compliantmessage and includes a <CODECLASS="literal">Content-Type:</CODE> header like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Content-Type: multipart/mixed; boundary=&quot;<ICLASS="lineannotation">boundary</I>&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">If <EMCLASS="emphasis">sendmail</EM> was compiled to include DSN support (see <ACLASS="xref"HREF="ch18_08.htm#SML2-CH-18-SECT-8-5"TITLE="">Section 18.8.5, DSN</A>),the <CODECLASS="literal">Content-Type:</CODE> header will look like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Content-Type: multipart/report; report-type=delivery-status;        boundary=&quot;<ICLASS="lineannotation">boundary</I>&quot;</PRE></BLOCKQUOTE></P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-10">35.10.10 Date:</A></H3><PCLASS="refpurpose">The origin date</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49732"></A>The <CODECLASS="literal">Date:</CODE> header specifies the date and time thatthe mail message was originally sent. All mail messages mustinclude this header line.Consequently, the <CODECLASS="literal">Date:</CODE> header must be declared in the configurationfile like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?D?Date: $a</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">$a</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-2"TITLE="">Section 31.10.2, $a</A>) is mandatory in the field for this header.The value in <CODECLASS="literal">$a</CODE> is the current timein RFC822 format. (See Section 5.1 in RFC822 and Section 5.2.14in RFC1123.)Only the <CODECLASS="literal">$a</CODE> macro should be used with the <CODECLASS="literal">Date:</CODE>header, because it is the only one that is guaranteed to contain the currentdate and time in RFC822 (and RFC1123) format.</P><PCLASS="para">The <CODECLASS="literal">?D?</CODE> flag is always included with the <CODECLASS="literal">Date:</CODE>declaration in the configuration file. All the standard deliveryagents always include a <CODECLASS="literal">F=D</CODE> flag (see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-17"TITLE="">Section 30.8.17, F=D</A>).The <CODECLASS="literal">?D?</CODE>allows custom delivery agents to be designed that do notneed a <CODECLASS="literal">Date:</CODE> header.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-11">35.10.11 Delivered-To:</A></H3><PCLASS="refpurpose">Mark a mailing list expansion</P>(qmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49759"></A>The <EMCLASS="emphasis">qmail</EM> program uses a <CODECLASS="literal">Delivered-To:</CODE> header totrace all the alias and mailing list expansions through which an email messagepasses. This is similar to the way <CODECLASS="literal">Received:</CODE> headersare used to trace machine hops.When <EMCLASS="emphasis">qmail</EM> expands a mailing list, it adds a<CODECLASS="literal">Delivered-To:</CODE> header to the top of the message:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Delivered-To: <CODECLASS="replaceable"><I>list@host</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">If an identical header is already present,<EMCLASS="emphasis">qmail</EM> bounces the message. This prevents several kindsof mail loops. (Note that the <EMCLASS="emphasis">SmartList</EM> program supportsan <CODECLASS="literal">X-Loop:</CODE> header with the same function.)</P><PCLASS="para">This technique is further described in the following draft document:</P><PCLASS="para"><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><ACLASS="systemitem.url"HREF="ftp://koobera.math.uic.edu/pub/docs/RFCLOOPS">ftp://koobera.math.uic.edu/pub/docs/RFCLOOPS</A></P></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">Delivered-To:</CODE> header should never be declared inthe configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-12">35.10.12 Encrypted:</A></H3><PCLASS="refpurpose">Message is transformed</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49787"></A>The <CODECLASS="literal">Encrypted:</CODE> header is used to describe a translationthat has been performed on the body of the mail message. Althoughencryption is implied, other forms of translation, such as compressionand <EMCLASS="emphasis">uuencode</EM>(1), are perfectly legal.</P><PCLASS="para">The <EMCLASS="emphasis">sendmail</EM> program ignores the <CODECLASS="literal">Encrypted:</CODE> header.This header is intended for use by MUAs. Unfortunately,most (if not all) UNIX MUAs also ignore this header.The form for the <CODECLASS="literal">Encrypted:</CODE> header is:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Encrypted: <CODECLASS="replaceable"><I>prog key</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The field contains one mandatory item, the <CODECLASS="replaceable"><I>prog</I></CODE>,and one optional item, the <CODECLASS="replaceable"><I>key</I></CODE>. The <CODECLASS="replaceable"><I>prog</I></CODE> is thename of the program that was used to transform the message body.The optional <CODECLASS="replaceable"><I>key</I></CODE> is a decryption key.</P><PCLASS="para">If translating the message body into a different form,be aware that many versions of <EMCLASS="emphasis">sendmail</EM> strip the eighth bitfrom all bytes of the body during transmission. </P><PCLASS="para">The <CODECLASS="literal">Encrypted:</CODE> header should never be declared inthe configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-13">35.10.13 Errors-To:</A></H3><PCLASS="refpurpose">Error notification redirect</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49815"></A>Ordinarily, errors are bounced to the envelope sender.The <CODECLASS="literal">Errors-To:</CODE> header specifies the address, or addresses,to which <EMCLASS="emphasis">sendmail</EM> should send additional notification of deliveryerrors.</P><PCLASS="para">The <CODECLASS="literal">Errors-To:</CODE> header is intended for use by mailing lists to prevent errors in a list from being rebroadcast to the list as a whole.For example, consider the mailing list <EMCLASS="emphasis">allusers</EM>. Mail that is sentto this list should contain the following header lines:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">To: allusersFrom: allusers-submitErrors-To: allusers-errors</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">From:</CODE> header allows reply mail to be submitted fordistribution to the list. The <CODECLASS="literal">Errors-To:</CODE> header causeserror notification to be sent to <CODECLASS="literal">allusers-errors</CODE> so thatthe maintainer can fix any errors in the list.The original sender also gets error notification unless the mailinglist software represents the maintainer in the envelope (see <ACLASS="xref"HREF="ch25_05.htm#SML2-CH-25-SECT-5-1"TITLE="Reply Versus Bounce">Section 25.5.1, "Reply Versus Bounce"</A>).</P><PCLASS="para">Under SunOS and V8 <EMCLASS="emphasis">sendmail</EM> the <CODECLASS="literal">Errors-To:</CODE>is flagged in <EMCLASS="emphasis">conf.c</EM> with the H_ERRSTO header flag (see <ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-11"TITLE="H_ERRSTO">Section 35.5.11</A>). Thisallows other headers to be declared in that file as errorredirect headers. Under pre-V8 SunOS <EMCLASS="emphasis">sendmail</EM> the <CODECLASS="literal">Errors-To:</CODE> headeris ignored if the error mode set by the <CODECLASS="literal">e</CODE> option is <CODECLASS="literal">m</CODE> (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-24-2"TITLE="ErrorMode=m">Section 34.8.24.2, "ErrorMode=m"</A>).</P><PCLASS="para">Under V8 <EMCLASS="emphasis">sendmail</EM> the <CODECLASS="literal">Errors-To:</CODE> header is ignoredunless the <CODECLASS="literal">UseErrorsTo</CODE> (<CODECLASS="literal">l</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-74"TITLE="">Section 34.8.74</A>) is true.It does this because the <CODECLASS="literal">Errors-To:</CODE> header violates RFC1123.<CODECLASS="literal">Errors-To:</CODE> was needed only to take the place of theenvelope sender in the days when most UNIX delivery agentscouldn't differentiate between header and envelope.</P><PCLASS="para">The <CODECLASS="literal">Errors-To:</CODE> header should never be declared inthe configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-14">35.10.14 From:</A></H3><PCLASS="refpurpose">The sender</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49857"></A>The <CODECLASS="literal">From:</CODE> header lists the address of the sender.There are only four legal forms that the field of thisheader can take:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">From: addressFrom: &lt;address&gt;From: Full Name &lt;address&gt;From: address (comment)</PRE></BLOCKQUOTE></P><PCLASS="para">A <CODECLASS="literal">From:</CODE> header must be declared in the configuration file,and its field is composed of the <CODECLASS="literal">$x</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-42"TITLE="">Section 31.10.42</A>) and <CODECLASS="literal">$g</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-16"TITLE="">Section 31.10.16, $g</A>) macros.For example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?F?From: $?x$x &lt;$g&gt;$|$g$.</PRE></BLOCKQUOTE></P><PCLASS="para"><CODECLASS="literal">$g</CODE> contains the official return address ofthe sender. <CODECLASS="literal">$x</CODE> contains the full name for thesender. <CODECLASS="literal">$x</CODE> may be undefined for some addresses,so it should be wrapped in the <CODECLASS="literal">$?</CODE> and <CODECLASS="literal">$.</CODE> conditionaloperators (see <ACLASS="xref"HREF="ch31_06.htm"TITLE="Macro Conditionals: $?, $|, and $.">Section 31.6</A>).</P><PCLASS="para">The <CODECLASS="literal">From:</CODE> header must be prefixed by the <CODECLASS="literal">?F?</CODE>flag because all the traditional delivery agents use the<CODECLASS="literal">F=F</CODE> flag (see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-21"TITLE="">Section 30.8.21, F=F</A>)to force inclusion of that header. Use of the<CODECLASS="literal">?F?</CODE> flag allows new delivery agents to be written thatdon't require the <CODECLASS="literal">From:</CODE> header.The <CODECLASS="literal">resent-</CODE> form of the <CODECLASS="literal">From:</CODE> header must alsobe declared in the configuration file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?F?Resent-From: $?x$x &lt;$g&gt;$|$g$.</PRE></BLOCKQUOTE></P><PCLASS="para">This ensures that every mail message has a sender, evenif the mail message has been forwarded.</P><PCLASS="para">Note that <EMCLASS="emphasis">sendmail</EM> does not add the <CODECLASS="literal">From:</CODE>header or its <CODECLASS="literal">resent-</CODE> form if a <CODECLASS="literal">From:</CODE>header already exists in the header portion of the mail message.A possible exception occurs if the envelope sender is identicalto the address in the <CODECLASS="literal">From:</CODE> header. In that instance, the<CODECLASS="literal">From:</CODE> header is discarded and a new one is created (see <ACLASS="xref"HREF="ch35_07.htm#SML2-CH-35-SECT-7-1"TITLE="Remove and Recreate the From: Header">Section 35.7.1, "Remove and Recreate the From: Header"</A>).</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-15">35.10.15 Full-Name:</A></H3><PCLASS="refpurpose">The sender's full name</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49905"></A>The <CODECLASS="literal">Full-Name:</CODE> header is used to list the sender'sfull name if it is known. The field for this headermay be arbitrary text but is usually the value in the <CODECLASS="literal">$x</CODE>macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-42"TITLE="">Section 31.10.42</A>):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?x?Full-Name: $xH?x?Full-Name: (User names hidden for security)</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">Full-Name:</CODE> header should be prefixed with the<CODECLASS="literal">?x?</CODE> flag so that selected delivery agents may requireinclusion of that header. This header definition is usuallymeaningless, because all traditional deliveryagents omit the <CODECLASS="literal">F=x</CODE> flag.It can be useful, however, for mailing through sites that strip or destroy<CODECLASS="literal">From:</CODE> headers.</P><PCLASS="para">The <CODECLASS="literal">Full-Name:</CODE> header may be specified in the configurationfile. If this header is already in the mail message, <EMCLASS="emphasis">sendmail</EM>does not replace it. But note that V8 <EMCLASS="emphasis">sendmail</EM> will remove the<CODECLASS="literal">Full-Name:</CODE> header if the <CODECLASS="literal">F=x</CODE> flag(see <ACLASS="xref"HREF="ch30_08.htm#SML2-CH-30-SECT-8-44"TITLE="">Section 30.8.44, F=x</A>) is set for the recipient'sdelivery agent.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-16">35.10.16 In-Reply-To:</A></H3><PCLASS="refpurpose">Identify previous correspondence</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49932"></A>The <CODECLASS="literal">In-Reply-To:</CODE> header is used to identify previous correspondencethat the current message is in reply to. This header is generatedby MUAs, not by <EMCLASS="emphasis">sendmail</EM>. Thefield for this header is arbitrary text with one restriction.If that text includes the message identifier, that identifiermust be enclosed in angle brackets (<CODECLASS="literal">&lt;</CODE> and <CODECLASS="literal">&gt;</CODE>)and must adhere to the format for all message identifiers.Note that the message identifier<EMCLASS="emphasis">should</EM> be included but is not required.</P><PCLASS="para">A typical use of the <CODECLASS="literal">In-Reply-To:</CODE> header might looklike the following:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">In-Reply-To: Your message of Fri, 13 Dec 1996 05:47:44 -0700       The subject of which was: &quot;Which came first?&quot;   <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>   <ICLASS="lineannotation">whitespace</I></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">In-Reply-To:</CODE>  header should never be declared inthe configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-17">35.10.17 Keywords:</A></H3><PCLASS="refpurpose">Index to contents</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49955"></A>The <CODECLASS="literal">Keywords:</CODE> header is used to list significantwords from the body of the mail message that aid in theindexing of its contents. This header is never added by<EMCLASS="emphasis">sendmail</EM>. Although some user mail-reading programs cancreate this header, it is usually created by Usenet news-posting programs.</P><PCLASS="para">The field for the <CODECLASS="literal">Keywords:</CODE> header is arbitrarytext. This header should never be declared in the <EMCLASS="emphasis">sendmail</EM>configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-18">35.10.18 Mail-From:</A></H3><PCLASS="refpurpose">Synonym for Received:</P>(obsolete)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49970"></A>The <CODECLASS="literal">Mail-From:</CODE> header is not defined by any of theRFCs and is rarely seen in message headers. The <EMCLASS="emphasis">sendmail</EM>program defines it internally as a synonym for the <CODECLASS="literal">Received:</CODE>header. The <CODECLASS="literal">Mail-From:</CODE> header is obsolete.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-19">35.10.19 Message-ID:</A></H3><PCLASS="refpurpose">Unique identifier for message</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-49984"></A>The <CODECLASS="literal">Message-ID:</CODE> header is used to uniquely identifyeach mail message. This header must be declared in the configurationfile. The field for this header must be anexpression in the form of a legal address enclosed in anglebrackets (<CODECLASS="literal">&lt;</CODE> and <CODECLASS="literal">&gt;</CODE>).The address must be composed of elements that create an identifier that is truly unique worldwide.The <CODECLASS="literal">Message-ID:</CODE> header is declared in the configurationfile:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">?M?Message-Id: &lt;$t.$i@$j&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">Here, the field is an address of the form <CODECLASS="replaceable"><I>user@domain</I></CODE>,which is enclosed in angle brackets. The <CODECLASS="literal">$t</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-35"TITLE="">Section 31.10.35, $t</A>) is an integerrepresentation of the current time to the nearest second. The <CODECLASS="literal">$i</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-19"TITLE="">Section 31.10.19, $i</A>)is the unique queue identifier that is used to identify this message locally.The <CODECLASS="literal">$j</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-20"TITLE="">Section 31.10.20, $j</A>)is the fully qualified domain name of the local host.The <CODECLASS="literal">Message-ID:</CODE> header as it might appear in an actualmail message would look like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Message-Id: &lt;9207100411.AA14505@nic.cerf.net&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">Message-ID:</CODE> header should be prefixed with a<CODECLASS="literal">?M?</CODE> flag so that it is inserted only into headersof messages whose delivery agents have the <CODECLASS="literal">F=M</CODE> flag set.The standard delivery agents include this flag.</P><PCLASS="para">The <CODECLASS="literal">resent-</CODE> form of the <CODECLASS="literal">Message-ID:</CODE> header mustalso be declared in the configuration file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">?M?Resent-Message-Id: &lt;$t.$i@$j&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">This ensures that every mail message has a message identifiereven if the message is forwarded.</P><PCLASS="para">Note that <EMCLASS="emphasis">sendmail</EM> does not add a <CODECLASS="literal">Message-ID:</CODE> headeror its <CODECLASS="literal">Resent-</CODE> form if a <CODECLASS="literal">Message-ID:</CODE> headeralready exists in the header portion of a mail message. Furthermore, the <CODECLASS="literal">Resent-</CODE> form is added onlyif <EMCLASS="emphasis">sendmail</EM> determines that the message is a resentmessage.</P><PCLASS="para">Also note that you should never try to replace an existing <CODECLASS="literal">Message-ID:</CODE>header with one of your own. This could result in the loss of importantinformation needed to trace the origin of a message.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-20">35.10.20 Message:</A></H3><PCLASS="refpurpose">Marks end of headers</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50030"></A>The <CODECLASS="literal">Message:</CODE> header is used to mark an early end toa mail message's headers. When <EMCLASS="emphasis">sendmail</EM> finds this header,it immediately stops gathering the message's header lines andtreats the rest of the header as the start of the message body. This headeris useful for including non-Internet headers in the header portionof a mail message. For example,</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">To: george@wash.dc.gov (George Washington)Subject: Re: More textDate: Tue, 04 Aug 92 14:14:56 -0400Message-Id: &lt;31842.AA01513@wash.dc.gov&gt;Received: by wash.dc.gov (4.1/1.12 $)        id AA01513; Tue, 4 Aug 92 12:15:01 PDTFrom: Ben Franklin &lt;ben@philly.dc.gov&gt;Message:ROUTED BY BITNET\/CO=US/ROUTE=INTERNET/FORMAT OF MESSAGE /LANG=USENGLISH/FORM=PLAINTEXT/</PRE></BLOCKQUOTE></P><PCLASS="para">Here, the last two header lines are non-Internet headers that mayconfuse some programs. But the <CODECLASS="literal">Message:</CODE> header that precedesthem tells <EMCLASS="emphasis">sendmail</EM> to treat them as message body, and problemsare avoided.&#13;</P><PCLASS="para">Note that <CODECLASS="literal">Message:</CODE> is not defined by any RFC but isa convention that is shared by all versions of <EMCLASS="emphasis">sendmail</EM> and mostother MTAs.The <CODECLASS="literal">Message:</CODE> header should never be declared in theconfiguration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-21">35.10.21 MIME-Version:</A></H3><PCLASS="refpurpose">Notify that error return contains MIME support</P>(RFC1521)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50051"></A>MIME (Multipurpose Internet Mail Extensions)is documented in RFC1521, with additional details in RFC1344, RFC1426,RFC1428, and RFC1437. The <EMCLASS="emphasis">sendmail</EM> program cares about MIME only when bouncingmessages and when determining how to convert the message body between8 and 7 bits.If the <CODECLASS="literal">SendMimeErrors</CODE> (<CODECLASS="literal">j</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-60"TITLE="">Section 34.8.60, SendMimeErrors (j)</A>)is set, V8 <EMCLASS="emphasis">sendmail</EM> includesthe following header in all returned (bounced) mail:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">MIME-Version: 1.0</PRE></BLOCKQUOTE></P><PCLASS="para">This is hard-coded into <EMCLASS="emphasis">sendmail</EM>. See the <CODECLASS="literal">SendMimeErrors</CODE> (<CODECLASS="literal">j</CODE>) optionfor further details about this header. </P><PCLASS="para">The <CODECLASS="literal">MIME-Version:</CODE> header should never be declared inthe configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-22">35.10.22 Posted-Date:</A></H3><PCLASS="refpurpose">Date submitted</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50074"></A>The <CODECLASS="literal">Posted-Date:</CODE> header is used by some old Usenet newssoftware and some mailing list software to indicate the date andtime that a mail message was posted (submitted for distribution).The <CODECLASS="literal">Date:</CODE> header, on the other hand, showswhen the message was mailed. In actual practice, the two usuallyshow the same date and time.</P><PCLASS="para">When <EMCLASS="emphasis">sendmail</EM> tries to determine the originating date ofa mail message, it first looks for a <CODECLASS="literal">Posted-Date:</CODE> header.If one is found, it uses that date. Otherwise, it uses the datefrom the <CODECLASS="literal">Date:</CODE> header.Whichever is used, the result is stored into the <CODECLASS="literal">$a</CODE>macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-2"TITLE="">Section 31.10.2</A>).</P><PCLASS="para">The <CODECLASS="literal">Posted-Date:</CODE> header is not a part of the RFC822standard, so it should not be declared in the <EMCLASS="emphasis">sendmail</EM> configurationfile.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-23">35.10.23 Precedence:</A></H3><PCLASS="refpurpose">Set ordering in queue</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50095"></A>The <CODECLASS="literal">Precedence:</CODE> header is used internally by <EMCLASS="emphasis">sendmail</EM>to order the processing of messages in its queue. A full descriptionof the possible field values for this header is givenin <ACLASS="xref"HREF="ch35_08.htm#SML2-CH-35-SECT-8-1"TITLE="The P Configuration Command">Section 35.8.1, "The P Configuration Command"</A>. The effect of those values on orderingthe queue is described in <ACLASS="xref"HREF="ch23_05.htm"TITLE="How the Queue Is Processed">Section 23.5, "How the Queue Is Processed"</A>.</P><PCLASS="para">The <CODECLASS="literal">Precedence:</CODE> header should never be declared as an<CODECLASS="literal">H</CODE> line in the configuration file. However, <CODECLASS="literal">P</CODE> precedencelines should be declared in that file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-24">35.10.24 Priority:</A></H3><PCLASS="refpurpose">Determine timeouts in the queue</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50113"></A>Mail messages may be placed into the queue either intentionally orbecause they could not be delivered immediately. Once they are in the queue,two time periods come into play. First is the period of time thatthe message should remain in the queue before a warning is issuedto the sender. Second is the total period of time that themessage should remain in the queue before it is bounced as a failedmessage.</P><PCLASS="para">Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>, it is now possible to tailorthese intervals on the basis of three distinct priorities of mail. Thenew <CODECLASS="literal">Priority:</CODE> header tells <EMCLASS="emphasis">sendmail</EM> which prioritya message possesses:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Priority: <CODECLASS="replaceable"><I>pri</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="replaceable"><I>pri</I></CODE> can have one of three possible values: <CODECLASS="literal">urgent</CODE>, <CODECLASS="literal">normal</CODE>, and <CODECLASS="literal">non-urgent</CODE>. These valuescorrespond directly to the priorities specified by the<CODECLASS="literal">Timeout.queuewarn</CODE> option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-70-15"TITLE="Timeout.queuewarn">Section 34.8.70.15, "Timeout.queuewarn"</A>)and <CODECLASS="literal">Timeout.queuereturn</CODE> option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-70-14"TITLE="Timeout.queuereturn">Section 34.8.70.14, "Timeout.queuereturn"</A>):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">O Timeout.queuereturn.urgent=1dO Timeout.queuereturn.normal=2dO Timeout.queuereturn.non-urgent=4d</PRE></BLOCKQUOTE></P><PCLASS="para">Here, a <CODECLASS="literal">Priority:</CODE> header of <CODECLASS="literal">normal</CODE> will cause themessage containing it to bounce after it has remained in the queue for two days.</P><PCLASS="para">The <CODECLASS="literal">Priority:</CODE> header should never be declaredin the configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-25">35.10.25 Received:</A></H3><PCLASS="refpurpose">Trace routing of mail</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50146"></A>The <CODECLASS="literal">Received:</CODE> header is used to record information abouteach and every site a mail message passes through on its wayto ultimate delivery. First this header is inserted by the originalsending site, then another is added by each site that the message passesthrough, including the site performing final delivery.Each new header is added to the top of the listof <CODECLASS="literal">Received:</CODE> headers,forming a chronological record (reading bottom up throughthe headers) of how the mail message was handled.&#13;</P><PCLASS="para">The contents of the <CODECLASS="literal">Received:</CODE> header's field isnarrowly defined by RFC822. Its defined form looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Received: [&quot;from&quot; host] &quot;by&quot; host [&quot;via&quot; atom] [&quot;with&quot; atom]       &quot;id&quot; string [&quot;for&quot; addr] &quot;;&quot; date   <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>   <ICLASS="lineannotation">whitespace</I></PRE></BLOCKQUOTE></P><PCLASS="para">The field is composed of six items that may be split over multiple linesby using whitespace to indent the second. Items that areoptional are enclosed in square brackets.Each item is composed of two parts a word (shown inquotation marks) and a value. All, or only the few requireditems, need to be present.When they are present, they must be in the following order:</P><DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="literal">from</CODE></DT><DDCLASS="listitem"><PCLASS="para">Full canonical name of the sending host (if available)</P></DD><DTCLASS="term"><CODECLASS="literal">by</CODE></DT><DDCLASS="listitem"><PCLASS="para">Full canonical name of the receiving host (required)</P></DD><DTCLASS="term"><CODECLASS="literal">via</CODE></DT><DDCLASS="listitem"><PCLASS="para">Physical network that was used to transmit the message, such asINTERNET, JANET, or XNS (optional)</P></DD><DTCLASS="term"><CODECLASS="literal">with</CODE></DT><DDCLASS="listitem"><PCLASS="para">Protocol used to receive the message, such as SMTP (optional)</P></DD><DTCLASS="term"><CODECLASS="literal">id</CODE></DT><DDCLASS="listitem"><PCLASS="para">Unique queue identifier assigned by the local host (required)</P></DD><DTCLASS="term"><CODECLASS="literal">for</CODE></DT><DDCLASS="listitem"><PCLASS="para">Initial, untranslated address of the recipient (seldom used)</P></DD><DTCLASS="term"><CODECLASS="literal">;date</CODE></DT><DDCLASS="listitem"><PCLASS="para">Date this message was received (required)</P></DD></DL><PCLASS="para">The <CODECLASS="literal">Received:</CODE> header must be declared in the configurationfile. It is a mandatory header, so it should never be prefixed with<CODECLASS="literal">?</CODE><CODECLASS="replaceable"><I>flags</I></CODE><CODECLASS="literal">?</CODE>. A typical declaration of this header would look likethis:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">HReceived: $?sfrom $s $.$?_($?s$|from $.$_) $.by $j ($v/$Z)$?r with $r$.        id $i$?u for $u$.; $b</PRE></BLOCKQUOTE></P><PCLASS="para">Here, seven items are included in the field:</P><DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="literal">$?from $s $.</CODE></DT><DDCLASS="listitem"><PCLASS="para">If the <CODECLASS="literal">$s</CODE> macrocontains a value, the word <CODECLASS="literal">from</CODE> andthat value are inserted into the header. The <CODECLASS="literal">$s</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-33"TITLE="">Section 31.10.33, $s</A>)contains the full canonical name of the sender's host.&#13;</P></DD><DTCLASS="term"><CODECLASS="literal">$?_($?s$|from $.$_) $.</CODE></DT><DDCLASS="listitem"><PCLASS="para">This is a nested conditional.If the <CODECLASS="literal">$_</CODE> macro contains a value, the parentheses and all the information inside them are inserted into the header.If the <CODECLASS="literal">$_</CODE> macro lacks a value, nothing is inserted into the header.</P></DD><DTCLASS="term"><EMCLASS="emphasis"></EM></DT><DDCLASS="listitem"><PCLASS="para">Inside the parentheses the value of <CODECLASS="literal">$_</CODE> is inserted into the header.Another conditional expression determines if the <CODECLASS="literal">$_</CODE> just insertedshould also be prefixed with the word <CODECLASS="literal">from</CODE>. If the <CODECLASS="literal">$s</CODE> macro lacks a valuethe word <CODECLASS="literal">from</CODE> is inserted in front of the <CODECLASS="literal">$_</CODE>.The <CODECLASS="literal">$_</CODE> macro contains the RFC1413 <EMCLASS="emphasis">identd</EM>(8)identity of the connecting host and any IP routing information(see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-1"TITLE="">Section 31.10.1, $-</A>).</P></DD><DTCLASS="term"><CODECLASS="literal">by $j ($v/$Z)</CODE></DT><DDCLASS="listitem"><PCLASS="para">The <CODECLASS="literal">$j</CODE> macro contains the full canonical name of thelocal host. The parentheses surround a comment that is formedfrom <CODECLASS="literal">$v</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-38"TITLE="">Section 31.10.38, $v</A>), the version of the <EMCLASS="emphasis">sendmail</EM> program,and <CODECLASS="literal">$Z</CODE> (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-47"TITLE="">Section 31.10.47, $Z</A>) the version of the configurationfile.</P></DD><DTCLASS="term"><CODECLASS="literal">$?r with $r$.</CODE></DT><DDCLASS="listitem"><PCLASS="para">If the <CODECLASS="literal">$r</CODE> macro contains a value, the word<CODECLASS="literal">with</CODE> followed by the value of <CODECLASS="literal">$r</CODE> is insertedinto the header. The <CODECLASS="literal">$r</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-31"TITLE="">Section 31.10.31, $r</A>)contains a string that indicates the protocol used to receivethe message (such as SMTP or ESMTP).</P></DD><DTCLASS="term"><CODECLASS="literal">id</CODE> <CODECLASS="literal">$i</CODE></DT><DDCLASS="listitem"><PCLASS="para">The <CODECLASS="literal">$i</CODE> macro contains the identifier created by<EMCLASS="emphasis">sendmail</EM> to uniquely identify this mail message at thishost (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-19"TITLE="">Section 31.10.19</A>).</P></DD><DTCLASS="term"><CODECLASS="literal">$?u for $u$</CODE></DT><DDCLASS="listitem"><PCLASS="para">If the <CODECLASS="literal">$u</CODE> macro contains a value, the word<CODECLASS="literal">for</CODE> followed by the value of <CODECLASS="literal">$u</CODE> isinserted into the header. The <CODECLASS="literal">$u</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-36"TITLE="">Section 31.10.36, $u</A>)contains the recipient's username.</P></DD><DTCLASS="term"><CODECLASS="literal">;</CODE> <CODECLASS="literal">$b</CODE></DT><DDCLASS="listitem"><PCLASS="para">The <CODECLASS="literal">$b</CODE> macro contains the current date and time inRFC822 format (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-3"TITLE="">Section 31.10.3, $b</A>).</P></DD></DL><PCLASS="para">The <CODECLASS="literal">Received:</CODE> declaration shown above is theone typically used by most sites running V8 <EMCLASS="emphasis">sendmail</EM>.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-26">35.10.26 References:</A></H3><PCLASS="refpurpose">Reference to original message</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50291"></A>The <CODECLASS="literal">References:</CODE> header is used by mail-readingprograms to include a reference to the original message in replies.Although this header may legally contain arbitrary text as itsfield, it usually contains a copy of the original <CODECLASS="literal">Message-ID:</CODE> header field.</P><PCLASS="para">The <CODECLASS="literal">References:</CODE> header typically looks somethinglike this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">References: &lt;9205041920.AA27932@wash.dc.gov&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">Notice that the message identifier is wrapped in angle brackets,which cause it to look like an address.</P><PCLASS="para">The <CODECLASS="literal">References:</CODE> header should never be declared inthe configuration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-27">35.10.27 Reply-To:</A></H3><PCLASS="refpurpose">Alternative reply address</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50310"></A>The <CODECLASS="literal">Reply-To:</CODE> header requests that replies to messages go toone or more addresses that are different from that of theoriginal sender. This header is usually inserted by mailing-list software, where the <CODECLASS="literal">From:</CODE> is the address of themailing list and the <CODECLASS="literal">Reply-To:</CODE> is the address ofthe list's maintainer.</P><PCLASS="para">The field for the <CODECLASS="literal">Reply-To:</CODE> header must obeythe same rules as those for the <CODECLASS="literal">From:</CODE> header's field.One example of the use of this header might look like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">From: mailinglist@list.server.comReply-To: mailinglist-request@list.server.com</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">-request</CODE> suffix is used by manymailing lists to specify the list maintainer.</P><PCLASS="para">The <CODECLASS="literal">Reply-To:</CODE> header should never be declared in theconfiguration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-28">35.10.28 Return-Path:</A></H3><PCLASS="refpurpose">Return address of sender</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50332"></A>The <CODECLASS="literal">Return-Path:</CODE> header is intended to show the envelope addressof the real sender as opposed to thesender used for replying (the <CODECLASS="literal">From:</CODE> and <CODECLASS="literal">Reply-To:</CODE>headers). In posting Usenet news, for example, the <CODECLASS="literal">Return-Path:</CODE>shows &quot;news&quot; and the <CODECLASS="literal">From:</CODE> shows the address of the posting user. But in general, <CODECLASS="literal">Return-Path:</CODE>should never be used for replying to mail.It is intended to be used solely for notification of deliveryerrors.</P><PCLASS="para">There must be only one <CODECLASS="literal">Return-Path:</CODE> header in any mailmessage, and it should be placed there by the site performing finaldelivery. This header should be declared in the configuration filelike this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">H?P?Return-Path: &lt;$g&gt;</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">?P?</CODE> flag ensures that only delivery agentsthat perform final delivery insert this header. Thosedelivery agents are usually <CODECLASS="literal">prog</CODE> and <CODECLASS="literal">local</CODE>, whichusually contain an <CODECLASS="literal">F=P</CODE> delivery agent flag.</P><PCLASS="para">The <CODECLASS="literal">$g</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-16"TITLE="">Section 31.10.16</A>) contains as its value the address of thesender relative to the recipient.</P><PCLASS="para">Unfortunately, two circumstances can cause the <CODECLASS="literal">Return-Path:</CODE> headerto contain incorrect information. First, the message may arrive atyour site with that header already there. If this happens, there isusually no way to get rid of it, because most versionsof <EMCLASS="emphasis">sendmail</EM> lack a <EMCLASS="emphasis">conf.c</EM> <CODECLASS="literal">H_</CODE> flag that means to replace anexisting header. However, with V8 <EMCLASS="emphasis">sendmail</EM>, defining H_ACHECK (see <ACLASS="xref"HREF="ch35_05.htm#SML2-CH-35-SECT-5-16"TITLE="Replacing Headers with H_ACHECK">Section 35.5.16</A>)in <EMCLASS="emphasis">conf.c</EM> causes a header to be replaced even if one is alreadyin the message.</P><PCLASS="para">The second problem stems from the fact that final delivery may notreally be final. The <CODECLASS="literal">local</CODE> delivery agent program may besomething like <EMCLASS="emphasis">procmail</EM>(8), which allows mail to appear tobe locally delivered, while also allowing users to run shell scriptsthat may forward their mail to another site.</P><PCLASS="para">To minimize these problems,always declare the <CODECLASS="literal">Return-Path:</CODE> headerwith the proper <CODECLASS="literal">?</CODE><CODECLASS="replaceable"><I>flags</I></CODE><CODECLASS="literal">?</CODE> in the configuration file.Doing this ensures that it will be inserted when legal andthat the address your site places in it is usually correct.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-29">35.10.29 Return-Receipt-To:</A></H3><PCLASS="refpurpose">Verify delivery</P>(sendmail prior to V8.7)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50376"></A>he <CODECLASS="literal">Return-Receipt-To:</CODE> header causes <EMCLASS="emphasis">sendmail</EM> to send amail message back to the specified recipient confirming final delivery.It is no longer supported as of V8.7 <EMCLASS="emphasis">sendmail</EM>(instead, see NOTIFY=SUCCESS in <ACLASS="xref"HREF="ch36_07.htm#SML2-CH-36-SECT-7-28"TITLE="">Section 36.7.28, -N</A>).[4]If a pre-8.7 version of <EMCLASS="emphasis">sendmail</EM> finds this headerwhen it is processing mail for delivery, and if the selected delivery agent has the <CODECLASS="literal">F=l</CODE>flag set, <EMCLASS="emphasis">sendmail</EM> creates a bounced mail message.The recipient is set to the person specifiedin the <CODECLASS="literal">Return-Receipt-To:</CODE>header, and the following subject header line is included:</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[4] <CODECLASS="literal">Return-Receipt-To:</CODE> was a bad idea. It gave false information (suchas the suggestion that a user who never reads mail accepted delivery). It can wronglypropagate (as, for example, when a mailing list gets the receipt instead of you).And it is insecure (a nasty person can use it to find &quot;hidden&quot; membersof a mailing list).</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Subject: Returned Mail: Return Receipt     <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> prior to V8.7</I>Subject: Return Receipt                    <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> starting with V8.7</I></PRE></BLOCKQUOTE></P><PCLASS="para">The message appears to originate from the user defined bythe <CODECLASS="literal">$n</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-26"TITLE="">Section 31.10.26, $n</A>),and contains a copy of the original header as its body.</P><PCLASS="para">The <CODECLASS="literal">Return-Receipt-To:</CODE> header should never be declaredin the configuration file and, in fact, should rarely be used at all.It is not intended as a routine delivery-verification mechanismbut rather is intended for occasional use in debugging deliveryproblems. It is especially dangerous when used in outgoing mailing-list mail, because it can cause an avalanche of returned mail andcan possibly bring a host to its knees.Beginning with V8.6 <EMCLASS="emphasis">sendmail</EM>, a receipt is sent when the mailing listis first expanded, and the <CODECLASS="literal">Return-Receipt-To:</CODE> header is removedbefore forwarding the message to the list.</P><PCLASS="para">Beginning with V8.7 <EMCLASS="emphasis">sendmail</EM>, processing of all <CODECLASS="literal">Return-Receipt-To:</CODE>headers can be skipped by specifying <CODECLASS="literal">noreceipts</CODE> withthe <CODECLASS="literal">PrivacyOptions</CODE> (<CODECLASS="literal">p</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-47"TITLE="">Section 34.8.47, PrivacyOptions (p)</A>).</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-30">35.10.30 Sender:</A></H3><PCLASS="refpurpose">The real sender</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50415"></A>The <CODECLASS="literal">Sender:</CODE> header is like the <CODECLASS="literal">From:</CODE>header.But whereas the <CODECLASS="literal">From:</CODE> header shows the address of onesender, the <CODECLASS="literal">Sender:</CODE> header shows the addressof the <EMCLASS="emphasis">real</EM> sender. For example, an assistant can mail a letter forthe boss using the boss's account. The boss's address is in the <CODECLASS="literal">From:</CODE> header, and the assistant's address is in the <CODECLASS="literal">Sender:</CODE> header.The syntax for the two is identical.Newer MUAs allow the user to create a custom <CODECLASS="literal">Sender:</CODE>header.The <CODECLASS="literal">Sender:</CODE> header should never be declared in the configurationfile.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-31">35.10.31 Subject:</A></H3><PCLASS="refpurpose">Topic of the message</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50434"></A>The <CODECLASS="literal">Subject:</CODE> header can be included inmail messages to give the topic of the message.Most user mail-reading programs display the arbitrary text that formsthe field of this header when listing received messages.Although suchtext can legally extend over multiple indented lines, most mail-reading programs recognize only the first such line:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Subject: About yesterday's meeting, I had some second       thoughts about why the shape of the bonnet should       remain so sharply curved at the ends.   <ICLASS="lineannotation"><IMGSRC="../chars/uarr.gif"ALT="-^"></I>   <ICLASS="lineannotation">whitespace</I></PRE></BLOCKQUOTE></P><PCLASS="para">This would be displayed by the <EMCLASS="emphasis">mailx</EM>(1) program in truncatedform as:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">14   gw@wash.dc.gov Fri Aug  7 12:57  22/770 &quot;About yesterday's meeting&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">Subject:</CODE> header is not used by <EMCLASS="emphasis">sendmail</EM>,but it is often wrongly (albeit harmlessly) included in the configuration file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">HSubject:            <ICLASS="lineannotation"><IMGSRC="../chars/larr.gif"ALT="&lt;-"> This actually does nothing</I></PRE></BLOCKQUOTE></P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-32">35.10.32 Text:</A></H3><PCLASS="refpurpose">A synonym for Message:</P>(sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50459"></A>The <CODECLASS="literal">Text:</CODE> header is the same as the <CODECLASS="literal">Message:</CODE>header. Both cause all lines that follow in the header portion of a mail message to be treated as message body.</P><PCLASS="para">The <CODECLASS="literal">Text:</CODE> header should never be declared in theconfiguration file.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-33">35.10.33 To:</A></H3><PCLASS="refpurpose">The primary recipients</P>(RFC822)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50473"></A>The <CODECLASS="literal">To:</CODE> header lists one or more of the recipients of the mail message. Other headers, such as <CODECLASS="literal">Cc:</CODE>, also list recipients.</P><PCLASS="para">The <EMCLASS="emphasis">sendmail</EM> program attempts to deliver a copy of themail message to every recipient address that it can find inall the recipient headers and in the envelope.If the header of a mail message lacks recipient information(<CODECLASS="literal">To:</CODE>, <CODECLASS="literal">Cc:</CODE>, and <CODECLASS="literal">Bcc:</CODE> header lines),pre-V8.7 <EMCLASS="emphasis">sendmail</EM> added an<CODECLASS="literal">Apparently-To:</CODE> headerline and put the recipient's address from theenvelope into the field of that header.Beginning with V8.7, the way a recipientless message is handledis determined with the <CODECLASS="literal">NoRecipientAction</CODE> option(see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-43"TITLE="">Section 34.8.43</A>).</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-34">35.10.34 Via:</A></H3><PCLASS="refpurpose">An unofficial trace header</P>(obsolete)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50494"></A>The <CODECLASS="literal">Via:</CODE> header is not defined by RFC822 but occasionallyappears in mail messages that <EMCLASS="emphasis">sendmail</EM> needs to process. It isused by a few other networks to mark a mail message's transitthrough a forwarding host. It is an early, and now obsolete,version of the <CODECLASS="literal">Received:</CODE> header.The <EMCLASS="emphasis">sendmail</EM> program counts the <CODECLASS="literal">Via:</CODE> header whendetermining the hop count but has no other use for it.</P><PCLASS="para">The <CODECLASS="literal">Via:</CODE> header should never be declared in the configurationfile.</P></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-35">35.10.35 X-Authentication-Warning:</A></H3><PCLASS="refpurpose">Notification of security matters</P>(V8 sendmail)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50511"></A>If the <CODECLASS="literal">PrivacyOptions</CODE> (<CODECLASS="literal">p</CODE>) option (see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-47"TITLE="">Section 34.8.47</A>)is declared with <CODECLASS="literal">authwarnings</CODE>,V8 <EMCLASS="emphasis">sendmail</EM> inserts a special header line for possiblesecurity concerns. That header line looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">X-Authentication-Warning: <EMCLASS="emphasis">host</EM>: <EMCLASS="emphasis">message</EM></PRE></BLOCKQUOTE></P><PCLASS="para">Here, <CODECLASS="replaceable"><I>host</I></CODE> is the canonical name of the host that insertedthis header. The <CODECLASS="replaceable"><I>message</I></CODE> is one of the following:</P><DLCLASS="variablelist"><DTCLASS="term"><EMCLASS="emphasis">Processed by user with <CODECLASS="literal">-C</CODE> file</EM></DT><DDCLASS="listitem"><PCLASS="para">An attempt was made by a <EMCLASS="emphasis">user</EM> other than <EMCLASS="emphasis">root</EM> to run<EMCLASS="emphasis">sendmail</EM> with the <CODECLASS="literal">-C</CODE> command-line switch.That switch caused <EMCLASS="emphasis">sendmail</EM> to read <EMCLASS="emphasis">file</EM> in placeof the system <EMCLASS="emphasis">sendmail.cf</EM> file.</P></DD><DTCLASS="term"><EMCLASS="emphasis">user set sender to other using</EM> <CODECLASS="literal">-f</CODE></DT><DDCLASS="listitem"><PCLASS="para">A <EMCLASS="emphasis">user</EM> or program's <EMCLASS="emphasis">user</EM> identity used the <CODECLASS="literal">-f</CODE>command-line switch to change the identity of the sender to<EMCLASS="emphasis">other</EM> (and <EMCLASS="emphasis">user</EM> was not listed with the <CODECLASS="literal">T</CODE>configuration command). This can be legitimate when the <EMCLASS="emphasis">user</EM>is <EMCLASS="emphasis">uucp</EM> or <EMCLASS="emphasis">daemon</EM>. It can also be legitimatewhen the <EMCLASS="emphasis">user</EM> is sending to some mailing lists (see <ACLASS="xref"HREF="ch22_08.htm"TITLE="Security Features">Section 22.8, "Security Features"</A>).Such a warning can also indicate that someone is trying to forgemail.</P></DD><DTCLASS="term"><EMCLASS="emphasis">user owned process doing</EM> <CODECLASS="literal">-bs</CODE></DT><DDCLASS="listitem"><PCLASS="para">A <EMCLASS="emphasis">user</EM> or program's <EMCLASS="emphasis">user</EM> identity used the <CODECLASS="literal">-bs</CODE>command-line switch to make <EMCLASS="emphasis">sendmail</EM> receive a mail messagevia its standard input/output using the SMTP protocol(and <EMCLASS="emphasis">user</EM> was not listed with the <CODECLASS="literal">T</CODE> configuration command).This parallels network notification set up by defining IDENTPROTOwhen compiling <EMCLASS="emphasis">sendmail</EM> and by use of the <CODECLASS="literal">$_</CODE> macro (see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-1"TITLE="">Section 31.10.1</A>)in <CODECLASS="literal">Received:</CODE> headers.</P></DD><DTCLASS="term"><EMCLASS="emphasis">Processed from queue dir</EM></DT><DDCLASS="listitem"><PCLASS="para">A user other than <EMCLASS="emphasis">root</EM> used the <CODECLASS="literal">-oQ</CODE> (or similar) switch(see <ACLASS="xref"HREF="ch34_08.htm#SML2-CH-34-SECT-8-48"TITLE="">Section 34.8.48, QueueDirectory (Q)</A>) to processmail from a queue directory (<EMCLASS="emphasis">dir</EM>)that was different from the one specified with the <CODECLASS="literal">QueueDirectory</CODE> (<CODECLASS="literal">Q</CODE>)option in the configuration file. The <EMCLASS="emphasis">sendmail</EM> program can run as an ordinary user because this orsome other command-line switch caused it to give up <EMCLASS="emphasis">root</EM>privilege.</P></DD><DTCLASS="term"><EMCLASS="emphasis">Host name1 claimed to be name2</EM></DT><DDCLASS="listitem"><PCLASS="para">In the HELO message of an SMTP conversation the remote host<EMCLASS="emphasis">name1</EM> specified its canonical name as <EMCLASS="emphasis">name2</EM>, and thetwo didn't match. This always indicates a problem. Either theremote host is misconfigured (a bad value in <CODECLASS="literal">$j</CODE>; see <ACLASS="xref"HREF="ch31_10.htm#SML2-CH-31-SECT-10-20"TITLE="">Section 31.10.20</A>), the DNS maps for that host are wrong, or someone is tryingto spoof the local <EMCLASS="emphasis">sendmail</EM>.</P></DD><DTCLASS="term"><EMCLASS="emphasis">Host name didn't use HELO protocol</EM></DT><DDCLASS="listitem"><PCLASS="para">Every SMTP conversation for transfer of mail must start with the HELO (or EHLO) greeting. If, instead, a MAIL commandwas first, this header is inserted in the incoming message.The most likely cause of a missing HELO is the mistake ofsomeone attempting to carry on an SMTP conversation by hand.&#13;</P></DD></DL></DIV></BLOCKQUOTE></DIV><DIVCLASS="refentry"><DIVCLASS="refnamediv"><H3CLASS="refname"><ACLASS="refname"NAME="SML2-CH-35-SECT-10-36">35.10.36 X400-Received:</A></H3><PCLASS="refpurpose">Received via X400</P>(X400)</DIV><BLOCKQUOTE><DIVCLASS="refsect1"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-50608"></A>The <CODECLASS="literal">X400-Received:</CODE> header is added by IDA<EMCLASS="emphasis">sendmail</EM> to document receipt of a mail message from an X400network. This header is used by both IDA and V8to count the number of forwarding sites when computingthe hop count of a mail message.</P><PCLASS="para">The <CODECLASS="literal">X400-Received:</CODE> should never be declared in the configuration file.</P></DIV></BLOCKQUOTE></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_09.htm"TITLE="35.9 Pitfalls"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 35.9 Pitfalls"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch36_01.htm"TITLE="36. The Command Line"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 36. The Command Line"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">35.9 Pitfalls</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">36. The Command Line</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>