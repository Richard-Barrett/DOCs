<HTML><HEAD><TITLE>[Chapter 37] 37.3 Interpreting the Output</TITLE><METANAME="DC.title"CONTENT="sendmail"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-01-06T22:03:03Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-222-0"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch37_01.htm"TITLE="37. Debugging with -d"><LINKREL="prev"HREF="ch37_02.htm"TITLE="37.2 Debugging Behavior"><LINKREL="next"HREF="ch37_04.htm"TITLE="37.4 Pitfalls"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ssrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch37_02.htm"TITLE="37.2 Debugging Behavior"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 37.2 Debugging Behavior"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 37<BR>Debugging with -d</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch37_04.htm"TITLE="37.4 Pitfalls"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 37.4 Pitfalls"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SML2-CH-37-SECT-3">37.3 Interpreting the Output</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="SML2-CH-37-IX-OUTPUT-DEBUGGING"></A>Some debugging output references C language structuresthat are internal to <EMCLASS="emphasis">sendmail</EM>. For those it will helpif you have access to <EMCLASS="emphasis">sendmail</EM> source.One subroutine, called <EMCLASS="emphasis">printaddr</EM>(),is used to dump complete detailsabout all the recipients for a given mail message. This subroutine is used by many categories of debugging output,but rather than describe it repeatedly, we describe it once hereand reference this description as needed.&#13;</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="SML2-CH-37-SECT-3-1">37.3.1 The Output Produced by printaddr()</A></H3><PCLASS="para">The <EMCLASS="emphasis">sendmail</EM> program's internal<EMCLASS="emphasis">printaddr</EM>() subroutine prints details about addresses.The <EMCLASS="emphasis">sendmail</EM> program views an address as morethan just an expression like <EMCLASS="emphasis">wc@bcx.com.</EM>  Internally, it represents everyaddress with a C language structure. The<EMCLASS="emphasis">printaddr</EM>() routine prints the values stored in mostof the items of that structure.Its output looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="replaceable"><I>ra</I></CODE>=<CODECLASS="replaceable"><I>addr</I></CODE>: mailer <CODECLASS="replaceable"><I>mnum</I></CODE> (<CODECLASS="replaceable"><I>mname</I></CODE>), host <CODECLASS="replaceable"><I>hname</I></CODE>        user `<CODECLASS="replaceable"><I>uname</I></CODE>', ruser `<CODECLASS="replaceable"><I>rname</I></CODE>'        next=<CODECLASS="replaceable"><I>link</I></CODE>, alias <CODECLASS="replaceable"><I>aname</I></CODE>, uid <CODECLASS="replaceable"><I>uid</I></CODE>, gid <CODECLASS="replaceable"><I>gid</I></CODE>        flags=<CODECLASS="replaceable"><I>fhex</I></CODE>&lt;<ICLASS="lineannotation">names here</I>&gt;        owner=<CODECLASS="replaceable"><I>owner</I></CODE>, home=&quot;<CODECLASS="replaceable"><I>home</I></CODE>&quot;, fullname=&quot;<CODECLASS="replaceable"><I>fname</I></CODE>&quot;        orcpt=&quot;<CODECLASS="replaceable"><I>oparam</I></CODE>&quot;, statmta=<CODECLASS="replaceable"><I>mta</I></CODE>, status=<CODECLASS="replaceable"><I>status</I></CODE>        rstatus=&quot;<CODECLASS="replaceable"><I>rstatus</I></CODE>&quot;        specificity=<CODECLASS="replaceable"><I>spec</I></CODE>, statdate=<CODECLASS="replaceable"><I>statdate</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">First, <EMCLASS="emphasis">sendmail</EM> prints the address in memory,<CODECLASS="replaceable"><I>ra</I></CODE>, of the C language <EMCLASS="emphasis">struct</EM> that contains the informationnecessary to deliver a mail message.It then prints theinformation in that structure:</P><DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="replaceable"><I>addr</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The mail address as text, e.g. <EMCLASS="emphasis">you@uofa.edu</EM></P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>mnum</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Number of the delivery agent to be used (anindex into the array of delivery agents)</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>mname</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Symbolic name of that delivery agent (from rule set 0, <CODECLASS="literal">$#</CODE>)</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>hname</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Name of the recipient's host machine (from rule set 0, <CODECLASS="literal">$@</CODE>)</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>uname</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Recipient's mail name (from rule set 0, <CODECLASS="literal">$:</CODE>)</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>rname</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Recipient's login name, if known; otherwise, it is <CODECLASS="literal">&lt;null&gt;</CODE></P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>link</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Address in memory of the next C language structureof information about the next recipient in the list of recipients</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>aname</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Address in memory of the next C language structureof information about the alias that led to this address (if there was one)</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>uid</I></CODE> and <CODECLASS="replaceable"><I>gid</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The <EMCLASS="emphasis">uid</EM> and <EMCLASS="emphasis">gid</EM> assigned to this delivery agent. These values arederived from the ownership permissions of either a <CODECLASS="literal">:include:</CODE>file or a <EMCLASS="emphasis">.forward</EM> file (see <ACLASS="xref"HREF="ch24_02.htm#SML2-CH-24-SECT-2-2"TITLE="Delivery to Files">Section 24.2.2, "Delivery to Files"</A>).</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>fhex</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">A hexadecimal representation of the possible envelope flags. This isimmediately followed by a list of the flags inside the angle brackets.(See <ACLASS="xref"HREF="ch37_03.htm#SML2-CH-37-TAB-0"TITLE="Address Flags">Table 37.1</A>for a description of each flag.)</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>owner</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The <CODECLASS="literal">owner-</CODE> that corresponds to the <CODECLASS="replaceable"><I>aname</I></CODE> above, ifthere is one</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>home</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Home directory of the recipient (for local mail only) </P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="SML2-CH-37-TAB-0">Table 37.1: Address Flags</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Name</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Hex</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Description</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QDONTSEND</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000001</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Don't send to this address</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QBADADDR</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000002</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">This address is verified bad</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QGOODUID</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000004</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">The <EMCLASS="emphasis">uid</EM> and <EMCLASS="emphasis">gid</EM> fields are good</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QPRIMARY</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000008</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Status was set from argv</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QQUEUEUP</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000010</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Queue for later transmission</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QSENT</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000020</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Message has been successfully delivered</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QNOTREMOTE</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000040</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Not an address for remote forwarding</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QSELFREF</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000080</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Address is part of a loop</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QVERIFIED</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000100</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Address verified, but not expanded</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QBOGUSSHELL</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000400</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">User has no valid shell listed</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QUNSAFEADDR</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00000800</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Address acquired via unsafe path</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QPINGONSUCCESS</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00001000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Give return on successful delivery </P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QPINGONFAILURE</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00002000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Give return on failure</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QPINGONDELAY</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00004000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Give return on message delay</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QHASNOTIFY</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00008000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Propagate notify parameter</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QRELAYED</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00010000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Relayed to non-DSN aware system (DSN)</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QEXPANDED</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00020000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Has undergone list expansion (DSN)</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QDELIVERED</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00040000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Final delivery succeeded (DSN)</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">QDELAYED</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0x00080000</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Message was delayed (DSN)</P></TD></TR></TBODY></TABLE><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-53515"></A></P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>fname</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Full name of the recipient if it is known</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>oparam</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The ORCPT parameter to the SMTP RCPT command ifthere was one.</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>mta</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The name of the MTA host (such as &quot;other.dc.gov&quot;) that generated the DeliveryStatus Notification (DSN) message shown in <CODECLASS="replaceable"><I>rstatus</I></CODE></P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>status</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The DSN number as text</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>rstatus</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The DSN message from the sending host'sMTA.</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>spec</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">How specific this address is (unused as of V8.8.4)</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>statdate</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The date and time the status of this address changed</P></DD></DL></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch37_02.htm"TITLE="37.2 Debugging Behavior"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 37.2 Debugging Behavior"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail"><IMGSRC="../gifs/txthome.gif"ALT="sendmail"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch37_04.htm"TITLE="37.4 Pitfalls"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 37.4 Pitfalls"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">37.2 Debugging Behavior</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">37.4 Pitfalls</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>