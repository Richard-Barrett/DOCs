<HTML><HEAD><TITLE>[Chapter 2] 2.4 Defined Macros</TITLE><METANAME="DC.title"CONTENT="sendmail Desktop Reference"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:04:17Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-278-6"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch02_01.htm"TITLE="2. The sendmail.cf File"><LINKREL="prev"HREF="ch02_03.htm"TITLE="2.3 Delivery Agent F= Flags"><LINKREL="next"HREF="ch02_05.htm"TITLE="2.5 Class Macros"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail Desktop Reference"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail Desktop Reference"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/rsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_03.htm"TITLE="2.3 Delivery Agent F= Flags"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.3 Delivery Agent F= Flags"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 2<BR>The sendmail.cf File</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_05.htm"TITLE="2.5 Class Macros"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.5 Class Macros"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SMQR-CH-2-SECT-4">2.4 Defined Macros</A></H2><PCLASS="para">Defined macros allow strings of text to be represented symbolically.A defined macro is one whose symbol represents a single string.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><BCLASS="emphasis.bold">D</B><CODECLASS="replaceable"><I>Xstring</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The symbolic name (here <EMCLASS="emphasis">X</EM>) is either a single letter ora multi-character name. If multi-character, it must be surroundedby curly braces:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><BCLASS="emphasis.bold">D</B><CODECLASS="replaceable"><I>{XXX}string</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The value in a defined macro is referenced by prefixing itsname with a <BCLASS="emphasis.bold">$</B>. Because defined macros in rules are expanded whenthe configuration file is read, a <BCLASS="emphasis.bold">$&amp;</B> prefix can be used whendeferred expansion is desired.</P><PCLASS="para">The <EMCLASS="emphasis">sendmail</EM> program reserves all macros but those beginningwith an uppercase letter for its own internal use. Since the<EMCLASS="emphasis">m4</EM> configuration technique is not internal (to the program),it uses uppercase macro names. Here we showthe internal macros currently used by <EMCLASS="emphasis">sendmail</EM> andthe external macros currently used by the <EMCLASS="emphasis">m4</EM> technique.&#13;</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">$_</B></DT><DDCLASS="listitem"><PCLASS="para">Holds the RFC1413-validation text, and any IP source route information that was found(see &#167;31.10.1).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$a</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the origin date in RFC822 format(see &#167;31.10.2).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$b</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current date in RFC822 format(see &#167;31.10.3).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">${bodytype}</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the ESMTP <CODECLASS="literal">BODY</CODE> parameterfor the current message(see &#167;31.10.4).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$B</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the BITNET relay(see &#167;31.10.5).This macro can be set using the <EMCLASS="emphasis">m4</EM> technique bydefining <CODECLASS="literal">BITNET_RELAY</CODE>.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$c</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current hop count(see &#167;31.10.6).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">${client_addr}</B></DT><DDCLASS="listitem"><PCLASS="para">Stores the current connecting host's IP address(see &#167;31.10.7).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">${client_name}</B></DT><DDCLASS="listitem"><PCLASS="para">Stores the current connecting host's canonical name(see &#167;31.10.8).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$C</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the hostname of the DECnet relay(see &#167;31.10.9). This macro can be set using the<EMCLASS="emphasis">m4</EM> technique by defining <CODECLASS="literal">DECNET_RELAY</CODE>.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$d</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current date in UNIX <EMCLASS="emphasis">ctime</EM>(3) format(see &#167;31.10.10).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">${envid}</B></DT><DDCLASS="listitem"><PCLASS="para">Holds the original DSN envelope ID(see &#167;31.10.12).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$E</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the X.400 relay (unused,see &#167;31.10.13).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$f</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current sender's (the From:) address(see &#167;31.10.14).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$F</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the FAX relay(see &#167;31.10.15).This macro can be set using the <EMCLASS="emphasis">m4</EM> technique bydefining <CODECLASS="literal">FAX_RELAY</CODE>.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$g</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current sender's address relative to the recipient(see &#167;31.10.16).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$h</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the host part of the current recipient address(see &#167;31.10.17).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$H</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the mail hub(see &#167;31.10.18).This macro can be set using the <EMCLASS="emphasis">m4</EM> technique bydefining <CODECLASS="literal">MAIL_HUB</CODE>.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$i</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the queue identifier for the current message(see &#167;31.10.19).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$j</B></DT><DDCLASS="listitem"><PCLASS="para">Holds the official canonical name of the local machine(see &#167;31.10.20).This macro can be set using the <EMCLASS="emphasis">m4</EM> technique bydefining <CODECLASS="literal">confDOMAIN_NAME</CODE>.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$k</B></DT><DDCLASS="listitem"><PCLASS="para">Holds the UUCP name of the local machine(see &#167;31.10.21).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$L</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the &quot;local user&quot; relay(see &#167;31.10.23).This macro can be set using the <EMCLASS="emphasis">m4</EM> technique bydefining LUSER_RELAY.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$m</B></DT><DDCLASS="listitem"><PCLASS="para">Holds the official domain name for the local machine(see &#167;31.10.24).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$M</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies who we are masquerading as(see &#167;31.10.25). This macro can be set using the<EMCLASS="emphasis">m4</EM> technique using the <CODECLASS="literal">MASQUERADE_AS</CODE> construct.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$n</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies whom error messages should be from(see &#167;31.10.26).This macro can be set using the <EMCLASS="emphasis">m4</EM> technique bydefining <CODECLASS="literal">confMAILER_NAME</CODE>.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">${opMode}</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the operating mode that <EMCLASS="emphasis">sendmail</EM> started in(see &#167;31.10.28).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$p</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current <EMCLASS="emphasis">sendmail</EM> process' <EMCLASS="emphasis">pid</EM>(see &#167;31.10.29).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$r</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the protocol used to receive the current message(see &#167;31.10.31).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$R</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the relay for user names that lack an<EMCLASS="emphasis">@host.domain</EM> part(see &#167;31.10.32).This macro can be set using the<EMCLASS="emphasis">m4</EM> technique by defining <CODECLASS="literal">LOCAL_RELAY</CODE>.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$s</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current sender host's name(see &#167;31.10.33).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$S</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the Smart Host(see &#167;31.10.34).This macro can be set using the<EMCLASS="emphasis">m4</EM> technique by defining <CODECLASS="literal">SMART_HOST</CODE>.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$t</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current time in seconds(see &#167;31.10.35).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$u</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current recipient's user name(can be auto-replicated in the <BCLASS="emphasis.bold">A=</B> equateof a delivery agent if <BCLASS="emphasis.bold">F=m</B> is present)(see &#167;31.10.36).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$U</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the UUCP name to override <BCLASS="emphasis.bold">$k</B>(see &#167;31.10.37).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$v</B></DT><DDCLASS="listitem"><PCLASS="para">Holds the <EMCLASS="emphasis">sendmail</EM> program's version(see &#167;31.10.38).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$V</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the UUCP relay (for the class <BCLASS="emphasis.bold">$=V</B>)(see &#167;31.10.39).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$w</B></DT><DDCLASS="listitem"><PCLASS="para">Holds the short name of the local host(see &#167;31.10.40).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$W</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the UUCP relay (for the class <BCLASS="emphasis.bold">$=W</B>)(see &#167;31.10.41).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$x</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the &quot;full name&quot; of the current sender(see &#167;31.10.42).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$X</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the UUCP relay (for the class <BCLASS="emphasis.bold">$=X</B>)(see &#167;31.10.43).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$y</B></DT><DDCLASS="listitem"><PCLASS="para">Holds the name of the controlling tty(see &#167;31.10.44).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$Y</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the UUCP relay for unclassified hosts(see &#167;31.10.45).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$z</B></DT><DDCLASS="listitem"><PCLASS="para">Contains the current recipient's home directory(see &#167;31.10.46).&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">$Z</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the version of this <EMCLASS="emphasis">m4</EM> configuration(see &#167;31.10.47).This macro can be appended to using the <EMCLASS="emphasis">m4</EM> technique bydefining <CODECLASS="literal">confCF_VERSION</CODE>.</P></DD></DL></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_03.htm"TITLE="2.3 Delivery Agent F= Flags"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.3 Delivery Agent F= Flags"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail Desktop Reference"><IMGSRC="../gifs/txthome.gif"ALT="sendmail Desktop Reference"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_05.htm"TITLE="2.5 Class Macros"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.5 Class Macros"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">2.3 Delivery Agent F= Flags</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171">&nbsp;</TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">2.5 Class Macros</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>