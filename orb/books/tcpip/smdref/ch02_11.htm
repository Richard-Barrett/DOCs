<HTML><HEAD><TITLE>[Chapter 2] 2.11 Rules</TITLE><METANAME="DC.title"CONTENT="sendmail Desktop Reference"><METANAME="DC.creator"CONTENT="Bryan Costales &amp; Eric Allman"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T00:04:25Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-278-6"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch02_01.htm"TITLE="2. The sendmail.cf File"><LINKREL="prev"HREF="ch02_10.htm"TITLE="2.10 The check_ Rule Sets"><LINKREL="next"HREF="ch02_12.htm"TITLE="2.12 Wildcard Operators in the LHS"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="sendmail Desktop Reference"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="sendmail Desktop Reference"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/rsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_10.htm"TITLE="2.10 The check_ Rule Sets"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.10 The check_ Rule Sets"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 2<BR>The sendmail.cf File</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_12.htm"TITLE="2.12 Wildcard Operators in the LHS"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.12 Wildcard Operators in the LHS"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="SMQR-CH-2-SECT-11">2.11 Rules</A></H2><PCLASS="para">Rules are declared in the configuration file with the <BCLASS="emphasis.bold">R</B> command:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><BCLASS="emphasis.bold">R</B>LHS<CODECLASS="replaceable"><I> tabs </I></CODE>RHS [<CODECLASS="replaceable"><I> tabs COMMENT</I></CODE>]</PRE></BLOCKQUOTE></P><PCLASS="para">Rules are composed of two parts separated by <EMCLASS="emphasis">tab</EM> characters (an optionalthird part can follow the first two, also separated by <EMCLASS="emphasis">tab</EM> characters,and it forms a comment that is ignored).</P><PCLASS="para">Each rule forms a do-while statement as shown in<ACLASS="xref"HREF="ch02_11.htm#SMQR-CH-2-FIG-2"TITLE="The behavior of a rule">Figure 2.2</A>So long as the LHS evaluates to true, the RHS rewrites thecurrent address in the workspace. LHS evaluation is done by matchingwildcard expressions to addresses. RHS rewriting is doneby positional substitution.In this chapter we describe the wildcard and positional operatorsthat aid in the writing of rules(see &#167;28.1).</P><H4CLASS="figure"><ACLASS="title"NAME="SMQR-CH-2-FIG-2">Figure 2.2: The behavior of a rule</A></H4><IMGCLASS="graphic"SRC="figs/smq_0202.gif"ALT="Figure 2.2"></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_10.htm"TITLE="2.10 The check_ Rule Sets"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.10 The check_ Rule Sets"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="sendmail Desktop Reference"><IMGSRC="../gifs/txthome.gif"ALT="sendmail Desktop Reference"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_12.htm"TITLE="2.12 Wildcard Operators in the LHS"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.12 Wildcard Operators in the LHS"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">2.10 The check_ Rule Sets</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171">&nbsp;</TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">2.12 Wildcard Operators in the LHS</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="../tcpip/index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>