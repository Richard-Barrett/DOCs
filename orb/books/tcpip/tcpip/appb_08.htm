<HTML><HEAD><TITLE>[Appendix B] B.8 Protocol Statements</TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:42:57Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="appb_01.htm"TITLE="B. A gated Reference"><LINKREL="prev"HREF="appb_07.htm"TITLE="B.7 Definition Statements"><LINKREL="next"HREF="appb_09.htm"TITLE="B.9 static Statements"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appb_07.htm"TITLE="B.7 Definition Statements"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: B.7 Definition Statements"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Appendix B<BR>A gated Reference</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appb_09.htm"TITLE="B.9 static Statements"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: B.9 static Statements"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-AP-2-SECT-8">B.8 Protocol Statements</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-PROTOCOL-STATEMENTS-IN-GATED"></A>Protocol statements enable or disable protocols and set protocoloptions. The protocol statements occur after the definition statementsand before the static statements. There are many protocol statementsand more may be added at any time. There are statements for thevarious interior and exterior routing protocols, and for other thingsthat are not really routing protocols. &#13;</P><PCLASS="para">In this section we begin with the interior protocols, move on to theexterior protocols, and finish with the special &quot;protocols.&quot;</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.1">B.8.1 The ospf Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-OSPF-STATEMENT-IN-GATED"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">ospf yes </B>|<BCLASS="emphasis.bold"> no </B>|<BCLASS="emphasis.bold"> on </B>|<BCLASS="emphasis.bold"> off</B> [<BCLASS="emphasis.bold">{<BR>    defaults {<BR>        preference</B> <CODECLASS="replaceable"><I>preference</I></CODE><BCLASS="emphasis.bold"> ;<BR>        cost</B> <CODECLASS="replaceable"><I>cost</I></CODE><BCLASS="emphasis.bold"> ;<BR>        tag </B>[<BCLASS="emphasis.bold">as</B>] <CODECLASS="replaceable"><I>tag</I></CODE><BCLASS="emphasis.bold"> ;<BR>        type 1 </B>|<BCLASS="emphasis.bold"> 2 ; } ;<BR>    exportlimit</B> <CODECLASS="replaceable"><I>routes</I></CODE><BCLASS="emphasis.bold"> ;<BR>    exportinterval</B> <CODECLASS="replaceable"><I>time</I></CODE><BCLASS="emphasis.bold"> ;<BR>    traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE><BCLASS="emphasis.bold"> ;<BR>    monitorauthkey</B> <CODECLASS="replaceable"><I>password</I></CODE><BCLASS="emphasis.bold"> ;<BR>    backbone </B>|<BCLASS="emphasis.bold"> area</B> <CODECLASS="replaceable"><I>number</I></CODE><BCLASS="emphasis.bold"> {<BR>        authtype 0 </B>|<BCLASS="emphasis.bold"> 1 </B>|<BCLASS="emphasis.bold"> none </B>|<BCLASS="emphasis.bold"> simple ;<BR>        stub </B>[<BCLASS="emphasis.bold">cost</B> <CODECLASS="replaceable"><I>cost</I></CODE>]<BCLASS="emphasis.bold"> ;<BR>        networks {</B><BR>          <CODECLASS="replaceable"><I>address </I></CODE>[<BCLASS="emphasis.bold">mask</B> <CODECLASS="replaceable"><I>mask |</I></CODE><BCLASS="emphasis.bold">masklen</B> <CODECLASS="replaceable"><I>number</I></CODE>] [<BCLASS="emphasis.bold">restrict</B>]<BCLASS="emphasis.bold"> ;<BR>            host</B> <CODECLASS="replaceable"><I>address </I></CODE>[<BCLASS="emphasis.bold">restrict</B>]<BCLASS="emphasis.bold"> ; } ;<BR>        stubhosts {</B><BR>          <CODECLASS="replaceable"><I>address </I></CODE><BCLASS="emphasis.bold">cost</B> <CODECLASS="replaceable"><I>cost</I></CODE><BCLASS="emphasis.bold"> ; } ;<BR>        interface</B> <CODECLASS="replaceable"><I>interface_list </I></CODE>[<BCLASS="emphasis.bold"></B><BCLASS="emphasis.bold">nonbroadcast</B>] [<BCLASS="emphasis.bold">cost</B> <CODECLASS="replaceable"><I>cost</I></CODE>]<BCLASS="emphasis.bold"> {<BR>            pollinterval</B> <CODECLASS="replaceable"><I>time</I></CODE><BCLASS="emphasis.bold"> ;<BR>            routers {</B><BR>            <CODECLASS="replaceable"><I>address </I></CODE>[<BCLASS="emphasis.bold">eligible</B>]<BCLASS="emphasis.bold"> ; } ;</B><BR>            <CODECLASS="replaceable"><I>interface_parameters</I></CODE><BCLASS="emphasis.bold"> } ;<BR>        virtuallink neighborid</B> <CODECLASS="replaceable"><I>router_id </I></CODE><BCLASS="emphasis.bold">transitarea</B> <CODECLASS="replaceable"><I>area</I></CODE> {<BR>            <CODECLASS="replaceable"><I>interface_parameters</I></CODE><BCLASS="emphasis.bold"> } ;<BR>    } ;<BR>} </B>] <BCLASS="emphasis.bold">;</B></P></BLOCKQUOTE><PCLASS="para">The <BCLASS="emphasis.bold">ospf</B> statement enables or disables the Open Shortest Path First (OSPF) routing protocol.<ACLASS="indexterm"NAME="AUTOID-21551"></A>By default, OSPF is disabled. It is enabled byspecifying <BCLASS="emphasis.bold">yes</B> or <BCLASS="emphasis.bold">on</B> (it doesn't matter which you use) andit is disabled with <BCLASS="emphasis.bold">no</B> or <BCLASS="emphasis.bold">off</B>.</P><BLOCKQUOTECLASS="note"><PCLASS="para"><STRONG>NOTE:</STRONG> For the sake of brevity, this text explains only the first occurrenceof any <EMCLASS="emphasis">gated.conf</EM> parameter if it is used the same way in subsequentcommands. Only differences between commands are explained. For example,<BCLASS="emphasis.bold">yes</B> | <BCLASS="emphasis.bold">no</B> | <BCLASS="emphasis.bold">on</B> | <BCLASS="emphasis.bold">off</B> is not explained again,because it is always used in the same way to enable or disable a protocol.</P></BLOCKQUOTE><PCLASS="para">The <BCLASS="emphasis.bold">ospf</B> statement has many configuration parameters:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">defaults</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the defaults used when importing OSPF routes from an externalautonomous system and announcing those routes to other OSPF routers.The link-state advertisement (LSA)<ACLASS="indexterm"NAME="AUTOID-21573"></A>used to announce these routes iscalled an ASE (autonomous system external)<ACLASS="indexterm"NAME="AUTOID-21575"></A>because it contains routesfrom external autnomous systems. See the description of OSFP in<ACLASS="xref"HREF="ch07_01.htm"TITLE="Configuring Routing ">Chapter 7</A>.<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the preference of OSPF ASE routes. The default is 150.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">cost</B> <CODECLASS="replaceable"><I>cost</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the cost used when advertising a non-OSPF route in an ASE. Thedefault is 1.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">tag </B>[<BCLASS="emphasis.bold">as</B>] <CODECLASS="replaceable"><I>tag</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the OSPF ASE tag value. The tag is not used by the OSPF protocol,but may be used by an export policy to filter routes. (See the <BCLASS="emphasis.bold">export</B>statement later in this appendix.) When the <BCLASS="emphasis.bold">as</B> keyword is specified,the tag field may contain AS path information.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">type </B><BCLASS="emphasis.bold">1 </B>| <BCLASS="emphasis.bold">2</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the type of ASE used. The default is type 1. Type 1 containsroutes learned from an external protocol that provides a metricdirectly comparable to the OSPF metric. The metric is added to thecost of reaching the border router when routes are advertised. A type2 ASE contains routes learned from an exterior gateway protocol thatdoes not provide a routing metric comparable to the OSPF metric. Theseroutes are advertised with the cost of reaching the border router. See<ACLASS="xref"HREF="ch07_01.htm"TITLE="Configuring Routing ">Chapter 7</A>.</P></DD></DL>&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">exportlimit</B> <CODECLASS="replaceable"><I>routes</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the maximum number of ASE LSAs that will be flooded<ACLASS="indexterm"NAME="AUTOID-21615"></A>at one time. The default is 100.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">exportinterval</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines how frequently ASE link-state advertisements are flooded to thenetwork. The default is once per second.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the tracing used to debug OSPF. In addition to the standardtrace flags, OSPF supports:<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">lsabuild</B></DT><DDCLASS="listitem"><PCLASS="para">Traces construction of link-state advertisements (LSA). </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">spf</B></DT><DDCLASS="listitem"><PCLASS="para">Traces the Shortest Path First (SPF) calculations. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">hello</B></DT><DDCLASS="listitem"><PCLASS="para">Traces the OSPF HELLO packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">dd</B></DT><DDCLASS="listitem"><PCLASS="para">Traces the OSPF Database Description packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">request</B></DT><DDCLASS="listitem"><PCLASS="para">Traces the OSPF Link-State Request packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">lsu</B></DT><DDCLASS="listitem"><PCLASS="para">Traces the OSPF Link-State Update packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ack</B></DT><DDCLASS="listitem"><PCLASS="para">Traces OSPF Link-State Ack packets. </P></DD></DL>&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">monitorauthkey</B> <CODECLASS="replaceable"><I>password</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the password used for <BCLASS="emphasis.bold">ospf_monitor</B> queries. By defaultthese queries are not authenticated. If <BCLASS="emphasis.bold">monitorauthkey</B> isspecified, incoming queries must contain the specified password.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">backbone </B>|<BCLASS="emphasis.bold"> area</B> <CODECLASS="replaceable"><I>number</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the OSPF area of which this router is a member. Every router mustbelong to an area. If more than one area is configured, at least one mustbe the backbone. The backbone is defined using the <BCLASS="emphasis.bold">backbone</B> keyword.All other areas are defined by the <BCLASS="emphasis.bold">area</B> keyword and the number ofthe area, e.g., <CODECLASS="literal">area 1</CODE>. See <ACLASS="xref"HREF="ch07_01.htm"TITLE="Configuring Routing ">Chapter 7</A> for a discussion of OSPFareas. Several configuration parameters are associated with each area:<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">authtype 0</B> | <BCLASS="emphasis.bold">1 </B>| <BCLASS="emphasis.bold">none </B>| <BCLASS="emphasis.bold">simple</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the authentication scheme used in this area. Theauthentication schemes can be defined by <BCLASS="emphasis.bold">none</B> or <BCLASS="emphasis.bold">0</B> for noauthentication, or <BCLASS="emphasis.bold">simple</B> or <BCLASS="emphasis.bold">1</B> for passwordauthentication. Each system in an area must use this sameauthentication scheme.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">stub </B>[<BCLASS="emphasis.bold">cost</B> <CODECLASS="replaceable"><I>cost</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Specifies that this is a stub area.<ACLASS="indexterm"NAME="AUTOID-21704"></A>A stub area is one in which thereare no ASE routes. If a cost is specified, it is used to advertise adefault route into the stub area.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">networks</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the range of networks contained within this area. The specifiedranges are advertised into other areas as summary network LSAs andnot as inter-area routes. If <BCLASS="emphasis.bold">restrict</B> is specified, the summarynetwork LSAs are not advertised. The entries in the networks list areeither specified as host addresses by using the <BCLASS="emphasis.bold">host</B> keyword beforethe address, or as a network address by simply specifying the address.An address mask can be defined for a network address. The mask can bedefined in dotted decimal notation using the <BCLASS="emphasis.bold">mask</B> keyword or asa numeric prefix length using the <BCLASS="emphasis.bold">masklen</B> keyword. The addressmasks <CODECLASS="literal">mask 255.255.0.0</CODE> and <CODECLASS="literal">masklen 16</CODE> are equivalent.If no address mask is specified, the natural mask is used. This optioncan reduce the amount of routing information propagated between areas.</P></DD></DL>&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">stubhosts</B></DT><DDCLASS="listitem"><PCLASS="para">Lists the directly attached hosts, and their costs, that should beadvertised as reachable from this router. List point-to-pointinterfaces here.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">interface</B> <CODECLASS="replaceable"><I>interface_list </I></CODE>[<BCLASS="emphasis.bold">nobroadcast</B>] [<BCLASS="emphasis.bold">cost</B> <CODECLASS="replaceable"><I>cost</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Defines the interfaces used by OSPF. If the keyword <BCLASS="emphasis.bold">nobroadcast</B> isspecified, the interface connects to a non-broadcast multi-access (NBMA)network.<ACLASS="indexterm"NAME="AUTOID-21732"></A><ACLASS="indexterm"NAME="AUTOID-21734"></A>If <BCLASS="emphasis.bold">nobroadcast</B> is not used, the interface connects to abroadcast or a point-to-point network. Specify the cost of the interfacewith the <BCLASS="emphasis.bold">cost</B> keyword, e.g., <CODECLASS="literal">cost 5</CODE>. The default cost is 1.Two options are specific to NBMA interfaces: <DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">pollinterval</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the time interval at which OSPF HELLO packets are sent toneighbors.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">routers</B></DT><DDCLASS="listitem"><PCLASS="para">Lists all neighbors by address. The <BCLASS="emphasis.bold">eligible</B> keyword indicatesif the neighbor can become a designated router.&#13;</P></DD></DL>&#13;</P><PCLASS="para">Point-to-point interfaces have one additional parameter: </P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">nomulticast</B></DT><DDCLASS="listitem"><PCLASS="para">Forces <BCLASS="emphasis.bold">gated</B> to unicast OSPF packets over this interface. Bydefault, OSPF packets to neighbors on point-to-point interfaces aresent via the IP multicast mechanism. Use this option if the remoteneighbor does not support multicasting.</P></DD></DL><PCLASS="para">All interfaces&nbsp;- NBMA, point-to-point, and broadcast&nbsp;- can use these parameters:<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">enable </B>|<BCLASS="emphasis.bold"> disable ;</B></DT><DDCLASS="listitem"><PCLASS="para">Enables or disables the interface.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">retransmitinterval</B> <CODECLASS="replaceable"><I>time </I></CODE><BCLASS="emphasis.bold">;</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the number of seconds between link-state advertisementretransmissions.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">transitdelay</B> <CODECLASS="replaceable"><I>time </I></CODE><BCLASS="emphasis.bold">;</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the estimated number of seconds required to transmit a link-stateupdate over this interface. It must be greater than 0.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">priority</B> <CODECLASS="replaceable"><I>priority </I></CODE><BCLASS="emphasis.bold">;</B></DT><DDCLASS="listitem"><PCLASS="para">Defines this system's priority for the designated router election.<CODECLASS="replaceable"><I>priority</I></CODE> is a number from 0 to 255. The router with the highestpriority becomes the designated router. A router whose priority is 0 isineligible to become the designated router. See <ACLASS="xref"HREF="ch07_01.htm"TITLE="Configuring Routing ">Chapter 7</A> for a discussionof desginated routers.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">hellointerval</B> <CODECLASS="replaceable"><I>time </I></CODE><BCLASS="emphasis.bold">;</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the number of seconds between transmissions of HELLO packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">routerdeadinterval</B> <CODECLASS="replaceable"><I>time</I></CODE> <BCLASS="emphasis.bold">;</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the timeout before a neighbor is declared down. <CODECLASS="replaceable"><I>time</I></CODE>is the maximum number of seconds this router will wait for a neighbor'sHello packet.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">authkey</B> <CODECLASS="replaceable"><I>key </I></CODE><BCLASS="emphasis.bold">;</B></DT><DDCLASS="listitem"><PCLASS="para">Defines a key used to authenticate OSPF packets.<ACLASS="indexterm"NAME="AUTOID-21813"></A>The <CODECLASS="replaceable"><I>key</I></CODE> isspecified as one to eight decimal digits separated by periods, a one- toeight-byte hexadecimal string preceded by 0x, or a one- to eight-character string in double quotes.</P></DD></DL>&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">virtuallink neighborid</B> <CODECLASS="replaceable"><I>router_id </I></CODE><BCLASS="emphasis.bold">transitarea</B> <CODECLASS="replaceable"><I>area</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines a virtual link<ACLASS="indexterm"NAME="AUTOID-21825"></A>for the backbone area. The <CODECLASS="replaceable"><I>router_id</I></CODE> is therouter identifier of the remote router at the other end of the virtuallink. The transit area must be one of the other areas configured onthis system. All standard interface parameters defined above may bespecified on a virtual link.<ACLASS="indexterm"NAME="AUTOID-21829"></A></P></DD></DL></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.2">B.8.2 The rip Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-ROUTING-INFORMATION-PROTOCOL-RIP-STATEMENT-IN-GATED"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">rip yes | no | on | off </B>[<BCLASS="emphasis.bold"> {<BR>    broadcast ;<BR>    nobroadcast ;<BR>    nocheckzero ;<BR>    preference</B> <CODECLASS="replaceable"><I>preference</I></CODE><BCLASS="emphasis.bold"> ;<BR>    defaultmetric</B> <CODECLASS="replaceable"><I>metric</I></CODE><BCLASS="emphasis.bold"> ;<BR>    query authentication </B>[<BCLASS="emphasis.bold">none </B>| [<BCLASS="emphasis.bold">simple </B>|<BCLASS="emphasis.bold"> md5</B> <CODECLASS="replaceable"><I>password</I></CODE>]]<BCLASS="emphasis.bold"> ;<BR>    interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE><BR>        [<BCLASS="emphasis.bold">noripin</B>] | [<BCLASS="emphasis.bold">ripin</B>]<BR>        [<BCLASS="emphasis.bold">noripout</B>] | [<BCLASS="emphasis.bold">ripout</B>]<BR>        [<BCLASS="emphasis.bold">metricin</B> <CODECLASS="replaceable"><I>metric</I></CODE>] <BR>        [<BCLASS="emphasis.bold">metricout</B> <CODECLASS="replaceable"><I>metric</I></CODE>]<BR>        [<BCLASS="emphasis.bold">version 1 </B>| <BCLASS="emphasis.bold">2 [</B><BCLASS="emphasis.bold">multicast </B>| <BCLASS="emphasis.bold">broadcast</B>]] <BR>        [[<BCLASS="emphasis.bold">secondary</B>] <BCLASS="emphasis.bold">authentication </B>[<BCLASS="emphasis.bold">none </B>| [<BCLASS="emphasis.bold">simple </B>| <BCLASS="emphasis.bold">md5</B> <CODECLASS="replaceable"><I>password</I></CODE>]] <BCLASS="emphasis.bold">;<BR>    trustedgateways</B> <CODECLASS="replaceable"><I>gateway_list</I></CODE><BCLASS="emphasis.bold"> ;<BR>    sourcegateways</B> <CODECLASS="replaceable"><I>gateway_list</I></CODE><BCLASS="emphasis.bold"> ;<BR>    traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE><BCLASS="emphasis.bold"> ;<BR>} </B>] <BCLASS="emphasis.bold">;</B></P></BLOCKQUOTE><PCLASS="para">The <BCLASS="emphasis.bold">rip</B> statement enables or disables RIP. By default RIP is enabled.The <BCLASS="emphasis.bold">rip</B> statement options are: </P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">broadcast</B></DT><DDCLASS="listitem"><PCLASS="para">Forces <BCLASS="emphasis.bold">gated</B> to broadcast RIP update packets even if the systemhas only one network interface. By default, RIP updates are not broadcastif the system has only one network interface and are broadcast if it hasmore than one network interface; i.e., hosts do not broadcast updates androuters do.Forces <BCLASS="emphasis.bold">gated</B> to not broadcast RIP update packets even if thesystem has more than one network interface. If a <BCLASS="emphasis.bold">sourcegateways</B>clause is present, routes are still unicast directly to that gateway.See <BCLASS="emphasis.bold">sourcegateways</B> later in this section.Specifies that <BCLASS="emphasis.bold">gated</B> should not reject incoming version 1 RIPpackets where the reserved fields are 0. Rejecting those packets isstandard practice.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE><BCLASS="emphasis.bold"> ;</B></DT><DDCLASS="listitem"><PCLASS="para">Sets the <BCLASS="emphasis.bold">gated</B> preference for routes learned fromRIP. The default preference for these routes is 100.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">defaultmetric</B> <CODECLASS="replaceable"><I>metric</I></CODE><BCLASS="emphasis.bold"> ;</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the metric used when advertising routes via RIP that werelearned from other protocols. The default <CODECLASS="replaceable"><I>metric</I></CODE> is 16,which to RIP indicates an unusable route. This means that by default,routes learned from other protocols are not advertised as valid routesby RIP. Set a lower value only if you want all routeslearned from other protocols advertised at that metric.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">query authentication </B>[<BCLASS="emphasis.bold">none </B>| [<BCLASS="emphasis.bold">simple </B>| <BCLASS="emphasis.bold">md5</B> <CODECLASS="replaceable"><I>key</I></CODE>]] <BCLASS="emphasis.bold">;</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the authentication used for non-router query packets. Thedefault is <BCLASS="emphasis.bold">none</B>. If <BCLASS="emphasis.bold">simple</B> is specified, the <CODECLASS="replaceable"><I>key</I></CODE> is a16-byte password. If <BCLASS="emphasis.bold">md5</B> is specified, the <CODECLASS="replaceable"><I>key</I></CODE> is a 16-bytevalue used with the packet contents to generate a Message Digest 5cryptographic checksum.<ACLASS="indexterm"NAME="AUTOID-21920"></A></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Identifies the interfaces over which RIP runs and defines theconfiguration parameters of those interfaces. The <CODECLASS="replaceable"><I>interface_list</I></CODE>can contain interface names, hostnames, IP addresses, or the keyword<BCLASS="emphasis.bold">all</B>. Possible parameters are:<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">noripin</B></DT><DDCLASS="listitem"><PCLASS="para">Tells system to ignore RIP packets received on this interface. The default isto listen to RIP packets on all non-loopback interfaces.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ripin</B></DT><DDCLASS="listitem"><PCLASS="para">Tells system to listen to RIP packets received on this interface. This is the default.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">noripout</B></DT><DDCLASS="listitem"><PCLASS="para">Tells system not to send RIP packets out this interface. The default is tosend RIP on all broadcast and non-broadcast interfaces when in broadcast mode.See the <BCLASS="emphasis.bold">nobroadcast</B> option defined earlier in this list.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ripout</B></DT><DDCLASS="listitem"><PCLASS="para">Tells system to send RIP packets out this interface. This is the default.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">metricin</B> <CODECLASS="replaceable"><I>metric</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Specifies the RIP metric used for routes received on this interface.The default is the kernel interface metric plus 1, which is the defaultRIP hop count. If this metric is specified it is used as the absolutevalue, and is not added to the kernel metric.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">metricout</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the RIP metric added to routes sent out this interface. Thedefault is 0. This option can only increase the metric.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">version 1</B> | <BCLASS="emphasis.bold">2 </B>[<BCLASS="emphasis.bold">multicast</B> | <BCLASS="emphasis.bold">broadcast</B>]</DT><DDCLASS="listitem"><PCLASS="para">Identifies the version of RIP used for updates sent out thisinterface. Available versions are RIP 1 and RIP 2. RIP 1 is thedefault. If RIP 2 is specified and IP multicast is supported,full version 2 packets are sent via multicast. Ifmulticast is not available, version 1-compatible version 2 packets aresent via broadcast. The keyword <BCLASS="emphasis.bold">multicast</B>, the default,specifies this behavior. The keyword <BCLASS="emphasis.bold">broadcast</B> specifies thatRIP version 1-compatible version 2 packets should be broadcast on thisinterface, even if IP multicast is available. Neitherkeyword is used with version 1.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">[secondary] authentication </B>[<BCLASS="emphasis.bold">none </B>| <BCLASS="emphasis.bold">simple </B>| <BCLASS="emphasis.bold">md5</B> <CODECLASS="replaceable"><I>key</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Defines the RIP version 2 authentication used on this interface. Thedefault authentication type is <BCLASS="emphasis.bold">none</B>. If <BCLASS="emphasis.bold">simple</B> is specified,the <CODECLASS="replaceable"><I>key</I></CODE> is a 16-byte password. If <BCLASS="emphasis.bold">md5</B> is specified, the<CODECLASS="replaceable"><I>key</I></CODE> is a 16-byte value used with the packet contents to generate aMessage Digest 5 cryptographic checksum. If <BCLASS="emphasis.bold">secondary</B> is specified,this defines the secondary authentication. Packets are always sent usingthe primary authentication technique. The secondary authenticationtype is defined only for incoming packets. Inbound packets are checkedagainst both the primary and secondary authentication method beforebeing discarded as invalid.</P></DD></DL>&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">trustedgateways</B> <CODECLASS="replaceable"><I>gateway_list</I></CODE><BCLASS="emphasis.bold"> ;</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the list of gateways from which RIP acceptsupdates. The <CODECLASS="replaceable"><I>gateway_list</I></CODE> is simply a list of hostnames or IPaddresses. By default, all gateways on the shared network are trustedto supply routing information. But if the <BCLASS="emphasis.bold">trustedgateways</B> statement isused, only updates from the gateways in the list are accepted.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">sourcegateways</B> <CODECLASS="replaceable"><I>gateway_list</I></CODE><BCLASS="emphasis.bold"> ;</B></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-22004"></A>Defines a list of gateways to which RIP sends packets directly.By default, RIP packets are broadcast or multicast to several systems onthe shared network&nbsp;- but if this statement is used, RIP unicasts packetsdirectly to the listed gateways.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines tracing for RIP. RIP supports most of the standard tracingoptions and these packet-tracing options:<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">packets</B></DT><DDCLASS="listitem"><PCLASS="para">Traces all RIP packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">request</B></DT><DDCLASS="listitem"><PCLASS="para">Traces the RIP information request packets, such as REQUEST, POLL, andPOLLENTRY.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">response</B></DT><DDCLASS="listitem"><PCLASS="para">Traces all RIP RESPONSE packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">other</B></DT><DDCLASS="listitem"><PCLASS="para">Traces any other type of RIP packet.<ACLASS="indexterm"NAME="AUTOID-22033"></A></P></DD></DL></P></DD></DL></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.3">B.8.3 The hello Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-HELLO-STATEMENT-IN-GATED"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">hello yes | no | on | off </B>[<BCLASS="emphasis.bold"> {<BR>    broadcast ;<BR>    nobroadcast ;<BR>    preference </B><CODECLASS="replaceable"><I>preference</I></CODE><BCLASS="emphasis.bold"> ;<BR>    defaultmetric</B> <CODECLASS="replaceable"><I>metric</I></CODE><BCLASS="emphasis.bold"> ;<BR>    interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE> <BR>            [<BCLASS="emphasis.bold">nohelloin</B>] | [<BCLASS="emphasis.bold">helloin</B>]<BR>            [<BCLASS="emphasis.bold">nohelloout</B>] | [<BCLASS="emphasis.bold">helloout</B>]<BR>            [<BCLASS="emphasis.bold">metricin</B> <CODECLASS="replaceable"><I>metric</I></CODE>]<BR>            [<BCLASS="emphasis.bold">metricout</B> <CODECLASS="replaceable"><I>metric</I></CODE>] <BCLASS="emphasis.bold">;<BR>    trustedgateways</B> <CODECLASS="replaceable"><I>gateway_list </I></CODE><BCLASS="emphasis.bold">;<BR>    sourcegateways</B> <CODECLASS="replaceable"><I>gateway_list </I></CODE><BCLASS="emphasis.bold">;<BR>    traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE><BCLASS="emphasis.bold"> ;<BR>}</B> ]<BCLASS="emphasis.bold"> ;</B></P></BLOCKQUOTE><PCLASS="para">This statement enables or disables Hello. By default, Hello is disabled.The default metric is 30000 (30 seconds is the highest possible Hellometric) and the default preference is 90. Unless the preference valuesare altered, routes learned from Hello are preferred over those learnedfrom RIP.</P><PCLASS="para">The <BCLASS="emphasis.bold">hello</B> statement has basically the same options as the <BCLASS="emphasis.bold">rip</B>statement. The only command differences are the keywords<BCLASS="emphasis.bold">nohelloin</B> and <BCLASS="emphasis.bold">nohelloout</B>, but they perform the samefunction for Hello as <BCLASS="emphasis.bold">noripin</B> and <BCLASS="emphasis.bold">noripout</B> do for RIP.</P><PCLASS="para">The <BCLASS="emphasis.bold">hello</B> statement supports most of the standard trace options. Inaddition, the option <BCLASS="emphasis.bold">packets</B> can be specified to trace all HELLOpackets.<ACLASS="indexterm"NAME="AUTOID-22075"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.4">B.8.4 The isis Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-ISIS-STATEMENT-IN-GATED"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">isis yes </B>|<BCLASS="emphasis.bold"> no </B>|<BCLASS="emphasis.bold"> dual </B>| <BCLASS="emphasis.bold">ip </B>| <BCLASS="emphasis.bold">iso {<BR>        level 1 </B>| <BCLASS="emphasis.bold">2 ;<BR>        traceoptions</B> <CODECLASS="replaceable"><I>isis_traceoptions</I></CODE><BCLASS="emphasis.bold"> ;<BR>        systemid</B> <CODECLASS="replaceable"><I>6_digit_hexstring</I></CODE><BCLASS="emphasis.bold"> ;<BR>        area</B> <CODECLASS="replaceable"><I>hexstring</I></CODE><BCLASS="emphasis.bold"> ;<BR>        set</B> <CODECLASS="replaceable"><I>isis_parm value </I></CODE><BCLASS="emphasis.bold">; </B>...<BCLASS="emphasis.bold">        circuit</B> <CODECLASS="replaceable"><I>string</I></CODE><BCLASS="emphasis.bold">            metric level 1 </B>| <BCLASS="emphasis.bold">2</B> <CODECLASS="replaceable"><I>metric</I></CODE><BCLASS="emphasis.bold">            priority level 1 </B>| <BCLASS="emphasis.bold">2</B> <CODECLASS="replaceable"><I>priority</I></CODE><BCLASS="emphasis.bold"> ;<BR>} ;</B></P></BLOCKQUOTE><PCLASS="para">The <BCLASS="emphasis.bold">isis</B> statement enables the IS-IS protocol.<ACLASS="indexterm"NAME="AUTOID-22107"></A>By default, it is disabled. The <BCLASS="emphasis.bold">dual</B> keyword enablesIS-IS for both ISO and IPaddressing. The <BCLASS="emphasis.bold">ip</B> keyword enables it for IP addressing and<BCLASS="emphasis.bold">iso</B> enables it for ISO addressing. The options that may appearin the <BCLASS="emphasis.bold">isis</B> statement are:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">level</B></DT><DDCLASS="listitem"><PCLASS="para">Indicates whether the router, called an <EMCLASS="emphasis">intermediate system</EM> (IS)<ACLASS="indexterm"NAME="AUTOID-22120"></A><ACLASS="indexterm"NAME="AUTOID-22123"></A>in OSI terminology, is a Level 1 (intra-area) or Level 2 (inter-area)IS. Default is Level 1.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">traceoptions</B></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-22130"></A>Defines the IS-IS trace options. These are different from other<BCLASS="emphasis.bold">gated</B> trace options. The <BCLASS="emphasis.bold">isis_traceoptions</B> are:<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">all</B></DT><DDCLASS="listitem"><PCLASS="para">Traces everything. &#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">iih</B></DT><DDCLASS="listitem"><PCLASS="para">Traces ISIS HELLO packets.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">lanadj</B></DT><DDCLASS="listitem"><PCLASS="para">Traces LAN adjacency updates.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">p2padj</B></DT><DDCLASS="listitem"><PCLASS="para">Traces point-to-point adjacency updates.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">lspdb</B></DT><DDCLASS="listitem"><PCLASS="para">Traces signatures in the LSP database.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">lspcontent</B></DT><DDCLASS="listitem"><PCLASS="para">Traces contents of the LSP database.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">lspinput</B></DT><DDCLASS="listitem"><PCLASS="para">Traces input processing of the LSPs.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">flooding</B></DT><DDCLASS="listitem"><PCLASS="para">Traces flooding of the LSPs. &#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">buildlsp</B></DT><DDCLASS="listitem"><PCLASS="para">Traces creation of the LSPs.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">csnp</B></DT><DDCLASS="listitem"><PCLASS="para">Traces processing of the CSNPs.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">psnp</B></DT><DDCLASS="listitem"><PCLASS="para">Traces processing of the PSNPs.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">route</B></DT><DDCLASS="listitem"><PCLASS="para">Traces route changes.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">update</B></DT><DDCLASS="listitem"><PCLASS="para">Traces routing updates.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">paths</B></DT><DDCLASS="listitem"><PCLASS="para">Traces paths calculated by the Shortest Path First (SPF) algorithm.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">spf</B></DT><DDCLASS="listitem"><PCLASS="para">Traces the operation of the Shortest Path First (SPF) algorithm. &#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">events</B></DT><DDCLASS="listitem"><PCLASS="para">Traces protocol events.</P></DD></DL>&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">systemid</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the IS-IS system ID. If no system identifier is specified,the system ID portion of the first circuit's NSAP address is used.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">area</B></DT><DDCLASS="listitem"><PCLASS="para">Adds area addresses to those configured automatically from the circuits.IS-IS area addresses are automatically configured based on the realcircuits over which IS-IS runs.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">circuit</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the circuits used by IS-IS. Circuits normally are UNIX interfaces,and <CODECLASS="replaceable"><I>string</I></CODE> is an interface name. The circuit options are:<DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="replaceable"><I>metric</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the Level 1 and Level 2 metrics for each circuit. <CODECLASS="replaceable"><I>metric</I></CODE>is a numeric value in the range 1 to 63. The default value is 63.</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>priority</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the value used by IS-IS when electing a designated router.Routers with high priority values are preferred for the designatedrouter. <CODECLASS="replaceable"><I>priority</I></CODE><ACLASS="indexterm"NAME="AUTOID-22245"></A>is a numeric value between 0 and 127. If nopriority is specified, a random value is selected.</P></DD></DL>&#13;</P></DD></DL><PCLASS="para">See <EMCLASS="emphasis">A Guide to Gated Integrated IS-IS</EM>, by Steve Heimlich, forinformation on IS-IS configuration. The document is included in the<BCLASS="emphasis.bold">gated</B> distribution.<ACLASS="indexterm"NAME="AUTOID-22250"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.5">B.8.5 The bgp Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-BORDER-GATEWAY-PROTOCOL-BGP-STATEMENT-IN-GATED"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">bgp yes | no | on | off</B> [ <BCLASS="emphasis.bold">{<BR>        preference</B> <CODECLASS="replaceable"><I>preference</I></CODE><BCLASS="emphasis.bold"> ;<BR>        defaultmetric</B> <CODECLASS="replaceable"><I>metric</I></CODE><BCLASS="emphasis.bold"> ;<BR>        traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE><BCLASS="emphasis.bold"> ;<BR>        group type external peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE><BR>            | <BCLASS="emphasis.bold">internal peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE><BR>            | <BCLASS="emphasis.bold">igp peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE> <BCLASS="emphasis.bold">proto</B> <CODECLASS="replaceable"><I>proto</I></CODE><BR>            | <BCLASS="emphasis.bold">routing peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE> <BCLASS="emphasis.bold">proto</B> <CODECLASS="replaceable"><I>proto </I></CODE><BCLASS="emphasis.bold">interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE><BR>            | <BCLASS="emphasis.bold">test peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE><BCLASS="emphasis.bold"> {<BR>            allow {</B><BR>                <CODECLASS="replaceable"><I>address </I></CODE><BCLASS="emphasis.bold">mask</B> <CODECLASS="replaceable"><I>mask | </I></CODE><BCLASS="emphasis.bold">masklen</B> <CODECLASS="replaceable"><I>number</I></CODE><BR>                   <BCLASS="emphasis.bold">all<BR>                   host</B> <CODECLASS="replaceable"><I>address</I></CODE><BCLASS="emphasis.bold"> } ;<BR>            peer</B> <CODECLASS="replaceable"><I>address</I></CODE><BR>                [<BCLASS="emphasis.bold">metricout</B> <CODECLASS="replaceable"><I>metric</I></CODE>]<BR>                [<BCLASS="emphasis.bold">localas</B> <CODECLASS="replaceable"><I>as_number</I></CODE>]<BR>                [<BCLASS="emphasis.bold">nogendefault</B>]<BR>                [<BCLASS="emphasis.bold">gateway</B> <CODECLASS="replaceable"><I>address</I></CODE>]<BR>                [<BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE>]<BR>                [<BCLASS="emphasis.bold">preference2</B> <CODECLASS="replaceable"><I>preference</I></CODE>]<BR>                [<BCLASS="emphasis.bold">lcladdr</B> <CODECLASS="replaceable"><I>address</I></CODE>]<BR>                [<BCLASS="emphasis.bold">holdtime</B> <CODECLASS="replaceable"><I>time</I></CODE>]<BR>                [<BCLASS="emphasis.bold">version</B> <CODECLASS="replaceable"><I>number</I></CODE>]<BR>                [<BCLASS="emphasis.bold">passive</B>]<BR>                [<BCLASS="emphasis.bold">sendbuffer</B> <CODECLASS="replaceable"><I>number</I></CODE>]<BR>                [<BCLASS="emphasis.bold">recvbuffer</B> <CODECLASS="replaceable"><I>number</I></CODE>]<BR>                [<BCLASS="emphasis.bold">indelay</B> <CODECLASS="replaceable"><I>time</I></CODE>]<BR>                [<BCLASS="emphasis.bold">outdelay</B> <CODECLASS="replaceable"><I>time</I></CODE>]<BR>                [<BCLASS="emphasis.bold">keep all</B> | <BCLASS="emphasis.bold">none</B>]<BR>                [<BCLASS="emphasis.bold">analretentive</B>]<BR>                [<BCLASS="emphasis.bold">noauthcheck</B>]<BR>                [<BCLASS="emphasis.bold">noaggregatorid</B>]<BR>                [<BCLASS="emphasis.bold">keepalivesalways</B>]<BR>                [<BCLASS="emphasis.bold">v3asloopokay</B>]<BR>                [<BCLASS="emphasis.bold">nov4asloop</B>]<BR>                [<BCLASS="emphasis.bold">logupdown</B>]<BR>                [<BCLASS="emphasis.bold">ttl</B> <CODECLASS="replaceable"><I>ttl</I></CODE>]<BR>                [<BCLASS="emphasis.bold">traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE>]<BCLASS="emphasis.bold"> ; } ;<BR>}</B>] <BCLASS="emphasis.bold">;</B></P></BLOCKQUOTE><PCLASS="para">This statement enables or disables BGP. By default, BGP is disabled.The default preference is 170. By default, BGP does not advertise ametric. Unlike the RIP metric, the BGP metric does not play a primaryrole in determining the best route. The BGP metric is simply anarbitrary 16-bit value that can be used as one criterion for choosing aroute. The <BCLASS="emphasis.bold">defaultmetric</B> statement can be used to define a metric thatBGP will use when advertising routes.</P><PCLASS="para">Trace options can be specified for all of BGP or for individual BGPpeers. BGP supports most of the standard trace options as well as thefollowing:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">packets</B></DT><DDCLASS="listitem"><PCLASS="para">Traces all BGP packets.Traces BGP OPEN packets. Traces BGP UPDATE packets. Traces BGP KEEPALIVE packets. </P></DD></DL><PCLASS="para">BGP peers must be members of a group. The group statement declares thegroup, defines which peers are members of the group, and defines thegroup &quot;type.&quot;  Multiple group statements may be specified, but eachmust have a unique combination of type and autonomous system number.There are four possible group types:<ACLASS="indexterm"NAME="AUTOID-22342"></A></P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">group type external peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Specifies that BGP will run as a classic exterior gateway protocol.The peers listed in this group are members of an external autonomoussystem. Full policy checking is applied to all incoming and outgoingroutes.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">group type internal peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Specifies that BGP will be used to distribute routes to an internalgroup that has no traditional interior gateway protocol. Routesreceived from external BGP peers are readvertised to this group withthe received metric.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">group type igp peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE><BCLASS="emphasis.bold"> proto</B> <CODECLASS="replaceable"><I>proto</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Specifies that BGP will be used to distribute path attributes to aninternal group that runs an interior gateway protocol. BGP advertisesthe AS path, path origin, and transitive optional attributes if the pathattributes are provided by the IGP's tag mechanism. <CODECLASS="replaceable"><I>proto</I></CODE> is thename of the interior gateway protocol, e.g., <CODECLASS="literal">proto ospf</CODE>.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">group type routing peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE><BCLASS="emphasis.bold"> proto</B> <CODECLASS="replaceable"><I>proto </I></CODE><BCLASS="emphasis.bold">interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Specifies that BGP will be used internally to carry external routes,while an interior gateway protocol is used to carry only internalroutes. Normally the routes learned by BGP from external autonomoussystems are written in the routing table, where they are picked up anddistributed by an interior protocol to the local autonomous sytem. Forthis type of group, BGP distributes the external routes itself and theinterior protocol is limited to distributing only those routes that areinterior to the local autonomous system. <CODECLASS="replaceable"><I>proto</I></CODE> is the name ofthe interior protocol.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">group type test peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Specifies that the members of this group are test peers. All routinginformation exchanged by test peers is discarded.</P></DD></DL><PCLASS="para">A <CODECLASS="literal">group</CODE> clause contains <CODECLASS="literal">peer</CODE> subclauses. Any number of<CODECLASS="literal">peer</CODE> subclauses<ACLASS="indexterm"NAME="AUTOID-22388"></A>may belong to a group. Peers are specified explicitly with a <BCLASS="emphasis.bold">peer</B> statement, or implicitly with the <BCLASS="emphasis.bold">allow</B> statement.</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">allow</B></DT><DDCLASS="listitem"><PCLASS="para">Any peer whose address is contained in the specified address range is amember of the group. The keyword <BCLASS="emphasis.bold">all</B> matches all possibleaddresses. The keyword <BCLASS="emphasis.bold">host</B> precedes an individual hostaddress. The address and mask pairs define a range of addresses.Network masks can be defined with the keyword <BCLASS="emphasis.bold">mask</B> and an addressmask written in dotted decimal notation or with the keyword<BCLASS="emphasis.bold">masklen</B> and the prefix length written as a decimal number. Allparameters for these peers must be defined in the <CODECLASS="literal">group</CODE> clause.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">peer</B> <CODECLASS="replaceable"><I>address</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The peer identified by <CODECLASS="replaceable"><I>address</I></CODE> is a member of the group.</P></DD></DL><PCLASS="para">The BGP <CODECLASS="literal">peer</CODE> subclause allows the following parameters, which can alsobe specified on the <CODECLASS="literal">group</CODE> clause. If placed on the <CODECLASS="literal">group</CODE>clause, the parameters affect all peers in the group. The available optionsare:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">metricout</B> <CODECLASS="replaceable"><I>metric</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the primary metric for routes sent to the peer, which overridesthe default metric, a metric specified on the group and any metricspecified by export policy.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">localas</B> <CODECLASS="replaceable"><I>as_number</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the local system's autonomous system number (asn).<ACLASS="indexterm"NAME="AUTOID-22428"></A>The default is touse the asn defined in the <BCLASS="emphasis.bold">autonomoussystem</B> statement.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">nogendefault</B></DT><DDCLASS="listitem"><PCLASS="para">Prevents <BCLASS="emphasis.bold">gated</B> from generating a default route when BGP peerswith this neighbor, even if <BCLASS="emphasis.bold">gendefault</B> is set in the<BCLASS="emphasis.bold">options</B> directive statement.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">gateway</B> <CODECLASS="replaceable"><I>address</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Identifies the next-hop gateway through which packets for this peerare routed. Use this only if the neighbor does not share a network withthe local system. This option is rarely needed.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the preference<ACLASS="indexterm"NAME="AUTOID-22452"></A>used for routes learned from this peer,which permits <BCLASS="emphasis.bold">gated</B> to prefer routes from one peer, or groupof peers, over another.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">preference2</B> <CODECLASS="replaceable"><I>preference</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the &quot;second&quot; preference. In the case of a preference tie, thesecond preference is used to break the tie. The default value is 0.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">lcladdr</B> <CODECLASS="replaceable"><I>address</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the address of the local interface used to communicate withthis neighbor.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">holdtime</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the number of seconds the peer should wait for a keepalive,<ACLASS="indexterm"NAME="AUTOID-22473"></A>update, or notification message before closing the connection. Thevalue is sent to the peer in the Hold Time field of the BGP Openmessage. The value must be either 0 (no keepalives will be sent) or atleast 3.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">version</B> <CODECLASS="replaceable"><I>version</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Identifies the version of the BGP protocol to use with this peer. Bydefault, the version is negotiated when the connection is opened.Currently supported versions are 2, 3, and 4.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">passive</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies that <BCLASS="emphasis.bold">gated</B> should wait for the peer to issue an OPEN.By default, <BCLASS="emphasis.bold">gated</B> periodically sends OPEN messages until the peerresponds.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">sendbuffer</B> <CODECLASS="replaceable"><I>buffer_size</I></CODE></DT><DDCLASS="listitem"><PCLASS="para"></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">recvbuffer</B> <CODECLASS="replaceable"><I>buffer_size</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the size of the send and receive buffers. The default is 65535bytes, which is the maximum. These parameters are not used on normallyfunctioning systems.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">indelay</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para"></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">outdelay</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Implements &quot;route dampening.&quot;<ACLASS="indexterm"NAME="AUTOID-22512"></A><BCLASS="emphasis.bold">indelay</B> defines the number ofseconds a route must be stable before it is accepted.<BCLASS="emphasis.bold">outdelay</B> is the number of seconds a route must be present in the<BCLASS="emphasis.bold">gated</B> routing database before it is exported to this peer. Thedefault value for each is 0, meaning that these features are disabled.Use this only if the routing table<ACLASS="indexterm"NAME="AUTOID-22518"></A>is fluctuating so rapidly it isunstable.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">keep all</B></DT><DDCLASS="listitem"><PCLASS="para">Tells system to retain routes learned from this peer even if the routes' ASpaths contain our local AS number. Normally routes that contain the local ASnumber are discarded as potential routing loops.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">analretentive</B></DT><DDCLASS="listitem"><PCLASS="para">Tells system to issue warning messages for events, such as duplicate routes,that are normally &quot;silently ignored.&quot;<ACLASS="indexterm"NAME="AUTOID-22532"></A></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">noauthcheck</B></DT><DDCLASS="listitem"><PCLASS="para">Instructs system not to verify that incoming packets have an authentication field of all 1s. Use this to interoperate with an implementation that uses theauthentication field.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">noaggregatorid</B></DT><DDCLASS="listitem"><PCLASS="para">Sets the routerid in the aggregator attribute to 0. By default, itis set to the router identifier. Use this to prevent this router fromcreating aggregate routes with AS paths that differ from other routersin the AS.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">keepalivesalways</B></DT><DDCLASS="listitem"><PCLASS="para">Instructs system to send a keepalive even when an update could have correctly substitutedfor one. Used for interoperability with some routers.<ACLASS="indexterm"NAME="AUTOID-22550"></A></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">v3asloopokay</B></DT><DDCLASS="listitem"><PCLASS="para">Allows advertisement of a route with a loop in the AS path, i.e., withan AS appearing more than once in the path, to version 3 external peers.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">nov4asloop</B></DT><DDCLASS="listitem"><PCLASS="para">Prevents a route with a loop in the AS path from being advertised to version 4external peers. Used to avoid passing such routes to a peerthat incorrectly forwards them to version 3 neighbors. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">logupdown</B></DT><DDCLASS="listitem"><PCLASS="para">Logs every time a BGP peer enters or leaves the ESTABLISHED state.<ACLASS="indexterm"NAME="AUTOID-22568"></A></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ttl</B> <CODECLASS="replaceable"><I>ttl</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the IP ttl<ACLASS="indexterm"NAME="AUTOID-22576"></A>for local neighbors. By default it is set to 1.Use this option if the local neighbor discards packets sent with a ttlof 1. Not all UNIX kernels allow the ttl to be specifiedfor TCP connections.</P></DD></DL><PCLASS="para">The BGP trace options are covered previously.<ACLASS="indexterm"NAME="AUTOID-22579"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.6">B.8.6 The egp Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-EXTERIOR-GATEWAY-PROTOCOL-EGP-STATEMENT-IN-GATED"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">egp yes | no | on | off</B> [ <BCLASS="emphasis.bold">{<BR>       preference</B> <CODECLASS="replaceable"><I>preference</I></CODE><BCLASS="emphasis.bold"> ;<BR>       defaultmetric</B> <CODECLASS="replaceable"><I>metric</I></CODE><BCLASS="emphasis.bold"> ;<BR>       packetsize</B> <CODECLASS="replaceable"><I>maxpacketsize</I></CODE><BCLASS="emphasis.bold"> ;<BR>       traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE><BCLASS="emphasis.bold"> ;<BR>       group</B> [<BCLASS="emphasis.bold">peeras</B> <CODECLASS="replaceable"><I>as_number</I></CODE>] [<BCLASS="emphasis.bold">localas</B> <CODECLASS="replaceable"><I>as_number</I></CODE>] [<BCLASS="emphasis.bold">maxup</B> <CODECLASS="replaceable"><I>number</I></CODE>] <BCLASS="emphasis.bold">{<BR>         neighbor</B> <CODECLASS="replaceable"><I>address</I></CODE><BR>           [<BCLASS="emphasis.bold">metricout</B> <CODECLASS="replaceable"><I>metric</I></CODE>]<BR>           [<BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE>]<BR>           [<BCLASS="emphasis.bold">preference2</B> <CODECLASS="replaceable"><I>preference</I></CODE>]<BR>           [<BCLASS="emphasis.bold">ttl</B> <CODECLASS="replaceable"><I>ttl</I></CODE>]<BR>           [<BCLASS="emphasis.bold">nogendefault</B>]<BR>           [<BCLASS="emphasis.bold">importdefault</B>]<BR>           [<BCLASS="emphasis.bold">exportdefault</B>]<BR>           [<BCLASS="emphasis.bold">gateway</B> <CODECLASS="replaceable"><I>address</I></CODE>]<BR>           [<BCLASS="emphasis.bold">lcladdr</B> <CODECLASS="replaceable"><I>address</I></CODE>]<BR>           [<BCLASS="emphasis.bold">sourcenet</B> <CODECLASS="replaceable"><I>network</I></CODE>]<BR>           [<BCLASS="emphasis.bold">minhello </B>| <BCLASS="emphasis.bold">p1</B>  <CODECLASS="replaceable"><I>interval</I></CODE>]<BR>           [<BCLASS="emphasis.bold">minpoll </B>| <BCLASS="emphasis.bold">p2</B>  <CODECLASS="replaceable"><I>interval</I></CODE>]<BR>           [<BCLASS="emphasis.bold">traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE>] <BCLASS="emphasis.bold">;</B> <BCLASS="emphasis.bold">} ;</B><BR><BCLASS="emphasis.bold">}</B>] <BCLASS="emphasis.bold">;</B></P></BLOCKQUOTE><PCLASS="para">This statement enables or disables EGP. By default, EGP is disabled.The default metric for announcing routes via EGP is 255, and thedefault preference for routes learned from EGP is 200.</P><PCLASS="para">The <BCLASS="emphasis.bold">packetsize</B> argument defines the size of the largest EGPpacket that will be sent or accepted. <CODECLASS="replaceable"><I>maxpacketsize</I></CODE><ACLASS="indexterm"NAME="AUTOID-22638"></A>is the sizein bytes. The default is 8192 bytes. If <BCLASS="emphasis.bold">gated</B> receives a packetlarger than <CODECLASS="replaceable"><I>maxpacketsize</I></CODE> it is discarded, but <CODECLASS="replaceable"><I>maxpacketsize</I></CODE>is increased to the size of the larger packet so that future packetswon't have to be discarded.</P><PCLASS="para">The <BCLASS="emphasis.bold">traceoptions</B> statement<ACLASS="indexterm"NAME="AUTOID-22645"></A>defines the tracing for EGP. Tracing can bespecified for the EGP protocol or for an individual EGP neighbor. TheEGP trace options are:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">packets</B></DT><DDCLASS="listitem"><PCLASS="para">Traces all EGP packets.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">hello</B></DT><DDCLASS="listitem"><PCLASS="para">Traces EGP HELLO/I-HEARD-U packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">acquire</B></DT><DDCLASS="listitem"><PCLASS="para">Traces EGP ACQUIRE/CEASE packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">update</B></DT><DDCLASS="listitem"><PCLASS="para">Traces EGP POLL/UPDATE packets. </P></DD></DL><PCLASS="para">The <BCLASS="emphasis.bold">egp</B> statement has two clauses: the <CODECLASS="literal">group</CODE> clause and the<CODECLASS="literal">neighbor</CODE> clause. EGP neighbors must be part of a group, and all of theneighbors in a group must be members of the same autonomous system. Use the<CODECLASS="literal">group</CODE> clause<ACLASS="indexterm"NAME="AUTOID-22674"></A>to define parameters for a group of EGP neighbors. Values set ina <CODECLASS="literal">group</CODE> clause apply to all neighbor clauses in the group. There canbe multiple <CODECLASS="literal">group</CODE> clauses. The following parameters are set by the<CODECLASS="literal">group</CODE> clause:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">peeras</B></DT><DDCLASS="listitem"><PCLASS="para">Identifies the autonomous system number of the autonomous system towhich the members of the group belong. If not specified, this number islearned from the neighbors.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">localas</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the local system's autonomous system number. The default is touse the asn defined in the <BCLASS="emphasis.bold">autonomoussystem</B> statement.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">maxup</B></DT><DDCLASS="listitem"><PCLASS="para">Defines the number of EGP neighbors <BCLASS="emphasis.bold">gated</B> is to acquire. Thedefault is to acquire all listed neighbors.</P></DD></DL><PCLASS="para">The <CODECLASS="literal">neighbor</CODE> clause defines one EGP neighbor.<ACLASS="indexterm"NAME="AUTOID-22699"></A>The only part of theclause that is required is the <BCLASS="emphasis.bold">address</B> argument, which is the hostname or IP address of the neighbor. All other parameters are optional.All of these optional parameters can also be specified in the <CODECLASS="literal">group</CODE>clause if you want to apply the parameter to all neighbors.The <CODECLASS="literal">neighbor</CODE> clause parameters are:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">metricout</B> <CODECLASS="replaceable"><I>metric</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Used for all routes sent to this neighbor. This valueoverrides the <BCLASS="emphasis.bold">defaultmetric</B> value set in the <BCLASS="emphasis.bold">egp</B> statement, butonly for this specific neighbor.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the preference used for routes learned from this neighbor,which permits <BCLASS="emphasis.bold">gated</B> to prefer routes from one neighbor, or groupof neighbors, over another.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">preference2</B> <CODECLASS="replaceable"><I>preferenc</I></CODE>e</DT><DDCLASS="listitem"><PCLASS="para">Defines the &quot;second&quot; preference. In the case of a preference tie, thesecond preference is used to break the tie. The default value is 0.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ttl</B> <CODECLASS="replaceable"><I>ttl</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the IP ttl for local neighbors. By default, it is set to 1.Use this option if the local neighbor discards packets sent with a ttl of 1.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">nogendefault</B></DT><DDCLASS="listitem"><PCLASS="para">Prevents <BCLASS="emphasis.bold">gated</B> from generating a default route when EGP peerswith this neighbor, even if <BCLASS="emphasis.bold">gendefault</B> is set in the<BCLASS="emphasis.bold">options</B> directive statement.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">importdefault</B></DT><DDCLASS="listitem"><PCLASS="para">Tells system to accept the default route if it is included in this neighbor'sEGP update. By default, it is ignored.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">exportdefault</B></DT><DDCLASS="listitem"><PCLASS="para">Tells system to send the default route in EGP updates to this EGP neighbor.Normally a default route is not included in an EGP update.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">gateway</B> <CODECLASS="replaceable"><I>address</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Identifies the next-hop gateway through which packets for this neighborare routed. Use this only if the neighbor does not share a network withthe local system. This option is rarely needed.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">lcladdr</B> <CODECLASS="replaceable"><I>address</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the address of the local interface used to communicate with theneighbor.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">sourcenet</B> <CODECLASS="replaceable"><I>network</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Changes the network queried in EGP POLL packets. By default, this is theshared network. However, if the neighbor does not share a network withyour system, the neighbor's network address should be specified here.This parameter is normally not needed. Do not use it if you share anetwork with the EGP neighbor.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">minhello </B>| <BCLASS="emphasis.bold">p1</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Sets the interval between the transmission of EGP HELLO packets.[1]The default Hello interval is 30 seconds. If the neighbor fails to respondto three HELLO packets, the system stops trying to acquire theneighbor. Setting a larger interval gives the neighbor a better chanceto respond. The interval can be defined as seconds, minutes:seconds, orhours:minutes:seconds. For example, a 3-minute interval could bespecified as 180 (seconds), 3:00 (minutes), or 0:3:00 (no hours and 3minutes). The keyword <BCLASS="emphasis.bold">p1</B> can be used instead of the keyword<BCLASS="emphasis.bold">minhello</B>.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[1] Don't confuse this with the Hello protocol. Refer to the discussion ofHELLO and I-H-U packets in <ACLASS="xref"HREF="ch07_01.htm"TITLE="Configuring Routing ">Chapter 7</A>.</P></BLOCKQUOTE></DD><DTCLASS="term"><BCLASS="emphasis.bold">minpoll </B>| <BCLASS="emphasis.bold">p2</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Sets the time interval between sending polls to the neighbor. Thedefault is 120 seconds. If three polls are sent without a response, theneighbor is declared &quot;down&quot; and all routes learned from that neighborare removed from the routing table. This can cause the routing table tobe very unstable if a neighbor becomes congested and can't respond torapid polls. A longer polling interval provides a more stable, but lessresponsive, routing table. Again the interval is defined as seconds,minutes:seconds, or hours:minutes:seconds.<ACLASS="indexterm"NAME="AUTOID-22788"></A></P></DD></DL></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.7">B.8.7 The snmp Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-SIMPLE-NETWORK-MANAGEMENT-PROTOCOL-SNMP-STATEMENT-IN-GATED"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">snmp yes | no | on | off [ {<BR>    port</B> <CODECLASS="replaceable"><I>port</I></CODE><BCLASS="emphasis.bold"> ;<BR>    debug ;<BR>    traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE><BCLASS="emphasis.bold"> ;<BR>} ] ;</B></P></BLOCKQUOTE><PCLASS="para">This command controls whether <BCLASS="emphasis.bold">gated</B> informs the SNMPmanagement software of its status. SNMP is not a routing protocol andis not started by this command. You must run SNMP softwareindependently. This statement only controls whether <BCLASS="emphasis.bold">gated</B> keepsthe management software apprised of its status. The default is on, so <BCLASS="emphasis.bold">gated</B> does inform SNMP of its status.</P><PCLASS="para">The snmp statement supports three options:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">port</B> <CODECLASS="replaceable"><I>port</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">This option changes the SNMP port used by <BCLASS="emphasis.bold">gated</B>. By default, theSNMP daemon listens to port 199.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">debug</B></DT><DDCLASS="listitem"><PCLASS="para">Enables debugging of <BCLASS="emphasis.bold">gated</B>'s SNMP code. By default, it is disabled.This option is used by code developers.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Traces the interactions between <BCLASS="emphasis.bold">gated</B> and the SNMP daemon. The<BCLASS="emphasis.bold">detail</B>, <BCLASS="emphasis.bold">send</B>, and <BCLASS="emphasis.bold">recv</B> options are not supported.Instead, the <BCLASS="emphasis.bold">snmp</B> statement uses these options:<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">receive</B></DT><DDCLASS="listitem"><PCLASS="para">Traces all requests received from the SNMP daemon. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">register</B></DT><DDCLASS="listitem"><PCLASS="para">Traces SNMP requests to register variables. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">resolve</B></DT><DDCLASS="listitem"><PCLASS="para">Traces SNMP requests to resolve variable names. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">trap</B></DT><DDCLASS="listitem"><PCLASS="para">Traces SNMP trap requests. <ACLASS="indexterm"NAME="AUTOID-22852"></A></P></DD></DL>&#13;</P></DD></DL></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.8">B.8.8 The redirect Statement</A></H3><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-REDIRECT-STATEMENT-IN-GATED"></A><BCLASS="emphasis.bold">redirect yes | no | on | off</B> [ <BCLASS="emphasis.bold">{<BR>    preference</B> <CODECLASS="replaceable"><I>preference</I></CODE><BCLASS="emphasis.bold"> ;<BR>    interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE> [<BCLASS="emphasis.bold">noredirects </B>| <BCLASS="emphasis.bold">redirects</B>]<BCLASS="emphasis.bold"> ;<BR>    trustedgateways</B> <CODECLASS="replaceable"><I>gateway_list</I></CODE><BCLASS="emphasis.bold"> ;<BR>    traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE><BCLASS="emphasis.bold"> ;<BR>}</B> ] <BCLASS="emphasis.bold">;</B></P></BLOCKQUOTE><PCLASS="para">This statement controls whether ICMP redirects are allowed to modifythe kernel routing table. It does not prevent a system from sendingredirects, only from listening to them. If <BCLASS="emphasis.bold">no</B> or <BCLASS="emphasis.bold">off</B> isspecified, <BCLASS="emphasis.bold">gated</B> attempts to remove the effects of ICMP redirectsfrom the kernel routing table whenever the redirects are detected.Remember that ICMP is part of IP; therefore, the redirects may beinstalled in the kernel table before they are seen by <BCLASS="emphasis.bold">gated</B>. Ifyou disable redirects, <BCLASS="emphasis.bold">gated</B> actively removes the redirectedroutes from the routing table. By default, ICMP redirects are enabledon hosts that quietly listen to interior routing protocols and disabledon gateways that actively participate in interior routing protocols.</P><PCLASS="para">The default preference of a route learned from a redirect is 30, whichcan be changed with the <BCLASS="emphasis.bold">preference</B> option. The <BCLASS="emphasis.bold">interface</B>statement controls how redirects are handled on aninterface-by-interface basis. Redirects are ignored if<BCLASS="emphasis.bold">noredirects</B> is specified and are permitted if <BCLASS="emphasis.bold">redirects</B>,which is the default, is specified. The <BCLASS="emphasis.bold">trustedgateways</B> statementenables redirects on a gateway-by-gateway basis. By default, redirectsare accepted from all routers on the local network. If the<BCLASS="emphasis.bold">trustedgateways</B> statement is used, only redirects received from agateway listed in the <CODECLASS="replaceable"><I>gateway_list</I></CODE> are accepted. Thegateway_list is simply a list of hostnames or addresses. The<CODECLASS="replaceable"><I>trace_options</I></CODE> defined on the <BCLASS="emphasis.bold">traceoptions</B> statement are thestandard <BCLASS="emphasis.bold">gated</B> trace options.<ACLASS="indexterm"NAME="AUTOID-22888"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.9">B.8.9 The icmp Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-22892"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">icmp {<BR>    traceoptions</B> <CODECLASS="replaceable"><I>trace_options </I></CODE><BCLASS="emphasis.bold">;<BR>}</B></P></BLOCKQUOTE><PCLASS="para">On some systems, <BCLASS="emphasis.bold">gated</B> listens to all ICMP messages but onlyprocesses the ICMP redirect packets. That processing is controlled bythe redirect statement. In the future, more functionality may beadded. At present the <BCLASS="emphasis.bold">icmp</B> statement is used only to enabletracing of ICMP messages.<ACLASS="indexterm"NAME="AUTOID-22902"></A>The tracing options supported by the<BCLASS="emphasis.bold">icmp</B> statement are:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">packets</B></DT><DDCLASS="listitem"><PCLASS="para">Traces all ICMP packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">redirect</B></DT><DDCLASS="listitem"><PCLASS="para">Traces ICMP REDIRECT packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">routerdiscovery</B></DT><DDCLASS="listitem"><PCLASS="para">Traces ICMP ROUTER DISCOVERY packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">info</B></DT><DDCLASS="listitem"><PCLASS="para">Traces ICMP informational packets. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">error</B></DT><DDCLASS="listitem"><PCLASS="para">Traces ICMP error packets. </P></DD></DL></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.10">B.8.10 The routerdiscovery Statement</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-2-IX-ROUTERDISCOVERY-STATEMENT-IN-GATED"></A>The Router Discovery Protocol informs hosts of the routers that areavailable on the network. It provides an alternative to static routes,routing protocols, and ICMP redirects for hosts that simply need to knowthe address of their default router. The Router Discovery Protocol isimplemented as a server running on the router and a client running onthe host. Both the server (router) software and the client (host)software are provided by <BCLASS="emphasis.bold">gated</B>.</P><PCLASS="para">First let's look at the server configuration statement:<ACLASS="indexterm"NAME="AUTOID-22939"></A></P><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">routerdiscovery server yes | no | on | off</B> [ <BCLASS="emphasis.bold">{<BR>    traceoptions</B> <CODECLASS="replaceable"><I>trace_options </I></CODE><BCLASS="emphasis.bold">;<BR>    interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE><BR>        [<BCLASS="emphasis.bold">minadvinterval</B> <CODECLASS="replaceable"><I>time</I></CODE>]<BR>        [<BCLASS="emphasis.bold">maxadvinterval</B> <CODECLASS="replaceable"><I>time</I></CODE>]<BR>        [<BCLASS="emphasis.bold">lifetime</B> <CODECLASS="replaceable"><I>time</I></CODE>] <BCLASS="emphasis.bold">;<BR>    address</B> <CODECLASS="replaceable"><I>interface_list</I></CODE><BR>        [<BCLASS="emphasis.bold">advertise</B> | <BCLASS="emphasis.bold">ignore</B>]<BR>        [<BCLASS="emphasis.bold">broadcast</B> | <BCLASS="emphasis.bold">multicast</B>]<BR>        [<BCLASS="emphasis.bold">ineligible</B> | <BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE>]<BCLASS="emphasis.bold"> ;<BR>} </B>] <BCLASS="emphasis.bold">;</B></P></BLOCKQUOTE><PCLASS="para">The <BCLASS="emphasis.bold">routerdiscovery</B> statement for both the client and server supporttracing. The <BCLASS="emphasis.bold">state</B> trace flag can be used to trace finite statemachine transitions.<ACLASS="indexterm"NAME="AUTOID-22968"></A>Router discovery packet tracing, however, is notdone here. It is enabled via the ICMP statement.</P><PCLASS="para">The <CODECLASS="literal">interface</CODE> clause defines the physical interfaces and the parametersthat apply to them. Only physical interfaces can be defined in theinterface clause. Addresses are specified in the address clausesshown below. The interface parameters are: </P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">maxadvinterval</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the maximum time interval between sending routeradvertisements. It must be more than 4 seconds and less than 30:00minutes. The default is 10:00 minutes (600 seconds).</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">minadvinterval</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the minimum time interval between sending routeradvertisements. It must be no less than 3 seconds and no greater than<BCLASS="emphasis.bold">maxadvinterval</B>. The default is 0.75 &#215; maxadvinterval.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">lifetime</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines how long clients should consider the addresses in a routeradvertisement valid. It must be greater than <BCLASS="emphasis.bold">maxadvinterval</B> andno more than 2:30:00 (two hours, thirty minutes). The default is 3 &#215;maxadvinterval.</P></DD></DL><PCLASS="para">The address clause defines the IP addresses used and the parameters thatapply to them. The address clause parameters are:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">advertise </B>| <BCLASS="emphasis.bold">ignore</B></DT><DDCLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">advertise</B> specifies that the address should be included in routeradvertisements, which is the default. <BCLASS="emphasis.bold">ignore</B> specifies that theaddress should not be included in router advertisements.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">broadcast </B>| <BCLASS="emphasis.bold">multicast</B></DT><DDCLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">broadcast </B> specifies that the address should be included in abroadcast router advertisement because some systems on the network donot support multicasting. This is the default if the router does notsupport multicasting.</P><PCLASS="para"><BCLASS="emphasis.bold">multicast</B> specifies that the address should only be includedin a multicast router advertisement. If the system does not supportmulticasting, the address is not advertised.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ineligible</B> | <BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the preference of the address as a defaultrouter. <CODECLASS="replaceable"><I>preference</I></CODE> is a  32-bit signed integer. The highervalues mean the address is more preferable. Note that this is not<BCLASS="emphasis.bold">gated</B> preference. This is a value transmitted as part of theRouter Discovery Protocol.</P><PCLASS="para">The keyword <BCLASS="emphasis.bold">ineligible</B> assigns a preference of hex 80000000 thatmeans the address is not eligible to be the default router. Hosts useineligible addresses to verify ICMP redirects.</P></DD></DL><PCLASS="para">For <BCLASS="emphasis.bold">routerdiscovery</B> to work, the hosts must have the <BCLASS="emphasis.bold">routerdiscovery</B> client software. It is part of <BCLASS="emphasis.bold">gated</B> and is configured by the<BCLASS="emphasis.bold">routerdiscovery</B> client statement.<ACLASS="indexterm"NAME="AUTOID-23029"></A></P><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.10.1">B.8.10.1 The routerdiscovery client statement</A></H4><BLOCKQUOTECLASS="literallayout"><PCLASS="literallayout"><BCLASS="emphasis.bold">routerdiscovery client yes | no | on | off</B> [ <BCLASS="emphasis.bold">{<BR>    traceoptions</B> <CODECLASS="replaceable"><I>trace_options </I></CODE><BCLASS="emphasis.bold">;<BR>    preference</B> <CODECLASS="replaceable"><I>preference </I></CODE><BCLASS="emphasis.bold">;<BR>    interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE><BR>        [<BCLASS="emphasis.bold">enable </B>| <BCLASS="emphasis.bold">disable</B>]<BR>        [<BCLASS="emphasis.bold">broadcast </B>| <BCLASS="emphasis.bold">multicast</B>]<BR>        [<BCLASS="emphasis.bold">quiet </B>| <BCLASS="emphasis.bold">solicit</B>]<BCLASS="emphasis.bold"> ;<BR>} </B>] <BCLASS="emphasis.bold">;</B></P></BLOCKQUOTE><PCLASS="para">The client uses the same trace options as the server. Other optionsare different, however. The full list of client options is:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">preference</B> <CODECLASS="replaceable"><I>preference</I></CODE> ;</DT><DDCLASS="listitem"><PCLASS="para">Defines the preference of default routes learned from <BCLASS="emphasis.bold">routerdiscovery</B>.The default is 55. Unlike the server statement, this is<BCLASS="emphasis.bold">gated</B> preference.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">interface</B> <CODECLASS="replaceable"><I>interface_list</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the interfaces used by <BCLASS="emphasis.bold">routerdiscovery</B>.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">enable</B> | <BCLASS="emphasis.bold">disable</B></DT><DDCLASS="listitem"><PCLASS="para">Enables or disables <BCLASS="emphasis.bold">routerdiscovery</B> on theinterface. <BCLASS="emphasis.bold">enable</B> is the default. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">broadcast</B> | <BCLASS="emphasis.bold">multicast</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies whether router solicitations should be broadcast or multicaston the interface. By default, router solicitations are multicast ifit is supported; otherwise, router solicitations are broadcast. If the<BCLASS="emphasis.bold">multicast</B> keyword is specified and multicast is not available,the router solicitations are not sent. Generally, if these options arenot specified, <BCLASS="emphasis.bold">gated</B> will do the right thing.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">quiet</B> | <BCLASS="emphasis.bold">solicit</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies whether router solicitations are sent on this interface.<BCLASS="emphasis.bold">solicit</B>, which is the default, sends router solicitations.<BCLASS="emphasis.bold">quiet</B> listens to Router Advertisements but does not send routersolicitations.<ACLASS="indexterm"NAME="AUTOID-23090"></A><ACLASS="indexterm"NAME="TCP2-AP-2-IX-KERNEL-STATEMENT-IN-GATED"></A></P></DD></DL></DIV></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-2-SECT-8.11">B.8.11 The kernel Statement</A></H3><PCLASS="para"><BCLASS="emphasis.bold">kernel {    options</B>        [<BCLASS="emphasis.bold">nochange</B>]        [<BCLASS="emphasis.bold">noflushatexit</B>]        [<BCLASS="emphasis.bold">remnantholdtime</B> <CODECLASS="replaceable"><I>time</I></CODE>]<BCLASS="emphasis.bold"> ;    routes</B> <CODECLASS="replaceable"><I>number</I></CODE><BCLASS="emphasis.bold"> ;    flash</B>        [<BCLASS="emphasis.bold">limit</B> <CODECLASS="replaceable"><I>number</I></CODE>]        [<BCLASS="emphasis.bold">type interface </B>|<BCLASS="emphasis.bold"> interior </B>| <BCLASS="emphasis.bold">all</B>]<BCLASS="emphasis.bold"> ;    background</B>        [<BCLASS="emphasis.bold">limit</B> <CODECLASS="replaceable"><I>number</I></CODE>]        [<BCLASS="emphasis.bold">priority flash </B>| <BCLASS="emphasis.bold">higher </B>| <BCLASS="emphasis.bold">lower</B>]<BCLASS="emphasis.bold"> ;    traceoptions</B> <CODECLASS="replaceable"><I>trace_options</I></CODE><BCLASS="emphasis.bold"> ;} ;</B></P><PCLASS="para">The <BCLASS="emphasis.bold">kernel</B> statement defines the interactions between <BCLASS="emphasis.bold">gated</B> andthe kernel.</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">options</B></DT><DDCLASS="listitem"><PCLASS="para">Defines three possible configuration options. These are:<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">nochange</B></DT><DDCLASS="listitem"><PCLASS="para">Limits <BCLASS="emphasis.bold">gated</B> to deletes and adds. Use on early versions of therouting socket code that have a malfunctioning change operation.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">noflushatexit</B></DT><DDCLASS="listitem"><PCLASS="para">Prevents route deletions at shutdown. Normally shutdown processing deletesroutes that do not have a &quot;retain&quot; indication. Use to speed startup onsystems with thousands of routes.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">remnantholddimte</B> <CODECLASS="replaceable"><I>time</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the length of time routes read from the kernel forwarding tableat startup are retained. The default is 3 minutes or as soon asthey are overridden. <CODECLASS="replaceable"><I>time</I></CODE> can be a value between 0 and 15minutes. A 0 value causes the routes to be deleted immediately.</P></DD></DL>&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">routes</B> <CODECLASS="replaceable"><I>number</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the maximum number of routes <BCLASS="emphasis.bold">gated</B> will install in thekernel. By default there is no limit to the number of routes in thekernel forwarding table. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">flash</B></DT><DDCLASS="listitem"><PCLASS="para">Tunes the parameters used for flash updates. When routes change,the process of notifying the kernel is called a &quot;flash update.&quot;<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">limit</B> <CODECLASS="replaceable"><I>number</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Sets the maximum number of routes processed during one flash update. Thedefault is 20. A value of -1 causes all route changes to be processed.Large updates can slow the processing of &quot;time critical&quot; protocols.20 is a good default.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">type interface </B>| <BCLASS="emphasis.bold">interior </B>| <BCLASS="emphasis.bold">all</B></DT><DDCLASS="listitem"><PCLASS="para">Specifies the type of routes processed during a flash update. By default,only interface routes are installed during a flash update. <BCLASS="emphasis.bold">interior</B>specifies that interior routes are also installed, and <BCLASS="emphasis.bold">all</B>specifies that interior and exterior routes should be processed.Specifying <CODECLASS="literal">flash limit -1 all</CODE> causes all routes to be installedduring the flash update, which mimics the behavior of previous versionsof <BCLASS="emphasis.bold">gated</B>.</P></DD></DL>&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">background</B></DT><DDCLASS="listitem"><PCLASS="para">Tunes the parameters used for background processing. Since onlyinterface routes are normally installed during a flash update, mostroutes are processed in batches in the background.<DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">limit</B> <CODECLASS="replaceable"><I>number</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Sets the number of routes processed in one batch. The default is 120.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">priority flash </B>| <BCLASS="emphasis.bold">higher </B>| <BCLASS="emphasis.bold">lower</B></DT><DDCLASS="listitem"><PCLASS="para">Sets the priority for processing batch updates. The default is<BCLASS="emphasis.bold">lower</B>, which means that batch updates are processed at a lowerpriority than flash updates. To process kernel updates at the samepriority as flash updates, specify flash.</P></DD></DL>&#13;</P></DD></DL><PCLASS="para">Many tracing options work for the kernel interface because, in manycases, it is handled as a routing protocol. The command-line trace,<BCLASS="emphasis.bold">symbols</B> and <BCLASS="emphasis.bold">iflist</B>, provide information about the kernel.The kernel statement trace options are:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">remnants</B></DT><DDCLASS="listitem"><PCLASS="para">Traces routes read from the kernel when <BCLASS="emphasis.bold">gated</B> starts. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">request</B></DT><DDCLASS="listitem"><PCLASS="para">Traces <BCLASS="emphasis.bold">gated</B> kernel Add/Delete/Change operations. </P></DD></DL><PCLASS="para">The remaining trace options only apply to systems thatuse the routing socket to exchange routing information with the kernel.</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">info</B></DT><DDCLASS="listitem"><PCLASS="para">Traces informational messages received from the routing socket.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">routes</B></DT><DDCLASS="listitem"><PCLASS="para">Traces routes exchanged with the kernel. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">redirect</B></DT><DDCLASS="listitem"><PCLASS="para">Traces redirect messages received from the kernel. </P></DD><DTCLASS="term"><BCLASS="emphasis.bold">interface</B></DT><DDCLASS="listitem"><PCLASS="para">Traces interface status messages received from the kernel.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">other</B></DT><DDCLASS="listitem"><PCLASS="para">Traces any other messages received from the kernel. <ACLASS="indexterm"NAME="AUTOID-23240"></A><ACLASS="indexterm"NAME="AUTOID-23241"></A></P></DD></DL></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appb_07.htm"TITLE="B.7 Definition Statements"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: B.7 Definition Statements"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appb_09.htm"TITLE="B.9 static Statements"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: B.9 static Statements"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">B.7 Definition Statements</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">B.9 static Statements</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>