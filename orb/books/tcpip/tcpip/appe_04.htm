<HTML><HEAD><TITLE>[Appendix E] E.4 More sendmail.cf</TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:45:17Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="appe_01.htm"TITLE="E. A sendmail Reference"><LINKREL="prev"HREF="appe_03.htm"TITLE="E.3 m4 sendmail Macros"><LINKREL="next"HREF="appe_05.htm"TITLE="E.5 Sample Configurations"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appe_03.htm"TITLE="E.3 m4 sendmail Macros"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: E.3 m4 sendmail Macros"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Appendix E<BR>A sendmail Reference</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appe_05.htm"TITLE="E.5 Sample Configurations"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: E.5 Sample Configurations"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-AP-5-SECT-4">E.4 More sendmail.cf</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-5-IX-SENDMAIL-CF-FILE-OPTIONS-AND-FLAGS"></A>Many options and flags can be used in configuring the <EMCLASS="emphasis">sendmail.cf</EM>file. All of the important configuration parameters are coveredin <ACLASS="xref"HREF="ch10_01.htm"TITLE="sendmail ">Chapter 10</A>. But if you are unlucky enough to have a configurationthat requires you to tweak one of the more obscure parameters, you willfind all of them in the following tables.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-5-SECT-4.1">E.4.1 sendmail Classes</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-5-IX-SENDMAIL-CLASSES-LISTED"></A>sendmail has many internal macros. As of sendmail V8, it also hassome internal classes. Some of these classes (e, n, q, and s) have beenadded to support new MIME mail features. A few (k, m, and w) hold themultiple hostnames and domains associated with a well-connected host.The last one (t) holds the list of trusted users. The full list of<ACLASS="indexterm"NAME="AUTOID-27826"></A>internal classes is shown in <ACLASS="xref"HREF="appe_04.htm#TCP2-AP-5-TAB-6"TITLE="Internal sendmail Classes">Table 13.10</A></P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="TCP2-AP-5-TAB-6">Table E.7: Internal sendmail Classes</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Name</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Stores</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">e</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Supported MIME Content-Transfer-Encodings. Initialized to <EMCLASS="emphasis">7bit</EM>, <EMCLASS="emphasis">8bit</EM>, and <EMCLASS="emphasis">binary</EM></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">k</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The system's UUCP node names</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">m</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">All local domains for this host</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">n</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">MIME body types that should never be 8- to 7-bit encoded. Initialized to <EMCLASS="emphasis">multipart/signed</EM></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">q</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">MIME Content-Types that should not be Base64-encoded. Initialized to <EMCLASS="emphasis">text/plain</EM></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">s</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">MIME message subtypes that can be processed recursively. Initialized to <EMCLASS="emphasis">rfc822</EM></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">t</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The list of trusted users</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">w</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">All hostnames this system will accept as its own</TD></TR></TBODY></TABLE></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-5-SECT-4.2">E.4.2 sendmail Options</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-5-IX-SENDMAIL-OPTIONS"></A>A large number of sendmail options can be set inside of the <BCLASS="emphasis.bold">sendmail</B>configuration file. <ACLASS="xref"HREF="ch10_01.htm"TITLE="sendmail ">Chapter 10</A> provides the syntax of the option commandin Table 10-1 and several examples of options. The complete list ofoptions is:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">AliasFile=</B>[<CODECLASS="replaceable"><I>class</I></CODE><BCLASS="emphasis.bold">:</B>]<CODECLASS="replaceable"><I>file</I></CODE><BCLASS="emphasis.bold">, </B>[<CODECLASS="replaceable"><I>class</I></CODE><BCLASS="emphasis.bold">:</B>]<CODECLASS="replaceable"><I>file</I></CODE>...</DT><DDCLASS="listitem"><PCLASS="para">Identify the alias file(s). <CODECLASS="replaceable"><I>class</I></CODE> is optional and defaultsto &quot;implicit&quot;. Valid classes are &quot;implicit&quot;, &quot;hash&quot;, &quot;dbm&quot;, &quot;stab&quot;(internal symbol table) or &quot;nis&quot;.  The selected database class mustbe a database type that was compiled into <BCLASS="emphasis.bold">sendmail</B> on yoursystem. <CODECLASS="replaceable"><I>file</I></CODE> is the pathname of the alias file.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">AliasWait=</B><CODECLASS="replaceable"><I>timeout</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Wait <CODECLASS="replaceable"><I>timeout</I></CODE> minutes for an &quot;@:@&quot; entry to appear in the aliasdatabase before starting up. When <CODECLASS="replaceable"><I>timeout</I></CODE> expires, automaticallyrebuild the database if <BCLASS="emphasis.bold">AutoRebuildAliases</B> is set; otherwise,issue a warning.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">AllowBogusHELO</B></DT><DDCLASS="listitem"><PCLASS="para">Accept illegal <BCLASS="emphasis.bold">HELO SMTP</B> commands that don't contain a hostname.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">AutoRebuildAliases</B></DT><DDCLASS="listitem"><PCLASS="para">Automatically rebuild the alias database when necessary. The preferredmethod is to rebuild the alias database with an explicit <BCLASS="emphasis.bold">newaliases</B>command.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">BlankSub=</B><CODECLASS="replaceable"><I>c</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Use <CODECLASS="replaceable"><I>c</I></CODE> as the blank substitution character to replace unquotedspaces in addresses. The default is to leave the spaces unchanged.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">CheckAliases</B></DT><DDCLASS="listitem"><PCLASS="para">Check that the delivery address in each aliases is valid when rebuildingthe alias database. Normally this check is not done. Adding this checkslows the database build substantially. This is a Boolean.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">CheckpointInterval=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Checkpoint the queue after every <EMCLASS="emphasis">n</EM> items are processed to simplifyrecovery if your system crashes during queue processing. The defaultis 10.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ClassFactor=</B><CODECLASS="replaceable"><I>fact</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The multiplier used to favor messages with a higher value in the Priority:header. Defaults to 1800.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ColonOkInAddr</B></DT><DDCLASS="listitem"><PCLASS="para">Accept colons in email addresses (e.g., <EMCLASS="emphasis">host:user</EM>). Colons are alwaysaccepted in pairs in mail routing (<EMCLASS="emphasis">nodename::user</EM>) or in an RFC 822group constructs (groupname: member1,  member2, ...;). By default,this option is &quot;on&quot; if the configuration version level is less than 6.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ConnectionCacheSize=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The number of connections that can be held open (cached) by thisinstantiation of sendmail. The default is 1. The maximum is 4.0 causes connections to closed immediately after the data is sent,which is the traditional way sendmail operated.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ConnectionCacheTimeout=</B><CODECLASS="replaceable"><I>timeout</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The amount of time an inactive cached connection is held open. After<EMCLASS="emphasis">timeout</EM> minutes of inactivity it is closed. The default is 5 minutes.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ConnectionRateThrottle=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Limit the number of incoming connections accepted in any 1-secondperiod to <CODECLASS="replaceable"><I>n</I></CODE>. The default is 0, which means no limit.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DaemonPortOptions=</B><CODECLASS="replaceable"><I>options</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Set SMTP server options. The <CODECLASS="replaceable"><I>options</I></CODE> are key=value pairs.The options are:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">Port=</B><CODECLASS="replaceable"><I>portnumber</I></CODE>, where <CODECLASS="replaceable"><I>portnumber</I></CODE> is any valid portnumber. It can be specified with the number or the name found in<EMCLASS="emphasis">/etc/services</EM>. The default is port 25, smtp.</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">Addr=</B><CODECLASS="replaceable"><I>mask</I></CODE>, where <CODECLASS="replaceable"><I>mask</I></CODE> is an IP address mask specifiedeither in dotted decimal notation or as a network name. The default isINADDR-ANY, which accepts all addresses.</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">Family=</B><CODECLASS="replaceable"><I>addressfamily</I></CODE>, where <CODECLASS="replaceable"><I>addressfamily</I></CODE> is a validaddress family (see the <BCLASS="emphasis.bold">ifconfig</B> command). The default is INET,which allows IP addresses to be used.</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">Listen=</B><CODECLASS="replaceable"><I>n</I></CODE>, where <CODECLASS="replaceable"><I>n</I></CODE> is a the number of queued connectionsallowed. The default is 10.</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">SndBufSize=</B><CODECLASS="replaceable"><I>n</I></CODE>, where <CODECLASS="replaceable"><I>n</I></CODE> is the send buffer size.</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">RcvBufSize=</B><CODECLASS="replaceable"><I>n</I></CODE>, where <CODECLASS="replaceable"><I>n</I></CODE> is the receive buffer size.</P></LI></UL><PCLASS="para"></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DefaultCharSet=</B><CODECLASS="replaceable"><I>charset</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The character set placed in the Content-Type: header when 8-bit data isconverted to MIME format. The default is &quot;unknown-8bit&quot;.  This optionis overridden by the Charset= field of the mailer descriptor.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DefaultUser=</B><CODECLASS="replaceable"><I>user</I></CODE>[<BCLASS="emphasis.bold">:</B><CODECLASS="replaceable"><I>group</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">The default user ID and group ID for mailers without the S flag in theirdefinitions. If <CODECLASS="replaceable"><I>group</I></CODE> is omitted, the group associated with<EMCLASS="emphasis">user</EM> in the <EMCLASS="emphasis">/etc/passwd</EM> file is used. The default is 1:1.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DeliveryMode=</B><CODECLASS="replaceable"><I>x</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Deliver in mode <CODECLASS="replaceable"><I>x</I></CODE>, where <CODECLASS="replaceable"><I>x</I></CODE> is i (interactive delivery), b(background delivery), q (queue the message), or d (defer until the queuerun). The default is b.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DialDelay=</B><CODECLASS="replaceable"><I>delaytime</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Delay <CODECLASS="replaceable"><I>delaytime</I></CODE> seconds before redialing a failed connection ondial-on-demand networks. The default is 0 (no redial).</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DontExpandCnames</B></DT><DDCLASS="listitem"><PCLASS="para">Disable the <BCLASS="emphasis.bold">$[</B><CODECLASS="replaceable"><I>name</I></CODE>$] syntax used to convert nicknames tocanonical names.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DontInitGroups</B></DT><DDCLASS="listitem"><PCLASS="para">Don't use the initgroups(3) call. This setting reduces NIS serverload, but limits a user to the group associated with that user in<EMCLASS="emphasis">/etc/passwd</EM>.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DontPruneRoutes</B></DT><DDCLASS="listitem"><PCLASS="para">Don't optimize explicit mail routes. Normally, sendmail makes aroute as direct  as possible. However, optimizing the route may not beappropriate for systems located behind a firewall.<ACLASS="indexterm"NAME="AUTOID-28054"></A></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">DoubleBounceAddress=</B><CODECLASS="replaceable"><I>error-address</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Send the report of an error that occurs when sending an error messageto <CODECLASS="replaceable"><I>error-address</I></CODE>. The default is &quot;postmaster&quot;.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">EightBitMode=</B><CODECLASS="replaceable"><I>action</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Handle undeclared 8-bit data by following the specified <EMCLASS="emphasis">action</EM>.The possible actions are: <BCLASS="emphasis.bold">s</B> (strict), reject undeclared 8-bitdata; <BCLASS="emphasis.bold">m</B> (mime), convert it to MIME; and <BCLASS="emphasis.bold">p</B> (pass), pass itthrough unaltered.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ErrorHeader=</B><CODECLASS="replaceable"><I>file-or-message</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Prepend <EMCLASS="emphasis">file-or-message</EM> to outgoing error messages. If<CODECLASS="replaceable"><I>file-or-message</I></CODE> is the path to a text file that is to be prepended,it must begin with a slash. If this option is not defined, nothing isprepended to error messages.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ErrorMode=</B><CODECLASS="replaceable"><I>x</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Handle errors messages according to <EMCLASS="emphasis">x</EM>, where <EMCLASS="emphasis">x</EM> is: <BCLASS="emphasis.bold">p</B>(print messages); <BCLASS="emphasis.bold">q</B> (give exit status but no messages); <BCLASS="emphasis.bold">m</B>(mail back messages); <BCLASS="emphasis.bold">w</B> (write messages to the user's terminal);<BCLASS="emphasis.bold">e</B> (mail back messages and always give zero exit status). If thisoption is not defined, error messages are printed.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">FallbackMXhost=</B><CODECLASS="replaceable"><I>fallbackhost</I></CODE></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-28101"></A>Use <CODECLASS="replaceable"><I>fallbackhost</I></CODE> as a backup MX server for every host.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ForkEachJob</B></DT><DDCLASS="listitem"><PCLASS="para">Run a separate process for every item delivered from the queue.This option reduces the amount of memory needed to process the queue.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ForwardPath=</B><CODECLASS="replaceable"><I>path</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The <CODECLASS="replaceable"><I>path</I></CODE> to search for .forward  files. Multiple paths can bedefined by separating them with colons. The  default is <EMCLASS="emphasis">$z/.forward</EM>.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">HelpFile=</B><CODECLASS="replaceable"><I>file</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The path to the <CODECLASS="replaceable"><I>help</I></CODE> file.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">HoldExpensive</B></DT><DDCLASS="listitem"><PCLASS="para">Queue mail for outgoing mailers that have the <BCLASS="emphasis.bold">e</B> (expensive) mailer flag.Normally mail is delivered immediately.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">HostsFile=</B><CODECLASS="replaceable"><I>path</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The path to the hosts file. The default is <EMCLASS="emphasis">/etc/hosts</EM>.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">HostStatusDirectory=</B><CODECLASS="replaceable"><I>path</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Directory in which host status information is stored so that it canbe shared between <BCLASS="emphasis.bold">sendmail</B> processes. Normally,  the status of a hostor connection is only known by the process that discovers that status.To function, this option requires that ConnectionCacheSize be set toat least 1.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">IgnoreDots</B></DT><DDCLASS="listitem"><PCLASS="para">Ignore dots in incoming messages. Dots cannot be ignored by SMTP mailbecause they are used to mark the end of a mail message.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">LogLevel=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para"><CODECLASS="replaceable"><I>n</I></CODE> indicates the level of detail stored in the log file. <CODECLASS="replaceable"><I>n</I></CODE>defaults to 9, which is normally plenty of detail.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MatchGECOS</B></DT><DDCLASS="listitem"><PCLASS="para">Check the username from the email address against the GECOS field ofthe <EMCLASS="emphasis">passwd</EM> file if it was not found in the alias database or in theusername field of the <EMCLASS="emphasis">passwd</EM> file. This option is not recommended.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MaxDaemonChildren=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Refuse connections when <CODECLASS="replaceable"><I>n</I></CODE> children are processing incoming mail.Normally <BCLASS="emphasis.bold">sendmail</B> sets no arbitrary limit on child processes.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MaxHopCount=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Assume a message is looping when it has been processed more than <CODECLASS="replaceable"><I>n</I></CODE>times. The default is 25.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MaxHostStatAge=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Retain host status information for <CODECLASS="replaceable"><I>n</I></CODE> minutes.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MaxMessageSize=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The maximum message size advertised in response to the ESMTP EHLO.Messages larger than this are rejected.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MaxQueueRunSize=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The maximum number of item that can be processed in a single queue run.The default is no limit.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MeToo</B></DT><DDCLASS="listitem"><PCLASS="para">Send a copy to the sender.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MinFreeBlocks=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Don't accept incoming mail unless <CODECLASS="replaceable"><I>n</I></CODE> blocks are free in the queue filesystem.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MinQueueAge=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Don't process any jobs that have been in the queue less than <CODECLASS="replaceable"><I>n</I></CODE>minutes.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">MustQuoteChars=</B><CODECLASS="replaceable"><I>s</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The list of characters added to the set &quot;@,;:\()[]&quot; that must bequoted when used in the username part of an address. If<BCLASS="emphasis.bold">MustQuoteChars</B> is specified without an <CODECLASS="replaceable"><I>s</I></CODE> value, it adds&quot;.&quot; to the standard set of quoted characters.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">NoRecipientAction=</B><CODECLASS="replaceable"><I>action</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The <CODECLASS="replaceable"><I>action</I></CODE> taken when a message has no valid recipientheaders.  <CODECLASS="replaceable"><I>action</I></CODE> can be <BCLASS="emphasis.bold">none</B> to pass the message onunmodified, <BCLASS="emphasis.bold">add-to</B> to add a To: header using the recipientaddresses from the envelope, <BCLASS="emphasis.bold">add-apparently-to</B> to add anApparently-To: header, <BCLASS="emphasis.bold">add-to-undisclosed</B> to add a &quot;To:undisclosed-recipients:;&quot; header, or <BCLASS="emphasis.bold">add-bcc</B> to add an emptyBcc: header.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">OldStyleHeaders</B></DT><DDCLASS="listitem"><PCLASS="para">Allow spaces to delimit names. Normally, commas delimit names.&#13;</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">OperatorChars=</B><CODECLASS="replaceable"><I>charlist</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The list of operator characters that are normally defined in macro <BCLASS="emphasis.bold">o</B>.The default is the standard set of operators. See the discussion ofrewrite tokens, and the use of operators in determining tokens, in<ACLASS="xref"HREF="ch10_01.htm"TITLE="sendmail ">Chapter 10</A>.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">PostmasterCopy=</B><CODECLASS="replaceable"><I>username</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Copy error messages to <CODECLASS="replaceable"><I>username</I></CODE>. The default is not to send copiesof error messages to the postmaster.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">PrivacyOptions=</B><CODECLASS="replaceable"><I>options</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Set SMTP protocol <CODECLASS="replaceable"><I>options</I></CODE>, where <CODECLASS="replaceable"><I>options</I></CODE> is a comma-separated list containing one or more of these keywords:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">public</B>: allow all commands</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">needmailhelo</B>: require HELO or EHLO before MAIL</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">needexpnhelo</B>: require HELO or EHLO before EXPN</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">noexpn</B>: disable EXPN</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">needvrfyhelo</B>: require HELO or EHLO before VRFY</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">novrfy</B>: disable VRFY</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">restrictmailq</B>: restrict <BCLASS="emphasis.bold">mailq</B> to users with group access to thequeue directory</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">restrictqrun</B>: only <EMCLASS="emphasis">root</EM> and the owner of the queue directory areallowed to run the queue</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">noreceipts</B>: don't return successful delivery messages</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">goaway</B>: disable all SMTP status queries</P></LI><LICLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">authwarnings</B>: put X-Authentication-Warning: headers in messages</P></LI></UL><PCLASS="para"></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">QueueDirectory=</B><CODECLASS="replaceable"><I>directory</I></CODE></DT><DDCLASS="listitem"><PCLASS="para"><CODECLASS="replaceable"><I>directory</I></CODE> is the pathname of the queue directory.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">QueueFactor=</B><CODECLASS="replaceable"><I>factor</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The factor used with the difference between the current loadand the load average limit and with the message priority to determine ifa message should be queued or sent immediately. The idea is to queuelow-priority messages if the system is currently heavily loaded. It defaultsto 600000.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">QueueLA=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Queue messages when the system load average exceeds <CODECLASS="replaceable"><I>n</I></CODE>. The defaultis 8.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">QueueSortOrder=</B><CODECLASS="replaceable"><I>sequence</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Sort the queue in the <CODECLASS="replaceable"><I>sequence</I></CODE> specified, where<CODECLASS="replaceable"><I>sequence</I></CODE> is: <BCLASS="emphasis.bold">h</B> (hostname sequence); <BCLASS="emphasis.bold">t</B> (submissiontime sequence); or <BCLASS="emphasis.bold">p</B> (message priority order). Priority orderingis the default.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ResolverOptions=</B><CODECLASS="replaceable"><I>options</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Set resolver <CODECLASS="replaceable"><I>options</I></CODE>.<ACLASS="indexterm"NAME="AUTOID-28341"></A>Available option values are:<BCLASS="emphasis.bold">debug</B>, <BCLASS="emphasis.bold">aaonly</B>, <BCLASS="emphasis.bold">usevc</B>, <BCLASS="emphasis.bold">primary</B>, <BCLASS="emphasis.bold">igntc</B>,<BCLASS="emphasis.bold">recurse</B>, <BCLASS="emphasis.bold">defnames</B>, <BCLASS="emphasis.bold">stayopen</B>, and <BCLASS="emphasis.bold">dnsrch</B>.  Theoption can be preceded by a plus (+) to turn it on or a minus (-) toturn it off. One other option, <BCLASS="emphasis.bold">HasWildcardMX</B>, is specifiedwithout a + or -.  Simply adding <BCLASS="emphasis.bold">HasWildcardMX</B> turns the optionon.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">RunAsUser=</B><CODECLASS="replaceable"><I>userid</I></CODE>[<BCLASS="emphasis.bold">:groupid</B>]</DT><DDCLASS="listitem"><PCLASS="para">Run sendmail under this user ID and group ID instead of under<EMCLASS="emphasis">root</EM>. This may enhance security when the sendmail is running ona well maintained firewall.<ACLASS="indexterm"NAME="AUTOID-28363"></A>On general purpose systems, this maydecrease security because it requires that many files be readable orwritable by this user ID.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">RecipientFactor=</B><CODECLASS="replaceable"><I>factor</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The priority of a job is lowered by this factor for each recipient,so that jobs with large numbers of recipients have lower priority.Defaults to 30000.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">RefuseLA=</B><CODECLASS="replaceable"><I>n</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Refuse incoming SMTP connections when the system load average exceeds<CODECLASS="replaceable"><I>n</I></CODE>. The default is 12.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">RetryFactor=</B><CODECLASS="replaceable"><I>factor</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The factor used to decrease the priority of a job every time it isprocessed, so that mail that cannot be delivered does not keep poppingto the top of the queue. The default is 90000.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">SafeFileEnvironment=</B><CODECLASS="replaceable"><I>directory</I></CODE></DT><DDCLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">chroot</B>(2) to <CODECLASS="replaceable"><I>directory</I></CODE> before writing a file and refuse to deliverto symbolic links.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">SaveFromLine</B></DT><DDCLASS="listitem"><PCLASS="para">Save UNIX-style From: lines at the front of headers. Normally theyare discarded.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">SendMIMEErrors</B></DT><DDCLASS="listitem"><PCLASS="para">Send error messages in MIME format.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ServiceSwitchFile=</B><CODECLASS="replaceable"><I>path</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The <CODECLASS="replaceable"><I>path</I></CODE> to a file that lists the of methods used forvarious services. The ServiceSwitchFile contains entries thatbegin with the service name followed by the service method.sendmail checks for services named &quot;aliases&quot;  and  &quot;hosts&quot; andsupports &quot;dns&quot;, &quot;nis&quot;, &quot;nisplus&quot;, or &quot;files&quot; as possible servicemethods, assuming that support for all of these methods is compiledinto this copy of sendmail. ServiceSwitchFile defaults to<EMCLASS="emphasis">/etc/service.switch</EM>. If that file does not exist, sendmail usesthe following service methods: aliases are looked up in the aliasesfiles, and hosts are looked up first using dns, then nis, and finallythe hosts file. If the operating system has a built-in service switchfeature, it is used and this option is ignored. See the description of<ACLASS="indexterm"NAME="AUTOID-28411"></A>the <EMCLASS="emphasis">nsswitch.conf</EM> file in <ACLASS="xref"HREF="ch09_01.htm"TITLE="Configuring Network Servers ">Chapter 9, <CITECLASS="chapter">Configuring Network Servers </CITE></A>. It is a service switch file.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">SevenBitInput</B></DT><DDCLASS="listitem"><PCLASS="para">Strip input to 7 bits for compatibility with old systems.This shouldn't be necessary.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">SingleLineFromHeader</B></DT><DDCLASS="listitem"><PCLASS="para">For compatibility with some versions of Lotus Notes, unwrapped From:lines that have embedded newlines into one long line.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">SingleThreadDelivery</B></DT><DDCLASS="listitem"><PCLASS="para">Don't open more than one SMTP connections to a remote host at thesame time. This option requires the HostStatusDirectory option.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">SmtpGreetingMessage=</B><CODECLASS="replaceable"><I>message</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The greeting sent to the remote host when it connects to the SMTPserver port. This is the value defined in macro e.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">StatusFile=</B><CODECLASS="replaceable"><I>file</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Log summary statistics in <CODECLASS="replaceable"><I>file</I></CODE>. By default, summary statisticsare not logged.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">SuperSafe</B></DT><DDCLASS="listitem"><PCLASS="para">Create a queue file, even when attempting immediate delivery.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">TempFileMode=</B><CODECLASS="replaceable"><I>mode</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Use <CODECLASS="replaceable"><I>mode</I></CODE> to set the access permissions for queue  files.<CODECLASS="replaceable"><I>mode</I></CODE> is an octal value. It defaults to 0600.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">Timeout.</B><CODECLASS="replaceable"><I>type</I></CODE><BCLASS="emphasis.bold">=</B><CODECLASS="replaceable"><I>timeout</I></CODE></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-5-IX-TIMEOUT-KEYWORD-TYPES-LISTED"></A>Set timeout values, where <CODECLASS="replaceable"><I>type</I></CODE> is the thing being timed and<CODECLASS="replaceable"><I>timeout</I></CODE> is the time interval before the timer expires. <ACLASS="xref"HREF="appe_04.htm#TCP2-AP-5-TAB-7"TITLE="Timeout Types">Table 13.11</A>lists the valid <CODECLASS="replaceable"><I>type</I></CODE> values, the event being timed and the default<CODECLASS="replaceable"><I>timeout</I></CODE> value for each type.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="TCP2-AP-5-TAB-7">Table E.8: Timeout Types</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Type</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Waiting For</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Default</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">initial</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Initial greeting message</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">5m</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">helo</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reply to HELO or EHLO command</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">5m</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mail</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reply to MAIL command</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">10m</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">rcpt</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reply to RCPT command</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">1h</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">datainit</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reply to DATA command</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">5m</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">datablock</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Data block read</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">1h</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">datafinal</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reply to terminating &quot;.&quot;</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">1h</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">rset</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reply to RSET command</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">5m</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">quit</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reply to QUIT command</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">2m</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">misc</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reply to NOOP and VERB commands</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">2m</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">ident</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">IDENT protocol response</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">30s</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">fileopen</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Open on a <EMCLASS="emphasis">.forward</EM> or <EMCLASS="emphasis">:include:</EM> file</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">60s</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">command</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Command read</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">1h</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">queuereturn</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Returning a queued message as undeliverable</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">5d</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">queuewarn</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Warning that a message is still queued</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">none</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">hoststatus</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Removing stale host status</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">30m</TD></TR></TBODY></TABLE><PCLASS="para"></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">TimeZoneSpec=</B><CODECLASS="replaceable"><I>tzinfo</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Set the local time zone information to <CODECLASS="replaceable"><I>tzinfo</I></CODE>. If<BCLASS="emphasis.bold">TimeZoneSpec</B> is not set, the system default is used; if set tonull, the user's <BCLASS="emphasis.bold">TZ</B> variable is used.<ACLASS="indexterm"NAME="AUTOID-28557"></A></P></DD><DTCLASS="term"><BCLASS="emphasis.bold">TryNullMXList</B></DT><DDCLASS="listitem"><PCLASS="para">Connect directly to any remote host that lists the local system asits most preferred MX server, as if the remote host had no MX records.You are discouraged from using this option.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">UnixFromLine=</B><CODECLASS="replaceable"><I>fromline</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Defines the format for UNIX-style From: lines. This is the same as the value stored in macro l.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">UnsafeGroupWrites</B></DT><DDCLASS="listitem"><PCLASS="para">Group writable <EMCLASS="emphasis">:include:</EM> and <EMCLASS="emphasis">.forward</EM> files cannotreference programs or write directly to files. World-writable filesalways have these restrictions.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">UseErrorsTo</B></DT><DDCLASS="listitem"><PCLASS="para">Send error messages to the addresses listed in the Errors-To:header. Normally, errors are sent to the sender address form theenvelope.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">UserDatabaseSpec=</B><CODECLASS="replaceable"><I>udbspec</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The user database specification.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">UserSubmission</B></DT><DDCLASS="listitem"><PCLASS="para">Indicates that this is not relayed mail, but an initial submission directly from a Mail User Agent.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">Verbose</B></DT><DDCLASS="listitem"><PCLASS="para">Run in verbose mode.</P></DD></DL><PCLASS="para">Older versions of sendmail use a different option syntax:</P><DLCLASS="variablelist"><DTCLASS="term"></DT><DDCLASS="listitem"><PCLASS="para"><BCLASS="emphasis.bold">o</B><CODECLASS="replaceable"><I>xvalue</I></CODE></P></DD></DL><PCLASS="para">In this syntax <BCLASS="emphasis.bold">o</B> is the command, <CODECLASS="replaceable"><I>x</I></CODE> is a single characteroption name, and <CODECLASS="replaceable"><I>value</I></CODE> is the value passed to sendmail toset the option. Some options are Booleans that require no input value.<ACLASS="xref"HREF="appe_04.htm#TCP2-AP-5-TAB-8"TITLE="Old-Style sendmail Options">Table 13.12</A>lists all of the old-style options.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="TCP2-AP-5-TAB-8">Table E.9: Old-Style sendmail Options</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Name</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Function</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">A</B><CODECLASS="replaceable"><I>file</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Define the name of the alias file.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">a</B><CODECLASS="replaceable"><I>N</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Wait <CODECLASS="replaceable"><I>N</I></CODE> minutes for @:@; then rebuild the alias file.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">B</B><CODECLASS="replaceable"><I>c</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Define the blank substitution character.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">c</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Queue mail for expensive mailers.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">D</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Rebuild the alias database.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">db</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Deliver in background mode.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">di</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Deliver interactively.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">dq</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Deliver during the next queue run.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">ee</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Mail error messages and always return 0 exit status.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">em</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Mail back error messages.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">ep</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Print error messages.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">eq</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Just return exit status, not error messages.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">ew</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Write back error messages.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">F</B><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Set permissions for temporary files to <CODECLASS="replaceable"><I>n</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">f</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Retain UNIX-style From: lines.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">g</B><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Set the default group ID for mailers to <CODECLASS="replaceable"><I>n</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">H</B><CODECLASS="replaceable"><I>file</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Define the name of the SMTP help file.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">I</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Use the BIND name server to resolve all hostnames.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">i</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Ignore dots in incoming messages.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">L</B><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Set the level of logging to <CODECLASS="replaceable"><I>n</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">M</B><CODECLASS="replaceable"><I>xval</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Set macro <CODECLASS="replaceable"><I>x</I></CODE> to <CODECLASS="replaceable"><I>val</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">m</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Send to me, too.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">N</B><CODECLASS="replaceable"><I>net</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Define the name of the home network.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">o</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Accept old format headers.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">Q</B><CODECLASS="replaceable"><I>dir</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Define the name of the queue directory.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">q</B><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Define a factor <CODECLASS="replaceable"><I>n</I></CODE> used to decide when to queue jobs.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">r</B><CODECLASS="replaceable"><I>t</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Set interval <CODECLASS="replaceable"><I>t</I></CODE> for read timeout.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">S</B><CODECLASS="replaceable"><I>file</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Define the name of the statistics log file.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">s</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Always create the queue file before attempting delivery.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">T</B><CODECLASS="replaceable"><I>t</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Set the queue timeout to <CODECLASS="replaceable"><I>t</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">u</B><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Set the default user ID for mailers to <CODECLASS="replaceable"><I>n</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">v</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Run in verbose mode.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">W</B><CODECLASS="replaceable"><I>pass</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Define password used for remote debugging.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">X</B><CODECLASS="replaceable"><I>l</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Refuse SMTP connections if load average exceeds <CODECLASS="replaceable"><I>l</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">x</B><CODECLASS="replaceable"><I>l</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Queue messages if load average exceeds <CODECLASS="replaceable"><I>l</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">Y</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Deliver each queued job in a separate process.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">y</B><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Lower priority of jobs by <CODECLASS="replaceable"><I>n</I></CODE> for each recipient.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">Z</B><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Decrease a job's priority by <CODECLASS="replaceable"><I>n</I></CODE> each time it is run.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">z</B><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Factor used with precedence to determine message priority.</TD></TR></TBODY></TABLE><PCLASS="para">See <ACLASS="xref"HREF="ch10_01.htm"TITLE="sendmail ">Chapter 10</A> for examples of setting options with both styles of syntax.<ACLASS="indexterm"NAME="AUTOID-28811"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-5-SECT-4.3">E.4.3 sendmail Mailer Flags</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-5-IX-SENDMAIL-MAILER-FLAGS-LISTED"></A>Mailer flags are declared in the F field of the mailer definition.Each mailer flag is set by a single character that represents that flag.For example: <BCLASS="emphasis.bold">F=lsDFMe</B> sets six different flags. <ACLASS="xref"HREF="appe_04.htm#TCP2-AP-5-TAB-9"TITLE="sendmail Mailer Flags">Table 13.13</A>lists thesingle character name and function of each flag.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="TCP2-AP-5-TAB-9">Table E.10: sendmail Mailer Flags</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Name</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Function</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">C</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Add <CODECLASS="replaceable"><I>@domain</I></CODE> to addresses that do not have an @.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">D</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer wants a Date: header line.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">E</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Add &gt; to message lines that begin with From:.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">e</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">This an expensive mailer. See sendmail option c.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">F</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer wants a From: header line.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">f</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer accepts a -f flag from trusted users.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">h</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Preserve uppercase in hostnames.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">I</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer will be speaking SMTP to another sendmail.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">L</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Limit the line lengths as specified in RFC821.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">l</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">This is a local mailer.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">M</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer wants a Message-Id: header line.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">m</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer can send to multiple users in one transaction.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">n</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Don't insert a UNIX-style From: line in the message.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">P</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer wants a Return-Path: line.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">R</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Use the MAIL FROM: return-path rather than the return address.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">r</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer accepts a -r flag from trusted users.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">S</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Don't reset the userid before calling the mailer.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">s</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Strip quotes off of the address before calling the mailer.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">U</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer wants UNIX-style From: lines.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">u</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Preserve uppercase in usernames.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">X</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Prepend a dot to lines beginning with a dot.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">x</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">The mailer wants a Full-Name: header line.</TD></TR></TBODY></TABLE><PCLASS="para">See <ACLASS="xref"HREF="ch10_01.htm"TITLE="sendmail ">Chapter 10</A> for examples of mailer flag declaration within mailerdefinitions.<ACLASS="indexterm"NAME="AUTOID-28897"></A></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-AP-5-SECT-4.4">E.4.4 The sendmail K Command</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-AP-5-IX-K-COMMANDS"></A>The sendmail K command is used to define a database within the<EMCLASS="emphasis">sendmail.cf</EM> file. The K command syntax is:</P><BLOCKQUOTECLASS="blockquote"><PCLASS="para"><BCLASS="emphasis.bold">K</B><CODECLASS="replaceable"><I>name type </I></CODE>[<CODECLASS="replaceable"><I>arguments</I></CODE>]</P></BLOCKQUOTE><PCLASS="para"><ACLASS="xref"HREF="ch10_01.htm"TITLE="sendmail ">Chapter 10</A> provides examples of defining and using a sendmail database,and it describes the K command syntax. This appendix lists the valid<CODECLASS="replaceable"><I>type</I></CODE> values and <CODECLASS="replaceable"><I>arguments</I></CODE> that can be used with a K command.</P><PCLASS="para">The type field of the K command identifies what kind of databaseis being defined. There are several internal database types that arespecific to sendmail and several external types that rely on externaldatabase libraries. Support for the external database types must becompiled into sendmail by explicitly specifying the supported databasetypes in the DBMDEF variable<ACLASS="indexterm"NAME="AUTOID-28914"></A>in the Makefile used to build sendmail. Seethe example of compiling sendmail earlier in this appendix.</P><PCLASS="para">The possible values for type are:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">dbm</B></DT><DDCLASS="listitem"><PCLASS="para">The &quot;new dbm&quot; database format. It is accessed using the ndbm(3) library.Only supported if sendmail is compiled with NDBM defined.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">btree</B></DT><DDCLASS="listitem"><PCLASS="para">The btree database format. It is accessed using the Berkeley db(3)library. Only supported if sendmail is compiled with NEWDB defined.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">hash</B></DT><DDCLASS="listitem"><PCLASS="para">The hash database format. It is accessed using the Berkeley db(3)library. Only supported if sendmail is compiled with NEWDBdefined.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">nis</B></DT><DDCLASS="listitem"><PCLASS="para">NIS server lookups. sendmail must be compiled with NIS defined tosupport this.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">nisplus</B></DT><DDCLASS="listitem"><PCLASS="para">NIS+ server lookups. sendmail must be compiled with NISPLUS defined tosupport this.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">hesiod</B></DT><DDCLASS="listitem"><PCLASS="para">MIT hesiod server lookups. Support requires that sendmail is compiledwith HESIOD defined.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">ldapx</B></DT><DDCLASS="listitem"><PCLASS="para">X500 directory searches using LDAP. sendmail must be compiled withLDAPMAP defined to support this. sendmail supports  most of the standardcommand line  arguments of the ldapsearch program.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">netinfo</B></DT><DDCLASS="listitem"><PCLASS="para">NeXT NetInfo lookups. Only supported if sendmail is compiled withNETINFO defined.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">text</B></DT><DDCLASS="listitem"><PCLASS="para">Text file lookups. Requires no external database libraries or compileoptions. The format of the text database is defined with the key field,value field, and field delimiter flags. See the next section for adescription of the K command flags.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">stab</B></DT><DDCLASS="listitem"><PCLASS="para">An internal symbol table database.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">implicit</B></DT><DDCLASS="listitem"><PCLASS="para">The default internal sendmail format used for an alias file, if no typeis defined for the file.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">user</B></DT><DDCLASS="listitem"><PCLASS="para">A special sendmail type used to verify the existence of a user by usinggetpwnam(3).</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">host</B></DT><DDCLASS="listitem"><PCLASS="para">A special sendmail type used to convert nicknames and IP addresses tocanonical names via the domain name server. This is an alternative formof the <BCLASS="emphasis.bold">$[</B><CODECLASS="replaceable"><I>name</I></CODE><BCLASS="emphasis.bold">]$</B> syntax.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">sequence</B></DT><DDCLASS="listitem"><PCLASS="para">A special sendmail type used to define the order in which previouslydefined databases are searched. For example, assume that three databases(file1, file2, and file3) are defined by K commands. It is possible to adda fourth K command, <BCLASS="emphasis.bold">Kallfiles sequence file3 file1 file2</B>, that&quot;combines&quot; them together as <EMCLASS="emphasis">allfiles</EM> and specifies that file3 issearched first, file1 second, and file2 third.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">switch</B></DT><DDCLASS="listitem"><PCLASS="para">A special sendmail type that uses the service switch file to set theorder in which database files are searched. The <CODECLASS="replaceable"><I>argument</I></CODE> on a Kcommand with a <CODECLASS="replaceable"><I>type</I></CODE> of &quot;switch&quot; must be the name of a service inthe service switch file. The values associated with the service name inthe service switch file are used to create the names of databases thatare searched in the order in which they are defined. For example: thecommand <BCLASS="emphasis.bold">Kali switch aliases</B> looks up the service switch entryfor <CODECLASS="literal">aliases</CODE>. If it contains the values <CODECLASS="literal">nis files</CODE>,sendmail searches databases named <EMCLASS="emphasis">ali.nis</EM> and<EMCLASS="emphasis">ali.files</EM> in that order.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">dequote</B></DT><DDCLASS="listitem"><PCLASS="para">A special sendmail type used to strip unwanted double quotes (<CODECLASS="literal">&quot;</CODE>) fromemail addresses.</P></DD></DL><PCLASS="para">The argument that follows most database types is a filename. Thefilename identifies the external file that contains the database. Onlythe basic filename is provided. sendmail adds an extension appropriatefor the database type. For example: <CODECLASS="literal">Krealname dbm /usr/etc/names</CODE> becomes <EMCLASS="emphasis">/usr/etc/names.db</EM> because <EMCLASS="emphasis">.db</EM> is the correctextension for dbm databases.</P><PCLASS="para">In addition to a filename, the arguments field can contain optional flags:</P><DLCLASS="variablelist"><DTCLASS="term"><BCLASS="emphasis.bold">-o</B></DT><DDCLASS="listitem"><PCLASS="para">This is an optional database. sendmail proceeds without error if thefile is not found.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-N</B></DT><DDCLASS="listitem"><PCLASS="para">Valid database keys are terminated with a NULL character.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-O</B></DT><DDCLASS="listitem"><PCLASS="para">Valid database keys are never terminated with a NULL character.Never specify both -N and -O, which indicates that no keys are valid!It is safest to avoid both -N and -O and let sendmail determine thecorrect key structure unless you are positive about the correct flag.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-a</B><CODECLASS="replaceable"><I>x</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Append the string <CODECLASS="replaceable"><I>x</I></CODE> to the value return by a successful match.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-f</B></DT><DDCLASS="listitem"><PCLASS="para">Do not convert uppercase to lowercase before attempting to matchthe key.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-m</B></DT><DDCLASS="listitem"><PCLASS="para">Check that the key exists in the database, but do not replace the keywith the value returned by the database.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-k</B><CODECLASS="replaceable"><I>keycol</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The location of the key within a database entry. For most databasesthe key is the first field and this flag is not needed. For text filelookups this flag is required and <CODECLASS="replaceable"><I>keycol</I></CODE> is the column number inwhich the key begins.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-v</B><CODECLASS="replaceable"><I>valcol</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The location of the value within a database entry. For most databases,the value follows the key and the <BCLASS="emphasis.bold">-v</B> flag is not used. For textfile lookups, this flag is required and specifies the column in whichthe value field begins.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-z</B><CODECLASS="replaceable"><I>delim</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">The character that delimits fields within the database. By default,it is whitespace.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-t</B></DT><DDCLASS="listitem"><PCLASS="para">Allow database lookups that depend on remote servers to fail instead ofqueuing the mail for later processing. This is primarily used whenyou have DNS server problems. Normally when a remote server fails torespond the mail is put in the queue for later delivery. Setting thisflag causes the mail to be immediately returned to the sender asundeliverable.</P></DD><DTCLASS="term"><BCLASS="emphasis.bold">-s</B><CODECLASS="replaceable"><I>spacesub</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Use <CODECLASS="replaceable"><I>spacesub</I></CODE> to replace space characters after processing anaddress against the dequote database.</P></DD></DL><PCLASS="para">The full lists of database types and flag provided in this appendix willhelp you understand the K commands inserted into the <EMCLASS="emphasis">sendmail.cf</EM>file by the <BCLASS="emphasis.bold">m4</B> processor. Your own K commands will be muchsimpler. You will stick with a database type that is supported by your<BCLASS="emphasis.bold">sendmail</B> and <BCLASS="emphasis.bold">makemap</B> commands,<ACLASS="indexterm"NAME="AUTOID-29086"></A>and you will build simpledatabases designed to fulfill specific purposes. <ACLASS="xref"HREF="ch10_01.htm"TITLE="sendmail ">Chapter 10</A> providesexamples of such databases, and the next section contains some simplescripts used to build those example databases.</P><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="TCP2-AP-5-SECT-4.4.1">E.4.4.1 Sample script</A></H4><PCLASS="para">In <ACLASS="xref"HREF="ch10_01.htm"TITLE="sendmail ">Chapter 10</A>, the <EMCLASS="emphasis">realnames</EM> database is used to rewrite loginusernames to the &quot;firstname dot lastname&quot; format for outbound email.The script shown below builds the <EMCLASS="emphasis">realnames</EM> database from the<EMCLASS="emphasis">/etc/passwd</EM> file.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">#! /bin/sh## Eliminate &quot;non-login&quot; accountsgrep -v ':*:' /etc/passwd | \# Eliminate &quot;exposed&quot; usernames, i.e. usernames defined#  in class E as names that should not be re-writtengrep -v 'root:' | \# Replace delimiting colons with whitespacesed 's/:/ /g' | \# Output the username followed by firstname.lastnameawk '{ print $1, $5&quot;.&quot;$6 }' &gt; realnames# Build the realnames databasemakemap dbm realnames &lt; realnames</PRE></BLOCKQUOTE></P><PCLASS="para">Building <EMCLASS="emphasis">realnames</EM> from the <EMCLASS="emphasis">passwd</EM> file is completelydependent on the format of that file. The <EMCLASS="emphasis">passwd</EM> file <EMCLASS="emphasis">must</EM> havea consistent format for the GECOS field and a consistent way to identifya &quot;non-user&quot; account. A &quot;non-user&quot; account is not accessed by a user tolog in or to collect email. It is normally a system account used bysystem or application software. A classic example is the <EMCLASS="emphasis">uucp</EM>account. Every system has some way to mark that these accounts are notused for user logins. Some systems use an asterisk in the passwordfield, while others use an exclamation mark, the letters NP,an x, or something else. The sample scriptassumes that an asterisk is used, which is the case on my Linuxsystem. (My Solaris systems uses an x.) Print out your <EMCLASS="emphasis">passwd</EM>file to find out what it uses and modify the script accordingly.</P><PCLASS="para">The sample script also assumes that the first two values in the GECOSfield are the user's first and last name separated by a blank. Ifthe beginning of the GECOS field is in any other format, the scriptproduces garabage. The procedure you use to add new users to yoursystem should produce a consistent GECOS field. Inconsistency is theenemy of automation. The sample below shows a file that hasinconsistencies and the bad data it produces:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <BCLASS="emphasis.bold">cat /etc/passwd</B>root:oRd1L/vMzzxno:0:1:System Administrator:/:/bin/cshnobody:*:65534:65534::/:daemon:*:1:1::/:sys:*:2:2::/:/bin/cshbin:*:3:3::/bin:uucp:*:4:8::/var/spool/uucppublic:news:*:6:6::/var/spool/news:/bin/cshingres:*:7:7::/usr/ingres:/bin/cshaudit:*:9:9::/etc/security/audit:/bin/cshcraig:1LrpKlz8sYjw:198:102:Craig Hunt:/home/craig:/bin/cshdan:RSU.NYlKuFqzh2:214:885:Dan Scribner:/home/dan:/bin/cshbecca:monfTHdnjj:101:102:&quot;Becky_Hunt&quot;:/home/becca:/bin/cshdave:lniuhugfds:121:885:David H. Craig:/home/dave:/bin/cshkathy:TUVigddehh:101:802:Kathleen S McCafferty:/home/kathy:/bin/csh% <BCLASS="emphasis.bold">build.realnames</B>% <CODECLASS="userinput"><B>cat realnames</B></CODE>craig Craig.Huntdan Dan.Scribnerbecca &quot;Becky_Hunt&quot;./home/becca dave David.H. kathy Kathleen.S</PRE></BLOCKQUOTE></P><PCLASS="para">Your <EMCLASS="emphasis">passwd</EM> file may have grown over time under the control ofseveral different system administrators. It may be full ofinconsistencies. If it is, clean it up before you run the script tobuild email aliases, and then maintain it consistently.<ACLASS="indexterm"NAME="AUTOID-29113"></A><ACLASS="indexterm"NAME="AUTOID-29114"></A></P></DIV></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appe_03.htm"TITLE="E.3 m4 sendmail Macros"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: E.3 m4 sendmail Macros"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appe_05.htm"TITLE="E.5 Sample Configurations"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: E.5 Sample Configurations"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">E.3 m4 sendmail Macros</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">E.5 Sample Configurations</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>