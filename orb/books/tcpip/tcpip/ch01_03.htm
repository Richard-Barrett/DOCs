<HTML><HEAD><TITLE>[Chapter 1] 1.3 TCP/IP Protocol Architecture</TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:30:53Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch01_01.htm"TITLE="1. Overview of TCP/IP"><LINKREL="prev"HREF="ch01_02.htm"TITLE="1.2 A Data Communications Model"><LINKREL="next"HREF="ch01_04.htm"TITLE="1.4 Network Access Layer"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_02.htm"TITLE="1.2 A Data Communications Model"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.2 A Data Communications Model"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 1<BR>Overview of TCP/IP</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_04.htm"TITLE="1.4 Network Access Layer"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 1.4 Network Access Layer"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-CH-1-SECT-3">1.3 TCP/IP Protocol Architecture</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-464"></A><ACLASS="indexterm"NAME="TCP2-CH-1-IX-LAYERS"></A>While there is no universal agreement about how to describe TCP/IP witha layered model, it is generally viewed as being composed of fewerlayers than the seven used in the OSI model. Most descriptions ofTCP/IP define three to five functional levels in the protocolarchitecture. The four-level model illustrated in <ACLASS="xref"HREF="ch01_03.htm#TCP2-CH-1-FIG-1"TITLE="Layers in the TCP/IP protocol architecture">Figure 1.2</A>is basedon the three layers (Application, Host-to-Host, andNetwork Access) shown in the DOD Protocol Model in the<EMCLASS="emphasis">DDN Protocol Handbook&nbsp;- Volume 1</EM>,<ACLASS="indexterm"NAME="AUTOID-471"></A>with the addition of a separateInternet layer. This model provides a reasonable pictorialrepresentation of the layers in the TCP/IP protocol hierarchy.</P><H4CLASS="figure"><ACLASS="title"NAME="TCP2-CH-1-FIG-1">Figure 1.2: Layers in the TCP/IP protocol architecture</A></H4><IMGCLASS="graphic"SRC="figs/tcp2_0102.gif"ALT="Figure 1.2"><PCLASS="para">As in the OSI model, data is passed down the stack when it is beingsent to the network, and up the stack when it is being received from thenetwork. The four-layered structure of TCP/IP is seen in the way datais handled as it passes down the protocol stack from the ApplicationLayer to the underlying physical network. Each layer in the stack adds<ACLASS="indexterm"NAME="AUTOID-477"></A>control information to ensure proper delivery. Thiscontrol information is called a <EMCLASS="emphasis">header</EM><ACLASS="indexterm"NAME="AUTOID-481"></A>because it is placed infront of the data to be transmitted. Each layer treats all of theinformation it receives from the layer above as data and places its ownheader in front of that information. The addition of deliveryinformation at every layer is called <EMCLASS="emphasis">encapsulation</EM>.<ACLASS="indexterm"NAME="AUTOID-484"></A>(See<ACLASS="xref"HREF="ch01_03.htm#TCP2-CH-1-FIG-2"TITLE="Data encapsulation">Figure 1.3</A>for an illustration of this.) When data isreceived, the opposite happens. Each layer strips off its header beforepassing the data on to the layer above. As information flows back upthe stack, information received from a lower layer is interpreted asboth a header and data.</P><H4CLASS="figure"><ACLASS="title"NAME="TCP2-CH-1-FIG-2">Figure 1.3: Data encapsulation</A></H4><IMGCLASS="graphic"SRC="figs/tcp2_0103.gif"ALT="Figure 1.3"><PCLASS="para">Each layer has its own independent data structures. Conceptually, alayer is unaware of the data structures used by the layers above andbelow it. In reality, the data structures of a layer are designed tobe compatible with the structures used by the surrounding layers forthe sake of more efficient data transmission. Still, each layer hasits own data structure and its own terminology to describe thatstructure.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-492"></A><ACLASS="indexterm"NAME="AUTOID-494"></A><ACLASS="xref"HREF="ch01_03.htm#TCP2-CH-1-FIG-3"TITLE="Data structures">Figure 1.4</A>shows the terms used by different layers of TCP/IP to referto the data being transmitted. Applications using TCP refer to data as<ACLASS="indexterm"NAME="AUTOID-497"></A>a <EMCLASS="emphasis">stream</EM>, while applications using the User Datagram Protocol (UDP)<ACLASS="indexterm"NAME="AUTOID-500"></A>refer to data as a<ACLASS="indexterm"NAME="AUTOID-502"></A><EMCLASS="emphasis">message</EM>. TCP calls data a<ACLASS="indexterm"NAME="AUTOID-505"></A><EMCLASS="emphasis">segment</EM>, and UDP calls its data structure a <EMCLASS="emphasis">packet</EM>. TheInternet layer views all data as blocks called <EMCLASS="emphasis">datagrams</EM>.<ACLASS="indexterm"NAME="AUTOID-510"></A>TCP/IP uses many different types of underlying networks, each of which mayhave a different terminology for the data it transmits. Most networksrefer to transmitted data as <EMCLASS="emphasis">packets</EM><ACLASS="indexterm"NAME="AUTOID-513"></A>or <EMCLASS="emphasis">frames</EM>.<ACLASS="indexterm"NAME="AUTOID-516"></A>In<ACLASS="xref"HREF="ch01_03.htm#TCP2-CH-1-FIG-3"TITLE="Data structures">Figure 1.4</A>we show a network that transmits pieces of data it calls<EMCLASS="emphasis">frames</EM>.</P><H4CLASS="figure"><ACLASS="title"NAME="TCP2-CH-1-FIG-3">Figure 1.4: Data structures</A></H4><IMGCLASS="graphic"SRC="figs/tcp2_0104.gif"ALT="Figure 1.4"><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-CH-1-IX-NETWORK-ACCESS-LAYER"></A>Let's look more closely at the function of each layer, working our wayup from the Network Access Layer to the Application Layer.</P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_02.htm"TITLE="1.2 A Data Communications Model"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.2 A Data Communications Model"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_04.htm"TITLE="1.4 Network Access Layer"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 1.4 Network Access Layer"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">1.2 A Data Communications Model</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">1.4 Network Access Layer</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>