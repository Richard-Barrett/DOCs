<HTML><HEAD><TITLE>[Chapter 2] Delivering the Data</TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:31:06Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="index.htm"TITLE="TCP/IP Network Administration"><LINKREL="prev"HREF="ch01_08.htm"TITLE="1.8 Summary"><LINKREL="next"HREF="ch02_02.htm"TITLE="2.2 The IP Address"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_08.htm"TITLE="1.8 Summary"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.8 Summary"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 2</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_02.htm"TITLE="2.2 The IP Address"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.2 The IP Address"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="TCP2-CH-2">2. Delivering the Data</A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="SECT1"HREF="#TCP2-CH-2-SECT-1"TITLE="2.1 Addressing, Routing, and Multiplexing">Addressing, Routing, and Multiplexing</A><BR><ACLASS="SECT1"HREF="ch02_02.htm"TITLE="2.2 The IP Address">The IP Address</A><BR><ACLASS="SECT1"HREF="ch02_03.htm"TITLE="2.3 Subnets">Subnets</A><BR><ACLASS="SECT1"HREF="ch02_04.htm"TITLE="2.4 Internet Routing Architecture">Internet Routing Architecture</A><BR><ACLASS="SECT1"HREF="ch02_05.htm"TITLE="2.5 The Routing Table">The Routing Table</A><BR><ACLASS="SECT1"HREF="ch02_06.htm"TITLE="2.6 Address Resolution">Address Resolution</A><BR><ACLASS="SECT1"HREF="ch02_07.htm"TITLE="2.7 Protocols, Ports, and Sockets">Protocols, Ports, and Sockets</A><BR><ACLASS="SECT1"HREF="ch02_08.htm"TITLE="2.8 Summary">Summary</A></P><P></P></DIV><PCLASS="para">In <ACLASS="xref"HREF="ch01_01.htm"TITLE="Overview of TCP/IP">Chapter 1, <CITECLASS="chapter">Overview of TCP/IP</CITE></A>, we touched on the basic architecture and design ofthe TCP/IP protocols. From that discussion, we know that TCP/IP is ahierarchy of four layers. In this chapter, we explore in finer detailhow data moves between the protocol layers and the systems on thenetwork. We examine the structure of Internet addresses, including howaddresses route data to its final destination, and how addressingrules are locally redefined to create subnets. We also look at theprotocol and port numbers used to deliver data to the correctapplications. These additional details move us from an overview ofTCP/IP to the specific implementation details that affect yoursystem's configuration.</P><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-CH-2-SECT-1">2.1 Addressing, Routing, and Multiplexing</A></H2><PCLASS="para">To deliver data between two Internet hosts, it is necessary to movethe data across the network to the correct host, and within that hostto the correct user or process. TCP/IP uses three schemes toaccomplish these tasks:</P><DLCLASS="variablelist"><DTCLASS="term"><EMCLASS="emphasis">Addressing</EM></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-1482"></A>IP addresses, which uniquely identify every host on the network,deliver data to the correct host.</P></DD><DTCLASS="term"><EMCLASS="emphasis">Routing</EM></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-1489"></A>Gateways deliver data to the correct network.</P></DD><DTCLASS="term"><EMCLASS="emphasis">Multiplexing</EM></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-1496"></A>Protocol and port numbers deliver data to the correct software modulewithin the host.</P></DD></DL><PCLASS="para">Each of these functions&nbsp;- addressing between hosts, routing betweennetworks, and multiplexing between layers&nbsp;- is necessary to send databetween two cooperating applications across the Internet. Let'sexamine each of these functions in detail.</P><PCLASS="para">To illustrate these concepts and provide consistent examples, we usean imaginary corporate network. Our imaginary company sells packagednuts to the Army. Our company network is made up of several networksat our packing plant and sales office, as well as a connection to theInternet. We are responsible for managing the Ethernet in thecomputing center. This network's structure, or <EMCLASS="emphasis">topology</EM>, isshown in<ACLASS="xref"HREF="ch02_01.htm#TCP2-CH-2-FIG-0"TITLE="Sample network">Figure 2.1</A></P><H4CLASS="figure"><ACLASS="title"NAME="TCP2-CH-2-FIG-0">Figure 2.1: Sample network</A></H4><IMGCLASS="graphic"SRC="figs/tcp2_0201.gif"ALT="Figure 2.1"><PCLASS="para">The icons in the figure represent computer systems. There are, ofcourse, several other imaginary systems on our imaginary network.You'll just have to use your imagination! But we'll use the hosts<EMCLASS="emphasis">peanut</EM> (a workstation) and <EMCLASS="emphasis">almond</EM> (a system that serves asa gateway) for most of our examples. The thick line is our computercenter Ethernet and the circle is the local network that connects ourvarious corporate networks. The cloud is the Internet. What thenumbers are, how they're used, and how datagrams are delivered are thetopics of this chapter.</P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_08.htm"TITLE="1.8 Summary"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.8 Summary"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_02.htm"TITLE="2.2 The IP Address"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.2 The IP Address"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">1.8 Summary</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">2.2 The IP Address</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>