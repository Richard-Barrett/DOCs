<HTML><HEAD><TITLE>[Chapter 2] 2.3 Subnets</TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:31:13Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch02_01.htm"TITLE="2. Delivering the Data"><LINKREL="prev"HREF="ch02_02.htm"TITLE="2.2 The IP Address"><LINKREL="next"HREF="ch02_04.htm"TITLE="2.4 Internet Routing Architecture"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_02.htm"TITLE="2.2 The IP Address"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.2 The IP Address"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 2<BR>Delivering the Data</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_04.htm"TITLE="2.4 Internet Routing Architecture"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.4 Internet Routing Architecture"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-CH-2-SECT-3">2.3 Subnets</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-CH-2-IX-SUBNETS"></A>The structure of an IP address can be locally modified by using hostaddress bits as additional network address bits. Essentially, the&quot;dividing line&quot; between network address bits and host address bits ismoved, creating additional networks, but reducing the maximum number ofhosts that can belong to each network. These newly designated networkbits define a network within the larger network, called a <EMCLASS="emphasis">subnet</EM>.</P><PCLASS="para">Organizations usually decide to subnet in order to overcome topologicalor organizational problems. Subnetting allows decentralized management<ACLASS="indexterm"NAME="AUTOID-1717"></A><ACLASS="indexterm"NAME="AUTOID-1719"></A>of host addressing. With the standard addressing scheme, a centraladministrator is responsible for managing host addresses for the entirenetwork. By subnetting, the administrator can delegate address assignmentto smaller organizations within the overall organization&nbsp;- which may bea political expedient, if not a technical requirement. If you don'twant to deal with the data processing department, assign them their ownsubnet and let them manage it themselves.</P><PCLASS="para">Subnetting can also be used to overcome hardware differences anddistance limitations. IP routers can link dissimilar physical networks<ACLASS="indexterm"NAME="AUTOID-1724"></A>together, but only if each physical network has its own unique networkaddress. Subnetting divides a single network addressinto many unique subnet addresses, so that each physical network canhave its own unique address.</P><PCLASS="para">A subnet is defined by changing the bit mask of the IP address.A <EMCLASS="emphasis">subnet mask</EM> <ACLASS="indexterm"NAME="AUTOID-1729"></A><ACLASS="indexterm"NAME="AUTOID-1732"></A>functions in the same way as a normal address mask:an &quot;on&quot; bit is interpreted as a network bit; an &quot;off&quot; bit belongs to thehost part of the address. The difference is that a subnet mask is onlyused locally. In the outside world the address is still interpreted asa standard IP address.</P><PCLASS="para">Assume we have been assigned network address 172.16.0.0/16. The subnetmask associated with that address is 255.255.0.0. The most commonlyused subnet mask, and the one we use in most of our examples, extends thenetwork portion of the address by an additional byte, e.g., 172.16.0.0/24.The subnet mask that does this is 255.255.255.0; all bits on in thefirst three bytes, and all bits off in the last byte. The first two bytesdefine the original network; the third byte defines the the subnet address;the fourth byte defines the host on that subnet.</P><PCLASS="para">Many network administrators prefer byte-oriented masks<ACLASS="indexterm"NAME="AUTOID-1736"></A>because they are easy to read and understand when addresses arewritten in dotted decimal notation.<ACLASS="indexterm"NAME="AUTOID-1738"></A><ACLASS="indexterm"NAME="AUTOID-1740"></A>However, limiting subnet masks to byte boundaries does not takeadvantage of their true power. The subnet mask is bit-oriented.  Wecould subdivide 172.16.0.0/16 into 16 subnets with the mask255.255.240.0, i.e. 172.16.0.0/20. Applying this mask defines the fourhigh-order bits of the third byte as the subnet part of the address,and the remaining 12 bits&nbsp;- four bits of the third byte and all ofthe fourth byte&nbsp;- as the host portion of the address. This creates 16subnets that each contain more than four thousand host addresses,which may well be better suited to our network and organization.  Forexample, we may have a small number of large subdivisions.<ACLASS="xref"HREF="ch02_03.htm#TCP2-CH-2-TAB-0"TITLE="Effect of a Subnet Mask">Table 2.1</A>shows thesubnets and host addresses produced by applying this subnet masks tonetwork address 172.16.0.0/16.&#13;</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="TCP2-CH-2-TAB-0">Table 2.1: Effect of a Subnet Mask</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Network Number</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">First Address</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Last Address</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.0.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.0.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.15.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.16.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.16.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.31.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.32.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.32.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.47.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.48.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.48.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.63.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.64.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.64.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.79.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.80.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.80.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.95.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.96.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.96.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.111.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.112.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.112.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.127.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.128.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.128.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.143.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.144.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.144.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.159.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.160.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.160.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.175.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.176.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.176.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.191.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.192.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.192.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.207.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.208.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.208.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.223.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.224.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.224.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.239.254</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.240.0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.240.1</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">172.16.254.254</TD></TR></TBODY></TABLE><PCLASS="para">You don't have to manually calculate a table like <ACLASS="xref"HREF="ch02_03.htm#TCP2-CH-2-TAB-0"TITLE="Effect of a Subnet Mask">Table 2.1</A>toknow what subnets and host addresses are produced by a subnet mask.The calculations have already been done for you. RFC 1878 lists allpossible subnet masks and the valid addresses they produce.</P><PCLASS="para">Organizations have been discouraged from subnetting class C addressesbecause of the fear that subnetting reduces the number of host addressesto increase the number of network addresses. A class C network is limitedto fewer than 255 host addresses. Further limiting the number of hostswould reduce the utility of a class C address. The mask 255.255.255.192divides a class C address into four subnets of 64 host addresses.The fear is that the subnet address of all 0s and the subnet addressof all 1s will not be usable. This leaves only two subnets; and becausehost addresses of all 1s and all 0s are also unusable, the remainingtwo subnets can only address 62 hosts. Therefore the address space of thisclass C network number is reduced from 254 hosts to 124 hosts. The fearof subnetting class C addresses is no longer justified.</P><PCLASS="para">Originally, the RFCs<ACLASS="indexterm"NAME="AUTOID-1820"></A>implied that you should not used subnet numbersof all 0s or all 1s. However, RFC 1812, <EMCLASS="emphasis">Requirements forIP Version 4 Routers</EM>, makes it clear that subnets of all 0s andall 1s are legal and should be supported by all routers. Some olderrouters do not allow the use of these addresses despite the newer RFCs.Updating router software or hardware should make it possible for you toreliably subnet class C addresses.</P><PCLASS="para">Class C subnets are used when very small networks are needed forspecialized network equipment, such as terminal servers, clustercontrollers or routers. In some configurations an entire subnet may beconsumed for the link between two routers. In this case only two hostaddresses are need, one for the router at each end of the link. Asubnet mask of 255.255.255.252 applied to a class C address creates 64subnets each containing four host addresses. In a special case thismight be just what is needed.<ACLASS="indexterm"NAME="AUTOID-1824"></A></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_02.htm"TITLE="2.2 The IP Address"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.2 The IP Address"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_04.htm"TITLE="2.4 Internet Routing Architecture"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.4 Internet Routing Architecture"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">2.2 The IP Address</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">2.4 Internet Routing Architecture</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>