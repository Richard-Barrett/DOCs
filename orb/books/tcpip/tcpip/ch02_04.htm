<HTML><HEAD><TITLE>[Chapter 2] 2.4 Internet Routing Architecture</TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:31:15Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch02_01.htm"TITLE="2. Delivering the Data"><LINKREL="prev"HREF="ch02_03.htm"TITLE="2.3 Subnets"><LINKREL="next"HREF="ch02_05.htm"TITLE="2.5 The Routing Table"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_03.htm"TITLE="2.3 Subnets"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.3 Subnets"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 2<BR>Delivering the Data</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_05.htm"TITLE="2.5 The Routing Table"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.5 The Routing Table"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-CH-2-SECT-4">2.4 Internet Routing Architecture</A></H2><PCLASS="para"><ACLASS="xref"HREF="ch01_01.htm"TITLE="Overview of TCP/IP">Chapter 1</A><ACLASS="indexterm"NAME="TCP2-CH-2-IX-INTERNET-ROUTING-ARCHITECTURE"></A>described the evolution of the Internet architecture over theyears. Along with these architectural changes have come changes in theway that routing information is disseminated within the network.</P><PCLASS="para">In the original Internet structure, there was a hierarchy ofgateways. This hierarchy reflected the fact that the Internet wasbuilt upon the existing ARPANET.<ACLASS="indexterm"NAME="AUTOID-1833"></A>When the Internet was created, the ARPANET was the backbone of thenetwork: a central delivery medium to carry long-distancetraffic. This central system was called the <EMCLASS="emphasis">core</EM>, and thecentrally managed gateways that interconnected it were called the<EMCLASS="emphasis">core gateways</EM>.<ACLASS="indexterm"NAME="AUTOID-1837"></A></P><PCLASS="para">In that hierarchical structure, routing information about all of thenetworks in the Internet was passed into the core gateways. The coregateways processed the information, and then exchanged it amongthemselves using the <EMCLASS="emphasis">Gateway to Gateway Protocol</EM> (GGP).<ACLASS="indexterm"NAME="AUTOID-1841"></A><ACLASS="indexterm"NAME="AUTOID-1843"></A>The processed routing information was then passed back out to theexternal gateways. The core gateways maintained accurate routinginformation for the entire Internet.</P><PCLASS="para">Using the hierarchical core router model to distribute routinginformation has a major weakness: every route must be processed by thecore. This places a tremendous processing burden on the core, and asthe Internet grew larger the burden increased. In network-speak, wesay that this routing model does not &quot;scale well.&quot;<ACLASS="indexterm"NAME="AUTOID-1846"></A>For this reason, a new model emerged.</P><PCLASS="para">Even in the days of a single Internet, core groups of independentnetworks called <EMCLASS="emphasis">autonomous systems</EM> (AS)<ACLASS="indexterm"NAME="AUTOID-1850"></A>existed outside of the core. The term &quot;autonomous system&quot; has a formalmeaning in TCP/IP routing. An autonomous system is not merely anindependent network. It is a collection of networks and gateways withits own internal mechanism for collecting routing information andpassing it to other independent network systems. The routinginformation passed to the other network systems is called<EMCLASS="emphasis">reachability information</EM>.<ACLASS="indexterm"NAME="AUTOID-1853"></A>Reachability information simply says which networks can be reachedthrough that autonomous system.  The <EMCLASS="emphasis">Exterior Gateway Protocol</EM>(EGP)<ACLASS="indexterm"NAME="AUTOID-1856"></A>was the protocol used to pass reachability information betweenautonomous systems and into the core (see<ACLASS="xref"HREF="ch02_04.htm#TCP2-CH-2-FIG-2"TITLE="Gateway hierarchy">Figure 2.3</A></P><H4CLASS="figure"><ACLASS="title"NAME="TCP2-CH-2-FIG-2">Figure 2.3: Gateway hierarchy</A></H4><IMGCLASS="graphic"SRC="figs/tcp2_0203.gif"ALT="Figure 2.3"><PCLASS="para">The new routing model is based on co-equal collections of autonomoussystems, called <EMCLASS="emphasis">routing</EM> <EMCLASS="emphasis">domains</EM>.<ACLASS="indexterm"NAME="AUTOID-1865"></A>Routing domains exchangerouting information with other domains using <EMCLASS="emphasis">Border Gateway Protocol</EM>(BGP).<ACLASS="indexterm"NAME="AUTOID-1869"></A>Each routing domain processes the information it receives from otherdomains. Unlike the hierarchical model, this model does not depend ona single core system to choose the &quot;best&quot; routes. Each routing domaindoes this processing for itself; therefore, this model is moreexpandable.<ACLASS="xref"HREF="ch02_04.htm#TCP2-CH-2-FIG-3"TITLE="Routing domains">Figure 2.4</A>represents this model with three intersectingcircles. Each circle is a routing domain. The overlapping areas areborder areas, where routing information is shared. The domains shareinformation, but do not rely on any one system to provide all routinginformation.</P><H4CLASS="figure"><ACLASS="title"NAME="TCP2-CH-2-FIG-3">Figure 2.4: Routing domains</A></H4><IMGCLASS="graphic"SRC="figs/tcp2_0204.gif"ALT="Figure 2.4"><PCLASS="para">The problem with this model is: how are &quot;best&quot; routes determined in aglobal network if there is no central routing authority, like the core,that is trusted to determine the &quot;best&quot; routes? In the days of theNSFNET,<ACLASS="indexterm"NAME="AUTOID-1876"></A>the <EMCLASS="emphasis">policy routing database</EM> (PRDB)<ACLASS="indexterm"NAME="AUTOID-1879"></A>was used to determine whether the reachability information advertisedby an autonomous system was valid. But now, even the NSFNET does notplay a central role.</P><PCLASS="para">To fill this void, NSF created the <EMCLASS="emphasis">Routing Arbiter</EM> (RA)<ACLASS="indexterm"NAME="AUTOID-1884"></A>servers when it created the <EMCLASS="emphasis">Network Access Points</EM> (NAPs)<ACLASS="indexterm"NAME="AUTOID-1887"></A>that replaced the role of the NSFNET. A route arbiter is located ateach NAP. The server provides access to the <EMCLASS="emphasis">Routing ArbiterDatabase</EM> (RADB),<ACLASS="indexterm"NAME="AUTOID-1890"></A>which replaced the PRDB. Internet Service Providers can queryservers to validate the reachability information advertised by anautonomous system.</P><PCLASS="para">Many ISPs do not use the route servers. Instead they depend on formaland informal bilateral agreements.<ACLASS="indexterm"NAME="AUTOID-1893"></A>In essence, two ISPs get together and decide what reachabilityinformation each will accept from the other.  They create, in effect,local routing policies. This is a slow manual process that probablywill not be flexible enough for a rapidly growing Internet.</P><PCLASS="para">The RADB is only part of the <EMCLASS="emphasis">Internet Routing Registry</EM> (IRR).<ACLASS="indexterm"NAME="AUTOID-1897"></A><ACLASS="indexterm"NAME="AUTOID-1899"></A>As befits a distributed routing architecture, there are multipleorganizations that validate and register routinginformation. Europeans were the pioneers in this. The Reseaux IPEuropeens (RIPE) Network Control Center (NCC)<ACLASS="indexterm"NAME="AUTOID-1901"></A><ACLASS="indexterm"NAME="AUTOID-1903"></A>provides the routingregistry for European IP networks. Big network carriers, like MCI andANS, provide registries for their customers. All of the registriesshare a common format based on the RIPE-181 standard.<ACLASS="indexterm"NAME="AUTOID-1905"></A></P><PCLASS="para">Creating an effective routing architecture continues to be a majorchallenge for the Internet that will certainly evolve over time.No matter how it is derived, eventually the routing information winds upin your local gateway, where it is used by IP to make routingdecisions.<ACLASS="indexterm"NAME="AUTOID-1908"></A></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_03.htm"TITLE="2.3 Subnets"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.3 Subnets"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_05.htm"TITLE="2.5 The Routing Table"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.5 The Routing Table"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">2.3 Subnets</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">2.5 The Routing Table</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>