<HTML><HEAD><TITLE>[Chapter 3] 3.5 Configuration Servers</TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:31:52Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch03_01.htm"TITLE="3. Network Services"><LINKREL="prev"HREF="ch03_04.htm"TITLE="3.4 Mail Services"><LINKREL="next"HREF="ch03_06.htm"TITLE="3.6 Bootstrap Protocol"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_04.htm"TITLE="3.4 Mail Services"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.4 Mail Services"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 3<BR>Network Services</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_06.htm"TITLE="3.6 Bootstrap Protocol"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 3.6 Bootstrap Protocol"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-CH-3-SECT-5">3.5 Configuration Servers</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-CH-3-IX-CONFIGURATION-SERVERS"></A>The powerful features that add to the utility and flexibility of TCP/IPalso add to its complexity. TCP/IP is not as easy to configure assome other networking systems. TCP/IP requires that the configurationprovide hardware, addressing, and routing information. It is designedto be independent of any specific underlying network hardware, soconfiguration information that can be built into the hardware in somenetwork systems cannot be built-in for TCP/IP. The information must beprovided by the person responsible for the configuration. This assumesthat every system is run by people who are knowledgeable enough to providethe proper information to configure the system. Unfortunately, thisassumption does not always prove correct.</P><PCLASS="para">Configuration servers make it possible for the network administratorto control TCP/IP configuration from a central point. This relievesthe end user of some of the burden of configuration and improves thequality of the information used to configure systems.</P><PCLASS="para">TCP/IP has three protocols that simplify the task of configuration:RARP, BOOTP, and DHCP. We begin with RARP, the oldest and most basic of theseconfiguration tools.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-CH-3-SECT-5.1">3.5.1 Reverse Address Resolution Protocol</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-CH-3-IX-REVERSE-ADDRESS-RESOLUTION-PROTOCOL-RARP"></A>RARP, defined in RFC 903, is a protocol that converts a physicalnetwork address into an IP address, which is the reverse of what AddressResolution Protocol (ARP)<ACLASS="indexterm"NAME="AUTOID-3656"></A>does. A Reverse Address Resolution Protocol server maps a physicaladdress to an IP address for a client that doesn't know its own IPaddress. The client sends out a broadcast using the broadcast services<ACLASS="indexterm"NAME="AUTOID-3658"></A>of the physical network.[12]The broadcast packet contains the client's physical network address andasks if any system on the network knows what IP address is associatedwith the address. The RARP server responds with a packet that containsthe client's IP address.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[12] Like ARP, RARP is a <EMCLASS="emphasis">Network Access Layer</EM> protocol that usesphysical network services that reside below the <EMCLASS="emphasis">Internet Layer</EM>.See the discussion of TCP/IP protocol layers in <ACLASS="xref"HREF="ch01_01.htm"TITLE="Overview of TCP/IP">Chapter 1, <CITECLASS="chapter">Overview of TCP/IP</CITE></A>.</P></BLOCKQUOTE><PCLASS="para">The client knows its physical network address because it is encoded inthe Ethernet interface hardware. On most systems you can easily checkthe value with a command. For example, on a Solaris system the superuser<ACLASS="indexterm"NAME="AUTOID-3667"></A>can type:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <BCLASS="emphasis.bold">ifconfig le0</B>le0: flags=63&lt;UP,BROADCAST,NOTRAILERS,RUNNING&gt;        inet 128.66.12.1 netmask ffffff00 broadcast 128.66.12.255        ether 8:0:20:e:12:37</PRE></BLOCKQUOTE></P><PCLASS="para">The <BCLASS="emphasis.bold">ifconfig</B> command<ACLASS="indexterm"NAME="AUTOID-3674"></A>can set or display the configuration values for a networkinterface.[13]le0 is the device name of the Ethernet interface. The Ethernet address isdisplayed after the <EMCLASS="emphasis">ether</EM> label. In the example, the addressis 8:0:20:e:12:37.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[13] See <ACLASS="xref"HREF="ch06_01.htm"TITLE="Configuring the Interface ">Chapter 6, <CITECLASS="chapter">Configuring the Interface </CITE></A>, for information about the <BCLASS="emphasis.bold">ifconfig</B> command.</P></BLOCKQUOTE><PCLASS="para">The RARP server looks up the IP address that it uses in its responseto the client in the <EMCLASS="emphasis">/etc/ethers</EM> file.<ACLASS="indexterm"NAME="AUTOID-3683"></A><ACLASS="indexterm"NAME="AUTOID-3686"></A>The <EMCLASS="emphasis">/etc/ethers</EM> file contains the PC's Ethernet address followedby the PC's hostname. For example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">2:60:8c:48:84:49        hazel0:0:c0:a1:5e:10         hickory0:80:c7:aa:a8:04        acorn8:0:5a:1d:c0:7e         cashew8:0:69:4:6:31           pistachio</PRE></BLOCKQUOTE></P><PCLASS="para">To respond to a RARP request, the server must also resolve the hostname found in the <EMCLASS="emphasis">/etc/ethers</EM> file into an IP address. Domainname service or the <EMCLASS="emphasis">hosts</EM> file is used for this task. Thefollowing <EMCLASS="emphasis">hosts</EM> file entries could be used with the <EMCLASS="emphasis">ethers</EM>file shown above.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">hazel           172.16.3.10hickory         172.16.3.16acorn           172.16.3.4cashew          172.16.3.7pistachio       172.16.3.21</PRE></BLOCKQUOTE></P><PCLASS="para">Given these sample files, if the server receives an RARP requestthat contains the Ethernet address, 0:80:c7:aa:a8:04, it matches it to<EMCLASS="emphasis">acorn</EM> in the <EMCLASS="emphasis">/etc/ethers</EM> file. The server uses the name<EMCLASS="emphasis">acorn</EM> to look up the IP address. It then sends the IP address172.16.3.4 out as its ARP response.</P><PCLASS="para">RARP is a useful tool, but it provides only the IP address. There arestill several other values that need to be manually configured. BOOTP isa more flexible configuration tool that provides more values than justthe IP address and can deliver those values via the network.<ACLASS="indexterm"NAME="AUTOID-3703"></A><ACLASS="indexterm"NAME="AUTOID-3704"></A></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_04.htm"TITLE="3.4 Mail Services"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.4 Mail Services"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_06.htm"TITLE="3.6 Bootstrap Protocol"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 3.6 Bootstrap Protocol"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">3.4 Mail Services</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">3.6 Bootstrap Protocol</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>