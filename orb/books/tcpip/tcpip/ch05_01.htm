<HTML><HEAD><TITLE>[Chapter 5] Basic Configuration </TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:33:19Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="index.htm"TITLE="TCP/IP Network Administration"><LINKREL="prev"HREF="ch04_08.htm"TITLE="4.8 Summary "><LINKREL="next"HREF="ch05_02.htm"TITLE="5.2 Linux Kernel Configuration "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_08.htm"TITLE="4.8 Summary "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 4.8 Summary "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 5</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_02.htm"TITLE="5.2 Linux Kernel Configuration "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.2 Linux Kernel Configuration "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="TCP2-CH-5">5. Basic Configuration </A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="SECT1"HREF="#TCP2-CH-5-SECT-1"TITLE="5.1 Kernel Configuration ">Kernel Configuration </A><BR><ACLASS="SECT1"HREF="ch05_02.htm"TITLE="5.2 Linux Kernel Configuration ">Linux Kernel Configuration </A><BR><ACLASS="SECT1"HREF="ch05_03.htm"TITLE="5.3 The BSD Kernel Configuration File ">The BSD Kernel Configuration File </A><BR><ACLASS="SECT1"HREF="ch05_04.htm"TITLE="5.4 The Internet Daemon ">The Internet Daemon </A><BR><ACLASS="SECT1"HREF="ch05_05.htm"TITLE="5.5 Summary ">Summary </A></P><P></P></DIV><PCLASS="para"></P><PCLASS="para">Every UNIX computer that runs TCP/IP has a technique for incorporatingthe basic transport and IP datagram services into its operating system.This chapter discusses two files that are fundamental to the basic configurationof TCP/IP on UNIX systems: the <EMCLASS="emphasis">kernel configuration</EM> file and the<EMCLASS="emphasis">inetd.conf</EM> file. Because these files are so basic to network configuration, they usually come from the manufacturer preconfigured to run TCP/IP.</P><PCLASS="para">We'll examine the contents of these files and the rolethey play in linking TCP/IP and UNIX. With this information, you shouldbe able to modify these files for your own custom configurations.</P><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-CH-5-SECT-1">5.1 Kernel Configuration </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-CH-5-IX-KERNEL-CONFIGURATION-FILE"></A>Kernel configuration is not really a network administration<ACLASS="indexterm"NAME="AUTOID-4919"></A>task&nbsp;- rather,it is a basic part of UNIX system administration,<ACLASS="indexterm"NAME="AUTOID-4921"></A>whether or not the computer is connected to a network. But TCP/IPnetworking, like other system functions, is integrated into the kernel.</P><PCLASS="para">There are two very different approaches to kernel configuration. Somesystems are designed to eliminate the need to configure the kernelyourself, while others encourage you to do your own kernelconfiguration.<ACLASS="indexterm"NAME="AUTOID-4924"></A>Solaris 2.5.1 is an example of the former. The systemcomes with a generic kernel that supports all basic system services.When a Solaris system boots, it detects any new hardware added to thesystem. Dynamically loadable modules are used to add new features tothe system. The configuration is defined in the <EMCLASS="emphasis">/etc/system</EM> file,<ACLASS="indexterm"NAME="AUTOID-4927"></A><ACLASS="indexterm"NAME="AUTOID-4930"></A>but this file is not directly edited by the system administrator. When anew software package is added to the system, the script that installsthat package makes any changes it requires to the <EMCLASS="emphasis">/etc/system</EM> file.</P><PCLASS="para">Linux is an example of the latter philosophy: its documentation encourages you to create your own configuration. In this text we concentrate on Linux and on FreeBSD, systems that allow you to build your own custom kernel.[1]Throughout this chapter, we provide examples of kernel configuration statements using these two UNIX systems. While kernel configuration involves all aspects of system configuration, we include only statementsthat directly affect TCP/IP configuration.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[1] The kernel configuration process of other BSD systems, such as SunOS4.1.3, is similar to the FreeBSD example.</P></BLOCKQUOTE><PCLASS="para">Both of the UNIX systems used in the examples come with a kernelconfiguration file preconfigured for TCP/IP. During the initialinstallation, you may need to select a preconfiguredkernel that includes network support, but you probably won't need tomodify the kernel configuration for networking. The kernel configurationfile is normally changed only when you wish to:<ACLASS="indexterm"NAME="AUTOID-4937"></A></P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Produce a smaller, more efficient kernel by removing unneededitems</P></LI><LICLASS="listitem"><PCLASS="para">Add a new device</P></LI><LICLASS="listitem"><PCLASS="para">Modify a system parameter</P></LI></UL><PCLASS="para">While there is rarely any need to modify the kernel network statements,it is useful to understand what these statements do. Looking into thekernel configuration file shows how UNIX is tied to the hardware andsoftware of the network.</P><BLOCKQUOTECLASS="caution"><PCLASS="para"><STRONG>CAUTION:</STRONG> The procedures and files used for kernel configuration varydramatically depending on UNIX implementation. These variations makeit essential that you refer to your system documentation before tryingto configure the kernel on your system. Only your system documentationcan provide you with the accurate, detailed instructions required tosuccessfully complete this task.</P></BLOCKQUOTE></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch04_08.htm"TITLE="4.8 Summary "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 4.8 Summary "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_02.htm"TITLE="5.2 Linux Kernel Configuration "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.2 Linux Kernel Configuration "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">4.8 Summary </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">5.2 Linux Kernel Configuration </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>