<HTML><HEAD><TITLE>[Chapter 7] Configuring Routing </TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:35:27Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="index.htm"TITLE="TCP/IP Network Administration"><LINKREL="prev"HREF="ch06_05.htm"TITLE="6.5 Summary "><LINKREL="next"HREF="ch07_02.htm"TITLE="7.2 The Minimal Routing Table "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_05.htm"TITLE="6.5 Summary "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 6.5 Summary "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 7</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_02.htm"TITLE="7.2 The Minimal Routing Table "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 7.2 The Minimal Routing Table "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="TCP2-CH-7">7. Configuring Routing </A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="SECT1"HREF="#TCP2-CH-7-SECT-1"TITLE="7.1 Common Routing Configurations ">Common Routing Configurations </A><BR><ACLASS="SECT1"HREF="ch07_02.htm"TITLE="7.2 The Minimal Routing Table ">The Minimal Routing Table </A><BR><ACLASS="SECT1"HREF="ch07_03.htm"TITLE="7.3 Building a Static Routing Table ">Building a Static Routing Table </A><BR><ACLASS="SECT1"HREF="ch07_04.htm"TITLE="7.4 Interior Routing Protocols ">Interior Routing Protocols </A><BR><ACLASS="SECT1"HREF="ch07_05.htm"TITLE="7.5 Exterior Routing Protocols ">Exterior Routing Protocols </A><BR><ACLASS="SECT1"HREF="ch07_06.htm"TITLE="7.6 Gateway Routing Daemon ">Gateway Routing Daemon </A><BR><ACLASS="SECT1"HREF="ch07_07.htm"TITLE="7.7 Configuring gated ">Configuring gated </A><BR><ACLASS="SECT1"HREF="ch07_08.htm"TITLE="7.8 Summary ">Summary </A></P><P></P></DIV><PCLASS="para">Routing is the glue that binds the Internet together. Without it, TCP/IPtraffic is limited to a single physical network. Routing allowstraffic from your local network to reach its destination somewhere elsein the world&nbsp;- perhaps after passing through many intermediate networks.</P><PCLASS="para">The important role of routing and the complex interconnection of Internetnetworks make the design of routing protocols a major challenge tonetwork software developers. Consequently, most discussions of routingconcern protocol design. Very little is written about the importanttask of properly configuring routing protocols. However, more day-to-dayproblems are caused by improperly configured routers than are caused byimproperly designed routing algorithms. As system administrators, we need<ACLASS="indexterm"NAME="AUTOID-7594"></A>to ensure that the routing on our systems is properly configured. Thisis the task we tackle in this chapter.</P><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-CH-7-SECT-1">7.1 Common Routing Configurations </A></H2><PCLASS="para">First, we must make a distinction between routing and routing protocols.All systems route data, but not all systems run routing protocols.<ACLASS="indexterm"NAME="AUTOID-7600"></A><EMCLASS="emphasis">Routing</EM> is the act of forwarding datagrams based on theinformation contained in the routing table. <EMCLASS="emphasis">Routing protocols</EM><ACLASS="indexterm"NAME="AUTOID-7605"></A>are programs that exchange the information used to build routingtables.</P><PCLASS="para">A network's routing configuration does not always requirea routing protocol. In situations where the routing information does notchange&nbsp;- for example, when there is only one possible route, the systemadministrator usually builds the routing table manually. Some networks<ACLASS="indexterm"NAME="AUTOID-7610"></A>have no access to any other TCP/IP networks, and therefore do not requirethat the system administrator build the routingtable at all. The three most common<ACLASS="indexterm"NAME="AUTOID-7614"></A>routing configurations are:[1]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[1] <ACLASS="xref"HREF="ch04_01.htm"TITLE="Getting Started ">Chapter 4, <CITECLASS="chapter">Getting Started </CITE></A>, presents guidelines for choosing the correct routing configuration for your network.</P></BLOCKQUOTE><DLCLASS="variablelist"><DTCLASS="term"><EMCLASS="emphasis">Minimal&nbsp;routing</EM></DT><DDCLASS="listitem"><PCLASS="para">A network completely isolated from all other TCP/IP networks requiresonly minimal routing. A minimal routing table usually is built by<BCLASS="emphasis.bold">ifconfig</B> when the network interface is configured.[2]If your network doesn't have direct access to other TCP/IP networks,and if you are not using subnetting, this may be the only routing tableyou'll require.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[2] Linux is an exception. <BCLASS="emphasis.bold">ifconfig</B> does not create routingtable entries on a Linux system.</P></BLOCKQUOTE></DD><DTCLASS="term"><EMCLASS="emphasis">Static&nbsp;routing</EM></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7635"></A>A network with a limited number of gateways to other TCP/IP networkscan be configured with static routing. When a network has only onegateway, a static route is the best choice. A static routing table isconstructed manually by the system administrator using the <BCLASS="emphasis.bold">route</B>command. Static routing tables do not adjust to network changes, sothey work best where routes do not change.</P></DD><DTCLASS="term"><EMCLASS="emphasis">Dynamic&nbsp;routing</EM></DT><DDCLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7644"></A>A network with more than one possible route to the same destinationshould use dynamic routing. A dynamic routing table is built from theinformation exchanged by routing protocols. The protocols are designedto distribute information that dynamically adjusts routes to reflectchanging network conditions. Routing protocols handle complex routingsituations more quickly and accurately than the system administratorcan. Routing protocols are designed not only to switch to a backuproute when the primary route becomes inoperable; they are also designedto decide which is the &quot;best&quot; route to a destination. On any networkwhere there are multiple paths to the same destination, arouting protocol should beused.</P></DD></DL><PCLASS="para">Routes are built automatically by <BCLASS="emphasis.bold">ifconfig</B>, manually by the systemadministrator, or dynamically by routing protocols. But no matter howroutes are entered, they all end up in the routing table.<ACLASS="indexterm"NAME="AUTOID-7649"></A></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_05.htm"TITLE="6.5 Summary "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 6.5 Summary "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_02.htm"TITLE="7.2 The Minimal Routing Table "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 7.2 The Minimal Routing Table "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">6.5 Summary </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">7.2 The Minimal Routing Table </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>