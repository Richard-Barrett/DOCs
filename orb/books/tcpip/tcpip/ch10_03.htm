<HTML><HEAD><TITLE>[Chapter 10] 10.3 sendmail Aliases </TITLE><METANAME="DC.title"CONTENT="TCP/IP Network Administration"><METANAME="DC.creator"CONTENT="Craig Hunt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1999-02-04T01:38:29Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-322-7"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch10_01.htm"TITLE="10. sendmail "><LINKREL="prev"HREF="ch10_02.htm"TITLE="10.2 Running sendmail as a Daemon "><LINKREL="next"HREF="ch10_04.htm"TITLE="10.4 The sendmail.cf File "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="TCP/IP Network Administration"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="TCP/IP Network Administration"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/tsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch10_02.htm"TITLE="10.2 Running sendmail as a Daemon "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 10.2 Running sendmail as a Daemon "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 10<BR>sendmail </FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch10_04.htm"TITLE="10.4 The sendmail.cf File "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 10.4 The sendmail.cf File "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="TCP2-CH-10-SECT-3">10.3 sendmail Aliases </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="TCP2-CH-10-IX-SENDMAIL-ALIASES-IN"></A><ACLASS="indexterm"NAME="TCP2-CH-10-IX-MAIL-ALIASES"></A>It is almost impossible to exaggerate the importance of mail aliases.Without them, a sendmail system could not act as a central mailserver. Mail aliases provide for:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Alternate names (nicknames) for individual users</P></LI><LICLASS="listitem"><PCLASS="para">Forwarding of mail to other hosts</P></LI><LICLASS="listitem"><PCLASS="para">Mailing lists</P></LI></UL><PCLASS="para">sendmail mail aliases are defined in the <EMCLASS="emphasis">aliases</EM><ACLASS="indexterm"NAME="AUTOID-12947"></A>file.[2]The basic format of entries in the <EMCLASS="emphasis">aliases</EM> file is:</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[2] The location of the file is defined in the &quot;Options&quot; section ofthe sendmail configuration file.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="replaceable"><I>alias</I></CODE><BCLASS="emphasis.bold">: </B><CODECLASS="replaceable"><I>recipient</I></CODE>[, <CODECLASS="replaceable"><I>recipient</I></CODE>,...]</PRE></BLOCKQUOTE></P><PCLASS="para"><CODECLASS="replaceable"><I>alias</I></CODE> is the name to which the mail is addressed, and<CODECLASS="replaceable"><I>recipient</I></CODE> is the name to which the mail is delivered.<CODECLASS="replaceable"><I>recipient</I></CODE> can be a username, the name of another alias, ora full email address containing both a username and a hostname.Including a hostname allows mail to be forwarded to a remote host.Additionally, there can be multiple recipients for a single alias.Mail addressed to that alias is delivered to all of the recipients,thus creating a mailing list.</P><PCLASS="para">Aliases that define nicknames for individual users can be used tohandle frequently misspelled names. You can also usealiases to deliver mail addressed tospecial names, such as <EMCLASS="emphasis">postmaster</EM> or <EMCLASS="emphasis">root</EM>, to the realusers that do those jobs. Aliases can also be used to implementsimplified mail addressing, especially when used in conjunction with MXrecords.[3]This <EMCLASS="emphasis">aliases</EM> file from <EMCLASS="emphasis">almond</EM> shows all of these uses:</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[3] <ACLASS="xref"HREF="ch08_01.htm"TITLE="Configuring DNS Name Service ">Chapter 8, <CITECLASS="chapter">Configuring DNS Name Service </CITE></A>, discusses MX records.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># special namespostmaster: clarkroot: norman# accept firstname.lastname@nuts.comrebecca.hunt: becky@peanutjessie.mccafferty: jessie@walnutanthony.resnick: anthony@pecanandy.wright: andy@filbert# a mailing listadmin: kathy, david@peanut, sara@pecan, becky@peanut, craig,       anna@peanut, jane@peanut, christy@filbertowner-admin: admin-requestadmin-request: craig</PRE></BLOCKQUOTE></P><PCLASS="para">The first two aliases are special names. Using these aliases, mailaddressed to <EMCLASS="emphasis">postmaster</EM> is delivered to the local user<EMCLASS="emphasis">clark</EM>, and mail addressed to <EMCLASS="emphasis">root</EM> is delivered to<EMCLASS="emphasis">norman</EM>.</P><PCLASS="para">The second set of aliases is in the form of <EMCLASS="emphasis">firstname</EM> and<EMCLASS="emphasis">lastname</EM>. The first alias in this group is <EMCLASS="emphasis">rebecca.hunt</EM>. Mailaddressed to <EMCLASS="emphasis">rebecca.hunt</EM> is forwarded from <EMCLASS="emphasis">almond</EM> and deliveredto <EMCLASS="emphasis">becky@peanut</EM>. Combine this alias with an MX record that names<EMCLASS="emphasis">almond</EM> as the mail server for <EMCLASS="emphasis">nuts.com</EM>, and mail addressedto <EMCLASS="emphasis">rebecca.hunt@nuts.com</EM> is delivered to <EMCLASS="emphasis">becky@peanut.nuts.com</EM>.This type of addressing scheme allows each user to advertise aconsistent mailing address that does not change just because the user'saccount moves to another host. Additionally, if a remote user knowsthat this <EMCLASS="emphasis">firstname.lastname</EM> addressing scheme is used at<EMCLASS="emphasis">nuts.com</EM>, he can address mail to Rebecca Hunt as<EMCLASS="emphasis">rebecca.hunt@nuts.com</EM> without knowing her real email address.</P><PCLASS="para">The last two aliases are for a mailing list. The alias <EMCLASS="emphasis">admin</EM><ACLASS="indexterm"NAME="AUTOID-12994"></A>defines the list itself. If mail is sent to <EMCLASS="emphasis">admin</EM>, a copy ofthe mail is sent to each of the recipients (<EMCLASS="emphasis">kathy</EM>, <EMCLASS="emphasis">david</EM>,<EMCLASS="emphasis">sara</EM>, <EMCLASS="emphasis">becky</EM>, <EMCLASS="emphasis">craig</EM>, <EMCLASS="emphasis">anna</EM>, <EMCLASS="emphasis">jane</EM>, and<EMCLASS="emphasis">christy</EM>). Note that the mailing list continues across multiplelines. A line that starts with a blank or a tab is a continuationline.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-13006"></A>The <EMCLASS="emphasis">owner-admin</EM> alias is a special form used by sendmail.The format of this special alias is <BCLASS="emphasis.bold">owner-</B><EMCLASS="emphasis">listname</EM> where<EMCLASS="emphasis">listname</EM> is the name of a mailing list. The person specified onthis alias line is responsible for the list identified by <EMCLASS="emphasis">listname</EM>.If sendmail has problems delivering mail to any of the recipientsin the <EMCLASS="emphasis">admin</EM> list, an error message is sent to <EMCLASS="emphasis">owner-admin</EM>.The <EMCLASS="emphasis">owner-admin</EM> alias points to <EMCLASS="emphasis">admin-request</EM> as the personresponsible for maintaining the mailing list <EMCLASS="emphasis">admin</EM>. Aliases in theform of <EMCLASS="emphasis">listname</EM><BCLASS="emphasis.bold">-request</B> are commonly used for administrativerequests, such as subscribing to a list, for manually maintainedmailing lists. Notice that we point an alias to another alias, which isperfectly legal. The <EMCLASS="emphasis">admin-request</EM> alias resolves to <EMCLASS="emphasis">craig</EM>.</P><PCLASS="para">sendmail does not use the <EMCLASS="emphasis">aliases</EM> file directly. The<EMCLASS="emphasis">aliases</EM> file must first be processed by the <BCLASS="emphasis.bold">newaliases</B>command.<BCLASS="emphasis.bold">newaliases</B> is equivalent to <BCLASS="emphasis.bold">sendmail</B> with the <BCLASS="emphasis.bold">-bi</B>option, which causes sendmail to build the aliases database.<BCLASS="emphasis.bold">newaliases</B> creates the database files that are used bysendmail when it is searching for aliases. Invoke<BCLASS="emphasis.bold">newaliases</B> after updating the <EMCLASS="emphasis">aliases</EM> file to make surethat sendmail is able to use the new aliases.[4]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[4] If the D option is used (see <ACLASS="xref"HREF="appe_01.htm"TITLE="A sendmail Reference">Appendix E, <CITECLASS="appendix">A sendmail Reference</CITE></A>), sendmailautomatically rebuilds the aliases database&nbsp;- even if <BCLASS="emphasis.bold">newaliases</B>is not run.</P></BLOCKQUOTE><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="TCP2-CH-10-SECT-3.0.1">10.3.1 Personal mail forwarding </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-13039"></A>In addition to the mail forwarding provided by <EMCLASS="emphasis">aliases</EM>,sendmail allows individual users to define their own forwarding.The user defines her personal forwarding in the <EMCLASS="emphasis">.forward</EM> file<ACLASS="indexterm"NAME="AUTOID-13043"></A>in her home directory. sendmail checks for this file after usingthe <EMCLASS="emphasis">aliases</EM> file and before making final delivery to the user.If the <EMCLASS="emphasis">.forward</EM> file exists, sendmail delivers the mailas directed by that file. For example, say that user <EMCLASS="emphasis">kathy</EM> has a<EMCLASS="emphasis">.forward</EM> file in her home directory that contains<EMCLASS="emphasis">kathy@podunk.edu</EM>. The mail that sendmail would normallydeliver to the local user <EMCLASS="emphasis">kathy</EM> is forwarded to <EMCLASS="emphasis">kathy</EM>'saccount at <EMCLASS="emphasis">podunk.edu</EM>.</P><PCLASS="para">Use the <EMCLASS="emphasis">.forward</EM> file for temporary forwarding. Modifying<EMCLASS="emphasis">aliases</EM> and rebuilding the database takes more effort thanmodifying a <EMCLASS="emphasis">.forward</EM> file, particularly if the forwardingchange will be short-lived. Additionally, the <EMCLASS="emphasis">.forward</EM> fileputs the user in charge of his own mail forwarding.</P><PCLASS="para">Mail aliases and mail forwarding are handled by the <EMCLASS="emphasis">aliases</EM> fileand the <EMCLASS="emphasis">.forward</EM> file. Everything else about thesendmail configuration is handled in the <EMCLASS="emphasis">sendmail.cf</EM>file.<ACLASS="indexterm"NAME="AUTOID-13062"></A><ACLASS="indexterm"NAME="AUTOID-13063"></A></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch10_02.htm"TITLE="10.2 Running sendmail as a Daemon "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 10.2 Running sendmail as a Daemon "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="TCP/IP Network Administration"><IMGSRC="../gifs/txthome.gif"ALT="TCP/IP Network Administration"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch10_04.htm"TITLE="10.4 The sendmail.cf File "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 10.4 The sendmail.cf File "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">10.2 Running sendmail as a Daemon </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">10.4 The sendmail.cf File </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><PCLASS="nav"><FONTSIZE="-1">[ <AHREF="../index.htm"TITLE="The Networking CD Bookshelf">Library Home</A> | <AHREF="../dnsbind/index.htm"TITLE="DNS &amp; BIND">DNS &amp; BIND</A> | <AHREF="index.htm"TITLE="TCP/IP Network Administration">TCP/IP</A> | <AHREF="../sendmail/index.htm"TITLE="sendmail">sendmail</A> | <AHREF="../smdref/index.htm"TITLE="sendmail Desktop Reference">sendmail Reference</A> | <AHREF="../firewall/index.htm"TITLE="Building Internet Firewalls">Firewalls</A> | <AHREF="../puis/index.htm"TITLE="Practical UNIX &amp; Internet Security">Practical Security</A> ]</FONT></P></DIV></BODY></HTML>