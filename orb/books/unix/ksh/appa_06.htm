<HTML><HEAD><TITLE>[Appendix A] A.6 Workalikes on PC Platforms</TITLE><METANAME="DC.title"CONTENT="Learning the Korn Shell"><METANAME="DC.creator"CONTENT="Bill Rosenblatt"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-03T21:18:36Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-054-6"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="appa_01.htm"TITLE="A. Related Shells"><LINKREL="prev"HREF="appa_05.htm"TITLE="A.5 bash"><LINKREL="next"HREF="appa_07.htm"TITLE="A.7 The Future of the Korn Shell"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Learning the Korn Shell"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,66"HREF="index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/ksrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appa_05.htm"TITLE="A.5 bash"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: A.5 bash"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Appendix A<BR>Related Shells</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appa_07.htm"TITLE="A.7 The Future of the Korn Shell"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: A.7 The Future of the Korn Shell"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="KSH-APA-SECT-6">A.6 Workalikes on PC Platforms</A></H2><PCLASS="para">The proliferation of the Korn shell has not stopped atthe boundaries of UNIX-dom.  <ACLASS="indexterm"NAME="AUTOID-17791"></A><ACLASS="indexterm"NAME="KSH-APA-IX-PCS"></A>Many programmers who got theirinitial experience on UNIX systems and subsequently crossed over into the PC world wished for a nice UNIX-likeenvironment (especially when faced with the horrors of theMS-DOS command line!), so it's not surprising that several UNIX shell-style interfaces to small-computer operating systemshave appeared, Korn shell emulations among them.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17796"></A><ACLASS="indexterm"NAME="AUTOID-17800"></A>Shells that are called &quot;Korn shell&quot; exist for the Minix andCoherent operating systems, both of which are small, inexpensiveUNIX-like systems for IBM PC-type machines.  <ACLASS="indexterm"NAME="AUTOID-17804"></A><ACLASS="indexterm"NAME="AUTOID-17807"></A><ACLASS="indexterm"NAME="AUTOID-17810"></A>These shells are not very compatible with the 1988 UNIX Korn shell; theyonly have the most important Korn shell features, such asemacs and vi editing modes and shell functions.  </P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17814"></A></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17816"></A><ACLASS="indexterm"NAME="AUTOID-17818"></A><ACLASS="indexterm"NAME="AUTOID-17821"></A>Somewhat better is a version of <EMCLASS="emphasis">pdksh</EM> for OS/2,which you can get in binary form (i.e., the executable, notthe source code) from the USENET newsgroup comp.binaries.os2.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17826"></A><ACLASS="indexterm"NAME="KSH-APA-IX-MKS-TOOLKIT-SHELL"></A>But far better than that is the MKS Toolkit, available fromMortice Kern Systems, Inc.<ACLASS="indexterm"NAME="AUTOID-17831"></A>The Toolkit is actually a complete UNIX-like environmentfor MS-DOS (version 2.0 and later) and OS/2 (version 1.2 andlater).  <ACLASS="indexterm"NAME="AUTOID-17833"></A><ACLASS="indexterm"NAME="AUTOID-17835"></A><ACLASS="indexterm"NAME="AUTOID-17837"></A><ACLASS="indexterm"NAME="AUTOID-17839"></A>In addition to its shell, it comes with a <EMCLASS="emphasis">vi</EM> editor and many UNIX-styleutilities, including major ones like <EMCLASS="emphasis">awk</EM>, <EMCLASS="emphasis">uucp</EM>, and<EMCLASS="emphasis">make</EM>.</P><PCLASS="para">The MKS shell itself is very much compatible with the 1988 UNIX Korn shell, and it has a well-written manual.<ACLASS="indexterm"NAME="AUTOID-17846"></A>Its only real syntactic differenceis that it doesn't support the Korn shell's condition testsyntax; you must use the old Bourne shell syntax instead.</P><PCLASS="para">The few other differences are due tolimitations in the underlying operating systems rather thanthe shell itself. Most importantly, MS-DOS does not supportmultitasking or file permissions, so the MS-DOS version supports none of the relevant Korn shell features.<ACLASS="indexterm"NAME="AUTOID-17850"></A>The OS/2 version doesn't support file permissions either.</P><PCLASS="para">Specifically, the MKS shell for MS-DOSdoes not support the following:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17856"></A><ACLASS="indexterm"NAME="AUTOID-17859"></A>Background jobs: <BCLASS="emphasis.bold">&amp;</B> at the end of a command acts like<CODECLASS="literal">;</CODE>, i.e., as a statement separator.</P></LI><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17866"></A><ACLASS="indexterm"NAME="AUTOID-17869"></A><ACLASS="indexterm"NAME="AUTOID-17872"></A>Job control: <BCLASS="emphasis.bold">fg</B>, <BCLASS="emphasis.bold">bg</B>, <BCLASS="emphasis.bold">jobs</B>, <BCLASS="emphasis.bold">kill</B>,and <BCLASS="emphasis.bold">wait</B>; the options <BCLASS="emphasis.bold">bgnice</B> and <BCLASS="emphasis.bold">monitor</B>;coroutines.</P></LI></UL><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17883"></A>The MKS shells for both MS-DOS and OS/2 do not support the following:</P><ULCLASS="itemizedlist"><ACLASS="indexterm"NAME="AUTOID-17886"></A><ACLASS="indexterm"NAME="AUTOID-17889"></A><ACLASS="indexterm"NAME="AUTOID-17891"></A><ACLASS="indexterm"NAME="AUTOID-17893"></A><ACLASS="indexterm"NAME="AUTOID-17896"></A><LICLASS="listitem"><PCLASS="para">File permission: <BCLASS="emphasis.bold">umask</B>, <BCLASS="emphasis.bold">newgrp</B>. The option <BCLASS="emphasis.bold">privileged</B>has been renamed to <BCLASS="emphasis.bold">protected</B> to reflect the lack of <EMCLASS="emphasis">suid</EM>permission. Some test conditions have different meanings, as shownin Table A-1.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="KSH-APA-TAB-0">Table A.1: File Permission Test Operators</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Operator</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">UNIX Test</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">MKS Toolkit Test</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">-g</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">setgid</EM> bit</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">System attribute</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">-k</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">sticky (save text) bit</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Archive attribute</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">-u</B></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">setuid</EM> bit</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Hidden attribute</TD></TR></TBODY></TABLE></LI><LICLASS="listitem"><PCLASS="para">Filenames: all scripts must have names with the extension <EMCLASS="emphasis">.ksh</EM>.Shell-related files have names that don't conform to MS-DOSfile naming rules; Table A-2 shows MKS toolkit equivalents.<ACLASS="indexterm"NAME="AUTOID-17934"></A></P></LI><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17940"></A><ACLASS="indexterm"NAME="AUTOID-17942"></A><ACLASS="indexterm"NAME="AUTOID-17945"></A><ACLASS="indexterm"NAME="AUTOID-17947"></A>Environment variables that contain directory lists, such as <BCLASS="emphasis.bold">PATH</B>and <BCLASS="emphasis.bold">MAILPATH</B>, should use semicolons (<CODECLASS="literal">;</CODE>) instead of colons (<CODECLASS="literal">:</CODE>)to separate directories, because colons are used in DOS and OS/2pathnames.</P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="KSH-APA-TAB-1">Table A.2: MKS Toolkit Names for Shell Files</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">UNIX Filename</B></TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1"><BCLASS="emphasis.bold">MKS Toolkit Filename</B></TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">.profile</EM></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">profile.ksh</EM></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">.sh_history</EM></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">sh_histo</EM></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">/etc/profile</EM></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">\etc\profile.ksh</EM></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">/etc/suid_profile</EM></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><EMCLASS="emphasis">\etc\suid_pro.ksh</EM></TD></TR></TBODY></TABLE></LI><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-17986"></A><ACLASS="indexterm"NAME="AUTOID-17989"></A><ACLASS="indexterm"NAME="AUTOID-17992"></A><ACLASS="indexterm"NAME="AUTOID-17995"></A><ACLASS="indexterm"NAME="AUTOID-17998"></A><ACLASS="indexterm"NAME="AUTOID-18001"></A>Signals: the only ones supported are INT, ALRM, and STOP.The fake signals ERR and EXIT are supported, but DEBUG is not.</P></LI><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-18006"></A><ACLASS="indexterm"NAME="AUTOID-18009"></A><BCLASS="emphasis.bold">PPID</B> is renamed <BCLASS="emphasis.bold">PID</B>.</P></LI><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-18015"></A>Condition tests: <BCLASS="emphasis.bold">-a</B> (file existence) is renamed <BCLASS="emphasis.bold">-e</B>to avoid clashing with the <BCLASS="emphasis.bold">-a</B> operator (for logical &quot;and&quot;)in the older <EMCLASS="emphasis">test</EM> or <EMCLASS="emphasis">[...]</EM> syntax.The <BCLASS="emphasis.bold">&gt;</B> and <BCLASS="emphasis.bold">&lt;</B> (lexicographic comparisons) aren't supported.</P></LI></UL><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-18026"></A>The MKS shell also supports a few features of its own.It uses <BCLASS="emphasis.bold">$[</B>...<BCLASS="emphasis.bold">]</B> (a la <EMCLASS="emphasis">bash</EM>) as an alternativesyntax for arithmetic expressions, and it includes a fewinvocation and <BCLASS="emphasis.bold">set</B> options that are related to theunderlying operating system.</P><PCLASS="para">Many UNIX users who have moved to DOS PCs swear by the MKSToolkit; it's inexpensive ($299 at this writing), and it makes MS-DOS into a reasonable environment for advanced users and softwaredevelopers. The Toolkit is available through most dealers that sell software tools, or through MKS itself.<ACLASS="indexterm"NAME="AUTOID-18034"></A><ACLASS="indexterm"NAME="AUTOID-18038"></A>For more information, contact MKS, 35 King St. North,Waterloo, Ontario, Canada N2J 2W9, or electronicallyas follows:<TABLECLASS="informaltable"><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Telephone</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">(800) 265-2797 (US &amp; Canada)</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Fax</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">(519) 884 8861</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Internet</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">toolkit@mks.com</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">CompuServe</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">73260,1043</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">BIX</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">mks</TD></TR></TBODY></TABLE></P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appa_05.htm"TITLE="A.5 bash"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: A.5 bash"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Learning the Korn Shell"><IMGSRC="../gifs/txthome.gif"ALT="Learning the Korn Shell"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="appa_07.htm"TITLE="A.7 The Future of the Korn Shell"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: A.7 The Future of the Korn Shell"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">A.5 bash</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">A.7 The Future of the Korn Shell</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="../upt/index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>