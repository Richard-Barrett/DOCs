<HTML><HEAD><TITLE>Reference: ci</TITLE><METANAME="DC.title"CONTENT="UNIX in a Nutshell: System V Edition"><METANAME="DC.creator"CONTENT="Daniel Gilly &amp; the Staff of O'Reilly &amp; Associates"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-06T22:01:58Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-001-5"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch18_05.htm"TITLE="18.5 Alphabetical Summary of Commands"><LINKREL="prev"HREF="ch18_05.htm"TITLE="18.5 Alphabetical Summary of Commands"><LINKREL="next"HREF="c18_002.htm"TITLE="Reference: co"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX in a Nutshell: System V Edition"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,71"HREF="index.htm"ALT="UNIX in a Nutshell: System V Edition"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/usrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_05.htm"TITLE="18.5 Alphabetical Summary of Commands"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 18.5 Alphabetical Summary of Commands"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 18<BR>The RCS Utility</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="NUTENTRY"HREF="c18_002.htm"TITLE="Reference: co"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: Reference: co"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="NUTENTRY"><H2CLASS="nutentry"><ACLASS="term"NAME="AUTOID-40589">ci</A></H2><PRECLASS="nutsynopsis">ci [<CODECLASS="replaceable"><I>options</I></CODE>] <CODECLASS="replaceable"><I>files</I></CODE></PRE><DLCLASS="nutentrybody"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-40596"></A>Check in revisions.  <BCLASS="emphasis.bold">ci</B> stores the contents of the specified working<CODECLASS="replaceable"><I>files</I></CODE> into their corresponding RCS files.Normally, <BCLASS="emphasis.bold">ci</B> deletes the working file after storing it.If no RCS file exists, then the working file is an initial revision.In this case, the RCS file is created and you areprompted to enter a description of the file.If an RCS file exists, <BCLASS="emphasis.bold">ci</B> increments the revision numberand prompts you to enter a message that logs the changes made.In RCS Version 5.6, if a working file is checked in without changes,the file reverts to the previous revision.  In older RCS versions,you may end up having to check in a new revision that contains no changes.</P><PCLASS="para">The mutually exclusive options <BCLASS="emphasis.bold">-u</B>, <BCLASS="emphasis.bold">-l</B>, and <BCLASS="emphasis.bold">-r</B>,are the most common.Use <BCLASS="emphasis.bold">-u</B> to keep a read-only copy of the working file (for example, so that the file can be compiled or searched).Use <BCLASS="emphasis.bold">-l</B> to update a revision and then immediately check it outagain with a lock.  This allows you to save intermediatechanges but continue editing (for example, during a long editing session).  Use <BCLASS="emphasis.bold">-r</B> to check in a file with a differentrelease number.<BCLASS="emphasis.bold">ci</B> accepts the standard options <BCLASS="emphasis.bold">-q</B>, <BCLASS="emphasis.bold">-V</B>, and <BCLASS="emphasis.bold">-x</B>.  </P><DIVCLASS="refsect2"><H3CLASS="refsect2"><ACLASS="title"NAME="AUTOID-40613">Options</A></H3><PCLASS="para"></P><DLCLASS="variablelist"><DTCLASS="term">-d[<CODECLASS="replaceable"><I>date</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Check the file in with a timestamp of <CODECLASS="replaceable"><I>date</I></CODE> or, if no date is specified,with the time of last modification.</P></DD><DTCLASS="term">-f[<CODECLASS="replaceable"><I>R</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Force a check in even if there are no differences.</P></DD><DTCLASS="term">-I[<CODECLASS="replaceable"><I>R</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Interactive mode; prompt user even when standard input isnot a terminal (e.g., when <BCLASS="emphasis.bold">ci</B> is part of a command pipeline).<BCLASS="emphasis.bold">-I</B> is new in RCS Version 5.</P></DD><DTCLASS="term">-k[<CODECLASS="replaceable"><I>R</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Assign a revision number, creation date, state, and authorfrom keyword values that were placed in the working file, instead ofcomputing the revision information from the local environment.  <BCLASS="emphasis.bold">-k</B> is useful for software distribution:  the preset keywords serve as a timestamp shared by all distribution sites.</P></DD><DTCLASS="term">-l[<CODECLASS="replaceable"><I>R</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Do a <BCLASS="emphasis.bold">co  -l</B> after checking in.  This leaves a locked copyof the next revision.</P></DD><DTCLASS="term">-m<CODECLASS="replaceable"><I>msg</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Use the <CODECLASS="replaceable"><I>msg</I></CODE> string as the log message for all files checked in.When checking in multiple files, <BCLASS="emphasis.bold">ci</B> normally promptswhether to reuse the log message of the previous file.<BCLASS="emphasis.bold">-m</B> bypasses this prompting.</P></DD><DTCLASS="term">-M[<CODECLASS="replaceable"><I>R</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Set the working file's modification time to that of the retrieved version.Use of <BCLASS="emphasis.bold">-M</B> can confuse <BCLASS="emphasis.bold">make</B> and should be used with care.(New in RCS Version 5.6.)</P></DD><DTCLASS="term">-n<CODECLASS="replaceable"><I>name</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Associate a text <CODECLASS="replaceable"><I>name</I></CODE> with the new revision number.</P></DD><DTCLASS="term">-N<CODECLASS="replaceable"><I>name</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Same as <BCLASS="emphasis.bold">-n</B>, but override a previous <CODECLASS="replaceable"><I>name</I></CODE>.</P></DD><DTCLASS="term">-r[<CODECLASS="replaceable"><I>R</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Check the file in as revision <CODECLASS="replaceable"><I>R</I></CODE>.</P></DD><DTCLASS="term">-s<CODECLASS="replaceable"><I>state</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Set the <CODECLASS="replaceable"><I>state</I></CODE> of the checked-in revision. </P></DD><DTCLASS="term">-t<CODECLASS="replaceable"><I>file</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Replace RCS file description with contents of <CODECLASS="replaceable"><I>file</I></CODE>.As of Version 5, this works only for initial check in.</P></DD><DTCLASS="term">-t-<CODECLASS="replaceable"><I>string</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Replace RCS file description with <CODECLASS="replaceable"><I>string</I></CODE>.As of Version 5, this works only for initial check in.</P></DD><DTCLASS="term">-u[<CODECLASS="replaceable"><I>R</I></CODE>]</DT><DDCLASS="listitem"><PCLASS="para">Do a <BCLASS="emphasis.bold">co  -u</B> after checking in.  This leaves a read-only copy.</P></DD><DTCLASS="term">-w<CODECLASS="replaceable"><I>user</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">Set the author field to <CODECLASS="replaceable"><I>user</I></CODE> in the checked-in revision.</P></DD></DL></DIV><DIVCLASS="refsect2"><H3CLASS="refsect2"><ACLASS="title"NAME="AUTOID-40711">Examples</A></H3><PCLASS="para">Check in chapter files using the same log message:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>ci -m'First round edits' chap*</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Check in edits to <BCLASS="emphasis.bold">prog.c</B>, leaving a read-only copy:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>ci -u prog.c</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Start revision level 2; refer to revision 2.1 as &quot;Prototype&quot;:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>ci -r2 -nPrototype prog.c</B></CODE></PRE></BLOCKQUOTE></P></DIV></DL></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_05.htm"TITLE="18.5 Alphabetical Summary of Commands"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 18.5 Alphabetical Summary of Commands"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX in a Nutshell: System V Edition"><IMGSRC="../gifs/txthome.gif"ALT="UNIX in a Nutshell: System V Edition"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="NUTENTRY"HREF="c18_002.htm"TITLE="Reference: co"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: Reference: co"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">18.5 Alphabetical Summary of Commands</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">Reference: co</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="../upt/index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>