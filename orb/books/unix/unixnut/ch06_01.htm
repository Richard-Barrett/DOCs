<HTML><HEAD><TITLE>[Chapter 6] Pattern Matching</TITLE><METANAME="DC.title"CONTENT="UNIX in a Nutshell: System V Edition"><METANAME="DC.creator"CONTENT="Daniel Gilly &amp; the Staff of O'Reilly &amp; Associates"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-06T21:59:44Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-001-5"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="index.htm"TITLE="UNIX in a Nutshell: System V Edition"><LINKREL="prev"HREF="ch05_08.htm"TITLE="5.8 Invoking the Shell"><LINKREL="next"HREF="ch06_02.htm"TITLE="6.2 Metacharacters, Listed by UNIX Program"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX in a Nutshell: System V Edition"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,71"HREF="index.htm"ALT="UNIX in a Nutshell: System V Edition"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/usrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_08.htm"TITLE="5.8 Invoking the Shell"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.8 Invoking the Shell"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 6</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_02.htm"TITLE="6.2 Metacharacters, Listed by UNIX Program"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 6.2 Metacharacters, Listed by UNIX Program"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="UNUT-CH-6">6. Pattern Matching</A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="sect1"HREF="#UNUT-CH-6-SECT-1"TITLE="6.1 Filenames Versus Patterns">Filenames Versus Patterns</A><BR><ACLASS="sect1"HREF="ch06_02.htm"TITLE="6.2 Metacharacters, Listed by UNIX Program">Metacharacters, Listed by UNIX Program</A><BR><ACLASS="sect1"HREF="ch06_03.htm"TITLE="6.3 Metacharacters">Metacharacters</A><BR><ACLASS="sect1"HREF="ch06_04.htm"TITLE="6.4 Examples of Searching">Examples of Searching</A></P><P></P></DIV><PCLASS="para">A number of UNIX text-editing utilitieslet you search for, and in some cases change,text patterns rather than fixed strings.  These utilities include the editing programsed, ex, vi, and sed, the awk scripting language, andthe commands <CODECLASS="literal">grep</CODE> and <CODECLASS="literal">egrep</CODE>.Text patterns (also called regular expressions) contain normal characters mixed withspecial characters (also called metacharacters).<ACLASS="indexterm"NAME="UNUT-CH-6-IX-PATTERN-MATCHING"></A><ACLASS="indexterm"NAME="UNUT-CH-6-IX-TEXT-PATTERN-MATCHING"></A><ACLASS="indexterm"NAME="UNUT-CH-6-IX-SEARCHING-PATTERN-MATCHING"></A></P><PCLASS="para">This section presents the following topics:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Filenames versus patterns</P></LI><LICLASS="listitem"><PCLASS="para">List of metacharacters available to each program</P></LI><LICLASS="listitem"><PCLASS="para">Description of metacharacters</P></LI><LICLASS="listitem"><PCLASS="para">Examples</P></LI></UL><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="UNUT-CH-6-SECT-1">6.1 Filenames Versus Patterns</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="UNUT-CH-6-IX-METACHARACTERS-FOR-PATTERN-MATCHING"></A><ACLASS="indexterm"NAME="AUTOID-23991"></A>Metacharacters used in pattern matching are different frommetacharacters used for filename expansion (see Sections 4 and 5).When you issue a command on thecommand line, special characters are seen first by theshell, then by the program; therefore, unquoted metacharacters are interpreted by the shell for filename expansion.The command:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>grep [A-Z]* chap[12]</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">could, for example, be interpreted by the shell as:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>grep Array.c Bug.c Comp.c chap1 chap2</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">and would then try to find the pattern <EMCLASS="emphasis">Array.c</EM> in files <CODECLASS="literal">Bug.c</CODE>, <CODECLASS="literal">Comp.c</CODE>, <CODECLASS="literal">chap1</CODE>, and <CODECLASS="literal">chap2</CODE>.To bypass the shell and pass the special charactersto <CODECLASS="literal">grep</CODE>, use quotes:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>grep &quot;[A-Z]*&quot; chap[12]</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Double quotes suffice in most cases, but single quotes are the safest bet.</P><PCLASS="para">(Note also that in pattern matching, <CODECLASS="literal">?</CODE> matches zero or one instance ofa regular expression; in filename expansion, <CODECLASS="literal">?</CODE> matches a singlecharacter.)</P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_08.htm"TITLE="5.8 Invoking the Shell"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.8 Invoking the Shell"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX in a Nutshell: System V Edition"><IMGSRC="../gifs/txthome.gif"ALT="UNIX in a Nutshell: System V Edition"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_02.htm"TITLE="6.2 Metacharacters, Listed by UNIX Program"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 6.2 Metacharacters, Listed by UNIX Program"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">5.8 Invoking the Shell</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">6.2 Metacharacters, Listed by UNIX Program</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="../upt/index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>