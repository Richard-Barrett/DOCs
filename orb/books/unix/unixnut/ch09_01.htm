<HTML><HEAD><TITLE>[Chapter 9] The Ex Editor</TITLE><METANAME="DC.title"CONTENT="UNIX in a Nutshell: System V Edition"><METANAME="DC.creator"CONTENT="Daniel Gilly &amp; the Staff of O'Reilly &amp; Associates"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-06T22:00:00Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-001-5"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="index.htm"TITLE="UNIX in a Nutshell: System V Edition"><LINKREL="prev"HREF="ch08_10.htm"TITLE="8.10 Setting Up Vi"><LINKREL="next"HREF="ch09_02.htm"TITLE="9.2 Alphabetical Summary of Ex Commands"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX in a Nutshell: System V Edition"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,71"HREF="index.htm"ALT="UNIX in a Nutshell: System V Edition"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/usrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch08_10.htm"TITLE="8.10 Setting Up Vi"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 8.10 Setting Up Vi"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 9</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_02.htm"TITLE="9.2 Alphabetical Summary of Ex Commands"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 9.2 Alphabetical Summary of Ex Commands"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="UNUT-CH-9">9. The Ex Editor</A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="sect1"HREF="#UNUT-CH-9-SECT-1"TITLE="9.1 Syntax of Ex Commands">Syntax of Ex Commands</A><BR><ACLASS="sect1"HREF="ch09_02.htm"TITLE="9.2 Alphabetical Summary of Ex Commands">Alphabetical Summary of Ex Commands</A></P><P></P></DIV><PCLASS="para"><ACLASS="indexterm"NAME="UNUT-CH-9-IX-EX-EDITOR"></A>Ex is a line editor that serves as the foundation for the screeneditor vi.  Ex commands work on the current line or on a range of lines in a file.  Most often, you use ex from within vi.In vi, ex commands are preceded by a colon and entered by pressing RETURN.</P><PCLASS="para">But you can invoke ex on its own-from the command line-just as you would invoke vi.  (You could execute an ex scriptthis way.)You can also use the vi command <BCLASS="emphasis.bold">Q</B> to quit the vi editor and enter ex.</P><PCLASS="para">This section presents the following topics:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Syntax of ex commands</P></LI><LICLASS="listitem"><PCLASS="para">Alphabetical summary of commands</P></LI></UL><PCLASS="para">For more information, see the Nutshell Handbook <EMCLASS="emphasis">Learning the viEditor</EM>.</P><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="UNUT-CH-9-SECT-1">9.1 Syntax of Ex Commands</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-28201"></A>To enter an ex command from vi, type:</P><BLOCKQUOTECLASS="blockquote"><PCLASS="para"><BCLASS="emphasis.bold">:</B>[<CODECLASS="replaceable"><I>address</I></CODE>]  <CODECLASS="replaceable"><I>command</I></CODE>  [<CODECLASS="replaceable"><I>options</I></CODE>]</P></BLOCKQUOTE><PCLASS="para">An initial <BCLASS="emphasis.bold">:</B> indicates an ex command.  As you type the command, it is echoed on the status line. Enter the command by pressing RETURN.<CODECLASS="replaceable"><I>address</I></CODE> is the line number or rangeof lines that are the object of <CODECLASS="replaceable"><I>command</I></CODE>.<CODECLASS="replaceable"><I>options</I></CODE> and <CODECLASS="replaceable"><I>addresses</I></CODE> are described below.Ex commands are described in the alphabetical summary.</P><PCLASS="para">You can exit ex in several ways:</P><PCLASS="para"></P><DLCLASS="variablelist"><DTCLASS="term">:x</DT><DDCLASS="listitem"><PCLASS="para">Exit (save changes and quit).</P></DD><DTCLASS="term">:q!</DT><DDCLASS="listitem"><PCLASS="para">Quit without saving changes.</P></DD><DTCLASS="term">:vi </DT><DDCLASS="listitem"><PCLASS="para">Quit and enter the vi editor.</P></DD></DL><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UNUT-CH-9-SECT-1.1">9.1.1 Options</A></H3><DLCLASS="variablelist"><DTCLASS="term">!</DT><DDCLASS="listitem"><PCLASS="para">Indicates a variant command form, overriding the normal behavior.</P></DD><DTCLASS="term"><EMCLASS="emphasis">count</EM></DT><DDCLASS="listitem"><PCLASS="para">The number of times the command is to be repeated.Unlike in vi commands, <CODECLASS="replaceable"><I>count</I></CODE> cannot precede the command, becausea number preceding an ex command is treatedas a line address.  For example, <BCLASS="emphasis.bold">d3</B>deletes three lines beginning with the current line; <BCLASS="emphasis.bold">3d</B> deletes line 3.</P></DD><DTCLASS="term"><EMCLASS="emphasis">file</EM></DT><DDCLASS="listitem"><PCLASS="para">The name of a file that is affected by the command.  <BCLASS="emphasis.bold">%</B>&nbsp;stands for current file;  <BCLASS="emphasis.bold">#</B> stands for previous file.</P></DD></DL></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UNUT-CH-9-SECT-1.2">9.1.2 Addresses</A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-28256"></A>If no address is given, the current line is the object of the command.If the address specifies a range of lines, the format is:</P><BLOCKQUOTECLASS="blockquote"><PCLASS="para">  <CODECLASS="replaceable"><I>x</I></CODE><BCLASS="emphasis.bold">,</B><CODECLASS="replaceable"><I>y</I></CODE> </P></BLOCKQUOTE><PCLASS="para">where <CODECLASS="replaceable"><I>x</I></CODE> and <CODECLASS="replaceable"><I>y</I></CODE> are the first and last addressed lines (<CODECLASS="replaceable"><I>x</I></CODE> must precede <CODECLASS="replaceable"><I>y</I></CODE> in the buffer).<CODECLASS="replaceable"><I>x</I></CODE> and <CODECLASS="replaceable"><I>y</I></CODE> may be a line number or a symbol. Using <BCLASS="emphasis.bold">;</B> instead of <BCLASS="emphasis.bold">,</B> sets the current line to <CODECLASS="replaceable"><I>x</I></CODE> before interpreting <CODECLASS="replaceable"><I>y</I></CODE>.The notation <BCLASS="emphasis.bold">1,$</B> addresses all lines in the file,as does <BCLASS="emphasis.bold">%</B>. </P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UNUT-CH-9-SECT-1.3">9.1.3 Address Symbols</A></H3><TABLECLASS="informaltable"><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">1,$</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">All lines in the file.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">%</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">All lines; same as <BCLASS="emphasis.bold">1,$</B>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="replaceable"><I>x</I></CODE>,<CODECLASS="replaceable"><I>y</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Lines <CODECLASS="replaceable"><I>x</I></CODE> through <CODECLASS="replaceable"><I>y</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="replaceable"><I>x</I></CODE>;<CODECLASS="replaceable"><I>y</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Lines <CODECLASS="replaceable"><I>x</I></CODE> through <CODECLASS="replaceable"><I>y</I></CODE>, with current line reset to <CODECLASS="replaceable"><I>x</I></CODE>.</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">0</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Top of file.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">.</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Current line.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Absolute line number <CODECLASS="replaceable"><I>n</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">$</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Last line.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="replaceable"><I>x</I></CODE>-<CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="replaceable"><I>n</I></CODE> lines before <CODECLASS="replaceable"><I>x</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="replaceable"><I>x</I></CODE>+<CODECLASS="replaceable"><I>n</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="replaceable"><I>n</I></CODE> lines after <CODECLASS="replaceable"><I>x</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">-[<CODECLASS="replaceable"><I>n</I></CODE>]</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">One or <CODECLASS="replaceable"><I>n</I></CODE> lines previous.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">+[<CODECLASS="replaceable"><I>n</I></CODE>]</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">One or <CODECLASS="replaceable"><I>n</I></CODE> lines ahead.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="replaceable"><I>'x</I></CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Line marked with <CODECLASS="replaceable"><I>x</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">''</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Previous mark.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">/<CODECLASS="replaceable"><I>pattern</I></CODE>/</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Forward to line matching <CODECLASS="replaceable"><I>pattern</I></CODE>.</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">?<CODECLASS="replaceable"><I>pattern</I></CODE>?</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Backward to line matching <CODECLASS="replaceable"><I>pattern</I></CODE>.</TD></TR></TBODY></TABLE><PCLASS="para">See Section 6 for more information on using patterns.</P></DIV></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch08_10.htm"TITLE="8.10 Setting Up Vi"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 8.10 Setting Up Vi"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX in a Nutshell: System V Edition"><IMGSRC="../gifs/txthome.gif"ALT="UNIX in a Nutshell: System V Edition"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_02.htm"TITLE="9.2 Alphabetical Summary of Ex Commands"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 9.2 Alphabetical Summary of Ex Commands"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">8.10 Setting Up Vi</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">9.2 Alphabetical Summary of Ex Commands</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="../upt/index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>