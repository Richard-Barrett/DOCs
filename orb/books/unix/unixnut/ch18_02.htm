<HTML><HEAD><TITLE>[Chapter 18] 18.2 Basic Operation</TITLE><METANAME="DC.title"CONTENT="UNIX in a Nutshell: System V Edition"><METANAME="DC.creator"CONTENT="Daniel Gilly &amp; the Staff of O'Reilly &amp; Associates"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-06T22:01:55Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-001-5"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch18_01.htm"TITLE="18. The RCS Utility"><LINKREL="prev"HREF="ch18_01.htm"TITLE="18.1 Overview of Commands"><LINKREL="next"HREF="ch18_03.htm"TITLE="18.3 General RCS Specifications"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX in a Nutshell: System V Edition"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,71"HREF="index.htm"ALT="UNIX in a Nutshell: System V Edition"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/usrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_01.htm"TITLE="18.1 Overview of Commands"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 18.1 Overview of Commands"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 18<BR>The RCS Utility</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_03.htm"TITLE="18.3 General RCS Specifications"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 18.3 General RCS Specifications"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UNUT-CH-18-SECT-2">18.2 Basic Operation</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-40251"></A>Normally, you maintain RCS files in a subdirectory called <BCLASS="emphasis.bold">RCS</B>,so the first step in using RCS should be:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>mkdir RCS</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Next, you place an existing file (or files) under RCS controlby running the check-in command:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>ci </B></CODE><CODECLASS="replaceable"><I>file</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-40263"></A>This creates a file called <CODECLASS="replaceable"><I>file</I></CODE><BCLASS="emphasis.bold">,v</B> in directory <BCLASS="emphasis.bold">RCS</B>.<CODECLASS="replaceable"><I>file</I></CODE><BCLASS="emphasis.bold">,v</B> is called an RCS file, and it will store all future revisionsof <CODECLASS="replaceable"><I>file</I></CODE>.  When you run <BCLASS="emphasis.bold">ci</B> on a file for the first time,you are prompted to describe the contents.  <BCLASS="emphasis.bold">ci</B> then deposits <CODECLASS="replaceable"><I>file</I></CODE>into the RCS file as revision 1.1.</P><PCLASS="para">To edit a new revision, check out a copy:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>co -l </B></CODE><CODECLASS="replaceable"><I>file</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-40280"></A>This causes RCS to extract a copy of <CODECLASS="replaceable"><I>file</I></CODE> from the RCS file.You must lock the file with <BCLASS="emphasis.bold">-l</B> to make it writable by you.This copy is called a working file.  When you're done editing,you can record the changes by checking the working file back in again:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>ci </B></CODE><CODECLASS="replaceable"><I>file</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">This time, you are prompted to enter a log of the changes made, andthe file is deposited as revision 1.2.  Note that a check innormally removes the working file.  To retrieve a read-only copy, do a check out without a lock:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>co </B></CODE><CODECLASS="replaceable"><I>file</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">This is useful when you need to keep a copy on hand for compiling or searching.As a shortcut to the previous <BCLASS="emphasis.bold">ci</B>/<BCLASS="emphasis.bold">co</B>, you could type:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>ci -u </B></CODE><CODECLASS="replaceable"><I>file</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">This checks in the file but immediately checks out a read-only copy.To compare changes between a working file and its latest revision,you can type:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="userinput"><B>rcsdiff </B></CODE><CODECLASS="replaceable"><I>file</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-40306"></A>Another useful command is <BCLASS="emphasis.bold">rlog</B>, which shows a summary oflog messages.  System administrators can use the <BCLASS="emphasis.bold">rcs</B> commandto set up default behavior of RCS.</P></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_01.htm"TITLE="18.1 Overview of Commands"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 18.1 Overview of Commands"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX in a Nutshell: System V Edition"><IMGSRC="../gifs/txthome.gif"ALT="UNIX in a Nutshell: System V Edition"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_03.htm"TITLE="18.3 General RCS Specifications"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 18.3 General RCS Specifications"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">18.1 Overview of Commands</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">18.3 General RCS Specifications</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="../upt/index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>