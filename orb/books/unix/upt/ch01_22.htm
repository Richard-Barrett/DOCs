<HTML><HEAD><TITLE>[Chapter 1] 1.22 How UNIX Keeps Track of Files: Inodes </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:31:26Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch01_01.htm"TITLE="1. Introduction"><LINKREL="prev"HREF="ch01_21.htm"TITLE="1.21 Making Pathnames "><LINKREL="next"HREF="ch01_23.htm"TITLE="1.23 File Access Permissions "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_21.htm"TITLE="1.21 Making Pathnames "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.21 Making Pathnames "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 1<BR>Introduction</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_23.htm"TITLE="1.23 File Access Permissions "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 1.23 File Access Permissions "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-1020">1.22 How UNIX Keeps Track of Files: Inodes </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2055"></A><ACLASS="indexterm"NAME="AUTOID-2057"></A>The ability to mumble about <EMCLASS="emphasis">inodes</EM> is the key to social success at aUNIX gurus' cocktail party. This may not seem attractive to you, butsooner or later you will need to know what an inode is.</P><PCLASS="para">Seriously, inodes are an important part of the UNIX filesystem.You don't need to worry about them most of the time, but it doeshelp to know what they are.</P><PCLASS="para">An inode is a data structure on the diskthat describes a file. It holds most of the important informationabout the file, including the on-disk address of the file's datablocks (the part of the file that you care about).Each inode has its own identifying number, called an <EMCLASS="emphasis">i-number</EM>.<ACLASS="indexterm"NAME="AUTOID-2064"></A>You really don'tcare about where a file is physically located on a disk.You usually don't care about the i-number&nbsp;- unless you're trying to<SPANCLASS="link">find the links (<ACLASS="linkend"HREF="ch18_03.htm"TITLE="Files with Two or More Names">18.3</A>, <ACLASS="linkend"HREF="ch17_22.htm"TITLE="Finding the Links to a File ">17.22</A>)</SPAN>to a file.But you docare about the following information, all of which is stored in afile's inode:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">The file's ownership: the user and the<SPANCLASS="link">group (<ACLASS="linkend"HREF="ch22_13.htm"TITLE="Groups and Group Ownership ">22.13</A>)</SPAN>that own the file</P></LI><LICLASS="listitem"><PCLASS="para">The file's<SPANCLASS="link">access mode (<ACLASS="linkend"HREF="ch01_23.htm"TITLE="File Access Permissions ">1.23</A>, <ACLASS="linkend"HREF="ch22_02.htm"TITLE="Tutorial on File and Directory Permissions ">22.2</A>)</SPAN>:whether or not various users and groups areallowed to read, write, or execute the file</P></LI><LICLASS="listitem"><PCLASS="para">The file's<SPANCLASS="link">timestamp (<ACLASS="linkend"HREF="ch21_05.htm"TITLE="What Good Is a File's Last Access Time? ">21.5</A>, <ACLASS="linkend"HREF="ch21_06.htm"TITLE="A File's Inode Change (not  &#34;Creation&quot;!) Time">21.6</A>)</SPAN>:when the file itself was last modified, whenthe file was last accessed, and when the inode was last modified</P></LI><LICLASS="listitem"><PCLASS="para">The file's type: whether the file is a regular file, a special file, orsome other kind of abstraction<SPANCLASS="link">masquerading (<ACLASS="linkend"HREF="ch01_29.htm"TITLE="When Is a File Not a File? ">1.29</A>)</SPAN>as a file</P></LI></UL><PCLASS="para">Each filesystem has a set number of inodes that are created when thefilesystem is first created (usually when the disk is firstinitialized). This number is therefore the maximum number of filesthat the filesystem can hold. It cannot be changed withoutreinitializing the filesystem, which destroys all the data that thefilesystem holds. It is possible, though rare,for a filesystem to run out of inodes, just like it ispossible to run out of storage space&nbsp;- this can happen on filesystemswith many, many small files.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2082"></A><ACLASS="indexterm"NAME="AUTOID-2085"></A>The<SPANCLASS="link"><EMCLASS="emphasis">ls -l</EM> (<ACLASS="linkend"HREF="ch22_02.htm"TITLE="Tutorial on File and Directory Permissions ">22.2</A>)</SPAN>command shows much of this information.The<SPANCLASS="link"><EMCLASS="emphasis">ls -i</EM> option (<ACLASS="linkend"HREF="ch18_04.htm"TITLE="More About Links ">18.4</A>)</SPAN>shows a file's i-number.The<ACLASS="indexterm"NAME="AUTOID-2092"></A><SPANCLASS="link"><EMCLASS="emphasis">stat</EM> (<ACLASS="linkend"HREF="ch21_13.htm"TITLE="Read an Inode with stat ">21.13</A>)</SPAN>command lists almost everything in an inode.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">ML</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_21.htm"TITLE="1.21 Making Pathnames "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 1.21 Making Pathnames "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch01_23.htm"TITLE="1.23 File Access Permissions "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 1.23 File Access Permissions "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">1.21 Making Pathnames </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">1.23 File Access Permissions </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>