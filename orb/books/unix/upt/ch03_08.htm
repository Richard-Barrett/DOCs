<HTML><HEAD><TITLE>[Chapter 3] 3.8 What tty Am I On? </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:32:37Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch03_01.htm"TITLE="3. Logging Out"><LINKREL="prev"HREF="ch03_07.htm"TITLE="3.7 Detaching a Session with screen "><LINKREL="next"HREF="ch04_01.htm"TITLE="4. Organizing Your Home Directory"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_07.htm"TITLE="3.7 Detaching a Session with screen "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.7 Detaching a Session with screen "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 3<BR>Logging Out</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch04_01.htm"TITLE="4. Organizing Your Home Directory"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 4. Organizing Your Home Directory"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-1150">3.8 What tty Am I On? </A></H2><PCLASS="para">Each login session has its own<SPANCLASS="link"><EMCLASS="emphasis">tty</EM> (<ACLASS="linkend"HREF="ch38_06.htm"TITLE="The Controlling Terminal ">38.6</A>)</SPAN>-a UNIX device file that handlesinput and output for your terminal, window, etc.Each tty has its own filename.If you're logged on more than once and other users want to<SPANCLASS="link"><EMCLASS="emphasis">write</EM> or <EMCLASS="emphasis">talk</EM> (<ACLASS="linkend"HREF="ch01_33.htm"TITLE="UNIX Networking and Communications ">1.33</A>)</SPAN>to you, they need to know which tty to use.If you have processes running on several ttys, you can tell which processis where.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-4277"></A>To do that, run the <EMCLASS="emphasis">tty</EM> command at a shell prompt in the window:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>tty</B></CODE>/dev/tty07</PRE></BLOCKQUOTE></P><PCLASS="para">You can tell other users to type <CODECLASS="literal">write</CODE>&nbsp;<CODECLASS="replaceable"><I>your-username</I></CODE>&nbsp;<CODECLASS="literal">tty07</CODE>.</P><PCLASS="para">Some systems have different kinds of ttys: a few dialup terminals, somenetwork ports for<SPANCLASS="link"><EMCLASS="emphasis">rlogin</EM> and <EMCLASS="emphasis">telnet</EM>, etc. (<ACLASS="linkend"HREF="ch01_33.htm"TITLE="UNIX Networking and Communications ">1.33</A>)</SPAN>.You or your system administrator can look in a system file like<EMCLASS="emphasis">/etc/ttys</EM>to find out which ttys are used for what.You can use this to make your login setup more automatic.For example, most network terminals on our computer have names like<CODECLASS="literal">/dev/ttyp</CODE><CODECLASS="replaceable"><I>x</I></CODE> or <CODECLASS="literal">/dev/ttyq</CODE><CODECLASS="replaceable"><I>x</I></CODE>, where <CODECLASS="replaceable"><I>x</I></CODE> is asingle digit or letter.I have a test in my<SPANCLASS="link"><EMCLASS="emphasis">.logout</EM> file (<ACLASS="linkend"HREF="ch03_01.htm#UPT-ART-4800"TITLE="Running Commands When You Log Out ">3.1</A>)</SPAN>that clears the screen and prints a<SPANCLASS="link">fortune (<ACLASS="linkend"HREF="ch03_03.htm"TITLE="Electronic Fortune Cookies ">3.3</A>)</SPAN>on all ttys except network:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist">&#13;<ACLASS="co"HREF="ch09_16.htm"TITLE="9.16 Command Substitution ">` `</A> <ACLASS="co"HREF="ch47_04.htm"TITLE="47.4 C Shell Variable Operators and Expressions ">!~</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen"># Clear screen and print fortune on non-network ttys:if (&quot;`tty`&quot; !~ /dev/tty[pq]*) then    clear    fortuneendif</PRE></TD></TR></TABLE></P><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="tty">tty</A><BR></TH><TDVALIGN="TOP">&#13;The GNU version of <EMCLASS="emphasis">tty</EM> is on the CD-ROM.</TD></TR></TABLE><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_07.htm"TITLE="3.7 Detaching a Session with screen "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 3.7 Detaching a Session with screen "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch04_01.htm"TITLE="4. Organizing Your Home Directory"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 4. Organizing Your Home Directory"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">3.7 Detaching a Session with screen </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">4. Organizing Your Home Directory</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>