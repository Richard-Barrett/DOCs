<HTML><HEAD><TITLE>[Chapter 5] 5.7 What termcap and terminfo Do and Don't Control </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:33:05Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch05_01.htm"TITLE="5. Setting Up Your Terminal"><LINKREL="prev"HREF="ch05_06.htm"TITLE="5.6 Checklist: Terminal Hangs When I Log In "><LINKREL="next"HREF="ch05_08.htm"TITLE="5.8 Terminal Escape Sequences "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_06.htm"TITLE="5.6 Checklist: Terminal Hangs When I Log In "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.6 Checklist: Terminal Hangs When I Log In "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 5<BR>Setting Up Your Terminal</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_08.htm"TITLE="5.8 Terminal Escape Sequences "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.8 Terminal Escape Sequences "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0076">5.7 What termcap and terminfo Do and Don't Control </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-5268"></A><ACLASS="indexterm"NAME="AUTOID-5270"></A>One important point to realize about <EMCLASS="emphasis">termcap</EM> and <EMCLASS="emphasis">terminfo</EM>is that many programs do not use them at all, and that there are severalother mechanisms that may also affect terminal operation.</P><PCLASS="para">The operation of the serial interface is controlled by several systemfiles (<EMCLASS="emphasis">/etc/ttys</EM> and <EMCLASS="emphasis">/etc/gettytab</EM> on BSD and othernon-AT&amp;T systems, and <EMCLASS="emphasis">/etc/inittab</EM> and <EMCLASS="emphasis">/etc/gettydefs</EM> inSystem V). Users can affect serial-line parameters with the<SPANCLASS="link"><EMCLASS="emphasis">stty</EM> (<ACLASS="linkend"HREF="ch05_09.htm"TITLE="Setting Your Erase, Kill, and Interrupt Characters ">5.9</A>, <ACLASS="linkend"HREF="ch41_03.htm"TITLE="Find Out Terminal Settings with stty ">41.3</A>, <ACLASS="linkend"HREF="ch41_02.htm"TITLE="stty and All That Stuff ">41.2</A>)</SPAN>command.In addition to normal communications parameterssuch as data rate, start and stop bits, parity, and so on, theseparameters include such things as the translation of the carriagereturns generated by most terminals into the linefeeds expected bymost UNIX programs, division of input into lines, and definition ofspecial control characters for erasing a character that has beentyped, killing a line of typed input, and interrupting a runningprocess.</P><PCLASS="para">One other area that <EMCLASS="emphasis">termcap</EM> and <EMCLASS="emphasis">terminfo</EM> do not control isterminal tab setting. This is done by the <EMCLASS="emphasis">tabs</EM> command.For more information, see the manual pages on <EMCLASS="emphasis">stty</EM>(4) and <EMCLASS="emphasis">termio</EM>(7) (System V).</P><PCLASS="para"><EMCLASS="emphasis">termcap</EM> and <EMCLASS="emphasis">terminfo</EM>, by contrast, tend to control visualattributes of the terminal. The terminal capabilities defined for aterminal tell a screen-oriented program how big the screen is (forscreen-by-screen paging and cursor movement), how to move to any pointon the screen, how to refresh the screen, how to enter and exit anyspecial display modes (such as inverse video, blinking, orunderlining), and so on.[The screen size may be set in other ways, too.See article<ACLASS="xref"HREF="ch42_05.htm"TITLE="Checklist: Screen Size Messed Up? ">42.5</A>.<EMCLASS="emphasis">-JP</EM>&nbsp;]</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-5293"></A>But there is some overlap. For example, a terminal can be unusablebecause a program has left either the serial line modes or theterminal itself in an unexpected state. For this reason,<SPANCLASS="link">terminal initialization (<ACLASS="linkend"HREF="ch05_11.htm"TITLE="Initializing the Terminal with tset ">5.11</A>)</SPAN>,as performed by the <EMCLASS="emphasis">tset</EM> and <EMCLASS="emphasis">tput</EM> programs,initializes both theterminal and the serial line interface.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">TOR</SPAN> <SPANCLASS="bibliomisc">from O'Reilly &amp; Associates' <CITECLASS="citetitle">termcap &amp; terminfo</CITE>, Chapter 1</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_06.htm"TITLE="5.6 Checklist: Terminal Hangs When I Log In "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.6 Checklist: Terminal Hangs When I Log In "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_08.htm"TITLE="5.8 Terminal Escape Sequences "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.8 Terminal Escape Sequences "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">5.6 Checklist: Terminal Hangs When I Log In </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">5.8 Terminal Escape Sequences </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>