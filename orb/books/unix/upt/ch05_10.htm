<HTML><HEAD><TITLE>[Chapter 5] 5.10 Finding What Terminal Names You Can Use </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:33:12Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch05_01.htm"TITLE="5. Setting Up Your Terminal"><LINKREL="prev"HREF="ch05_09.htm"TITLE="5.9 Setting Your Erase, Kill, and Interrupt Characters "><LINKREL="next"HREF="ch05_11.htm"TITLE="5.11 Initializing the Terminal with tset "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_09.htm"TITLE="5.9 Setting Your Erase, Kill, and Interrupt Characters "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.9 Setting Your Erase, Kill, and Interrupt Characters "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 5<BR>Setting Up Your Terminal</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_11.htm"TITLE="5.11 Initializing the Terminal with tset "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.11 Initializing the Terminal with tset "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0077">5.10 Finding What Terminal Names You Can Use </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-5495"></A><ACLASS="indexterm"NAME="AUTOID-5496"></A><ACLASS="indexterm"NAME="AUTOID-5497"></A><ACLASS="indexterm"NAME="AUTOID-5500"></A><ACLASS="indexterm"NAME="UPT-ART-77-IX-CONFIGURING-TERMINALS"></A><ACLASS="indexterm"NAME="UPT-ART-77-IX-TERMINALS-CONFIGURING"></A>A program that wants to make use of the terminal capabilitydatabase selects an entry according to the value of the <EMCLASS="emphasis">TERM</EM><ACLASS="indexterm"NAME="AUTOID-5509"></A><SPANCLASS="link">environment variable (<ACLASS="linkend"HREF="ch06_01.htm#UPT-ART-1170"TITLE="What Environment Variables Are Good For ">6.1</A>)</SPAN>.This variable is typically set when auser logs in. A second variable, either<SPANCLASS="link"><EMCLASS="emphasis">TERMCAP</EM> (<ACLASS="linkend"HREF="ch05_04.htm"TITLE="Setting the TERMCAP Variable with tset ">5.4</A>)</SPAN>or<EMCLASS="emphasis">TERMINFO</EM>, may also be set, if it is desirable to point toa terminal description that is not in the standard location.</P><PCLASS="para">It's easy enoughto find out what terminal type the system thinks you are currentlyusing. Simply type:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>echo $TERM</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">If nothing is printed, <EMCLASS="emphasis">TERM</EM> has not been set. (In the C shell,the message <CODECLASS="literal">TERM:</CODE> <CODECLASS="literal">Undefined</CODE> <CODECLASS="literal">variable</CODE> will be printed.)</P><PCLASS="para">It's also easy enough to set the terminal type.This is typically done when the user logs in butcan be done from the command line as follows:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>TERM=wy50; export TERM</B></CODE>% <CODECLASS="userinput"><B>setenv TERM wy50</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">But what if you sit down at a strange terminal and want to set theterminal type? How do you know what terminal name to use as the valueof <EMCLASS="emphasis">TERM</EM>?</P><PCLASS="para">The terminal names to which <EMCLASS="emphasis">TERM</EM> can legitimately be setcan be determined by searching through <EMCLASS="emphasis">/etc/termcap</EM> orby listing the names of files in the <EMCLASS="emphasis">/usr/lib/terminfo</EM>directory hierarchy.</P><PCLASS="para">The <EMCLASS="emphasis">termcap</EM> terminal database is stored in the singlefile <EMCLASS="emphasis">/etc/termcap</EM>.It is an ASCII file: all theinformation it contains is readable, if not immediatelycomprehensible. Each entry consists of a list of names forthe terminal, followed by a list of the terminal's capabilities.</P><PCLASS="para">The first line of each entry shows several different names, or aliases, for the terminal. At least one of the nameswill usually reflect themanufacturer's shorthand name for the terminal, but a longname is usually included as well, so you can simply search forthe manufacturer's name to get started. For example, if you were using a Wyse Technologies Wyse-50, you could check tomake sure that a terminal description for that terminalexisted in the <EMCLASS="emphasis">termcap</EM> database by typing:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>grep Wyse /etc/termcap</B></CODE>n9|wy50|Wyse Technology WY-50:\</PRE></BLOCKQUOTE></P><PCLASS="para">One or more lines like the one shown in the preceding example should beprinted (if any matching entries are found). Each line will showseveral names for the terminal, separated by vertical bars (<CODECLASS="literal">|</CODE>). The second name, <CODECLASS="literal">wy50</CODE>, is the one mostcommonly used as the value of <EMCLASS="emphasis">TERM</EM>.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-5548"></A>The compiled <EMCLASS="emphasis">terminfo</EM> database is stored ina directory hierarchy under <EMCLASS="emphasis">/usr/lib/terminfo</EM>.Each terminal entry is compiled (by a program called<EMCLASS="emphasis">tic</EM>) and stored in a separate file. Allterminals whose names beginwith the letter &quot;a&quot; arestored in the directory <EMCLASS="emphasis">/usr/lib/terminfo/a</EM>, and so onthrough the alphabet.[1]<SPANCLASS="link">Links (<ACLASS="linkend"HREF="ch18_03.htm"TITLE="Files with Two or More Names">18.3</A>)</SPAN>are used so that the terminaldescription can be accessed with any one of several names.[The<ACLASS="indexterm"NAME="AUTOID-5559"></A><SPANCLASS="link"><EMCLASS="emphasis">ls -R</EM> (<ACLASS="linkend"HREF="ch16_04.htm"TITLE="List All Subdirectories with ls -R ">16.4</A>)</SPAN>command will list all the descriptions at once.A command like<SPANCLASS="link"><EMCLASS="emphasis">find -name&nbsp;'*xxx*' -print</EM> (<ACLASS="linkend"HREF="ch17_04.htm"TITLE="Looking for Files with Particular Names ">17.4</A>)</SPAN>will find descriptions with a certain brand or model <EMCLASS="emphasis">xxx</EM> in thename. <EMCLASS="emphasis">-JP</EM>&nbsp;]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[1] The source is sometimes provided by some systems in<EMCLASS="emphasis">/usr/lib/terminfo.ti</EM>.Entries can be decompiled or displayed with a program called <EMCLASS="emphasis">infocmp</EM>.</P></BLOCKQUOTE><PCLASS="para">So, on a system supporting <EMCLASS="emphasis">terminfo</EM>, you would look forthe entry with the <EMCLASS="emphasis">ls</EM> command: </P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>ls /usr/lib/terminfo/w</B></CODE>wy-50wy100wy50wyse-50wyse50</PRE></BLOCKQUOTE></P><PCLASS="para">You should use the name of the appropriate file for the value of <EMCLASS="emphasis">TERM</EM>.</P><PCLASS="para">If it is not obvious from the name of the file which entryto use, you can use the following command to print outthe long name of the terminal:<ACLASS="indexterm"NAME="AUTOID-5577"></A></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>tput -T</B></CODE><CODECLASS="replaceable"><I>name</I></CODE> <CODECLASS="userinput"><B>longname</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;For example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>tput -Twy50 longname</B></CODE>Wyse Technologies Wy-50</PRE></BLOCKQUOTE></P><PCLASS="para">You should be aware that for a terminal with configurableoptions (such as a terminal with an 80- or 132-column mode),there may be several <EMCLASS="emphasis">termcap</EM> or <EMCLASS="emphasis">terminfo</EM>entries. Until you know enough aboutthe terminal database to compare the entries and find outhow they differ, you will simply need to take your chances.Experiment with each of the entries and see which works best.Article<ACLASS="xref"HREF="ch41_11.htm"TITLE="How termcap and terminfo Describe Terminals ">41.11</A>explains more about the format of <EMCLASS="emphasis">termcap</EM> and <EMCLASS="emphasis">terminfo</EM> entries.[If none of them seem to work, setting <EMCLASS="emphasis">TERM</EM> to a name like<EMCLASS="emphasis">dumb</EM> or <EMCLASS="emphasis">unknown</EM> will give you a basic setup whileyou check other entries.The <EMCLASS="emphasis">vi</EM> editor will use its<SPANCLASS="link">open mode (<ACLASS="linkend"HREF="ch30_36.htm"TITLE="The ex Open Mode Can Be Handy ">30.36</A>)</SPAN>and pagers like<SPANCLASS="link"><EMCLASS="emphasis">less</EM> (<ACLASS="linkend"HREF="ch25_04.htm"TITLE='The "less&quot; Pager: More than "more&quot;'>25.4</A>)</SPAN>will complain a little, but you should be able to get by.<EMCLASS="emphasis">-JP</EM>&nbsp;]</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">TOR</SPAN> <SPANCLASS="bibliomisc">from O'Reilly &amp; Associates' <CITECLASS="citetitle">termcap &amp; terminfo</CITE>, Chapter 2</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_09.htm"TITLE="5.9 Setting Your Erase, Kill, and Interrupt Characters "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 5.9 Setting Your Erase, Kill, and Interrupt Characters "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch05_11.htm"TITLE="5.11 Initializing the Terminal with tset "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 5.11 Initializing the Terminal with tset "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">5.9 Setting Your Erase, Kill, and Interrupt Characters </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">5.11 Initializing the Terminal with tset </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>