<HTML><HEAD><TITLE>[Chapter 6] 6.6 The TZ Environment Variable </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-10-23T15:38:04Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch06_01.htm"TITLE="6. Shell and Environment Variables"><LINKREL="prev"HREF="ch06_05.htm"TITLE="6.5 PATH and path "><LINKREL="next"HREF="ch06_07.htm"TITLE="6.7 What Time Is It in Japan? "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_05.htm"TITLE="6.5 PATH and path "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 6.5 PATH and path "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 6<BR>Shell and Environment Variables</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_07.htm"TITLE="6.7 What Time Is It in Japan? "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 6.7 What Time Is It in Japan? "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-1173">6.6 The TZ Environment Variable </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="UPT-ART-1173-IX-TZ-ENVIRONMENT-VARIABLE"></A><ACLASS="indexterm"NAME="UPT-ART-1173-IX-TIMEZONES-TZ-VARIABLE-FOR"></A>The <EMCLASS="emphasis">TZ</EM> environment variable is a little obscure, but it can be veryuseful. It tells UNIX what time zone you're in. The default timezone was set when your system was first installed (and we'll assumeit was done correctly).However, there are lots of times when you wantto change your time zone temporarily. For example, you might beconnected via a communications program to a UNIX system in another time zone; its notion of thecorrect time is right for its location, but not for your location.Or you may move your system to another location; you need to changethe time zone, but you don't want to reinstall the software (which canbe painful).Article<ACLASS="xref"HREF="ch06_07.htm"TITLE="What Time Is It in Japan? ">6.7</A>shows how to use <EMCLASS="emphasis">TZ</EM> to check the time in another zone.</P><PCLASS="para">To set <EMCLASS="emphasis">TZ</EM>, give a command like:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>setenv TZ </B></CODE><CODECLASS="replaceable"><I>timezone</I></CODE>                      <EMCLASS="emphasis">C shell</EM>$ <CODECLASS="userinput"><B>TZ=</B></CODE><CODECLASS="replaceable"><I>timezone</I></CODE><CODECLASS="userinput"><B>; export TZ</B></CODE>                  <EMCLASS="emphasis">Bourne shell</EM></PRE></BLOCKQUOTE></P><PCLASS="para">This setting takes effect immediately; if you give the<SPANCLASS="link"><EMCLASS="emphasis">date</EM> (<ACLASS="linkend"HREF="ch51_10.htm"TITLE="The date Command ">51.10</A>)</SPAN>command, you'll see the current time in your new zone.</P><PCLASS="para">The time zones are, basically, files in the directory<EMCLASS="emphasis">/usr/lib/zoneinfo</EM> or its subdirectories. You'll have to lookthrough there to see what's available&nbsp;- but a lot is available,including all the time zones in the United States, Canada, Australia, most ofEurope, and a lot of Asia, Africa, and South America. A lot of &quot;oddball&quot;time zones are included: for example, the state of Indiana,large parts of which don't observe Daylight Savings Time, and Michigan, for reasonsthat are completely unclear to me.</P><PCLASS="para">So, let's say you want to set the current time so that it's correct inWyoming. You look in <EMCLASS="emphasis">/usr/lib/zoneinfo</EM> and see a directory named<EMCLASS="emphasis">US</EM>. You then look in the <EMCLASS="emphasis">US</EM> directory, and see a file named <EMCLASS="emphasis">Mountain</EM>.Soyour time zone setting is <EMCLASS="emphasis">US/Mountain</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>setenv TZ US/Mountain</B></CODE>% <CODECLASS="userinput"><B>date</B></CODE>Wed Mar  6 19:34:53 MST 1996</PRE></BLOCKQUOTE></P><PCLASS="para">You don't have to worry about the difference between daylight andstandard time, or the fact that Daylight Savings Time rules aren'tthe same everywhere. That information is all encoded in the<EMCLASS="emphasis">zonefiles</EM> database.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">ML</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_05.htm"TITLE="6.5 PATH and path "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 6.5 PATH and path "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_07.htm"TITLE="6.7 What Time Is It in Japan? "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 6.7 What Time Is It in Japan? "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">6.5 PATH and path </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">6.7 What Time Is It in Japan? </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>