<HTML><HEAD><TITLE>[Chapter 6] 6.7 What Time Is It in Japan? </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-10-23T15:38:05Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch06_01.htm"TITLE="6. Shell and Environment Variables"><LINKREL="prev"HREF="ch06_06.htm"TITLE="6.6 The TZ Environment Variable "><LINKREL="next"HREF="ch06_08.htm"TITLE="6.8 Shell Variables "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_06.htm"TITLE="6.6 The TZ Environment Variable "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 6.6 The TZ Environment Variable "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 6<BR>Shell and Environment Variables</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_08.htm"TITLE="6.8 Shell Variables "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 6.8 Shell Variables "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-7926">6.7 What Time Is It in Japan? </A></H2><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="tm">tm</A><BR></TH><TDVALIGN="TOP">The<SPANCLASS="link"><EMCLASS="emphasis">TZ</EM> (<ACLASS="linkend"HREF="ch06_06.htm"TITLE="The TZ Environment Variable ">6.6</A>)</SPAN>environment variablehas some convenient uses, particularly if you do business withpeople scattered all over the globe. Let's say you want to call yourtrading partner in Japan to find out how the stock exchange is doing.But you want to know, first, whether or not the market has opened (orwhether your partner is even awake!).You can use a shell script called <EMCLASS="emphasis">tm</EM> that does this for you.Or you can (quickly) set <EMCLASS="emphasis">TZ</EM> to&quot;Japan,&quot; print the date, and reset <EMCLASS="emphasis">TZ</EM>.Here are examples&nbsp;- including resetting <EMCLASS="emphasis">TZ</EM><SPANCLASS="link">temporarily (<ACLASS="linkend"HREF="ch06_10.htm"TITLE="Running a Command with a Temporarily Different Environment ">6.10</A>)</SPAN>in the Bourne and C shells:</TD></TR></TABLE><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist">&#13;<ACLASS="co"HREF="ch13_07.htm"TITLE="13.7 The () Subshell Operators ">( )</A> <ACLASS="co"HREF="ch08_05.htm"TITLE="8.5 Command-Line Evaluation ">;</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">% <CODECLASS="userinput"><B>date</B></CODE>Tue Mar  4 20:48:58 EST 1997% <CODECLASS="userinput"><B>tm Japan</B></CODE>Wed Mar  5 10:48:07 JST 1997 %(<CODECLASS="userinput"><B>setenv TZ Japan; date)</B></CODE>Wed Mar  5 10:48:13 JST 1997$ <CODECLASS="userinput"><B>TZ=Japan date</B></CODE>Wed Mar  5 10:48:22 JST 1997</PRE></TD></TR></TABLE></P><PCLASS="para">It's 10 A.M. over there; should be a good time to call.Of course, the argument to <EMCLASS="emphasis">TZ</EM> has to be one of the time zone files in<EMCLASS="emphasis">/usr/lib/zoneinfo</EM>. One &quot;gotcha&quot;: all the &quot;useful&quot; files in thisdirectory begin with uppercase letters. If you set <EMCLASS="emphasis">TZ</EM> to &quot;japan,&quot;you'll get the Greenwich mean time&nbsp;- which is only about nine hours off!The <EMCLASS="emphasis">tm</EM> script solves this by complaining if it can't find thetimezone file.</P><PCLASS="para">Another problem you may have is figuring out just what time zone isright for some parts of the world.For example, unless you know yourgeography fairly well, you might have trouble figuring out that theappropriate <EMCLASS="emphasis">TZ</EM> setting for Sydney, Australia is <EMCLASS="emphasis">Australia/NSW</EM>(New South Wales), while Perth is <EMCLASS="emphasis">Australia/West</EM>.On some systems, though, the timezone files include major cities.If you run <EMCLASS="emphasis">tm</EM> with no time zone, it will list the time zone names.<ACLASS="indexterm"NAME="AUTOID-6200"></A><ACLASS="indexterm"NAME="AUTOID-6201"></A></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">ML</SPAN>, <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_06.htm"TITLE="6.6 The TZ Environment Variable "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 6.6 The TZ Environment Variable "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch06_08.htm"TITLE="6.8 Shell Variables "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 6.8 Shell Variables "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">6.6 The TZ Environment Variable </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">6.8 Shell Variables </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>