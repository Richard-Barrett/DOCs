<HTML><HEAD><TITLE>[Chapter 7] 7.5 Multiline Shell Prompts </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:33:46Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch07_01.htm"TITLE="7. Setting Your Shell Prompt"><LINKREL="prev"HREF="ch07_04.htm"TITLE="7.4 Faster Prompt Setting with Built-Ins "><LINKREL="next"HREF="ch07_06.htm"TITLE="7.6 Session Information in Your Terminal's Status Line "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_04.htm"TITLE="7.4 Faster Prompt Setting with Built-Ins "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 7.4 Faster Prompt Setting with Built-Ins "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 7<BR>Setting Your Shell Prompt</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_06.htm"TITLE="7.6 Session Information in Your Terminal's Status Line "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 7.6 Session Information in Your Terminal's Status Line "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-1300">7.5 Multiline Shell Prompts </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-6821"></A>Lots of people like lots of information in their prompts: hostname,directory name, history number, maybe username.Lots of people have spent lots of time trying to make their prompts shortenough to fit across the screen and still leave room for typinga command longer than <EMCLASS="emphasis">ls</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&lt;elaineq@applefarm&gt; [/usr/elaineq/projects/april/week4] 23 % <CODECLASS="userinput"><B>ls</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Even with fairly short prompts, if you look back at a screen afterrunning a few commands, telling the data from the prompts can be alittle tough(real terminals don't show user input in boldface, so I won't do ithere either):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">'\&quot; DON'T BOLDFACE USER'S INPUT HERE, SO IT BLENDS TOGETHER LIKE REAL SCREEN:&lt;elaineq@applefarm&gt; [~] 56% cd beta&lt;elaineq@applefarm&gt; [~/beta] 57% which prog/usr/tst/applefarm/bin/beta/prog&lt;elaineq@applefarm&gt; [~/beta] 58% prog61,102 units inventoried; 3142 to do&lt;elaineq@applefarm&gt; [~/beta] 59%</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-6832"></A>One nice answer is to make a prompt that has more than one line.Here's part of a <EMCLASS="emphasis">.cshrc</EM> file that sets a three-line prompt: one blankline, one line with the hostname and current directory, and a third with thehistory number and a percent sign:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist">&#13;<ACLASS="co"HREF="ch50_07.htm"TITLE="50.7 How UNIX Systems Remember Their Name ">uname -n</A> <ACLASS="co"HREF="ch06_08.htm"TITLE="6.8 Shell Variables ">{..}</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">&#13;set hostname=`uname -n`alias setprompt 'set prompt=&quot;\\${hostname}:${cwd}\\\! % &quot;'alias cd 'chdir \!* &amp;&amp; setprompt'setprompt           # to set the initial prompt</PRE></TD></TR></TABLE></P><PCLASS="para">The prompts look like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">applefarm:/usr/elaineq/projects/april/week423 % prog | tee /dev/tty | mail -s &quot;prog results&quot; bigboss@corpoffice61,102 units inventoried; 3142 to doapplefarm:/usr/elaineq/projects/april/week424 % cd ~/betaapplefarm:/usr/elaineq/beta25 % prog | mail joanne</PRE></BLOCKQUOTE></P><PCLASS="para">The blank lines separate each command&nbsp;- though you may want to save space byomitting them.<ACLASS="indexterm"NAME="AUTOID-6846"></A>For example, Mike Sierra (here at O'Reilly &amp; Associates)uses a row of asterisks:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">***** 23 *** &lt;mike@mymac&gt; *** /home/mike/calendar *****% cd September***** 24 *** &lt;mike@mymac&gt; *** /home/mike/calendar/September *****%</PRE></BLOCKQUOTE></P><PCLASS="para">You don't need a multiline prompt-setting command to get a newline into<EMCLASS="emphasis">bash</EM> prompts.<ACLASS="indexterm"NAME="AUTOID-6852"></A>Just put a <CODECLASS="literal">\n</CODE> (which stands for a newline character)anywhere you want the prompt to break to a new line.</P><PCLASS="para">What I like best about multiline prompts is that you get a lot ofinformation but have the whole screen width for typing.  Of course,you can put different information in the prompt than I've shown here.The important idea is: if you want more information and need room totype, try a multiline prompt.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_04.htm"TITLE="7.4 Faster Prompt Setting with Built-Ins "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 7.4 Faster Prompt Setting with Built-Ins "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_06.htm"TITLE="7.6 Session Information in Your Terminal's Status Line "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 7.6 Session Information in Your Terminal's Status Line "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">7.4 Faster Prompt Setting with Built-Ins </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">7.6 Session Information in Your Terminal's Status Line </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>