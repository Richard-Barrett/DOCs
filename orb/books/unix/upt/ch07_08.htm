<HTML><HEAD><TITLE>[Chapter 7] 7.8 Highlighting in Shell Prompts </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:33:50Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch07_01.htm"TITLE="7. Setting Your Shell Prompt"><LINKREL="prev"HREF="ch07_07.htm"TITLE='7.7 A "Menu Prompt&quot; for Naive Users'><LINKREL="next"HREF="ch07_09.htm"TITLE="7.9 Show Subshell Level with $SHLVL "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_07.htm"TITLE='7.7 A "Menu Prompt&quot; for Naive Users'><IMGSRC="../gifs/txtpreva.gif"ALT='Previous: 7.7 A "Menu Prompt&quot; for Naive Users'BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 7<BR>Setting Your Shell Prompt</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_09.htm"TITLE="7.9 Show Subshell Level with $SHLVL "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 7.9 Show Subshell Level with $SHLVL "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-1330">7.8 Highlighting in Shell Prompts </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-6940"></A>If your prompt has some information that you want to stand out&nbsp;- or ifyou want your whole prompt to stand out from the rest of the text onthe screen&nbsp;- you might be able to make it in enhanced characters.If your terminal has special <SPANCLASS="link">escape sequences (<ACLASS="linkend"HREF="ch05_08.htm"TITLE="Terminal Escape Sequences ">5.8</A>)</SPAN>for enhancing the characters (and most do), you can use them to make partor all of your prompt stand out.</P><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="csh_init">csh_init</A><BR></TH><TDVALIGN="TOP">Let's say that you want to make sure people notice that they're loggedin as root (the superuser) by making part of the root prompt flash.Here are lines for the root <EMCLASS="emphasis">.cshrc</EM>: sh_init</TD></TR></TABLE><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist">&#13;<ACLASS="co"HREF="ch45_35.htm"TITLE="45.35 Using a Control Character in a Script ">echo...033</A> <ACLASS="co"HREF="ch50_07.htm"TITLE="50.7 How UNIX Systems Remember Their Name ">uname -n</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen"># Put ESCape character in $e.  Use to start blinking mode (${e}[5m)# and go back to normal mode (${e}[0m) on VT100-series terminals:set e=&quot;`echo x | tr x \\033`&quot;set prompt=&quot;${e}[5mroot${e}[0m@`uname -n`# &quot;</PRE></TD></TR></TABLE></P><PCLASS="para">That prompt might look like this, with the word <CODECLASS="literal">root</CODE> flashing:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">root@sys.ora.com#</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-6956"></A><ACLASS="indexterm"NAME="AUTOID-6959"></A>The prompt is set inside double quotes (<CODECLASS="literal">&quot;</CODE>), so the <CODECLASS="literal">uname -n</CODE>command is run once, when the <EMCLASS="emphasis">PS1</EM> string is first stored.In some shells, like <EMCLASS="emphasis">bash</EM> and <EMCLASS="emphasis">pdksh</EM>, you can put single quotes(<CODECLASS="literal">'</CODE>) around the <EMCLASS="emphasis">PS1</EM> string;this stores the backquotes (<CODECLASS="literal">`</CODE>) in the string, and the shell willinterpret them before it prints each prompt.(In this case, that's useless because the output of <CODECLASS="literal">uname -n</CODE>will always be the same.But if you want constantly updated information in your prompt, it'svery handy.)Article<ACLASS="xref"HREF="ch08_14.htm"TITLE="Bourne Shell Quoting ">8.14</A>tells more.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-6973"></A>Because the same escape sequences won't work on all terminals, it's probably agood idea to add<SPANCLASS="link">an <EMCLASS="emphasis">if</EM> test (<ACLASS="linkend"HREF="ch47_03.htm"TITLE="Conditional Statements with if ">47.3</A>)</SPAN>that only sets the prompt if the terminal type<EMCLASS="emphasis">$TERM</EM> is in the Digital Equipment Corporation VT100 series (or one thatemulates it).<ACLASS="xref"HREF="ch07_08.htm#UPT-ART-1330-TAB-0"TITLE="VT100 Escape Sequences for Highlighting">Table 7.1</A>shows a few escape sequences for VT100 and compatible terminals.The <CODECLASS="literal">ESC</CODE> in each sequence stands for an ESCape character.<ACLASS="indexterm"NAME="AUTOID-6981"></A></P><TABLECLASS="table"><CAPTIONCLASS="table"><ACLASS="title"NAME="UPT-ART-1330-TAB-0">Table 7.1: VT100 Escape Sequences for Highlighting</A></CAPTION><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Sequence</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">What it Does</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"> ESC[1m</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Bold, intensify foreground</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"> ESC[4m</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Underscore</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"> ESC[5m</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Blink</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"> ESC[7m</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">Reverse video</TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"> ESC[0m</TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1">All attributes off</TD></TR></TBODY></TABLE><PCLASS="para">Of course, you can use different escape sequences if your terminal needsthem.<ACLASS="indexterm"NAME="AUTOID-7007"></A><ACLASS="indexterm"NAME="AUTOID-7009"></A>Better, read your terminal's <EMCLASS="emphasis">terminfo</EM> or <EMCLASS="emphasis">termcap</EM> databasewith a program like<SPANCLASS="link"><EMCLASS="emphasis">tput</EM> or <EMCLASS="emphasis">tcap</EM> (<ACLASS="linkend"HREF="ch41_10.htm"TITLE="Using terminfo Capabilities in Shell Programs ">41.10</A>)</SPAN>to get the correct escape sequences for your terminal.Store the escape sequences in<SPANCLASS="link">shell variables (<ACLASS="linkend"HREF="ch06_08.htm"TITLE="Shell Variables ">6.8</A>)</SPAN>.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7018"></A><ACLASS="indexterm"NAME="AUTOID-7020"></A><EMCLASS="emphasis">bash</EM> interprets octal character strings in the prompt.So you can simplify the two commands above into the version below.Change the backquotes (<CODECLASS="literal">`...`</CODE>) to<SPANCLASS="link"><CODECLASS="literal">$(</CODE> and <CODECLASS="literal">)</CODE> (<ACLASS="linkend"HREF="ch09_16.htm"TITLE="Command Substitution ">9.16</A>)</SPAN>if you want:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">PS1=&quot;\033[5mroot\033[0m@`uname -n`# &quot;</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7031"></A>Eight-bit-clean versions of <EMCLASS="emphasis">tcsh</EM> can put standout, boldface, andunderline&nbsp;- and any other terminal escape sequence, too&nbsp;- into yourshell prompt.  For instance, <CODECLASS="literal">%S</CODE> starts standout mode and<CODECLASS="literal">%s</CODE> ends it; the <EMCLASS="emphasis">tcsh</EM> manpage has details for yourversion. </P><PCLASS="para">For example, to make the same prompt as above with the word<CODECLASS="literal">root</CODE> in standout mode (<EMCLASS="emphasis">tcsh</EM> puts the hostname into<CODECLASS="literal">%m</CODE>):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">set prompt = '%Sroot%s@%m# '</PRE></BLOCKQUOTE></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_07.htm"TITLE='7.7 A "Menu Prompt&quot; for Naive Users'><IMGSRC="../gifs/txtpreva.gif"ALT='Previous: 7.7 A "Menu Prompt&quot; for Naive Users'BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch07_09.htm"TITLE="7.9 Show Subshell Level with $SHLVL "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 7.9 Show Subshell Level with $SHLVL "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">7.7 A "Menu Prompt&quot; for Naive Users</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">7.9 Show Subshell Level with $SHLVL </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>