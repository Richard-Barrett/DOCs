<HTML><HEAD><TITLE>[Chapter 8] 8.7 Setting Your Search Path </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:34:16Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch08_01.htm"TITLE="8. How the Shell Interprets What You Type"><LINKREL="prev"HREF="ch08_06.htm"TITLE="8.6 Output Command-Line Arguments "><LINKREL="next"HREF="ch08_08.htm"TITLE="8.8 A Directory for Commands You Shouldn't Run "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch08_06.htm"TITLE="8.6 Output Command-Line Arguments "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 8.6 Output Command-Line Arguments "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 8<BR>How the Shell Interprets What You Type</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch08_08.htm"TITLE="8.8 A Directory for Commands You Shouldn't Run "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 8.8 A Directory for Commands You Shouldn't Run "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-7864">8.7 Setting Your Search Path </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7883"></A><ACLASS="indexterm"NAME="AUTOID-7886"></A>Your<SPANCLASS="link">search path (<ACLASS="linkend"HREF="ch06_04.htm"TITLE="The PATH Environment Variable ">6.4</A>, <ACLASS="linkend"HREF="ch06_05.htm"TITLE="PATH and path ">6.5</A>)</SPAN>controls what directories&nbsp;- and in what order&nbsp;- the shell searches for<SPANCLASS="link">external (<ACLASS="linkend"HREF="ch01_10.htm"TITLE="Internal and External Commands ">1.10</A>)</SPAN>commands.You can set a search path that takes effect every time you log inby editing your shell<SPANCLASS="link">setup file (<ACLASS="linkend"HREF="ch02_02.htm"TITLE="Shell Setup Files-Which, Where, and Why ">2.2</A>)</SPAN>.You might also want to change the path temporarily.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-7864-SECT-1.1">8.7.1 Setting Path in Shell Setup Files </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7895"></A>To change the &quot;default&quot; search path used every time you log in,edit the <CODECLASS="literal">PATH=...</CODE> line in your <EMCLASS="emphasis">.profile</EM> fileor the <CODECLASS="literal">set</CODE> <CODECLASS="literal">path=(...)</CODE> line in your <EMCLASS="emphasis">.cshrc</EM><ACLASS="indexterm"NAME="AUTOID-7903"></A><ACLASS="indexterm"NAME="AUTOID-7906"></A>or <EMCLASS="emphasis">.login</EM> file.</P><PCLASS="para">Add the<SPANCLASS="link">absolute pathname (<ACLASS="linkend"HREF="ch14_02.htm"TITLE="Using Relative and Absolute Pathnames ">14.2</A>)</SPAN>of the directory to the path.You have a choice:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">You can put the directory at the end of your path.(I think that's the best idea unless you know exactly what you're doing.)Then, commands in the directories you add will be used only if they haveuniquenamesthat aren't found anywhere else in the path.You can check that with a command like<SPANCLASS="link"><EMCLASS="emphasis">which</EM> (<ACLASS="linkend"HREF="ch50_08.htm"TITLE="Which Version Am I Using? ">50.8</A>)</SPAN>.</P></LI><LICLASS="listitem"><PCLASS="para">If you put the pathname close to the start of the path, beforestandard system directorieslike <EMCLASS="emphasis">/bin</EM>, then commands in the directory you addwill be used instead of system commands with the same name.That lets you replace commands that don't work the wayyou want with your own version.For instance, if you had the<SPANCLASS="link"><EMCLASS="emphasis">cal</EM> script that marks today's date (<ACLASS="linkend"HREF="ch48_07.htm"TITLE="cal That Marks Today's Date ">48.7</A>)</SPAN>in<SPANCLASS="link">your <EMCLASS="emphasis">bin</EM> (<ACLASS="linkend"HREF="ch04_02.htm"TITLE="A bin Directory for Your Programs and Scripts ">4.2</A>)</SPAN>,it would be used instead of the<SPANCLASS="link">system <EMCLASS="emphasis">cal</EM> (<ACLASS="linkend"HREF="ch48_06.htm"TITLE="Get Calendar for Any Month or Year: cal ">48.6</A>)</SPAN>.</P><PCLASS="para">If you set your path this way, you shouldbe especially careful not toaccidentally give some random program the same name as a system command&nbsp;- article<ACLASS="xref"HREF="ch44_21.htm"TITLE="Picking a Name for a New Command ">44.21</A>explains how to check for that.Also, be sure to make the directory unwritable by other users(with <CODECLASS="literal">chmod go-w</CODE>)-so they can't add malicious programs withthe same names as system utilities.</P></LI></UL><BLOCKQUOTECLASS="caution"><PCLASS="para"><STRONG>CAUTION:</STRONG> <ACLASS="indexterm"NAME="AUTOID-7931"></A>Installing your own version of standard system commands (like <EMCLASS="emphasis">ls</EM>or <EMCLASS="emphasis">rm</EM>) at the front of your path has a serious consequence.Many system programs and shell scripts will call a program like <EMCLASS="emphasis">ls</EM>and expect it to work just like the default system version of that program.If you install a version at the front of your search path that behavesdifferently, that can cause serious problems for an unsuspecting program.For example, you might install a version of <EMCLASS="emphasis">rm</EM> that writes messagesto standard output like &quot;Do you want to remove this file?&quot; and readsyour answer from standard input.The standard system <EMCLASS="emphasis">rm</EM> command won't prompt if its standard inputisn't a terminal.If your custom <EMCLASS="emphasis">rm</EM> doesn't work the same way as the system <EMCLASS="emphasis">rm</EM>,other programs that call <EMCLASS="emphasis">rm</EM> can mysteriously lock up whilethey wait (forever) for your private <EMCLASS="emphasis">rm</EM> to get an answer to its prompt.If you want to replace a system command, it's better to give yourversion a different name.</P></BLOCKQUOTE><PCLASS="para">When you log in, as your shell starts, before your setup files are read,your system probably has already set a default search path for you.Your system administrator can change that path.If your system has a default path, you should think about using it as part ofyour path&nbsp;- ask your administrator.To do that, include the variable <CODECLASS="literal">$PATH</CODE> or <CODECLASS="literal">$path</CODE> as you setyour path.For example, to add your <EMCLASS="emphasis">bin</EM> directory at the end of the systempath, use one of the following lines:[4]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[4] There's a small problem with this if you set your path in your <EMCLASS="emphasis">.cshrc</EM>or <EMCLASS="emphasis">ksh ENV</EM> file.Each time you start a<SPANCLASS="link">subshell (<ACLASS="linkend"HREF="ch38_04.htm"TITLE="Subshells ">38.4</A>)</SPAN>,your <EMCLASS="emphasis">bin</EM> directory will be added to the path again.That won't cause any errors but it will make the path longer than itneeds to be.If you want to work around this, use an environment variable like<SPANCLASS="link"><EMCLASS="emphasis">ENV_SET</EM> (<ACLASS="linkend"HREF="ch02_07.htm"TITLE="C Shell Setup Files Aren't Read When You Want Them to Be? ">2.7</A>)</SPAN>as a flag&nbsp;- and set the path only if <EMCLASS="emphasis">ENV_SET</EM> isn't set.</P></BLOCKQUOTE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">set path=($path ~/bin)                 <EMCLASS="emphasis">C shell</EM>PATH=$PATH:$HOME/bin                   <EMCLASS="emphasis">Bourne shell</EM></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;For Bourne-type shells, load the updated <EMCLASS="emphasis">PATH</EM> by typing a command like:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>. .profile</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;For the C shell, type one of these commands, depending on which file you changed:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>source .cshrc</B></CODE>% <CODECLASS="userinput"><B>source .login</B></CODE></PRE></BLOCKQUOTE></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-7864-SECT-1.2">8.7.2 Changing Path on the Command Line </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-7973"></A>As you work, you might need to add a directory to your path temporarily.For example, when I develop new versions of existing programs, I put themin a separate directory named something like <EMCLASS="emphasis">alpha-test</EM>.I don't usually want to run the alpha-test commands&nbsp;- but when I do, Iadd the <EMCLASS="emphasis">alpha-test</EM> directory to the front of my path temporarily.(It's handy to set the new path in a<SPANCLASS="link">subshell (<ACLASS="linkend"HREF="ch38_04.htm"TITLE="Subshells ">38.4</A>)</SPAN>so it won't change the path in my other shell.)Use the same path setting command you'd use in a shell setup file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>set path=(~/xxx/alpha-test $path)</B></CODE>      <EMCLASS="emphasis">C shell</EM>$ <CODECLASS="userinput"><B>PATH=$HOME/xxx/alpha-test:$PATH</B></CODE>        <EMCLASS="emphasis">Bourne shell</EM>$ <CODECLASS="userinput"><B>export PATH</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;Article<ACLASS="xref"HREF="ch08_08.htm"TITLE="A Directory for Commands You Shouldn't Run ">8.8</A>shows another way to change your path:command-by-command instead of directory-by-directory.</P></DIV><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch08_06.htm"TITLE="8.6 Output Command-Line Arguments "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 8.6 Output Command-Line Arguments "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch08_08.htm"TITLE="8.8 A Directory for Commands You Shouldn't Run "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 8.8 A Directory for Commands You Shouldn't Run "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">8.6 Output Command-Line Arguments </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">8.8 A Directory for Commands You Shouldn't Run </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>