<HTML><HEAD><TITLE>[Chapter 9] 9.5 Build Strings with {&nbsp;} </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:34:55Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch09_01.htm"TITLE="9. Saving Time on the Command Line"><LINKREL="prev"HREF="ch09_04.htm"TITLE="9.4 Use Wildcards to Create Files? "><LINKREL="next"HREF="ch09_06.htm"TITLE="9.6 String Editing (Colon) Operators "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_04.htm"TITLE="9.4 Use Wildcards to Create Files? "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 9.4 Use Wildcards to Create Files? "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 9<BR>Saving Time on the Command Line</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_06.htm"TITLE="9.6 String Editing (Colon) Operators "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 9.6 String Editing (Colon) Operators "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0245">9.5 Build Strings with {&nbsp;} </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-9824"></A>I've been finding more and more uses for the <CODECLASS="literal">{}</CODE> pattern-expansioncharacters in <EMCLASS="emphasis">csh</EM>, <EMCLASS="emphasis">tcsh</EM>, and <EMCLASS="emphasis">bash</EM>.(Other shells can use <CODECLASS="literal">{}</CODE>, too; see article<ACLASS="xref"HREF="ch15_03.htm"TITLE="Adding { } Operators to Korn (and Bourne) Shells ">15.3</A>.)They're similar to<SPANCLASS="link"><CODECLASS="literal">*</CODE>, <CODECLASS="literal">?</CODE>, and <CODECLASS="literal">[]</CODE> (<ACLASS="linkend"HREF="ch15_02.htm"TITLE="Filename Wildcards in a Nutshell ">15.2</A>)</SPAN>,but they don't match filenames the way that <CODECLASS="literal">*</CODE>, <CODECLASS="literal">?</CODE>, and<CODECLASS="literal">[]</CODE>do.You can give them arbitrarytext (not just filenames) to expand&nbsp;- that &quot;expand-anything&quot; ability iswhat makes them so useful.</P><PCLASS="para">Here are some examples to get you thinking:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">To fix a typo in a filename (change <EMCLASS="emphasis">fixbold5.c</EM> to<EMCLASS="emphasis">fixbold6.c</EM>):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>mv fixbold{5,6}.c</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">An easy way to see what the shell does with <CODECLASS="literal">{}</CODE> is by adding<SPANCLASS="link"><EMCLASS="emphasis">echo</EM> (<ACLASS="linkend"HREF="ch08_06.htm"TITLE="Output Command-Line Arguments ">8.6</A>)</SPAN>before the <EMCLASS="emphasis">mv</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>echo mv fixbold{5,6}.c</B></CODE>mv fixbold5.c fixbold6.c</PRE></BLOCKQUOTE></P><PCLASS="para"></P></LI><LICLASS="listitem"><PCLASS="para">To copy <EMCLASS="emphasis">filename</EM> to <EMCLASS="emphasis">filename.bak</EM> in one easy step:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>cp filename{,.bak}</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></LI><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-9868"></A>To print files from other directory(s) without retyping the whole pathname:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>lpr /usr3/hannah/training/{ed,vi,mail}/lab.{ms,out}</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">That would give<SPANCLASS="link"><EMCLASS="emphasis">lpr</EM> (<ACLASS="linkend"HREF="ch43_02.htm"TITLE="Introduction to Printing on UNIX ">43.2</A>)</SPAN>all of these files:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">/usr3/hannah/training/ed/lab.ms/usr3/hannah/training/ed/lab.out/usr3/hannah/training/vi/lab.ms/usr3/hannah/training/vi/lab.out/usr3/hannah/training/mail/lab.ms/usr3/hannah/training/mail/lab.out</PRE></BLOCKQUOTE></P><PCLASS="para">...in one fell swoop!</P></LI><LICLASS="listitem"><PCLASS="para">To edit ten new files that don't exist yet:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>vi /usr/foo/file{a,b,c,d,e,f,g,h,i,j}</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">That would make <EMCLASS="emphasis">/usr/foo/filea</EM>, <EMCLASS="emphasis">/usr/foo/fileb</EM>, ...<EMCLASS="emphasis">/usr/foo/filej</EM>.Because the files don't exist before the command starts,the wildcard <CODECLASS="literal">vi</CODE>&nbsp;<CODECLASS="literal">/usr/foo/file[a-j]</CODE><SPANCLASS="link">would <EMCLASS="emphasis">not</EM> work (<ACLASS="linkend"HREF="ch09_04.htm"TITLE="Use Wildcards to Create Files? ">9.4</A>)</SPAN>.</P></LI><LICLASS="listitem"><PCLASS="para">An easy way to step through three-digit numbers 000, 001, ..., 009, 010,011, ..., 099, 100, 101, ... 299is:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch09_11.htm"TITLE="9.11 Repeating a Command with a foreach Loop ">foreach</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">foreach n ({0,1,2}{0,1,2,3,4,5,6,7,8,9}{0,1,2,3,4,5,6,7,8,9})   ...<EMCLASS="emphasis">Do whatever with the number $n</EM>...end</PRE></TD></TR></TABLE></P><PCLASS="para">Yes, <EMCLASS="emphasis">csh</EM> also has built-in arithmetic, but its<SPANCLASS="link"><CODECLASS="literal">@</CODE> operator (<ACLASS="linkend"HREF="ch47_04.htm"TITLE="C Shell Variable Operators and Expressions ">47.4</A>)</SPAN><ACLASS="indexterm"NAME="AUTOID-9903"></A>can't make numberswith leading zeros.This nice trick shows thatthe <CODECLASS="literal">{}</CODE> operatorsare good for more than justfilenames.&#13;</P></LI><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-9908"></A>To create sets of subdirectories:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>mkdir man</B></CODE>% <CODECLASS="userinput"><B>mkdir man/{man,cat}{1,2,3,4,5,6,7,8}</B></CODE>% <CODECLASS="userinput"><B>ls -F man</B></CODE>cat1/   cat3/   cat5/   cat7/   man1/   man3/   man5/   man7/cat2/   cat4/   cat6/   cat8/   man2/   man4/   man6/   man8/</PRE></BLOCKQUOTE></P><PCLASS="para"></P></LI><LICLASS="listitem"><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-9920"></A>To print ten copies of the file <EMCLASS="emphasis">project_report</EM> (if your<SPANCLASS="link"><EMCLASS="emphasis">lpr</EM> (<ACLASS="linkend"HREF="ch43_02.htm"TITLE="Introduction to Printing on UNIX ">43.2</A>)</SPAN>command doesn't have a <EMCLASS="emphasis">-#10</EM> option):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>lpr project_repor{t,t,t,t,t,t,t,t,t,t}</B></CODE></PRE></BLOCKQUOTE></P></LI></UL><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_04.htm"TITLE="9.4 Use Wildcards to Create Files? "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 9.4 Use Wildcards to Create Files? "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_06.htm"TITLE="9.6 String Editing (Colon) Operators "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 9.6 String Editing (Colon) Operators "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">9.4 Use Wildcards to Create Files? </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">9.6 String Editing (Colon) Operators </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>