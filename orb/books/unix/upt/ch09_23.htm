<HTML><HEAD><TITLE>[Chapter 9] 9.23 Workaround for "Arguments too long&quot; Error</TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:35:30Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch09_01.htm"TITLE="9. Saving Time on the Command Line"><LINKREL="prev"HREF="ch09_22.htm"TITLE="9.22 xargs: Problems with Spaces and Newlines "><LINKREL="next"HREF="ch09_24.htm"TITLE="9.24 Get File List by Editing Output of ls -l, grep, etc. "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_22.htm"TITLE="9.22 xargs: Problems with Spaces and Newlines "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 9.22 xargs: Problems with Spaces and Newlines "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 9<BR>Saving Time on the Command Line</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_24.htm"TITLE="9.24 Get File List by Editing Output of ls -l, grep, etc. "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 9.24 Get File List by Editing Output of ls -l, grep, etc. "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0485">9.23 Workaround for &quot;Arguments too long&quot; Error</A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-11215"></A><ACLASS="indexterm"NAME="AUTOID-11217"></A>When the shell matches a<SPANCLASS="link">wildcard (<ACLASS="linkend"HREF="ch15_01.htm#UPT-ART-1480"TITLE="File Naming Wildcards ">15.1</A>)</SPAN>in a big directory or with long<SPANCLASS="link">pathnames (<ACLASS="linkend"HREF="ch14_02.htm"TITLE="Using Relative and Absolute Pathnames ">14.2</A>, <ACLASS="linkend"HREF="ch15_06.htm"TITLE="Maybe You Shouldn't Use Wildcards in Pathnames ">15.6</A>)</SPAN>,it can sometimes run out of room.You'll get an error like this:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch43_07.htm"TITLE="43.7 Quick-and-Dirty Formatting Before Printing ">pr</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">% <CODECLASS="userinput"><B>pr */* | lpr</B></CODE>Arguments too long.</PRE></TD></TR></TABLE></P><PCLASS="para">Sometimes you can work around that.The trick is to split the command line into pieces with<SPANCLASS="link">semicolons (<ACLASS="linkend"HREF="ch08_05.htm"TITLE="Command-Line Evaluation ">8.5</A>)</SPAN>-and use a<SPANCLASS="link">subshell (<ACLASS="linkend"HREF="ch13_07.htm"TITLE="The () Subshell Operators ">13.7</A>)</SPAN>to combine the outputs.For example, I rewrote the previous command like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>(pr [a-f]*/*;pr [g-m]*/*;pr [n-z]*/*) | lpr</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The first command prints the files in directories whose names start with&quot;a&quot; through &quot;f,&quot; and so on.</P><PCLASS="para">How did I decide where to split?There's no magic formula.The number of pieces you'll need and the way you divide them will dependon how many directories and files you're trying to match&nbsp;- and yourversion of UNIX.Do it by experiment.A dummy command like <EMCLASS="emphasis">true</EM> that ignores its arguments is good for this.In the example above, I first tried splitting the arguments in half.Then I split them more.I did the same for other chunks until the shell was happy with all of them:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>true [a-m]*/*</B></CODE> Arguments too long.% <CODECLASS="userinput"><B>true [a-f]*/*</B></CODE> % <CODECLASS="userinput"><B>true [g-z]*/*</B></CODE> Arguments too long.% <CODECLASS="userinput"><B>true [g-m]*/*</B></CODE> % <CODECLASS="userinput"><B>true [n-z]*/*</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">This trick works fine for commands like <EMCLASS="emphasis">pr</EM> that make regular outputthat is consistent whether you run separate chunks of files or do allat the same time.Some commands start each listing with a separate heading&nbsp;- for instance,<EMCLASS="emphasis">ls -l</EM> prints <CODECLASS="literal">total</CODE>&nbsp;<CODECLASS="replaceable"><I>n</I></CODE> before it lists a directory.That kind of command won't work as neatly with this trick because you'llget several headings mixed in with the output instead of just one.Still, it might be better than nothing!</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_22.htm"TITLE="9.22 xargs: Problems with Spaces and Newlines "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 9.22 xargs: Problems with Spaces and Newlines "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch09_24.htm"TITLE="9.24 Get File List by Editing Output of ls -l, grep, etc. "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 9.24 Get File List by Editing Output of ls -l, grep, etc. "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">9.22 xargs: Problems with Spaces and Newlines </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">9.24 Get File List by Editing Output of ls -l, grep, etc. </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>