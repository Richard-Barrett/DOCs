<HTML><HEAD><TITLE>[Chapter 11] 11.12 Pass History to Another Shell </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:36:15Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch11_01.htm"TITLE="11. The Lessons of History"><LINKREL="prev"HREF="ch11_11.htm"TITLE="11.11 Picking Up Where You Left Off "><LINKREL="next"HREF="ch11_13.htm"TITLE="11.13 Shell Command-Line Editing "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch11_11.htm"TITLE="11.11 Picking Up Where You Left Off "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 11.11 Picking Up Where You Left Off "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 11<BR>The Lessons of History</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch11_13.htm"TITLE="11.13 Shell Command-Line Editing "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 11.13 Shell Command-Line Editing "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-2190">11.12 Pass History to Another Shell </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-13090"></A><ACLASS="indexterm"NAME="AUTOID-13093"></A><ACLASS="indexterm"NAME="AUTOID-13096"></A><ACLASS="indexterm"NAME="AUTOID-13099"></A><ACLASS="indexterm"NAME="AUTOID-13102"></A>The C shell, Korn shell, and <EMCLASS="emphasis">bash</EM> automatically savea history of the commands you type.You can add your own commands to the <EMCLASS="emphasis">csh</EM> and <EMCLASS="emphasis">bash</EM> history listswithout retyping them.Why would you do that?</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">You might have a set of commands that you want to be able to recalland reuse every time you log in.This can be more convenient than aliases because you don't have to thinkof names for the aliases.It's handier than a shell script if you need to do a series of commandsbut they aren't always in the same order.</P></LI><LICLASS="listitem"><PCLASS="para">You might have several shells running (say, in several windows) and want to<SPANCLASS="link">pass the history from one shell to another shell (<ACLASS="linkend"HREF="ch11_11.htm"TITLE="Picking Up Where You Left Off ">11.11</A>)</SPAN>.</P></LI></UL><PCLASS="para">Here's an example.Use the <EMCLASS="emphasis">csh</EM> command <EMCLASS="emphasis">history -h</EM>,or the <EMCLASS="emphasis">bash</EM> command <EMCLASS="emphasis">history -w</EM>,to save the history from a shell to a file.Edit the file to take out commands you don't want:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><BCLASS="emphasis.bold">C shell</B>   <BCLASS="emphasis.bold">bash</B>% <CODECLASS="userinput"><B>mail -s &quot;My report&quot; bigboss</B></CODE>   $ <CODECLASS="userinput"><B>mail -s &quot;My report&quot; bigboss</B></CODE>    ...       ...% <CODECLASS="userinput"><B>history -h &gt; history.std</B></CODE>   $ <CODECLASS="userinput"><B>history -w history.std</B></CODE>% <CODECLASS="userinput"><B>vi history.std</B></CODE>   $ <CODECLASS="userinput"><B>vi history.std</B></CODE>    <ICLASS="lineannotation">...Clean up history...       ...Clean up history...</I></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;Read that file into another shell's history list withthe <EMCLASS="emphasis">csh</EM> command <EMCLASS="emphasis">source -h</EM>or the <EMCLASS="emphasis">bash</EM> command <EMCLASS="emphasis">history -r</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><BCLASS="emphasis.bold">C shell</B>   <BCLASS="emphasis.bold">bash</B>% <CODECLASS="userinput"><B>source -h history.std</B></CODE>   $ <CODECLASS="userinput"><B>history -r history.std</B></CODE>% <CODECLASS="userinput"><B>!ma</B></CODE>   $ <CODECLASS="userinput"><B>!ma</B></CODE>mail -s &quot;My report&quot; bigboss   mail -s &quot;My report&quot; bigboss</PRE></BLOCKQUOTE></P><PCLASS="para">Of course, you can also use <EMCLASS="emphasis">bash</EM><SPANCLASS="link">interactive command-line editing (<ACLASS="linkend"HREF="ch11_13.htm"TITLE="Shell Command-Line Editing ">11.13</A>)</SPAN>on the saved commands.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch11_11.htm"TITLE="11.11 Picking Up Where You Left Off "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 11.11 Picking Up Where You Left Off "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch11_13.htm"TITLE="11.13 Shell Command-Line Editing "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 11.13 Shell Command-Line Editing "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">11.11 Picking Up Where You Left Off </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">11.13 Shell Command-Line Editing </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>