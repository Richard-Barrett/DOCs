<HTML><HEAD><TITLE>[Chapter 12] 12.7 Stop Background Output with stty tostop </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:36:31Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch12_01.htm"TITLE="12. Job Control"><LINKREL="prev"HREF="ch12_06.htm"TITLE="12.6 Notification When Jobs Change State "><LINKREL="next"HREF="ch12_08.htm"TITLE="12.8 Job Control in a Nutshell "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch12_06.htm"TITLE="12.6 Notification When Jobs Change State "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 12.6 Notification When Jobs Change State "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 12<BR>Job Control</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch12_08.htm"TITLE="12.8 Job Control in a Nutshell "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 12.8 Job Control in a Nutshell "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-6590">12.7 Stop Background Output with stty tostop </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-13748"></A><ACLASS="indexterm"NAME="AUTOID-13751"></A><ACLASS="indexterm"NAME="AUTOID-13754"></A><ACLASS="indexterm"NAME="AUTOID-13757"></A><ACLASS="indexterm"NAME="AUTOID-13760"></A>If you put a job in the<SPANCLASS="link">background (<ACLASS="linkend"HREF="ch01_26.htm"TITLE="What a Multiuser System Can Do for You ">1.26</A>)</SPAN>and don't<SPANCLASS="link">redirect (<ACLASS="linkend"HREF="ch13_01.htm#UPT-ART-1023"TITLE="Using Standard Input and Output">13.1</A>)</SPAN>its output,text that the job writes to its standard output and standard error willcome to your screen.Those messages can mess up the screen while you're using another program.You could lose the (maybe important) messages, too&nbsp;- they might scroll offyour screen and be lost, or your foreground program may clear the screenand erase them.</P><PCLASS="para">Most BSD UNIX systems, and a lot of newer UNIXes withjob control,have the command <EMCLASS="emphasis">stty tostop</EM>.Type that command at a prompt, or put it in your<SPANCLASS="link"><EMCLASS="emphasis">.login</EM> or <EMCLASS="emphasis">.profile</EM> file (<ACLASS="linkend"HREF="ch02_01.htm#UPT-ART-4790"TITLE="Customizing the Shell ">2.1</A>)</SPAN>.*[2]After that, your shell'sbackground jobs that try to write to your terminal will be stopped.When you want to see the background job's output, bring it into theforeground (with <EMCLASS="emphasis">fg</EM>).</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[2] *This command sets the UNIX terminal<SPANCLASS="link">device driver (<ACLASS="linkend"HREF="ch42_01.htm#UPT-ART-1142"TITLE="Making Sense Out of the Terminal Mess ">42.1</A>)</SPAN>for all processes startedon it.<SPANCLASS="link">You don't need to set this for subshells (<ACLASS="linkend"HREF="ch02_02.htm"TITLE="Shell Setup Files-Which, Where, and Why ">2.2</A>)</SPAN>.</P></BLOCKQUOTE><PCLASS="para">How will you know that the background job has been stopped?The shell will print a message like this just before it prints a prompt:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">[1] + Stopped (tty output)    <CODECLASS="replaceable"><I>somejob</I></CODE>%</PRE></BLOCKQUOTE></P><PCLASS="para">The shell can also interrupt your foreground job with that message as soon asthe background job is stopped.To make it do that, set<SPANCLASS="link"><EMCLASS="emphasis">notify</EM> (<ACLASS="linkend"HREF="ch12_06.htm"TITLE="Notification When Jobs Change State ">12.6</A>)</SPAN>.</P><PCLASS="para">You can turn off this feature and let background jobs write to your terminalany time with the command:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>stty -tostop</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Article<ACLASS="xref"HREF="ch41_02.htm"TITLE="stty and All That Stuff ">41.2</A>has more about <EMCLASS="emphasis">stty</EM>.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch12_06.htm"TITLE="12.6 Notification When Jobs Change State "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 12.6 Notification When Jobs Change State "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch12_08.htm"TITLE="12.8 Job Control in a Nutshell "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 12.8 Job Control in a Nutshell "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">12.6 Notification When Jobs Change State </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">12.8 Job Control in a Nutshell </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>