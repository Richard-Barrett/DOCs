<HTML><HEAD><TITLE>[Chapter 13] 13.7 The () Subshell Operators </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:36:45Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch13_01.htm"TITLE="13. Redirecting Input and Output"><LINKREL="prev"HREF="ch13_06.htm"TITLE="13.6 Safe I/O Redirection with noclobber "><LINKREL="next"HREF="ch13_08.htm"TITLE="13.8 Using {list} to Group Bourne Shell Commands "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch13_06.htm"TITLE="13.6 Safe I/O Redirection with noclobber "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 13.6 Safe I/O Redirection with noclobber "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 13<BR>Redirecting Input and Output</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch13_08.htm"TITLE="13.8 Using {list} to Group Bourne Shell Commands "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 13.8 Using {list} to Group Bourne Shell Commands "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-6800">13.7 The () Subshell Operators </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-14430"></A><ACLASS="indexterm"NAME="AUTOID-14433"></A>A useful shell trick is to use parentheses, <CODECLASS="literal">()</CODE>, togroup commands.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-6800-SECT-1.1">13.7.1 Combining Several Commands </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-14440"></A>The output of the entire group can be passed together into a single pipeline.For example:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch08_06.htm"TITLE="8.6 Output Command-Line Arguments ">echo</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">$ <CODECLASS="userinput"><B>(cat file1; echo .bp; cat file2) | nroff</B></CODE></PRE></TD></TR></TABLE></P><PCLASS="para">This will interpose the<SPANCLASS="link"><EMCLASS="emphasis">nroff</EM> (<ACLASS="linkend"HREF="ch43_13.htm"TITLE="The Text Formatters nroff, troff, ditroff, ... ">43.13</A>)</SPAN><CODECLASS="literal">.bp</CODE> (break page)request between two files to be formatted.[3]</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[3] If you're using only <EMCLASS="emphasis">cat</EM> and a single <EMCLASS="emphasis">echo</EM>,you can use thiscommand instead:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>echo .bp | cat file1 - file2 | nroff</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The <EMCLASS="emphasis">cat</EM><SPANCLASS="link">\- option (<ACLASS="linkend"HREF="ch13_13.htm"TITLE='The "Filename&quot; - '>13.13</A>)</SPAN>tells <EMCLASS="emphasis">cat</EM> to read its standard input (inthis case, from the pipe and the <EMCLASS="emphasis">echo</EM>) at that point.<EMCLASS="emphasis">nroff</EM> gets exactly the same input.</P></BLOCKQUOTE><PCLASS="para">Parentheses are also very useful in the Bourneshell if you want to put an entire sequence of commands separated bysemicolons into the background.In the C shell, the command line below willgo immediately into the background.</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch01_26.htm"TITLE="1.26 What a Multiuser System Can Do for You ">&amp;</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">% <CODECLASS="userinput"><B>nroff -ms file1; nroff -ms file2 &amp;</B></CODE></PRE></TD></TR></TABLE></P><PCLASS="para">But in the Bourne shell, the background request (<CODECLASS="literal">&amp;</CODE>)will only apply to the second command, forcing youto wait for completion of the first job before youget back the system prompt.To get right back towork, you can type:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>(nroff -ms file1; nroff -ms file2) &amp;</B></CODE></PRE></BLOCKQUOTE></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-6800-SECT-1.2">13.7.2 Temporary Change of Directory and Environment </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-14477"></A><ACLASS="indexterm"NAME="AUTOID-14480"></A>The parentheses start a<SPANCLASS="link">subshell (<ACLASS="linkend"HREF="ch38_04.htm"TITLE="Subshells ">38.4</A>)</SPAN>.Commands that run between the parentheses won't affect the parent shell'senvironment.For instance,to run a command in another directory<SPANCLASS="link"> without changingyour active shell's current directory : (<ACLASS="linkend"HREF="ch38_03.htm"TITLE="Managing Processes: Overall Concepts ">38.3</A>)</SPAN></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>pwd</B></CODE>/home/trent% <CODECLASS="userinput"><B>(cd</B></CODE> <CODECLASS="replaceable"><I>somewhere-else</I></CODE><CODECLASS="userinput"><B>; nroff -ms file1 &gt; file.out) &amp;</B></CODE>[1] 22670% <CODECLASS="userinput"><B>pwd</B></CODE>/home/trent</PRE></BLOCKQUOTE></P><PCLASS="para">The file <EMCLASS="emphasis">file.out</EM> will be createdin the <EMCLASS="emphasis">somewhere-else</EM> directory.</P><PCLASS="para">Article<ACLASS="xref"HREF="ch13_08.htm"TITLE="Using {list} to Group Bourne Shell Commands ">13.8</A>shows another method for the Bourne shell.It's more limited but can also be more efficient.</P></DIV><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">TOR</SPAN>, <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch13_06.htm"TITLE="13.6 Safe I/O Redirection with noclobber "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 13.6 Safe I/O Redirection with noclobber "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch13_08.htm"TITLE="13.8 Using {list} to Group Bourne Shell Commands "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 13.8 Using {list} to Group Bourne Shell Commands "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">13.6 Safe I/O Redirection with noclobber </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">13.8 Using {list} to Group Bourne Shell Commands </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>