<HTML><HEAD><TITLE>[Chapter 13] 13.10 How to tee Several Commands Into One File </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:36:48Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch13_01.htm"TITLE="13. Redirecting Input and Output"><LINKREL="prev"HREF="ch13_09.htm"TITLE="13.9 Send Output Two or More Places with tee "><LINKREL="next"HREF="ch13_11.htm"TITLE="13.11 tpipe-Redirecting stdout to More than One Place "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch13_09.htm"TITLE="13.9 Send Output Two or More Places with tee "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 13.9 Send Output Two or More Places with tee "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 13<BR>Redirecting Input and Output</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch13_11.htm"TITLE="13.11 tpipe-Redirecting stdout to More than One Place "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 13.11 tpipe-Redirecting stdout to More than One Place "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-6570">13.10 How to tee Several Commands Into One File </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-14614"></A>The<SPANCLASS="link"><EMCLASS="emphasis">tee</EM> (<ACLASS="linkend"HREF="ch13_09.htm"TITLE="Send Output Two or More Places with tee ">13.9</A>)</SPAN>command writes its standard input to a file and writes thesame text to its standard output.You might want to collect several commands' output and <EMCLASS="emphasis">tee</EM> themall to the same file, one after another.The obvious way to do that is with the <EMCLASS="emphasis">-a</EM> option:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="replaceable"><I>some-command</I></CODE> <CODECLASS="userinput"><B>| tee teefile</B></CODE>$ <CODECLASS="replaceable"><I>another-command</I></CODE> <CODECLASS="userinput"><B>| tee -a teefile</B></CODE>$ <CODECLASS="replaceable"><I>a-third-command</I></CODE> <CODECLASS="userinput"><B>| tee -a teefile</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">A more efficient way is:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist">&#13;<ACLASS="co"HREF="ch09_13.htm"TITLE="9.13 Multiline Commands, Secondary Prompts ">&gt;</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">$ <CODECLASS="userinput"><B>(</B></CODE><CODECLASS="replaceable"><I>some-command</I></CODE>&gt; <CODECLASS="replaceable"><I>another-command</I></CODE>&gt; <CODECLASS="replaceable"><I>a-third-command</I></CODE><CODECLASS="userinput"><B>) | tee teefile</B></CODE></PRE></TD></TR></TABLE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-14639"></A>The<SPANCLASS="link">subshell operators (<ACLASS="linkend"HREF="ch13_07.htm"TITLE="The () Subshell Operators ">13.7</A>)</SPAN>collect the standard output of the three commands.The output all goes to one <EMCLASS="emphasis">tee</EM> command.The effect is the same&nbsp;- but with two fewer pipes, two fewer <EMCLASS="emphasis">tee</EM>s,and one more subshell.</P><PCLASS="para">&#13;Unfortunately, the C shell doesn't make this quite as easy.If you can type all the commands on one line, you can do it this way(the same thing works in the Bourne shell):</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>(</B></CODE><CODECLASS="replaceable"><I>command1</I></CODE>; <CODECLASS="replaceable"><I>command2</I></CODE>; <CODECLASS="replaceable"><I>command3</I></CODE><CODECLASS="userinput"><B>) | tee teefile</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Otherwise, use a semicolon and backslash (<CODECLASS="literal">;\</CODE>) at the end of each line:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>(</B></CODE><CODECLASS="replaceable"><I>some-command</I></CODE> <CODECLASS="userinput"><B>;\</B></CODE><CODECLASS="replaceable"><I>another-command</I></CODE> <CODECLASS="userinput"><B>;\</B></CODE><CODECLASS="replaceable"><I>a-third-command</I></CODE><CODECLASS="userinput"><B>) | tee teefile</B></CODE></PRE></BLOCKQUOTE></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch13_09.htm"TITLE="13.9 Send Output Two or More Places with tee "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 13.9 Send Output Two or More Places with tee "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch13_11.htm"TITLE="13.11 tpipe-Redirecting stdout to More than One Place "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 13.11 tpipe-Redirecting stdout to More than One Place "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">13.9 Send Output Two or More Places with tee </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">13.11 tpipe-Redirecting stdout to More than One Place </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>