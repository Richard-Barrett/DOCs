<HTML><HEAD><TITLE>[Chapter 16] 16.3 Reordering ls Listings </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:37:37Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch16_01.htm"TITLE="16. Where Did I Put That?"><LINKREL="prev"HREF="ch16_02.htm"TITLE="16.2 Finding Oldest or Newest Files with ls -t and ls -u "><LINKREL="next"HREF="ch16_04.htm"TITLE="16.4 List All Subdirectories with ls -R "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch16_02.htm"TITLE="16.2 Finding Oldest or Newest Files with ls -t and ls -u "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 16.2 Finding Oldest or Newest Files with ls -t and ls -u "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 16<BR>Where Did I Put That?</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch16_04.htm"TITLE="16.4 List All Subdirectories with ls -R "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 16.4 List All Subdirectories with ls -R "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-1571">16.3 Reordering ls Listings </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-16767"></A>In the<SPANCLASS="link">previous tutorial (<ACLASS="linkend"HREF="ch16_02.htm"TITLE="Finding Oldest or Newest Files with ls -t and ls -u ">16.2</A>)</SPAN>,I introduced you to several different waysof sorting <EMCLASS="emphasis">ls</EM>' output, based on file time. There was oneconstant: <EMCLASS="emphasis">ls</EM> listings were always from first (most recent) tolast, moving (first) down each column and then across the page.</P><PCLASS="para">That's often not the most convenient way to look at the world.For example, if you're going to look at a directory with many, manyfiles, it might be easier to list the files <EMCLASS="emphasis">across</EM> the screenfirst, and then down. This would be particularly nice if you'reusing a pager (like <EMCLASS="emphasis">pg</EM> or<SPANCLASS="link"><EMCLASS="emphasis">more</EM> (<ACLASS="linkend"HREF="ch25_03.htm"TITLE="Using more to Page Through Files ">25.3</A>)</SPAN>)to read the listing.Then the first screenful will show the files at the top of the list.Here's an example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">jerry@ora ~/.bin59 % <CODECLASS="userinput"><B>ls -x | pg</B></CODE>README        alifile       append        c-w           cgrepcrontab       cw            cx            dirtop        distprompterdrmm          echoerr       fixsubj       fols          inccincs          maillog       mhadd         mhprofile     pickthisrecomp        reheader      replf         rfl           rhnorhyes         rmmer         rn2mh         rtfm          saveartscandrafts    showmult      showpr        tcx           tofromunshar        weather       which         xmhprint      zfolderszloop         zrefile       zscan</PRE></BLOCKQUOTE></P><PCLASS="para">&#13;This listing is &quot;alphabetic&quot;-not sorted by time.So <EMCLASS="emphasis">README</EM> is first in the list (uppercase comesbelow lowercase), and <EMCLASS="emphasis">alifile</EM> is next to it.<ACLASS="indexterm"NAME="AUTOID-16783"></A>The <EMCLASS="emphasis">-x</EM> flag makes the outputmulti-column.BSD doesn't have <EMCLASS="emphasis">-x</EM>.To get the same sorting order under BSD, pipe <EMCLASS="emphasis">ls</EM> outputthrough the<SPANCLASS="link"><EMCLASS="emphasis">cols</EM> (<ACLASS="linkend"HREF="ch35_16.htm"TITLE="Make Columns Automatically with cols ">35.16</A>)</SPAN>script.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-16792"></A>Both BSD and System V have the <EMCLASS="emphasis">-C</EM> option; it sortsfilenames down columns instead of across.In fact, <EMCLASS="emphasis">-C</EM> is the default on BSD when you <EMCLASS="emphasis">aren't</EM>redirecting the output of <EMCLASS="emphasis">ls</EM>.If BSD <EMCLASS="emphasis">ls</EM> detects that it's writing anywhere other thana terminal, it defaults to single-column output, rather than multi-column.Under BSD, you'll need to use <EMCLASS="emphasis">-C</EM> (or another techniquelike the <EMCLASS="emphasis">cols</EM> script or <SPANCLASS="link"><EMCLASS="emphasis">pr&nbsp;-number</EM> (<ACLASS="linkend"HREF="ch35_17.htm"TITLE="Making Text in Columns with pr ">35.17</A>)</SPAN>)to get output in columns when you pipe <EMCLASS="emphasis">ls</EM> output.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-16806"></A>The <EMCLASS="emphasis">-r</EM> option lists the files in reverse order.I find this particularly useful when I'm looking at modification times.Because <EMCLASS="emphasis">-t</EM> shows files by modification time, newest first&nbsp;- using<EMCLASS="emphasis">-tr</EM> shows files by modification time, oldest first:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">jerry@ora ~/.bin 61 % <CODECLASS="userinput"><B>ls -tr</B></CODE>echoerr       replf         zscan         c-w           dirtopsaveart       xmhprint      zrefile       cx            cgreprtfm          distprompter  reheader      maillog       pickthisREADME        fixsubj       drmm          rfl           rhyesappend        mhadd         incc          showpr        rhnofols          rmmer         tofrom        zloop         crontabmhprofile     rn2mh         scandrafts    unshar        weatherrecomp        alifile       showmult      tcxincs          zfolders      cw            which</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-16816"></A>Adding the <EMCLASS="emphasis">-u</EM> option shows theleast recently accessed files first:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">jerry@ora ~/.bin63 % <CODECLASS="userinput"><B>ls -tur</B></CODE>README        maillog       which         mhadd         tofromalifile       replf         zfolders      crontab       tcxappend        reheader      zloop         recomp        showmultcgrep         rhyes         xmhprint      distprompter  mhprofiledirtop        rhno          zscan         cw            rmmerfixsubj       showpr        zrefile       cx            rflechoerr       scandrafts    drmm          c-w           rtfmfols          saveart       incc          weatherincs          unshar        pickthis      rn2mh</PRE></BLOCKQUOTE></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN>, <SPANCLASS="authorinitials">ML</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch16_02.htm"TITLE="16.2 Finding Oldest or Newest Files with ls -t and ls -u "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 16.2 Finding Oldest or Newest Files with ls -t and ls -u "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch16_04.htm"TITLE="16.4 List All Subdirectories with ls -R "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 16.4 List All Subdirectories with ls -R "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">16.2 Finding Oldest or Newest Files with ls -t and ls -u </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">16.4 List All Subdirectories with ls -R </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>