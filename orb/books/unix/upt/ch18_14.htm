<HTML><HEAD><TITLE>[Chapter 18] 18.14 Relinking Multiple Symbolic Links </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:39:11Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch18_01.htm"TITLE="18. Linking, Renaming, and Copying Files"><LINKREL="prev"HREF="ch18_13.htm"TITLE="18.13 One More Way to Do It "><LINKREL="next"HREF="ch18_15.htm"TITLE="18.15 Copying Directory Trees with cp -r "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_13.htm"TITLE="18.13 One More Way to Do It "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 18.13 One More Way to Do It "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 18<BR>Linking, Renaming, and Copying Files</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_15.htm"TITLE="18.15 Copying Directory Trees with cp -r "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 18.15 Copying Directory Trees with cp -r "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-8015">18.14 Relinking Multiple Symbolic Links </A></H2><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="relink">relink</A><BR></TH><TDVALIGN="TOP"><ACLASS="indexterm"NAME="AUTOID-20908"></A><ACLASS="indexterm"NAME="AUTOID-20911"></A><ACLASS="indexterm"NAME="AUTOID-20914"></A><ACLASS="indexterm"NAME="AUTOID-20917"></A>Like the <EMCLASS="emphasis">rename</EM> program in article<ACLASS="xref"HREF="ch18_10.htm"TITLE="There's More than One Way to Do It ">18.10</A>,the <EMCLASS="emphasis">relink</EM> program (a Perl script)relinks the symbolic links given according to the rule specified as thefirst argument.The argument is a Perl expression that is expected to modify the<CODECLASS="literal">$_</CODE> string in Perl for at least some of the names specified.For each symbolic link named on the command line, the Perl expressionwill be executed on the contents of the symbolic link with that name.If a given symbolic link's contents is not modified by the expression,it will not be changed.If a name given on the command line is not a symbolic link, it will be ignored.If no names are given on the command line, names will be readvia standard input.</TD></TR></TABLE><PCLASS="para">For example, to relink all symbolic links in the current directorypointing to somewhere in <EMCLASS="emphasis">X11R3</EM> so that they point to <EMCLASS="emphasis">X11R4</EM>,you might say:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>relink 's/X11R3/X11R4/' *</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Tochange all occurrences of links in the system from <EMCLASS="emphasis">/usr/spool</EM>to <EMCLASS="emphasis">/var/spool</EM>, you'd say:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch17_13.htm"TITLE="17.13 Searching for Files by Type ">-type l</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">$ <CODECLASS="userinput"><B>find / -type l -print | relink 's#^/usr/spool#/var/spool#'</B></CODE></PRE></TD></TR></TABLE></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">LW</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_13.htm"TITLE="18.13 One More Way to Do It "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 18.13 One More Way to Do It "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch18_15.htm"TITLE="18.15 Copying Directory Trees with cp -r "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 18.15 Copying Directory Trees with cp -r "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">18.13 One More Way to Do It </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">18.15 Copying Directory Trees with cp -r </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>