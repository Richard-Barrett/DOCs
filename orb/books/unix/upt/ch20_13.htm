<HTML><HEAD><TITLE>[Chapter 20] 20.13 SCCS Basics </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-10-23T15:45:03Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch20_01.htm"TITLE="20. Backing Up Files"><LINKREL="prev"HREF="ch20_12.htm"TITLE="20.12 Protecting Files with SCCS or RCS "><LINKREL="next"HREF="ch20_14.htm"TITLE="20.14 RCS Basics "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch20_12.htm"TITLE="20.12 Protecting Files with SCCS or RCS "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 20.12 Protecting Files with SCCS or RCS "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 20<BR>Backing Up Files</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch20_14.htm"TITLE="20.14 RCS Basics "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 20.14 RCS Basics "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-7943">20.13 SCCS Basics </A></H2><PCLASS="para">If you don't know SCCS, you probably thought it was hard to learn.Not true.Here is a simple introduction to SCCS.</P><OLCLASS="orderedlist"><LICLASS="listitem"><PCLASS="para">Create a subdirectory called<EMCLASS="emphasis">SCCS</EM>in the directory where you keep the code or other text filesyou want to protect.</P></LI><LICLASS="listitem"><PCLASS="para">Add the characters<CODECLASS="literal">%W%&nbsp;&nbsp;&nbsp;%G%</CODE>somewhere in the file you want to place under SCCS.Put this in a comment field. That is, use<CODECLASS="literal">/*&nbsp;%W%&nbsp;&nbsp;&nbsp;&nbsp;%G% */</CODE>in a C program and<CODECLASS="literal">#&nbsp;%W%&nbsp;&nbsp;&nbsp;&nbsp;%G%</CODE>in a shell script.</P></LI><LICLASS="listitem"><PCLASS="para">Place the file under source code control. This is done by typing:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sccs create</B></CODE> <CODECLASS="replaceable"><I>filename</I></CODE></PRE></BLOCKQUOTE></P></LI></OL><PCLASS="para">That's it. You're done.There are three more commands you need to know:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sccs get</B></CODE> <CODECLASS="replaceable"><I>filename</I></CODE>% <CODECLASS="userinput"><B>sccs edit</B></CODE> <CODECLASS="replaceable"><I>filename</I></CODE>% <CODECLASS="userinput"><B>sccs delta</B></CODE> <CODECLASS="replaceable"><I>filename</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;You may also want to add the following to your list of<SPANCLASS="link">aliases (<ACLASS="linkend"HREF="ch10_02.htm"TITLE="Aliases for Common Commands ">10.2</A>)</SPAN>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><BCLASS="emphasis.bold">C shell</B>      <CODECLASS="replaceable"><I>ksh, bash</I></CODE>alias Create 'sccs create'           alias Create='sccs create'alias Get 'sccs get'                 alias Get='sccs get'alias Edit 'sccs edit'               alias Edit='sccs edit'alias Delta 'sccs delta'             alias Delta='sccs delta'</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-22702"></A>The<EMCLASS="emphasis">get</EM>command will get a copy of the file from the Source Code ControlSystem. The file will be<SPANCLASS="link">marked read-only (<ACLASS="linkend"HREF="ch22_02.htm"TITLE="Tutorial on File and Directory Permissions ">22.2</A>)</SPAN>.<ACLASS="indexterm"NAME="AUTOID-22706"></A>If you want to edit the file, use the <EMCLASS="emphasis">edit</EM>command.Once you are done, return the file to the <EMCLASS="emphasis">SCCS</EM> directorywith the command<ACLASS="indexterm"NAME="AUTOID-22710"></A><EMCLASS="emphasis">delta</EM>.Each time you store the file, you'll get a new versionnumber, or &quot;delta.&quot;</P><PCLASS="para">There are only two more commands that you will need to know.If you checked out a file for editing, and later on decided you didn'twant to edit, use:<ACLASS="indexterm"NAME="AUTOID-22714"></A></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sccs unedit</B></CODE> <CODECLASS="replaceable"><I>filename</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">and if you want a list of all files currently checked out, use:<ACLASS="indexterm"NAME="AUTOID-22721"></A></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sccs check</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">That's all there is to it! If you are not using SCCS, you should.It is the best way to protect yourself. It does not require dozens oftapes.</P><PCLASS="para">It is much easier to just type:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sccs get -r1.12</B></CODE> <CODECLASS="replaceable"><I>filename</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">One command, and version 1.12 is restored.If it's not the right one, restore the version before or after the oneyou just grabbed. If you are worried that you are keeping 12 versionsof the file on the disk, and that this will use up a lot of diskspace, don't. SCCS stores the differences in a clever manner thatallows it to recover any version of the file in a single pass throughthe file. </P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-22734"></A><ACLASS="indexterm"NAME="AUTOID-22738"></A>Suppose you delete a file by accident?Well, if the file is just checked out with a <EMCLASS="emphasis">get</EM>,it will be retrieved and marked read-only, so deleting the file will cause <EMCLASS="emphasis">rm</EM>to ask you for confirmation.If you do delete it, you can recover it with another<EMCLASS="emphasis">get</EM>command.Suppose you check out a file with <EMCLASS="emphasis">edit</EM>,because you planned to change it.Well, if this file gets deleted accidentally, you would lose the mostrecent changes. This is why you should check your files back into SCCSfrequently&nbsp;- several times a day, if you wish.Do it whenever you make significant changes to the file, and it wouldbe difficult to remember all of the changes. Making hundreds ofchanges to a file without checking it back into the system is justbegging for trouble.</P><PCLASS="para">Good luck, and may you never delete another important file by accident.[There are several other revision control systems&nbsp;- including<SPANCLASS="link">RCS (<ACLASS="linkend"HREF="ch20_14.htm"TITLE="RCS Basics ">20.14</A>)</SPAN>,which is widely used and available on the CD-ROM.You can probably get the most help on whatever revision control system yourcolleagues use.Also see O'Reilly &amp; Associates' <EMCLASS="emphasis">Applying RCS and SCCS</EM>. <EMCLASS="emphasis">-JP</EM>&nbsp;]<ACLASS="indexterm"NAME="AUTOID-22749"></A></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">BB</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch20_12.htm"TITLE="20.12 Protecting Files with SCCS or RCS "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 20.12 Protecting Files with SCCS or RCS "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch20_14.htm"TITLE="20.14 RCS Basics "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 20.14 RCS Basics "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">20.12 Protecting Files with SCCS or RCS </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">20.14 RCS Basics </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>