<HTML><HEAD><TITLE>[Chapter 21] 21.7 Setting File Modification Time with touch </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:40:06Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch21_01.htm"TITLE="21. More About Managing Files"><LINKREL="prev"HREF="ch21_06.htm"TITLE="21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time"><LINKREL="next"HREF="ch21_08.htm"TITLE="21.8 The MAILCHECK and mail Variables Check More than Mail"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch21_06.htm"TITLE="21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 21<BR>More About Managing Files</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch21_08.htm"TITLE="21.8 The MAILCHECK and mail Variables Check More than Mail"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 21.8 The MAILCHECK and mail Variables Check More than Mail"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-7810">21.7 Setting File Modification Time with touch </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-23199"></A><ACLASS="indexterm"NAME="AUTOID-23202"></A><ACLASS="indexterm"NAME="AUTOID-23204"></A><ACLASS="indexterm"NAME="AUTOID-23207"></A><ACLASS="indexterm"NAME="AUTOID-23210"></A><ACLASS="indexterm"NAME="AUTOID-23212"></A><ACLASS="indexterm"NAME="AUTOID-23215"></A>How can you make a file quickly (often for some kind of test)?In the Bourne shell, use the command below.Because this command uses a<SPANCLASS="link">built-in (<ACLASS="linkend"HREF="ch01_10.htm"TITLE="Internal and External Commands ">1.10</A>)</SPAN>operator, it's fast and efficient.This creates a new file or empties an existing file:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">$ <CODECLASS="userinput"><B>&gt; </B></CODE><CODECLASS="replaceable"><I>filename</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The C shell doesn't allow that.From the C shell, you can empty a file by<SPANCLASS="link">copying <EMCLASS="emphasis">/dev/null</EM> onto it (<ACLASS="linkend"HREF="ch24_01.htm#UPT-ART-1730"TITLE="Instead of Removing a File, Empty It ">24.1</A>)</SPAN>.The easiest way to create an empty file is with the <EMCLASS="emphasis">touch</EM> command.<EMCLASS="emphasis">touch</EM> is also useful from any shell to change an existingfile's modification time to &quot;now&quot;-without changingthe file's contents (usually for an automatic<SPANCLASS="link">file time comparison (<ACLASS="linkend"HREF="ch17_08.htm"TITLE="Exact File Time Comparisons ">17.8</A>, <ACLASS="linkend"HREF="ch28_13.htm"TITLE="make Isn't Just for Programmers! ">28.13</A>, <ACLASS="linkend"HREF="ch21_09.htm"TITLE="Keep File Printouts Up-to-Date Automatically with make">21.9</A>)</SPAN>).You can touch more than one file at a time.Just type:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>touch </B></CODE><CODECLASS="replaceable"><I>filename1 filename2</I></CODE><CODECLASS="userinput"><B> ...</B></CODE></PRE></BLOCKQUOTE></P><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="touch">touch</A><BR></TH><TDVALIGN="TOP">&#13;Some versions of <EMCLASS="emphasis">touch</EM> (including the GNU version onthe CD-ROM)can create a file with an arbitrary timestamp.That is, you can use <EMCLASS="emphasis">touch</EM> to make a file that's backdated toany point in the past (or, for that matter, postdated to some pointin the future).If your version can do that, the syntax is probably like:</TD></TR></TABLE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>touch</B></CODE> <CODECLASS="replaceable"><I>date filename1 filename2</I></CODE><CODECLASS="userinput"><B> ...</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;where <CODECLASS="replaceable"><I>date</I></CODE> has the form:</P><BLOCKQUOTECLASS="blockquote"><PCLASS="para"><CODECLASS="replaceable"><I>modyhrmiyy</I></CODE></P></BLOCKQUOTE><PCLASS="para">and:&#13;</P><DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="replaceable"><I>mo</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">is two digits, representing the month. </P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>dy</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">is two digits, representing the day of the month.</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>hr</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">is two digits, representing the hour (on a 24-hour clock).</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>mi</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">is two digits, representing the minute within the hour.</P></DD><DTCLASS="term"><CODECLASS="replaceable"><I>yy</I></CODE></DT><DDCLASS="listitem"><PCLASS="para">is two digits, representing the year (within the twentieth century).These two digits are optional; if you omit them, <EMCLASS="emphasis">date</EM> assumesthe current year.&#13;</P></DD></DL><PCLASS="para">For example, to create a file dated 4&nbsp;p.m., March&nbsp;20 of this year, give thecommand:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>touch 03201600 foo</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">If you don't want to use a different timestamp (that is, you want thecurrent time) and the filename starts with a digit, <EMCLASS="emphasis">touch</EM> mightthink that the filename is a time and complain &quot;date: bad conversion.&quot;To start a filename with a digit, use a relative pathname that startswith a<SPANCLASS="link"><CODECLASS="literal">.</CODE> (dot) (<ACLASS="linkend"HREF="ch01_21.htm"TITLE="Making Pathnames ">1.21</A>)</SPAN>.For example, to make a file<EMCLASS="emphasis">123456</EM> in the current directory:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>touch ./123456</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Article<ACLASS="xref"HREF="ch22_16.htm"TITLE="Copying Permissions with cpmod ">22.16</A>explains <EMCLASS="emphasis">cpmod</EM>, a program on the CD-ROM for copyingdates and permissions from file to file.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">ML</SPAN>, <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch21_06.htm"TITLE="21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch21_08.htm"TITLE="21.8 The MAILCHECK and mail Variables Check More than Mail"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 21.8 The MAILCHECK and mail Variables Check More than Mail"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">21.6 A File's Inode Change (not  "Creation&quot;!) Time</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">21.8 The MAILCHECK and mail Variables Check More than Mail</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>