<HTML><HEAD><TITLE>[Chapter 21] 21.11 Safer Removing, Moving, and Copying </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:40:13Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch21_01.htm"TITLE="21. More About Managing Files"><LINKREL="prev"HREF="ch21_10.htm"TITLE="21.10 Keep a Directory Listing at Top of the Screen: dirtop "><LINKREL="next"HREF="ch21_12.htm"TITLE="21.12 Copying Files to a Directory "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch21_10.htm"TITLE="21.10 Keep a Directory Listing at Top of the Screen: dirtop "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 21.10 Keep a Directory Listing at Top of the Screen: dirtop "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 21<BR>More About Managing Files</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch21_12.htm"TITLE="21.12 Copying Files to a Directory "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 21.12 Copying Files to a Directory "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0409">21.11 Safer Removing, Moving, and Copying </A></H2><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="rm">rm</A><BR></TH><TDVALIGN="TOP"><ACLASS="indexterm"NAME="AUTOID-23515"></A><ACLASS="indexterm"NAME="AUTOID-23518"></A><ACLASS="indexterm"NAME="AUTOID-23520"></A><ACLASS="indexterm"NAME="AUTOID-23524"></A><ACLASS="indexterm"NAME="AUTOID-23527"></A>By default, the UNIX utilities <EMCLASS="emphasis">rm</EM>, <EMCLASS="emphasis">mv</EM>, and <EMCLASS="emphasis">cp</EM>do what you tell them to without asking.If that means overwriting existing files or deleting all the filesin the directory, they'll do it.If you want more safety, you can add aliases like these to your<SPANCLASS="link">shell startup files (<ACLASS="linkend"HREF="ch02_02.htm"TITLE="Shell Setup Files-Which, Where, and Why ">2.2</A>)</SPAN>:</TD></TR></TABLE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><BCLASS="emphasis.bold">C shell</B>   <BCLASS="emphasis.bold">ksh</B>, <BCLASS="emphasis.bold">bash</B>alias rm /bin/rm -i   alias rm='/bin/rm -i'alias cp /bin/cp -i   alias cp='/bin/cp -i'alias mv /bin/mv -i   alias mv='/bin/mv -i'</PRE></BLOCKQUOTE></P><PCLASS="para">&#13;(The pathname <CODECLASS="literal">/bin/</CODE> may be different on your system.You may be able to omit it completely, but watch out for alias loops ifyou do.)Then, when you type <CODECLASS="literal">cp</CODE> or <CODECLASS="literal">mv</CODE> at the command line,the command will prompt you before destroying an existing file.And the <CODECLASS="literal">rm</CODE> command will always prompt you before every fileyou ask it to remove (with a wildcard, this can take some time!).<ACLASS="indexterm"NAME="AUTOID-23545"></A><ACLASS="indexterm"NAME="AUTOID-23548"></A><ACLASS="indexterm"NAME="AUTOID-23551"></A><ACLASS="indexterm"NAME="AUTOID-23554"></A><ACLASS="indexterm"NAME="AUTOID-23557"></A><ACLASS="indexterm"NAME="AUTOID-23560"></A>These aliases set the <EMCLASS="emphasis">-i</EM> (interactive) option; most versions of<EMCLASS="emphasis">cp</EM>, <EMCLASS="emphasis">mv</EM>, and <EMCLASS="emphasis">rm</EM> have it.</P><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="cp">cp</A><BR><ACLASS="programreference"HREF="examples/index.htm"TITLE="mv">mv</A><BR></TH><TDVALIGN="TOP">&#13;The GNU versions of <EMCLASS="emphasis">cp</EM> and <EMCLASS="emphasis">mv</EM> have <EMCLASS="emphasis">-i</EM> options.They also have an alternative: the <EMCLASS="emphasis">-b</EM> option, which automaticallymakes a backup of any file that will be overwritten.</TD></TR></TABLE><BLOCKQUOTECLASS="note"><PCLASS="para"><STRONG>NOTE:</STRONG> These aliases can be dangerous when you <EMCLASS="emphasis">don't</EM> have them.If you change to a new shell or use another account without thesealiases, you can destroy files before you realize that the aliasesaren't there to protect you.So, I don't use any of these aliases on my account.Instead, I check what I type before I press RETURN.</P></BLOCKQUOTE><PCLASS="para">You can override the alias by typing:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>\rm *.o</B></CODE>   <EMCLASS="emphasis">C shells</EM>$ <CODECLASS="userinput"><B>command rm *.o</B></CODE>   <EMCLASS="emphasis">bash</EM>$ <CODECLASS="userinput"><B>/bin/rm *.o</B></CODE>   <EMCLASS="emphasis">Bourne shells</EM></PRE></BLOCKQUOTE></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch21_10.htm"TITLE="21.10 Keep a Directory Listing at Top of the Screen: dirtop "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 21.10 Keep a Directory Listing at Top of the Screen: dirtop "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch21_12.htm"TITLE="21.12 Copying Files to a Directory "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 21.12 Copying Files to a Directory "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">21.10 Keep a Directory Listing at Top of the Screen: dirtop </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">21.12 Copying Files to a Directory </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>