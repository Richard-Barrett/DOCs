<HTML><HEAD><TITLE>[Chapter 22] 22.20 Why Can't You Change File Ownership Under BSD UNIX?</TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:40:42Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch22_01.htm"TITLE="22. File Security, Ownership, and Sharing"><LINKREL="prev"HREF="ch22_19.htm"TITLE="22.19 Shell Scripts Must be Readable and (Usually) Executable"><LINKREL="next"HREF="ch22_21.htm"TITLE="22.21 How to Change File Ownership Without chown"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch22_19.htm"TITLE="22.19 Shell Scripts Must be Readable and (Usually) Executable"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 22.19 Shell Scripts Must be Readable and (Usually) Executable"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 22<BR>File Security, Ownership, and Sharing</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch22_21.htm"TITLE="22.21 How to Change File Ownership Without chown"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 22.21 How to Change File Ownership Without chown"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0316">22.20 Why Can't You Change File Ownership Under BSD UNIX?</A></H2><PCLASS="para">[Chris is explaining why Berkeley UNIX systems allow only<SPANCLASS="link">root (<ACLASS="linkend"HREF="ch01_24.htm"TITLE="The Superuser (Root) ">1.24</A>)</SPAN>to change a file's ownership.If you need to change ownership, there is a<SPANCLASS="link">workaround (<ACLASS="linkend"HREF="ch22_21.htm"TITLE="How to Change File Ownership Without chown">22.21</A>)</SPAN>.&nbsp;- JP]</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-24864"></A><ACLASS="indexterm"NAME="AUTOID-24866"></A><ACLASS="indexterm"NAME="AUTOID-24869"></A>This restriction is not bogus, because the system supports <SPANCLASS="link">disk quotas (<ACLASS="linkend"HREF="ch24_17.htm"TITLE="Disk Quotas ">24.17</A>)</SPAN>.If you could give away your own files, you could:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">mkdir .hide; chmod 700 .hidecd .hidecreate_huge_file &gt;foochown prof1 foocreate_huge_file &gt;barchown prof2 barcreate_huge_file &gt;bazchown prof3 baz</PRE></BLOCKQUOTE></P><PCLASS="para">All you would need do is find someone with a high quota or no quota (suchas a professor) who does not often check his own usage (such as aprofessor) and probably does not care that the disk is 99 percent full (suchas a, er, well, never mind), and then give away files as necessaryto keep under your own quota.You could regain ownership of the file bycopying it to another disk partition, removing the original, and copyingit back.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">CT</SPAN> <SPANCLASS="bibliomisc">in <ACLASS="systemitem.newsgroup"HREF="news:comp.unix.questions">comp.unix.questions</A> on Usenet, 6 July 1989</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch22_19.htm"TITLE="22.19 Shell Scripts Must be Readable and (Usually) Executable"><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 22.19 Shell Scripts Must be Readable and (Usually) Executable"BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch22_21.htm"TITLE="22.21 How to Change File Ownership Without chown"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 22.21 How to Change File Ownership Without chown"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">22.19 Shell Scripts Must be Readable and (Usually) Executable</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">22.21 How to Change File Ownership Without chown</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>