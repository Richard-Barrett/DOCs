<HTML><HEAD><TITLE>[Chapter 24] 24.17 Disk Quotas </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:41:47Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch24_01.htm"TITLE="24. Other Ways to Get Disk Space"><LINKREL="prev"HREF="ch24_16.htm"TITLE="24.16 Trimming a Huge Directory "><LINKREL="next"HREF="ch24_18.htm"TITLE="24.18 Huge Files Might Not Take a Lot of Disk Space "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch24_16.htm"TITLE="24.16 Trimming a Huge Directory "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 24.16 Trimming a Huge Directory "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 24<BR>Other Ways to Get Disk Space</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch24_18.htm"TITLE="24.18 Huge Files Might Not Take a Lot of Disk Space "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 24.18 Huge Files Might Not Take a Lot of Disk Space "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-1800">24.17 Disk Quotas </A></H2><PCLASS="para">No matter how much disk space you have, you will eventually run out.<ACLASS="indexterm"NAME="AUTOID-27039"></A>One way the system administrator can force users to clean up is to imposequotas on disk usage.BSD UNIX supports a disk quota system that will enforce the quotas thesystem administrator sets up. Prior to V.4, System V had no quota system atall.In Release V.4, System V supports quotas for BSD-style (UFS) filesystems.</P><PCLASS="para">If you're a user, how do quotas affect you? Sooner or later, you mayfind that you're over your quota.Quotas are maintained on a per-filesystem basis. They may be placed ondisk storage (the number of blocks) and on inodes (the number of files).<ACLASS="indexterm"NAME="AUTOID-27042"></A><ACLASS="indexterm"NAME="AUTOID-27044"></A>The quota system maintains the concept of <EMCLASS="emphasis">hard</EM> and <EMCLASS="emphasis">soft</EM> limits.When you exceed a soft limit, you'll get a warning (<CODECLASS="literal">WARNING: disk quota exceeded</CODE>), but you can continue toaccumulate more storage. The warning will be repeated whenever youlog in. At some point (i.e., after some number of sessions in which thestorage stays above the soft limit), the system loses patience and refusesto allocate any more storage. You'll get a message like <CODECLASS="literal">OVER DISK QUOTA:NO MORE DISK SPACE</CODE>. At this point, you must delete filesuntil you're again within the soft limit. Users are never allowed toexceed their hard limit. This design allows you to have large temporaryfiles without penalty, provided that they do not occupy too much disk spacelong-term.</P><PCLASS="para">There may also be a quota on the number of files (i.e., <SPANCLASS="link">inodes (<ACLASS="linkend"HREF="ch01_22.htm"TITLE="How UNIX Keeps Track of Files: Inodes ">1.22</A>)</SPAN>)you can own per filesystem.It works exactly the same way; you'll get a warning when you exceed the soft limit; if you don't delete some files, the system will eventually refuse to create new files.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">ML</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch24_16.htm"TITLE="24.16 Trimming a Huge Directory "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 24.16 Trimming a Huge Directory "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch24_18.htm"TITLE="24.18 Huge Files Might Not Take a Lot of Disk Space "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 24.18 Huge Files Might Not Take a Lot of Disk Space "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">24.16 Trimming a Huge Directory </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">24.18 Huge Files Might Not Take a Lot of Disk Space </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>