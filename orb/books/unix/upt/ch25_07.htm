<HTML><HEAD><TITLE>[Chapter 25] 25.7 Show Non-Printing Characters with cat -v or od -c </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:43:11Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch25_01.htm"TITLE="25. Showing What's in a File"><LINKREL="prev"HREF="ch25_06.htm"TITLE="25.6 What's in That White Space? "><LINKREL="next"HREF="ch25_08.htm"TITLE="25.8 Finding File Types "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch25_06.htm"TITLE="25.6 What's in That White Space? "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 25.6 What's in That White Space? "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 25<BR>Showing What's in a File</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch25_08.htm"TITLE="25.8 Finding File Types "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 25.8 Finding File Types "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-2640">25.7 Show Non-Printing Characters with cat -v or od -c </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="UPT-ART-2640-IX-CAT-COMMAND-V-OPTION-V-OPTION"></A><ACLASS="indexterm"NAME="UPT-ART-2640-IX-OD-COMMAND-C-OPTION-C-OPTION"></A><ACLASS="indexterm"NAME="UPT-ART-2640-IX-FILES-DISPLAYING-CONTENTS-OF-CAT-COMMAND"></A><ACLASS="indexterm"NAME="UPT-ART-2640-IX-FILES-DISPLAYING-CONTENTS-OF-OD-UTILITY"></A><ACLASS="indexterm"NAME="AUTOID-27513"></A>Especially if you use an ASCII-based terminal, files canhave characters that your terminal can't display.Some characters will lock up your communications software or hardware,make your screen look strange, or cause other weird problems.So if you'd like to look at a file and you aren't sure what's in there,it's not a good idea to just <EMCLASS="emphasis">cat</EM> the file!</P><PCLASS="para">Instead, try <EMCLASS="emphasis">cat -v</EM>.It turns non-printable characters into a printable form.In fact, although most manual pages don't explain how, you can read theoutput and see what's in the file.Another utility for displaying non-printable files is <EMCLASS="emphasis">od</EM>.I usually use its <EMCLASS="emphasis">-c</EM> option when I need to look at a filecharacter by character.</P><PCLASS="para">Let's look at a file that's almost guaranteed to be unprintable: adirectory file.This example is on astandard V7 (UNIX Version&nbsp;7) filesystem.(Unfortunately, some UNIX systems won't let you read a directory.If you want to follow along on one of those systems, try a<SPANCLASS="link">compressed file (<ACLASS="linkend"HREF="ch24_07.htm"TITLE="Compressing Files to Save Space ">24.7</A>)</SPAN>or an executable program from <EMCLASS="emphasis">/bin</EM>.)A directory usually has some long lines, so it's a good idea to pipe<EMCLASS="emphasis">cat</EM>'s output through<SPANCLASS="link"><EMCLASS="emphasis">fold</EM> (<ACLASS="linkend"HREF="ch43_08.htm"TITLE="Fixing Margins with pr and fold ">43.8</A>)</SPAN>:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch24_16.htm"TITLE="24.16 Trimming a Huge Directory ">-f</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">% <CODECLASS="userinput"><B>ls -fa</B></CODE>...comp% <CODECLASS="userinput"><B>cat -v . | fold -62</B></CODE>M-^?^N.^@^@^@^@^@^@^@^@^@^@^@^@^@&gt;^G..^@^@^@^@^@^@^@^@^@^@^@^@M-acomp^@^@^@^@^@^@^@^@^@^@^@^@MassAveFood^@^@^@^@^@hist^@^@^@^@^@^@^@^@^@^@% <CODECLASS="userinput"><B>od -c .</B></CODE>0000000 377 016   .  \0  \0  \0  \0  \0  \0  \0  \0  \0  \0  \0  \0  \00000020   &gt; 007   .   .  \0  \0  \0  \0  \0  \0  \0  \0  \0  \0  \0  \00000040 341  \n   c   o   m   p  \0  \0  \0  \0  \0  \0  \0  \0  \0  \00000060  \0  \0   M   a   s   s   A   v   e   F   o   o   d  \0  \0  \00000100  \0  \0   h   i   s   t  \0  \0  \0  \0  \0  \0  \0  \0  \0  \00000120</PRE></TD></TR></TABLE></P><PCLASS="para">Each entry in a V7-type directory is 16 bytes long (that's also 16characters, in the<SPANCLASS="link">ASCII (<ACLASS="linkend"HREF="ch51_03.htm"TITLE="ASCII Characters: Listing and Getting Values ">51.3</A>)</SPAN>system).The <EMCLASS="emphasis">od -c</EM> command starts each line with the number of bytes, inoctal, shown since the start of the file.The first line starts at byte 0.The second line starts at byte 20 (that's byte 16 in decimal, the way most ofus count).And so on.Enough about <EMCLASS="emphasis">od</EM> for now, though.We'll come back in a minute.Time to dissect the <EMCLASS="emphasis">cat -v</EM> output:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">You've probably seen sequences like <CODECLASS="literal">^N</CODE> and <CODECLASS="literal">^G</CODE>.Those are control characters.(Find them in the <EMCLASS="emphasis">cat -v</EM> output, please.)</P><PCLASS="para">Another character like this is <CODECLASS="literal">^@</CODE>, the character NUL (ASCII&nbsp;0).There are a lot of NULs in the directory; more about that below.A DEL character (ASCII&nbsp;177 octal) is shown as <CODECLASS="literal">^?</CODE>.Check an<SPANCLASS="link">ASCII chart (<ACLASS="linkend"HREF="ch51_03.htm"TITLE="ASCII Characters: Listing and Getting Values ">51.3</A>)</SPAN>.</P></LI><LICLASS="listitem"><PCLASS="para"><EMCLASS="emphasis">cat -v</EM> has its own symbol for characters outside the ASCII rangewith their high bits set,also called metacharacters.<EMCLASS="emphasis">cat -v</EM> prints those as <CODECLASS="literal">M-</CODE> followed by another character.There are two of them in the <EMCLASS="emphasis">cat -v</EM> output: <CODECLASS="literal">M-^?</CODE> and<CODECLASS="literal">M-a</CODE>.</P><PCLASS="para">To get a metacharacter, you add 200 octal.&quot;Say what?&quot;Let's look at <CODECLASS="literal">M-a</CODE> first.The octal value of the letter <CODECLASS="literal">a</CODE> is 141.When <EMCLASS="emphasis">cat -v</EM> prints <CODECLASS="literal">M-a</CODE>, it means the character you getby adding 141+200, or 341 octal.</P><PCLASS="para">You can decode the character <EMCLASS="emphasis">cat</EM> prints as <CODECLASS="literal">M-^?</CODE> in the same way.The <CODECLASS="literal">^?</CODE> stands for the DEL character, which is octal 177.Add 200+177 to get 377 octal.</P></LI><LICLASS="listitem"><PCLASS="para">If a character isn't <CODECLASS="literal">M-</CODE><CODECLASS="replaceable"><I>something</I></CODE> or <CODECLASS="literal">^</CODE><CODECLASS="replaceable"><I>something</I></CODE>,it's a regular printable character.The entries in the directory (<CODECLASS="literal">.</CODE>, <CODECLASS="literal">..</CODE>, <CODECLASS="literal">comp</CODE>,<CODECLASS="literal">MassAveFood</CODE>, and <CODECLASS="literal">hist</CODE>) are all made of regular ASCIIcharacters.</P><PCLASS="para">If you're wondering where the entries <CODECLASS="literal">MassAveFood</CODE> and <CODECLASS="literal">hist</CODE>are in the <EMCLASS="emphasis">ls</EM> listing, the answer is: they aren't.Those entries have been deleted from the directory.UNIX putstwo NUL (ASCII&nbsp;0, or <CODECLASS="literal">^@</CODE>) bytes in front of the name whena file has been deleted.</P></LI></UL><PCLASS="para"><EMCLASS="emphasis">cat</EM> has two options, <EMCLASS="emphasis">-t</EM> and <EMCLASS="emphasis">-e</EM>,for displaying white space in a line.The <EMCLASS="emphasis">-v</EM> option doesn't convert TAB and trailing space characters to avisible form without those options.See article<ACLASS="xref"HREF="ch25_06.htm"TITLE="What's in That White Space? ">25.6</A>.</P><PCLASS="para">Next, time for <EMCLASS="emphasis">od -c</EM>;it's easier to explain than <EMCLASS="emphasis">cat -v</EM>:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para"><EMCLASS="emphasis">od -c</EM> shows some characters starting with a backslash (<CODECLASS="literal">\</CODE>).It uses the standard UNIX and C abbreviations for<SPANCLASS="link">control characters (<ACLASS="linkend"HREF="glossary.htm#UPT-ART-1010"TITLE="Glossary">52.9</A>)</SPAN>where it can.For instance, <CODECLASS="literal">\n</CODE> stands for a newline character, <CODECLASS="literal">\t</CODE>for a tab, etc.There's a newline at the start of the <CODECLASS="literal">comp</CODE> entry&nbsp;- see it in the<EMCLASS="emphasis">od -c</EM> output?That explains why the <EMCLASS="emphasis">cat -v</EM> output was broken onto a new lineat that place: <EMCLASS="emphasis">cat -v</EM> doesn't translate newlines when it finds them.</P><PCLASS="para">The <CODECLASS="literal">\0</CODE> is a NUL character (ASCII&nbsp;0).It's used to pad the ends of entries in V7 directories when a name isn't thefull 14 characters long.</P></LI><LICLASS="listitem"><PCLASS="para"><EMCLASS="emphasis">od -c</EM> shows the octal value of other characters as three digits.For instance, the <CODECLASS="literal">007</CODE> means &quot;the character 7 octal.&quot;<EMCLASS="emphasis">cat -v</EM> shows this as <CODECLASS="literal">^G</CODE> (CTRL-g).</P><PCLASS="para">Metacharacters, the ones with octal values 200 and above, are shown as<CODECLASS="literal">M-</CODE><CODECLASS="replaceable"><I>something</I></CODE>  by <EMCLASS="emphasis">cat -v</EM>.In <EMCLASS="emphasis">od -c</EM>, you'll see their octal values&nbsp;- like <CODECLASS="literal">341</CODE>.</P><PCLASS="para">Each directory entry on aUNIX Version&nbsp;7 filesystemstarts with a two-byte &quot;pointer&quot; to its location in thedisk's inode table.When you type a filename, UNIX uses this pointer to find the actual file informationon the disk.The entry for this directory (named <CODECLASS="literal">.</CODE>) is <CODECLASS="literal">377&nbsp;016</CODE>.Its parent (named <CODECLASS="literal">..</CODE>) is at <CODECLASS="literal">&gt;&nbsp;007</CODE>.And <EMCLASS="emphasis">comp</EM>'s entry is <CODECLASS="literal">341&nbsp;\n</CODE>.Find those in the <EMCLASS="emphasis">cat -v</EM> output, if you want&nbsp;- and compare the twooutputs.</P></LI><LICLASS="listitem"><PCLASS="para">Like <EMCLASS="emphasis">cat -v</EM>, regular printable characters are shown as is by<EMCLASS="emphasis">od -c</EM>.</P></LI></UL><PCLASS="para">The<SPANCLASS="link"><EMCLASS="emphasis">strings</EM> (<ACLASS="linkend"HREF="ch27_19.htm"TITLE="Finding Words Inside Binary Files ">27.19</A>)</SPAN>program finds printable strings of characters (such as filenames) insidemostly non-printable files (like executable binaries).<ACLASS="indexterm"NAME="AUTOID-27631"></A><ACLASS="indexterm"NAME="AUTOID-27632"></A><ACLASS="indexterm"NAME="AUTOID-27633"></A><ACLASS="indexterm"NAME="AUTOID-27634"></A><ACLASS="indexterm"NAME="AUTOID-27635"></A></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch25_06.htm"TITLE="25.6 What's in That White Space? "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 25.6 What's in That White Space? "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch25_08.htm"TITLE="25.8 Finding File Types "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 25.8 Finding File Types "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">25.6 What's in That White Space? </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">25.8 Finding File Types </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>