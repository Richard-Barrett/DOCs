<HTML><HEAD><TITLE>[Chapter 26] 26.7 Limiting the Extent of a Match </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:44:09Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch26_01.htm"TITLE="26. Regular Expressions (Pattern Matching)"><LINKREL="prev"HREF="ch26_06.htm"TITLE="26.6 Just What Does a Regular Expression Match? "><LINKREL="next"HREF="ch26_08.htm"TITLE="26.8 I Never Meta Character I Didn't Like "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch26_06.htm"TITLE="26.6 Just What Does a Regular Expression Match? "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 26.6 Just What Does a Regular Expression Match? "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 26<BR>Regular Expressions (Pattern Matching)</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch26_08.htm"TITLE="26.8 I Never Meta Character I Didn't Like "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 26.8 I Never Meta Character I Didn't Like "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-7974">26.7 Limiting the Extent of a Match </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-29113"></A>A regular expression tries to matchthe longest string possible; that can causeunexpected problems.For instance, look at the following regular expression, which matches any number of characters inside of quotation marks:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&quot;.*&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">Let's look at a <EMCLASS="emphasis">troff</EM> macrothat has two quoted arguments, as shown below:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">.Se &quot;Appendix&quot; &quot;Full Program Listings&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">To match the first argument,a novice might describe the pattern with thefollowing regular expression:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">\.Se &quot;.*&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">However, the pattern ends up matching the whole line because the secondquotation mark in the pattern matches the last quotation mark on theline.If you know how many arguments there are, you can specify eachof them:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">\.Se &quot;.*&quot; &quot;.*&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">Although this works as you'd expect, each line might not have thesame number of arguments, causing misses that should be hits&nbsp;- you simply want the first argument.Here's a differentregular expression that matchesthe shortest possible extent between two quotation marks:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&quot;[^&quot;]*&quot;</PRE></BLOCKQUOTE></P><PCLASS="para">It matches &quot;a quote, followed by any number of characters thatdo not match a quote, followed by a quote.&quot;The use of what we might call &quot;negated character classes&quot; like this is one of the things that distinguishes the journeyman regular expression user from the novice.[<SPANCLASS="link">Perl 5 (<ACLASS="linkend"HREF="ch37_05.htm"TITLE="And Now, Perl 5 ">37.5</A>)</SPAN>has added a new &quot;non-greedy&quot; regular expression operator that matchesthe shortest string possible. -<EMCLASS="emphasis">JP</EM>&nbsp;]</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">DD</SPAN> <SPANCLASS="bibliomisc">from O'Reilly &amp; Associates' <CITECLASS="citetitle">sed &amp; awk</CITE></SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch26_06.htm"TITLE="26.6 Just What Does a Regular Expression Match? "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 26.6 Just What Does a Regular Expression Match? "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch26_08.htm"TITLE="26.8 I Never Meta Character I Didn't Like "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 26.8 I Never Meta Character I Didn't Like "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">26.6 Just What Does a Regular Expression Match? </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">26.8 I Never Meta Character I Didn't Like </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>