<HTML><HEAD><TITLE>[Chapter 27] 27.19 Finding Words Inside Binary Files </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:44:35Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch27_01.htm"TITLE="27. Searching Through Files"><LINKREL="prev"HREF="ch27_18.htm"TITLE='27.18 Fast Searches and Spelling Checks with  "look&quot;'><LINKREL="next"HREF="ch27_20.htm"TITLE="27.20 A Highlighting grep "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_18.htm"TITLE='27.18 Fast Searches and Spelling Checks with  "look&quot;'><IMGSRC="../gifs/txtpreva.gif"ALT='Previous: 27.18 Fast Searches and Spelling Checks with  "look&quot;'BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 27<BR>Searching Through Files</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_20.htm"TITLE="27.20 A Highlighting grep "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 27.20 A Highlighting grep "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-2740">27.19 Finding Words Inside Binary Files </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-30869"></A><ACLASS="indexterm"NAME="AUTOID-30871"></A>If you try to read<SPANCLASS="link">binaries (<ACLASS="linkend"HREF="glossary.htm#UPT-ART-1010"TITLE="Glossary">52.9</A>)</SPAN>on your screen with, say,<SPANCLASS="link"><EMCLASS="emphasis">cat -v</EM> (<ACLASS="linkend"HREF="ch25_07.htm"TITLE="Show Non-Printing Characters with cat -v or od -c ">25.7</A>)</SPAN>,you'll see a lot of non-printable characters.Buried in there somewhere though are words and strings of charactersthat might make some sense.For example, if the code is copyrighted, you can usually find that informationin the binary.The pathnames of special files that the program reads will probably show up.If you're trying to figure out which program printed an error message,use <EMCLASS="emphasis">strings</EM> on the binaries and look for the error.Some versions of <EMCLASS="emphasis">strings</EM> do a better job of getting just theuseful information; others may write a lot of junk, too.But what the heck&nbsp;- pipe the output to<SPANCLASS="link">a pager (<ACLASS="linkend"HREF="ch25_03.htm"TITLE="Using more to Page Through Files ">25.3</A>, <ACLASS="linkend"HREF="ch25_04.htm"TITLE='The "less&quot; Pager: More than "more&quot;'>25.4</A>)</SPAN>or<SPANCLASS="link"><EMCLASS="emphasis">grep</EM> (<ACLASS="linkend"HREF="ch27_02.htm"TITLE="Searching for Text with grep ">27.2</A>)</SPAN>,redirect it to a file&nbsp;- ignore the stuff you don't want.</P><PCLASS="para">Here's a (shortened) example on SunOS:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>strings /bin/write</B></CODE>@(#)write.c 1.10 88/05/10 SMIUsage: write user [ttyname]write: Can't find your ttyMessage from %s@%s on %s at %d:%02d ...Write failed (%s logged out?)         (((((                  DDDDDDDDDD</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-30887"></A>The first line comes from<SPANCLASS="link">SCCS (<ACLASS="linkend"HREF="ch20_12.htm"TITLE="Protecting Files with SCCS or RCS ">20.12</A>)</SPAN>-you can see the version number, the date the code was last modified orreleased, and so on.The <CODECLASS="literal">%s</CODE>, <CODECLASS="literal">%d</CODE>, and <CODECLASS="literal">%02d</CODE> are special places that the<EMCLASS="emphasis">printf</EM>(3) function will replace with values like the username,hostname, hour, and minute.</P><PCLASS="para">By default, <EMCLASS="emphasis">strings</EM> doesn't search all of a binary file:it only reads the initialized and loaded sections.The <CODECLASS="literal">-</CODE> (dash) option tells <EMCLASS="emphasis">strings</EM> to search all of the file.Another useful option is <CODECLASS="literal">-</CODE><CODECLASS="replaceable"><I>n</I></CODE>, where <EMCLASS="emphasis">n</EM> is theminimum-length string to print.Setting a higher limit will cut the &quot;noise,&quot; but you might also losewhat you're looking for.</P><PCLASS="para">The <CODECLASS="literal">od&nbsp;-s</CODE><CODECLASS="replaceable"><I>n</I></CODE> command does a similar thing:finds all null-terminated strings that are at least <EMCLASS="emphasis">n</EM> characterslong.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_18.htm"TITLE='27.18 Fast Searches and Spelling Checks with  "look&quot;'><IMGSRC="../gifs/txtpreva.gif"ALT='Previous: 27.18 Fast Searches and Spelling Checks with  "look&quot;'BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_20.htm"TITLE="27.20 A Highlighting grep "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 27.20 A Highlighting grep "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">27.18 Fast Searches and Spelling Checks with  "look&quot;</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">27.20 A Highlighting grep </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>