<HTML><HEAD><TITLE>[Chapter 27] 27.20 A Highlighting grep </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:44:38Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch27_01.htm"TITLE="27. Searching Through Files"><LINKREL="prev"HREF="ch27_19.htm"TITLE="27.19 Finding Words Inside Binary Files "><LINKREL="next"HREF="ch28_01.htm"TITLE="28. Comparing Files"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_19.htm"TITLE="27.19 Finding Words Inside Binary Files "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 27.19 Finding Words Inside Binary Files "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 27<BR>Searching Through Files</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch28_01.htm"TITLE="28. Comparing Files"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 28. Comparing Files"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-9038">27.20 A Highlighting grep </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-30912"></A><ACLASS="indexterm"NAME="AUTOID-30914"></A><ACLASS="indexterm"NAME="AUTOID-30917"></A>Does it happen to you that you <EMCLASS="emphasis">grep</EM> for a word, linesscroll down your screen, and it's hard to find the word on each line?For example, suppose I'm looking for any mail messages I've saved thatsay anything about the <EMCLASS="emphasis">perl</EM> programming language.But when I<EMCLASS="emphasis">grep</EM> the file, most of it seems useless:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>grep perl ~/Mail/save</B></CODE>&gt; and some of it wouldn't compile properly.  I wonder if Subject: install script, for perl scriptsperl itself is installed?&gt; run but dies with a read error because it isn't properly&gt; if I can get it installed properly on another machine I&gt; run but dies with a read error because it isn't properly &gt; if I can get it installed properly on another machine I</PRE></BLOCKQUOTE></P><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="hgrep">hgrep</A><BR></TH><TDVALIGN="TOP"><ACLASS="indexterm"NAME="AUTOID-30926"></A>Well, as described on its own manual page, here's a program that's &quot;trivial, but cute.&quot;<EMCLASS="emphasis">hgrep</EM> runs a <EMCLASS="emphasis">grep</EM> and highlights the string being searched for, to make it easier forus to find what we're looking for.&#13;</TD></TR></TABLE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>hgrep perl ~/Mail/save</B></CODE>&gt; and some of it wouldn't compile pro<EMCLASS="emphasis">&quot;<CODECLASS="userinput"><B>perl</B></CODE>&quot;</EM>y.  I wonder if Subject: install script, for  <EMCLASS="emphasis">&quot;<CODECLASS="userinput"><B>perl</B></CODE>&quot;</EM> scripts<EMCLASS="emphasis"> <CODECLASS="userinput"><B>perl</B></CODE></EM> itself is installed?&gt; run but dies with a read error because it isn't pro<EMCLASS="emphasis"><CODECLASS="userinput"><B>perl</B></CODE></EM>y &gt; if I can get it installed pro<EMCLASS="emphasis"><CODECLASS="userinput"><B>perl</B></CODE></EM>y on another machine I &gt; run but dies with a read error because it isn't pro<EMCLASS="emphasis"><CODECLASS="userinput"><B>perl</B></CODE></EM>y&gt; if I can get it installed pro<EMCLASS="emphasis"><CODECLASS="userinput"><B>perl</B></CODE></EM>y on another machine I</PRE></BLOCKQUOTE></P><PCLASS="para">And now we know why the output looked useless: because most of it is!Luckily, <EMCLASS="emphasis">hgrep</EM> is just a front-end;it simply passes all its arguments to <EMCLASS="emphasis">grep</EM>.So <EMCLASS="emphasis">hgrep</EM>necessarily accepts all of <EMCLASS="emphasis">grep</EM>'s options, and I can just use the<SPANCLASS="link"><EMCLASS="emphasis">-w</EM> option (<ACLASS="linkend"HREF="ch27_04.htm"TITLE="Finding a Pattern Only When It's a Word ">27.4</A>)</SPAN>to weed the output down to what I want:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>hgrep -w perl ~/Mail/save</B></CODE>Subject: install script, for <EMCLASS="emphasis"> <CODECLASS="userinput"><B>perl</B></CODE></EM> scripts<EMCLASS="emphasis"> <CODECLASS="userinput"><B>perl</B></CODE></EM> itself is installed?</PRE></BLOCKQUOTE></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">LM</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch27_19.htm"TITLE="27.19 Finding Words Inside Binary Files "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 27.19 Finding Words Inside Binary Files "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="CHAPTER"HREF="ch28_01.htm"TITLE="28. Comparing Files"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 28. Comparing Files"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">27.19 Finding Words Inside Binary Files </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">28. Comparing Files</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>