<HTML><HEAD><TITLE>[Chapter 29] 29.5 Adding Words to ispell's Dictionary </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:45:05Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch29_01.htm"TITLE="29. Spell Checking, Word Counting, and Textual Analysis"><LINKREL="prev"HREF="ch29_04.htm"TITLE="29.4 Inside spell "><LINKREL="next"HREF="ch29_06.htm"TITLE="29.6 Counting Lines, Words, and Characters: wc "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch29_04.htm"TITLE="29.4 Inside spell "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 29.4 Inside spell "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 29<BR>Spell Checking, Word Counting, and Textual Analysis</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch29_06.htm"TITLE="29.6 Counting Lines, Words, and Characters: wc "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 29.6 Counting Lines, Words, and Characters: wc "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-4092">29.5 Adding Words to ispell's Dictionary </A></H2><PCLASS="para"><SPANCLASS="link"><EMCLASS="emphasis">ispell</EM> (<ACLASS="linkend"HREF="ch29_02.htm"TITLE="Check Spelling Interactively with ispell ">29.2</A>)</SPAN>uses two lists for spelling verification:a master wordlistand a supplemental personal wordlist.<ACLASS="indexterm"NAME="AUTOID-32088"></A><ACLASS="indexterm"NAME="AUTOID-32090"></A><ACLASS="indexterm"NAME="AUTOID-32093"></A><ACLASS="indexterm"NAME="AUTOID-32095"></A><ACLASS="indexterm"NAME="AUTOID-32098"></A><ACLASS="indexterm"NAME="AUTOID-32100"></A></P><PCLASS="para">The master wordlist for <EMCLASS="emphasis">ispell</EM> is normally the file<EMCLASS="emphasis">/usr/local/lib/ispell/ispell.hash</EM>.This is a &quot;hashed&quot;dictionary file.That is, it has beenconverted to a condensed, program-readable form usingthe <EMCLASS="emphasis">buildhash</EM> program (which comes with <EMCLASS="emphasis">ispell</EM>), to speed the spell-checking process.</P><PCLASS="para">The personal wordlist is normally a file called <EMCLASS="emphasis">.ispell_words</EM> in yourhome directory.(You can override this default with either the <EMCLASS="emphasis">-p</EM>command-line option or the <EMCLASS="emphasis">WORDLIST</EM> <SPANCLASS="link">environment variable (<ACLASS="linkend"HREF="ch06_01.htm#UPT-ART-1170"TITLE="What Environment Variables Are Good For ">6.1</A>)</SPAN>.)This file is simply a list of words, one per line, so you canreadily edit it to add, alter, or remove entries.The personal wordlist is normally used in addition to themaster wordlist, so if a word usage is permitted by either list it isnot flagged by <EMCLASS="emphasis">ispell</EM>.</P><PCLASS="para">Custom personal wordlists are particularly useful for checking documents thatuse jargon, or special technical words that are not in the masterwordlist, and for personal needs such as holding the names of yourcorrespondents. You may choose to keep more than one custom wordlist,to meet various special requirements.</P><PCLASS="para">You can add to your personal wordlist any time you use<EMCLASS="emphasis">ispell</EM>: simply use the I command to tell <EMCLASS="emphasis">ispell</EM> that theword it offered as a misspelling is actually correct, and should beadded to the dictionary.You can also add a list of words from afile using the <EMCLASS="emphasis">ispell&nbsp;-a</EM> option.The words must be one to aline, but need not be sorted.Each word to be added must be precededwith an asterisk.(Why?Because <EMCLASS="emphasis">ispell&nbsp;-a</EM> has other functionsas well.)So, for example, we could have added a list of UNIX utilitynames to our personal dictionaries all at once, rather than one byone as they were encountered during spell-checking.</P><PCLASS="para">Obviously, though, in an environment where many people are workingwith the same set of technical terms, it doesn't make sense for eachindividual to add the same word list to his or her own private<EMCLASS="emphasis">.ispell_words</EM> file.It would make far more sense for a groupto agree on a common dictionary for specialized terms and always toset <EMCLASS="emphasis">WORDLIST</EM> to point to that common dictionary.</P><PCLASS="para">If the private wordlist gets too long, you can create a &quot;munched&quot; wordlist.The<ACLASS="indexterm"NAME="AUTOID-32124"></A><EMCLASS="emphasis">munchlist</EM> script that comes with <EMCLASS="emphasis">ispell</EM>reduces the names in a wordlist to a set ofword roots and permitted suffixes according to rules described in the<EMCLASS="emphasis">ispell</EM>(4) reference page that will be installed with<EMCLASS="emphasis">ispell</EM> from the CD-ROM.This creates amore compact but still editable wordlist.</P><PCLASS="para">Another option is to provide an alternative master spelling list usingthe <EMCLASS="emphasis">-d</EM> option.This has two problems, though:</P><OLCLASS="orderedlist"><LICLASS="listitem"><PCLASS="para">The master spelling list should include spellings that are alwaysvalid, regardless of context. You do not want to overload your masterwordlist with terms that might be misspellings in a differentcontext. For example, <EMCLASS="emphasis">perl</EM> is a powerful programming language,but in other contexts, <EMCLASS="emphasis">perl</EM> might be a misspelling of<EMCLASS="emphasis">pearl</EM>.You may want to place <EMCLASS="emphasis">perl</EM> in a supplementalwordlist when documenting UNIX utilities, but probably wouldn't want itin the master wordlist unless you are documenting UNIX utilities mostof the time that you use <EMCLASS="emphasis">ispell</EM>.</P></LI><LICLASS="listitem"><PCLASS="para">The <EMCLASS="emphasis">-d</EM> option must point to a hashed dictionary file.This is alarge file and time-consuming to build.What's more, you cannot edit ahashed dictionary; you will have to edit a master word list and use (or<ACLASS="indexterm"NAME="AUTOID-32143"></A>have the system administrator use) <EMCLASS="emphasis">buildhash</EM> to hash the newdictionary to optimize spelling checker performance.</P></LI></OL><PCLASS="para">To build a new hashed wordlist, provide <EMCLASS="emphasis">buildhash</EM> with acomplete list of the words you want included, one per line.(The <EMCLASS="emphasis">buildhash</EM> utility can onlyprocess a raw wordlist, not a munched wordlist.)The standard system wordlist, <EMCLASS="emphasis">/usr/dict/words</EM> on many systems, canprovide a good starting point.This file is writeable onlyby the system administrator, and probably shouldn't be changed in anycase.So make a copy of this file, and edit or add to the copy.After processingthe file with <EMCLASS="emphasis">buildhash</EM>, you can either replace the default <EMCLASS="emphasis">ispell.hash</EM> file, or point to your new hashed file with the <EMCLASS="emphasis">-d</EM>option.<ACLASS="indexterm"NAME="AUTOID-32153"></A></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">TOR</SPAN>, <SPANCLASS="authorinitials">LK</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch29_04.htm"TITLE="29.4 Inside spell "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 29.4 Inside spell "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch29_06.htm"TITLE="29.6 Counting Lines, Words, and Characters: wc "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 29.6 Counting Lines, Words, and Characters: wc "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">29.4 Inside spell </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">29.6 Counting Lines, Words, and Characters: wc </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>