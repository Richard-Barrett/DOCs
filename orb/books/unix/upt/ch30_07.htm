<HTML><HEAD><TITLE>[Chapter 30] 30.7 Using Buffers to Move or Copy Text </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:45:23Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch30_01.htm"TITLE="30. vi Tips and Tricks"><LINKREL="prev"HREF="ch30_06.htm"TITLE="30.6 Local Settings for vi and ex "><LINKREL="next"HREF="ch30_08.htm"TITLE="30.8 Get Back What You Deleted with Numbered Buffers"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_06.htm"TITLE="30.6 Local Settings for vi and ex "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.6 Local Settings for vi and ex "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 30<BR>vi Tips and Tricks</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_08.htm"TITLE="30.8 Get Back What You Deleted with Numbered Buffers"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.8 Get Back What You Deleted with Numbered Buffers"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-6160">30.7 Using Buffers to Move or Copy Text </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-32872"></A><ACLASS="indexterm"NAME="AUTOID-32874"></A>In a <EMCLASS="emphasis">vi</EM> editing session, your last deletion(<CODECLASS="literal">d</CODE> or <CODECLASS="literal">x</CODE>) or yank (<CODECLASS="literal">y</CODE>) is saved in a buffer.You can access the contents of that buffer and put the saved textback in your file with the <EMCLASS="emphasis">put</EM> command (<CODECLASS="literal">p</CODE> or <CODECLASS="literal">P</CODE>).A frequent sequence of commands is:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">5dd   <EMCLASS="emphasis">delete 5 lines</EM>   <EMCLASS="emphasis">move somewhere else</EM>p   <EMCLASS="emphasis">put the 5 deleted lines back in a new</EM>   <EMCLASS="emphasis">location, below the current line</EM></PRE></BLOCKQUOTE></P><PCLASS="para">What fewer new users are aware of isthat <EMCLASS="emphasis">vi</EM> stores the last <SPANCLASS="link">nine (<ACLASS="linkend"HREF="ch30_08.htm"TITLE="Get Back What You Deleted with Numbered Buffers">30.8</A>)</SPAN>deletions in numbered buffers.You can access any of these numbered buffers to restore any (orall) of the last nine deletions.(Small deletions, of only parts of lines, are not saved in numbered buffers, however.)Small deletions can be recovered only by using the <CODECLASS="literal">p</CODE> or <CODECLASS="literal">P</CODE> commandimmediately after you've made the deletion.</P><PCLASS="para"><EMCLASS="emphasis">vi</EM> also allows you to yank (copy) text to &quot;named&quot; buffersidentified by letters.You can fill up to 26 (a-z) buffers with yanked text and restore thattext with a <EMCLASS="emphasis">put</EM> command at any time in your editing session.This is especially important if you want to transfer data between twofiles, becauseall buffers except named buffers are lost when you change files.See article<ACLASS="xref"HREF="ch30_05.htm"TITLE="Edits Between Files ">30.5</A>.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">TOR</SPAN> <SPANCLASS="bibliomisc">from O'Reilly &amp; Associates' <CITECLASS="citetitle">Learning the vi Editor</CITE>, Chapter 4</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_06.htm"TITLE="30.6 Local Settings for vi and ex "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.6 Local Settings for vi and ex "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_08.htm"TITLE="30.8 Get Back What You Deleted with Numbered Buffers"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.8 Get Back What You Deleted with Numbered Buffers"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">30.6 Local Settings for vi and ex </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">30.8 Get Back What You Deleted with Numbered Buffers</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>