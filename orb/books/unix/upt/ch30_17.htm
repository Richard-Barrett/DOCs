<HTML><HEAD><TITLE>[Chapter 30] 30.17 Capitalizing Every Word on a Line </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:45:30Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch30_01.htm"TITLE="30. vi Tips and Tricks"><LINKREL="prev"HREF="ch30_16.htm"TITLE="30.16 Counting Occurrences; Stopping Search Wraps "><LINKREL="next"HREF="ch30_18.htm"TITLE="30.18 Setting vi Options Automatically for Individual Files"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_16.htm"TITLE="30.16 Counting Occurrences; Stopping Search Wraps "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.16 Counting Occurrences; Stopping Search Wraps "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 30<BR>vi Tips and Tricks</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_18.htm"TITLE="30.18 Setting vi Options Automatically for Individual Files"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.18 Setting vi Options Automatically for Individual Files"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0149">30.17 Capitalizing Every Word on a Line </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-33504"></A><ACLASS="indexterm"NAME="AUTOID-33507"></A><ACLASS="indexterm"NAME="AUTOID-33510"></A>Are you typing the title of an article or something else that needsan uppercase letter at the start of every word?Do you need to capitalize some text that isn't?It can be tedious to press the SHIFT key as you enter the text, or touse <CODECLASS="literal">~</CODE> (tilde) and <CODECLASS="literal">w</CODE> commands to change the text.The command below capitalizes the first character of every word.</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch26_04.htm"TITLE="26.4 Using Metacharacters in Regular Expressions ">\&lt;</A> <ACLASS="co"HREF="ch26_10.htm"TITLE="26.10 Pattern Matching Quick Reference with Examples ">\u</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">:<CODECLASS="userinput"><B>s/\&lt;./\u&amp;/g</B></CODE></PRE></TD></TR></TABLE></P><PCLASS="para">(You might be wondering why we didn't use <CODECLASS="literal">:s/\&lt;[a-z]/\u&amp;/g</CODE>to match lowercase letters.The <CODECLASS="literal">&lt;.</CODE> actually matches the first character of <EMCLASS="emphasis">every</EM> word,but the <CODECLASS="literal">\u</CODE> will only affect letters.So, unless you only want to capitalize certain letters,<CODECLASS="literal">&lt;.</CODE> is enough.)</P><PCLASS="para">The example above does only the current line.You can add a range of lines after the colon.For example, to edit all lines in the file:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch33_03.htm"TITLE="33.3 Line Addressing ">%</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen"><CODECLASS="userinput"><B>:%s/\&lt;./\u&amp;/g</B></CODE></PRE></TD></TR></TABLE></P><PCLASS="para">To do the current line and the next five, use:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch33_03.htm"TITLE="33.3 Line Addressing ">.,+5</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen"><CODECLASS="userinput"><B>:.,+5s/\&lt;./\u&amp;/g</B></CODE></PRE></TD></TR></TABLE></P><PCLASS="para">To make the first character of each word uppercase (with <CODECLASS="literal">\u</CODE>)and the rest lowercase (with <CODECLASS="literal">\L</CODE>), try:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch26_10.htm"TITLE="26.10 Pattern Matching Quick Reference with Examples ">\(...\)...\1</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen"><CODECLASS="userinput"><B>:s/\&lt;\(.\)\([A-Za-z]*\)\&gt;/\u\1\L\2/g</B></CODE></PRE></TD></TR></TABLE></P><PCLASS="para">The command above doesn't convert the back ends of words with hyphens(like <EMCLASS="emphasis">CD-ROM</EM>) or apostrophes (like <EMCLASS="emphasis">O'Reilly</EM>) to lowercase.That's because the <CODECLASS="literal">[A-Za-z]*\&gt;</CODE> only matches words whose secondthrough last characters are all letters.You can add a hyphen or an apostrophe to make that expression match morewords, if you'd like.</P><PCLASS="para">Those commands can be a pain to type.If you use one of them a lot, try putting it in a<SPANCLASS="link">keymap (<ACLASS="linkend"HREF="ch31_02.htm"TITLE="Save Time and Typing with the vi map Commands ">31.2</A>)</SPAN>.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_16.htm"TITLE="30.16 Counting Occurrences; Stopping Search Wraps "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.16 Counting Occurrences; Stopping Search Wraps "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_18.htm"TITLE="30.18 Setting vi Options Automatically for Individual Files"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.18 Setting vi Options Automatically for Individual Files"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">30.16 Counting Occurrences; Stopping Search Wraps </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">30.18 Setting vi Options Automatically for Individual Files</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>