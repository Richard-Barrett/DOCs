<HTML><HEAD><TITLE>[Chapter 30] 30.36 The ex Open Mode Can Be Handy </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:45:59Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch30_01.htm"TITLE="30. vi Tips and Tricks"><LINKREL="prev"HREF="ch30_35.htm"TITLE="30.35 Out of Temporary Space? Use Another Directory "><LINKREL="next"HREF="ch30_37.htm"TITLE="30.37 Neatening Lines "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_35.htm"TITLE="30.35 Out of Temporary Space? Use Another Directory "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.35 Out of Temporary Space? Use Another Directory "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 30<BR>vi Tips and Tricks</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_37.htm"TITLE="30.37 Neatening Lines "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.37 Neatening Lines "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-6950">30.36 The ex Open Mode Can Be Handy </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="UPT-ART-6950-IX-VI-EDITOR-EX-OPEN-MODE"></A><ACLASS="indexterm"NAME="UPT-ART-6950-IX-EX-EDITOR-OPEN-MODE"></A><ACLASS="indexterm"NAME="AUTOID-34557"></A>Most <EMCLASS="emphasis">vi</EM> users hate it when they start the editor and get a messagelike one of these:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Visual needs addressable cursor or upline capability[Using open mode]</PRE></BLOCKQUOTE></P><PCLASS="para">Those folks usually say (or think) something choice like &quot;how the #&amp;@!do I get to fullscreen mode?&quot;If you're one of those people, wait.You might get to <EMCLASS="emphasis">like</EM> the <EMCLASS="emphasis">ex</EM> open mode!</P><PCLASS="para">Before I show you an example of open mode, I'll mention another placewhere it's nice: on slow dialup lines or sluggish network connections,where your screen fills slowly and you're always waiting for it toredraw.It's also very useful if you're using a window system and <EMCLASS="emphasis">vi</EM>doesn't seem to understand how many lines are in your window&nbsp;- for quickediting, it can be easier to switch to open mode for a minute than totry to fix the window.</P><PCLASS="para">The open mode is something like <EMCLASS="emphasis">vi</EM> on a one-line screen.It's different from other UNIX line-mode editors like <EMCLASS="emphasis">ed</EM> or thestandard colon-prompt mode of <EMCLASS="emphasis">ex</EM>, though.In open mode, you use the normal fullscreen <EMCLASS="emphasis">vi</EM> commands&nbsp;- one lineat a time.For example, to exit, type <CODECLASS="literal">ZZ</CODE> just like you do in fullscreen mode.</P><PCLASS="para">If you've got a fair amount of experience with <EMCLASS="emphasis">vi</EM>, the easiest wayto learn about open mode is to jump in and try it&nbsp;- after a littleexplanation, that is.There are three ways to get into open mode:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">If you're thrown into <EMCLASS="emphasis">ex</EM> mode and given a colon (<CODECLASS="literal">:</CODE>)prompt, type this command and press RETURN:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">:<CODECLASS="userinput"><B>open</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></LI><LICLASS="listitem"><PCLASS="para">If you have a choice&nbsp;- on a slow network connection, forexample&nbsp;- start open mode from the command line.Depending on your version of <EMCLASS="emphasis">vi</EM>, use oneof the following commands:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>ex +open</B></CODE> <CODECLASS="replaceable"><I>filename</I></CODE>% <CODECLASS="userinput"><B>ex -c open</B></CODE> <CODECLASS="replaceable"><I>filename</I></CODE></PRE></BLOCKQUOTE></P></LI><LICLASS="listitem"><PCLASS="para">If you're already in <EMCLASS="emphasis">vi</EM>'s fullscreen mode, switch to open modeby typing <CODECLASS="literal">Q</CODE> to get an <EMCLASS="emphasis">ex</EM> colon (<CODECLASS="literal">:</CODE>) prompt.Then type the command <CODECLASS="literal">open</CODE> and press RETURN.</P></LI></UL><PCLASS="para">When you start open mode, the editor will display the current lineand put your cursor at the start of it.</P><PCLASS="para"></P><DLCLASS="variablelist"><DTCLASS="term">Keystrokes</DT><DDCLASS="listitem"><PCLASS="para">Result</P></DD></DL><PCLASS="para"><CODECLASS="literal">ex +open afile</CODE></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">[Using open mode]&quot;afile&quot; 47 lines, 1943 characters<UCLASS="cursor">I</U>n the beginning, there was a cursor.</PRE></BLOCKQUOTE></P><PCLASS="para">Open the file <EMCLASS="emphasis">afile</EM> in open mode.Notice that the prompt line, which shows the filename and sizeat the bottom of the screen in <EMCLASS="emphasis">vi</EM>, is printed first during open mode.That's because open mode always prints line by line.Next, the first line of the file is displayed.Your cursor is at the start of the line.</P><PCLASS="para"><CODECLASS="literal">2w</CODE></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">[Using open mode]&quot;afile&quot; 47 lines, 1943 charactersIn the <UCLASS="cursor">b</U>eginning, there was a cursor.</PRE></BLOCKQUOTE></P><PCLASS="para">The <EMCLASS="emphasis">vi</EM> command <CODECLASS="literal">2w</CODE> moves the cursor forward two words.</P><PCLASS="para"><CODECLASS="literal">j</CODE></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">[Using open mode]&quot;afile&quot; 47 lines, 1943 charactersIn the beginning, there was a cursor.The scr<UCLASS="cursor">e</U>en was blank and without characters.</PRE></BLOCKQUOTE></P><PCLASS="para">The <EMCLASS="emphasis">vi</EM> command <CODECLASS="literal">j</CODE> moves the cursor down one line.NOTE: On some versions, this command will print only the first fewcharacters of the new line&nbsp;- up to the place where the cursor sits.So, instead of <CODECLASS="literal">j</CODE>, I usually use the RETURN command to painta whole line and move the cursor to the front of it.</P><PCLASS="para"><CODECLASS="literal">k</CODE></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">[Using open mode]&quot;afile&quot; 47 lines, 1943 charactersIn the beginning, there was a cursor.The screen was blank and without characters.In the <UCLASS="cursor">b</U>eginning, there was a cursor.</PRE></BLOCKQUOTE></P><PCLASS="para">The <EMCLASS="emphasis">vi</EM> command <CODECLASS="literal">k</CODE> moves the cursor up one line&nbsp;- to theprevious line.This is open mode, so the previous lines scroll away.To keep from getting confused, remember: the line with the cursor is theone you're editing now.NOTE: As in the previous step, the <CODECLASS="literal">k</CODE> command may not print allof the line.In that case, the minus (<CODECLASS="literal">-</CODE>) command is better.</P><PCLASS="para"><CODECLASS="literal">cwend</CODE></P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">[Using open mode]&quot;afile&quot; 47 lines, 1943 charactersIn the beginning, there was a cursor.The screen was blank and without characters.In the en<UCLASS="cursor">d</U>, there was a cursor.</PRE></BLOCKQUOTE></P><PCLASS="para">Typing <CODECLASS="literal">cw</CODE> puts you into <EMCLASS="emphasis">vi</EM>'s text-input mode to change the word<EMCLASS="emphasis">beginning</EM> to <EMCLASS="emphasis">end</EM>.Press ESC to go back to command mode.</P><PCLASS="para">This might take some getting used to.But once you learn the idea behind open mode, it can be handy to know.</P><ACLASS="indexterm"NAME="AUTOID-34654"></A><ACLASS="indexterm"NAME="AUTOID-34655"></A><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_35.htm"TITLE="30.35 Out of Temporary Space? Use Another Directory "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 30.35 Out of Temporary Space? Use Another Directory "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch30_37.htm"TITLE="30.37 Neatening Lines "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 30.37 Neatening Lines "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">30.35 Out of Temporary Space? Use Another Directory </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">30.37 Neatening Lines </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>