<HTML><HEAD><TITLE>[Chapter 34] 34.2 Invoking sed </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:47:09Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch34_01.htm"TITLE="34. The sed Stream Editor"><LINKREL="prev"HREF="ch34_01.htm"TITLE="34.1 Two Things You Must Know About sed "><LINKREL="next"HREF="ch34_03.htm"TITLE="34.3 Testing and Using a sed Script: checksed, runsed "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch34_01.htm"TITLE="34.1 Two Things You Must Know About sed "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 34.1 Two Things You Must Know About sed "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 34<BR>The sed Stream Editor</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch34_03.htm"TITLE="34.3 Testing and Using a sed Script: checksed, runsed "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 34.3 Testing and Using a sed Script: checksed, runsed "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-8000">34.2 Invoking sed </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-38284"></A>If you were using <EMCLASS="emphasis">sed</EM> on the fly, as a <SPANCLASS="link">stream editor (<ACLASS="linkend"HREF="ch34_01.htm#UPT-ART-7996"TITLE="Two Things You Must Know About sed ">34.1</A>)</SPAN>,you might execute it as simply as this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="replaceable"><I>somecommand</I></CODE><CODECLASS="userinput"><B> | sed 's/old/new/' | </B></CODE><CODECLASS="replaceable"><I>othercommand</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Given filenames, <EMCLASS="emphasis">sed</EM> will read them instead of standard input:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sed 's/old/new/' myfile</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">A simple script can go right on the command line. If you want toexecute more than one editing command, you can use the <EMCLASS="emphasis">-e</EM> option:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sed -e 's/old/new/' -e '/bad/d' myfile</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">or you can use semicolons (<CODECLASS="literal">;</CODE>), which are a <EMCLASS="emphasis">sed</EM> command separator:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sed 's/old/new/; /bad/d' myfile</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">or (especially useful in<SPANCLASS="link">shell scripts (<ACLASS="linkend"HREF="ch01_05.htm"TITLE="Anyone Can Program the Shell ">1.5</A>)</SPAN>)you can use the Bourne shell's ability to understand multiline commands:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">sed 's/old/new//bad/d' myfile</PRE></BLOCKQUOTE></P><PCLASS="para">or you can put your commands into a file, and tell <EMCLASS="emphasis">sed</EM> to readthat file with the <EMCLASS="emphasis">-f</EM> option:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sed -f scriptfile myfile</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">There's only one other command-line option: <EMCLASS="emphasis">-n</EM>.<EMCLASS="emphasis">sed</EM> normally prints every line of its input (except those thathave been deleted by the editing script). But there are times whenyou only want lines that your script has affected, or that you explicitly ask for with the <EMCLASS="emphasis">p</EM> command.In these cases, use<EMCLASS="emphasis">-n</EM> to suppress the normal output.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">TOR</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch34_01.htm"TITLE="34.1 Two Things You Must Know About sed "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 34.1 Two Things You Must Know About sed "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch34_03.htm"TITLE="34.3 Testing and Using a sed Script: checksed, runsed "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 34.3 Testing and Using a sed Script: checksed, runsed "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">34.1 Two Things You Must Know About sed </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">34.3 Testing and Using a sed Script: checksed, runsed </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>