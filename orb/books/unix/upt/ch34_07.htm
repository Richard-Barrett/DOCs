<HTML><HEAD><TITLE>[Chapter 34] 34.7 Delimiting a Regular Expression </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:47:14Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch34_01.htm"TITLE="34. The sed Stream Editor"><LINKREL="prev"HREF="ch34_06.htm"TITLE="34.6 One Thing at a Time "><LINKREL="next"HREF="ch34_08.htm"TITLE="34.8 Newlines in a sed Replacement "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch34_06.htm"TITLE="34.6 One Thing at a Time "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 34.6 One Thing at a Time "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 34<BR>The sed Stream Editor</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch34_08.htm"TITLE="34.8 Newlines in a sed Replacement "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 34.8 Newlines in a sed Replacement "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-7772">34.7 Delimiting a Regular Expression </A></H2><PCLASS="para">Whether in <EMCLASS="emphasis">sed</EM> or <EMCLASS="emphasis">vi</EM>, when using the substitutioncommand, a delimiter is required to separate the search patternfrom the replacement string. The delimiter can be any character exceptblank or a newline (<EMCLASS="emphasis">vi</EM> seems to be more restrictive than<EMCLASS="emphasis">sed</EM>), although the usualpractice is to use the slash (<CODECLASS="literal">/</CODE>) as a delimiter(for example, <CODECLASS="literal">s/</CODE><CODECLASS="replaceable"><I>search</I></CODE><CODECLASS="literal">/</CODE><CODECLASS="replaceable"><I>replacement</I></CODE><CODECLASS="literal">/</CODE>).</P><PCLASS="para">When either the search pattern or the replacement string containsa slash, it is easier to change the delimiter characterrather than escape the slash. Thus, if the pattern was attempting to matchUNIX pathnames, which contain slashes, you couldchoose another character, such as a colon, as thedelimiter:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">s:/usr/mail:/usr2/mail:</PRE></BLOCKQUOTE></P><PCLASS="para">Note that the delimiter appears three times and is required after the <EMCLASS="emphasis">replacement</EM>.Regardless of which delimiter you use, if it does appear in theregular expression, use a backslash (<CODECLASS="literal">\</CODE>) to escape it.</P><PCLASS="para">If you don't know what characters the search pattern might have (in a shellprogram that handles any kind of input, for instance), the safest choicefor the delimiter can be a control character.Article<ACLASS="xref"HREF="ch45_35.htm"TITLE="Using a Control Character in a Script ">45.35</A>shows how to make and use a control character as the delimiter in ashell script&nbsp;- without having to store the control character in the file.</P><PCLASS="para">You can use any delimiter for a pattern address (not just a slash).Put a backslash (<CODECLASS="literal">\</CODE>) before the first delimiter.For example, to delete all lines containing <EMCLASS="emphasis">/usr/mail</EM>, usinga colon (<CODECLASS="literal">:</CODE>) as the delimiter:&#13;</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">\:/usr/mail:d</PRE></BLOCKQUOTE></P><ACLASS="indexterm"NAME="AUTOID-38569"></A><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">DD</SPAN>, <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch34_06.htm"TITLE="34.6 One Thing at a Time "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 34.6 One Thing at a Time "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch34_08.htm"TITLE="34.8 Newlines in a sed Replacement "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 34.8 Newlines in a sed Replacement "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">34.6 One Thing at a Time </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">34.8 Newlines in a sed Replacement </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>