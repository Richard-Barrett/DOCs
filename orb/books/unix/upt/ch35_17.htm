<HTML><HEAD><TITLE>[Chapter 35] 35.17 Making Text in Columns with pr </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:48:22Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch35_01.htm"TITLE="35. You Can't Quite Call This Editing"><LINKREL="prev"HREF="ch35_16.htm"TITLE="35.16 Make Columns Automatically with cols "><LINKREL="next"HREF="ch35_18.htm"TITLE="35.18 Pasting Things in Columns "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_16.htm"TITLE="35.16 Make Columns Automatically with cols "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 35.16 Make Columns Automatically with cols "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 35<BR>You Can't Quite Call This Editing</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_18.htm"TITLE="35.18 Pasting Things in Columns "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 35.18 Pasting Things in Columns "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-2490">35.17 Making Text in Columns with pr </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-41038"></A>The<SPANCLASS="link"><EMCLASS="emphasis">pr</EM> command (<ACLASS="linkend"HREF="ch43_07.htm"TITLE="Quick-and-Dirty Formatting Before Printing ">43.7</A>)</SPAN>is famous for printing a file neatly on apage&nbsp;- with margins at top and bottom, filename, date, and page numbers.It can also print text in columns: one file per column or many columnsfor each file.</P><PCLASS="para">The <EMCLASS="emphasis">-t</EM> option takes away the heading and margins at the top andbottom of each page.That's useful when you want data &quot;pasted&quot; into columns with nointerruptions.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-2490-SECT-1.1">35.17.1 One File per Column: -m </A></H3><PCLASS="para">The <EMCLASS="emphasis">-m</EM> option reads all files on the command line simultaneouslyand prints each in its own column, like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>pr -m -t </B></CODE><CODECLASS="replaceable"><I>file1 file2 file3</I></CODE>The lines              The lines              The linesof file1               of file2               of file3are here               are here               are here  ...                    ...                    ...</PRE></BLOCKQUOTE></P><PCLASS="para"><EMCLASS="emphasis">pr</EM> may use TAB characters between columns.If that would be bad, you can pipe <EMCLASS="emphasis">pr</EM>'s output through<SPANCLASS="link"><EMCLASS="emphasis">expand</EM> (<ACLASS="linkend"HREF="ch41_04.htm"TITLE="How UNIX Handles TAB Characters ">41.4</A>)</SPAN>.Many versions of <EMCLASS="emphasis">pr</EM> have a <CODECLASS="literal">-s</CODE><CODECLASS="replaceable"><I>X</I></CODE> option thatsets the column separator to the single character <EMCLASS="emphasis">X</EM>.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-2490-SECT-1.2">35.17.2 One File, Several Columns: -number </A></H3><PCLASS="para">An option that's a number will print a file in that number of columns.For instance, the <EMCLASS="emphasis">-3</EM> option prints a file in three columns.The file is read, line by line, until the first column is full (bydefault, that takes 56 lines).Next, the second column is filled.Then, the third column is filled.If there's more of the file, the first column of page 2 is filled&nbsp;- andthe cycle repeats:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>pr -3 file1</B></CODE>Nov  1 19:44 1992  file1  Page 1Line 1 here            Line 57 here           Line 115 hereLine 2 here            Line 58 here           Line 116 hereLine 3 here            Line 59 here           Line 117 here  ...                    ...                    ...</PRE></BLOCKQUOTE></P><PCLASS="para">The columns aren't balanced&nbsp;- if the file will fit into one column, the othercolumns aren't used.You can change that by adjusting <EMCLASS="emphasis">-l</EM>, the page length option;see the section below.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-2490-SECT-1.3">35.17.3 Order Lines Across Columns with -l </A></H3><PCLASS="para">Do you want to arrange your data across the columns, so that the firstthree lines print across the top of each column, the next three linesare the second in each column, and so on, like this?</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>pr -l1 -t -3 file1</B></CODE>Line 1 here            Line 2 here            Line 3 hereLine 4 here            Line 5 here            Line 6 hereLine 7 here            Line 8 here            Line 9 here  ...                    ...                    ...</PRE></BLOCKQUOTE></P><PCLASS="para">Use the <EMCLASS="emphasis">-l1</EM> (page length 1 line) and <EMCLASS="emphasis">-t</EM> (no title) options.Each &quot;page&quot; will be filled by three lines (or however many columns youset).You have to use <EMCLASS="emphasis">-t</EM>; otherwise, <EMCLASS="emphasis">pr</EM> will silently ignore anypage lengths that don't leave room for the header and footer.That's just what you want if you want data in columns with no headings.</P><PCLASS="para">If you want headings too, pipe the output of <EMCLASS="emphasis">pr</EM> through another<EMCLASS="emphasis">pr</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>pr -l1 -t -3 file1 | pr -h file1</B></CODE>Nov  1 19:48 1992  file1  Page 1Line 1 here            Line 2 here            Line 3 hereLine 4 here            Line 5 here            Line 6 hereLine 7 here            Line 8 here            Line 9 here  ...                    ...                    ...</PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">-h&nbsp;file1</CODE> puts the filename into the heading.</P><PCLASS="para">Also see<SPANCLASS="link"><EMCLASS="emphasis">paste</EM> (<ACLASS="linkend"HREF="ch35_18.htm"TITLE="Pasting Things in Columns ">35.18</A>)</SPAN>and<SPANCLASS="link"><EMCLASS="emphasis">cols</EM> (<ACLASS="linkend"HREF="ch35_16.htm"TITLE="Make Columns Automatically with cols ">35.16</A>)</SPAN>.Of course, programming languages like<SPANCLASS="link"><EMCLASS="emphasis">awk</EM> (<ACLASS="linkend"HREF="ch33_11.htm"TITLE="Quick Reference: awk ">33.11</A>)</SPAN>and<SPANCLASS="link"><EMCLASS="emphasis">perl</EM> (<ACLASS="linkend"HREF="ch37_01.htm#UPT-ART-5560"TITLE="What We Do and Don't Tell You About Perl ">37.1</A>)</SPAN>can also maketext into columns.</P></DIV><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_16.htm"TITLE="35.16 Make Columns Automatically with cols "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 35.16 Make Columns Automatically with cols "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch35_18.htm"TITLE="35.18 Pasting Things in Columns "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 35.18 Pasting Things in Columns "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">35.16 Make Columns Automatically with cols </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">35.18 Pasting Things in Columns </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>