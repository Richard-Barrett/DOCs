<HTML><HEAD><TITLE>[Chapter 38] 38.14 Processes Out of Control?  Just STOP Them </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:49:56Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch38_01.htm"TITLE="38. Starting, Stopping, and Killing Processes"><LINKREL="prev"HREF="ch38_13.htm"TITLE="38.13 Interactively Kill Processes Matching a Pattern "><LINKREL="next"HREF="ch38_15.htm"TITLE="38.15 Cleaning Up an Unkillable Process "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch38_13.htm"TITLE="38.13 Interactively Kill Processes Matching a Pattern "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 38.13 Interactively Kill Processes Matching a Pattern "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 38<BR>Starting, Stopping, and Killing Processes</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch38_15.htm"TITLE="38.15 Cleaning Up an Unkillable Process "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 38.15 Cleaning Up an Unkillable Process "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0103">38.14 Processes Out of Control?  Just STOP Them </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-43274"></A>Especially if you're a programmer, you can run into a situation whereyou have processes<SPANCLASS="link">forking (<ACLASS="linkend"HREF="ch38_02.htm"TITLE="fork and exec ">38.2</A>)</SPAN>out of control&nbsp;- more and more of them.By the time you kill one, fifty more fork.</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">On systems with<SPANCLASS="link">job control (<ACLASS="linkend"HREF="ch12_01.htm#UPT-ART-0439"TITLE="Job Control: Work Faster, Stop Runaway Jobs ">12.1</A>)</SPAN>,there's a good answer: use the <EMCLASS="emphasis">STOP</EM>signal to stop the processes:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch38_10.htm"TITLE="38.10 Destroying Processes with kill ">kill</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">kill<CODECLASS="userinput"><B> -STOP</B></CODE> ...</PRE></TD></TR></TABLE></P><PCLASS="para">Stop any process you can.Then it won't be able to fork more processes.Stop them all.<EMCLASS="emphasis">Then</EM> start cleaning up with <EMCLASS="emphasis">kill -9</EM>.</P></LI><LICLASS="listitem"><PCLASS="para">If your system manager has set a per-user process limit on your computer,the good news is that your processes won't eventually crash the system.But the bad news is, when you try to run any command that isn't<SPANCLASS="link">built into the shell (<ACLASS="linkend"HREF="ch01_10.htm"TITLE="Internal and External Commands ">1.10</A>)</SPAN>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>ps</B></CODE>No more processes.</PRE></BLOCKQUOTE></P><PCLASS="para">you can't because you're already at your limit.</P><PCLASS="para">If that happens, log on to another account or ask someone to run acommand that will give a list of your processes.Depending on your system, the command is probably like one of these two:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>ps -u</B></CODE><CODECLASS="replaceable"><I> yourname</I></CODE>   <ICLASS="lineannotation">System V</I>% <CODECLASS="userinput"><B>ps aux | grep </B></CODE><CODECLASS="replaceable"><I>yourname</I></CODE>   <ICLASS="lineannotation">BSD</I></PRE></BLOCKQUOTE></P><PCLASS="para">Then go back to your terminal and start stopping <CODECLASS="literal">:-)</CODE>.If you get the <CODECLASS="literal">No more processes</CODE> error, your shell must not havea built-in <EMCLASS="emphasis">kill</EM> command.The C shell does.<EMCLASS="emphasis">Carefully</EM> type the next command to replace your shell with aC shell.Don't makea mistake (if you do, you may not be able to log in again):</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch45_07.htm"TITLE="45.7 The exec Command ">exec</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">$ exec<CODECLASS="userinput"><B> /bin/csh</B></CODE>% <CODECLASS="userinput"><B>kill</B></CODE> ...</PRE></TD></TR></TABLE></P></LI></UL><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch38_13.htm"TITLE="38.13 Interactively Kill Processes Matching a Pattern "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 38.13 Interactively Kill Processes Matching a Pattern "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch38_15.htm"TITLE="38.15 Cleaning Up an Unkillable Process "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 38.15 Cleaning Up an Unkillable Process "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">38.13 Interactively Kill Processes Matching a Pattern </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">38.15 Cleaning Up an Unkillable Process </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>