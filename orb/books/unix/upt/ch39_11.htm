<HTML><HEAD><TITLE>[Chapter 39] 39.11 Changing a Job's Priority Under BSD UNIX </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:50:23Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch39_01.htm"TITLE="39. Time and Performance"><LINKREL="prev"HREF="ch39_10.htm"TITLE="39.10 A nice Gotcha "><LINKREL="next"HREF="ch39_12.htm"TITLE="39.12 What Makes Your Computer Slow? How Do You Fix It?"></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch39_10.htm"TITLE="39.10 A nice Gotcha "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 39.10 A nice Gotcha "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 39<BR>Time and Performance</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch39_12.htm"TITLE="39.12 What Makes Your Computer Slow? How Do You Fix It?"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 39.12 What Makes Your Computer Slow? How Do You Fix It?"BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-0317">39.11 Changing a Job's Priority Under BSD UNIX </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-44220"></A><ACLASS="indexterm"NAME="AUTOID-44223"></A><ACLASS="indexterm"NAME="AUTOID-44225"></A><ACLASS="indexterm"NAME="AUTOID-44228"></A>Once a job is running, you can use the <EMCLASS="emphasis">renice</EM>(8) command to changethe job's priority:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>/etc/renice </B></CODE><CODECLASS="replaceable"><I>priority </I></CODE><CODECLASS="userinput"><B>-p </B></CODE><CODECLASS="replaceable"><I>pid</I></CODE>% <CODECLASS="userinput"><B>/etc/renice </B></CODE><CODECLASS="replaceable"><I>priority </I></CODE><CODECLASS="userinput"><B>-g </B></CODE><CODECLASS="replaceable"><I>pgrp</I></CODE>% <CODECLASS="userinput"><B>/etc/renice </B></CODE><CODECLASS="replaceable"><I>priority </I></CODE><CODECLASS="userinput"><B>-u </B></CODE><CODECLASS="replaceable"><I>uname</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">where <EMCLASS="emphasis">priority</EM> is the new <SPANCLASS="link"><EMCLASS="emphasis">nice</EM> level (<ACLASS="linkend"HREF="ch39_09.htm"TITLE='Know When to Be "nice&quot; to OTher Users...and WhenNot to'>39.9</A>)</SPAN>for the job. It must be a signed integer between -20 and 20. <EMCLASS="emphasis">pid</EM> is the <SPANCLASS="link">ID number (<ACLASS="linkend"HREF="ch38_03.htm"TITLE="Managing Processes: Overall Concepts ">38.3</A>)</SPAN>(as shown by<SPANCLASS="link"><EMCLASS="emphasis">ps</EM> (<ACLASS="linkend"HREF="ch38_05.htm"TITLE="The ps Command ">38.5</A>)</SPAN>)of the processyou want to change. <EMCLASS="emphasis">pgrp</EM> is the number of a<SPANCLASS="link">process group (<ACLASS="linkend"HREF="ch38_03.htm"TITLE="Managing Processes: Overall Concepts ">38.3</A>)</SPAN>,asshown by <EMCLASS="emphasis">ps -l</EM>; this version of the command modifies thepriority of all commands in a process group. <EMCLASS="emphasis">uname</EM> may be auser's name, as shown in <EMCLASS="emphasis">/etc/passwd</EM>; this form of the commandmodifies the priority of all jobs submitted by the user.</P><PCLASS="para">A nice level of 19 is the &quot;nicest&quot;: the process will run only whennothing else on the system wants to.Negative values make a process get a greater percentage of the CPU'stime than the default niceness (which is 0).Again, only the superuser can lower the <EMCLASS="emphasis">nice</EM> number (raise a process'priority). Users can only raise the <EMCLASS="emphasis">nice</EM> number (lower the priority)and can modify the priorities of only the jobs they started.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-44263"></A>BSD UNIX systems automatically <EMCLASS="emphasis">nice</EM> jobs after they haveaccumulated a certain amount of CPU time. This implicitly givespriority to jobs that don't run for a long time, sacrificing users whorun long jobs in favor of users who run many short commands.The autonice time varies from system to system, but is usually 10CPU minutes.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">ML</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch39_10.htm"TITLE="39.10 A nice Gotcha "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 39.10 A nice Gotcha "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch39_12.htm"TITLE="39.12 What Makes Your Computer Slow? How Do You Fix It?"><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 39.12 What Makes Your Computer Slow? How Do You Fix It?"BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">39.10 A nice Gotcha </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">39.12 What Makes Your Computer Slow? How Do You Fix It?</TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>