<HTML><HEAD><TITLE>[Chapter 40] 40.5 Avoiding Other at and cron Jobs </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:50:36Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch40_01.htm"TITLE="40. Delayed Execution"><LINKREL="prev"HREF="ch40_04.htm"TITLE="40.4 Choosing the Shell Run (We Hope) by at "><LINKREL="next"HREF="ch40_06.htm"TITLE="40.6 System V.4 Batch Queues "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch40_04.htm"TITLE="40.4 Choosing the Shell Run (We Hope) by at "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 40.4 Choosing the Shell Run (We Hope) by at "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 40<BR>Delayed Execution</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch40_06.htm"TITLE="40.6 System V.4 Batch Queues "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 40.6 System V.4 Batch Queues "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-2311">40.5 Avoiding Other at and cron Jobs </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-44662"></A><ACLASS="indexterm"NAME="AUTOID-44664"></A><ACLASS="indexterm"NAME="AUTOID-44667"></A><SPANCLASS="link"><EMCLASS="emphasis">atq</EM> and <EMCLASS="emphasis">at -l</EM> (<ACLASS="linkend"HREF="ch40_09.htm"TITLE="Checking and Removing Jobs ">40.9</A>)</SPAN>are more important than they seem. They giveyou a way to decide when to run your jobs. I suggest that youcheck <EMCLASS="emphasis">atq</EM> before picking a time to run your job. If you don't,the system may have a dozen huge jobs starting at midnight or 1 a.m.They will bring the system to its knees when there's no one around tohelp out. Here's an example of what can happen, using the BSD-style<EMCLASS="emphasis">at</EM> commands:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>atq</B></CODE> Rank      Execution Date    Owner   Job#   Queue  Job Name 1st    Sep 12, 1996 01:00   mikel   4529     a    trashsys.sh 2nd    Sep 12, 1996 01:00   johnt   4531     a    flame.sh 3rd    Sep 12, 1996 01:00   davek   4532     a    stdin 4th    Sep 12, 1996 01:00   joek    4533     a    troffit 5th    Sep 13, 1996 02:00   bobr    4534     a    stdin</PRE></BLOCKQUOTE></P><PCLASS="para">Four of the five users happened to pick 1 a.m. as their submission time.Therefore, four big jobs will start in the middle of the night. Willyour system survive? Will any of these be done in the morning? Theseare good questions. Instead of submitting your jobs to runat 1 a.m., at midnight, or at some other integral number, start themat different times, and make them times like 3:48 a.m. If your systemadministrator notices lots of jobs running at the same times on yoursystem, she might delete some of them and ask you to reschedule.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-44680"></A><ACLASS="indexterm"NAME="AUTOID-44682"></A>If your system has<SPANCLASS="link">personal <EMCLASS="emphasis">crontab</EM> files (<ACLASS="linkend"HREF="ch40_12.htm"TITLE="Periodic Program Execution: The cron Facility ">40.12</A>)</SPAN>,you won't be able to see other users' <EMCLASS="emphasis">cron</EM> jobs.The best way to cut system load is to pick strange times like 4:37 a.m.for your <EMCLASS="emphasis">cron</EM> jobs.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">ML</SPAN> <SPANCLASS="bibliomisc">from O'Reilly &amp; Associates' <CITECLASS="citetitle">System Performance Tuning</CITE>, Chapter 3</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch40_04.htm"TITLE="40.4 Choosing the Shell Run (We Hope) by at "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 40.4 Choosing the Shell Run (We Hope) by at "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch40_06.htm"TITLE="40.6 System V.4 Batch Queues "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 40.6 System V.4 Batch Queues "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">40.4 Choosing the Shell Run (We Hope) by at </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">40.6 System V.4 Batch Queues </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>