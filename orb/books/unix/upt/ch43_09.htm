<HTML><HEAD><TITLE>[Chapter 43] 43.9 Indenting Text for Printing </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-10-23T15:51:49Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch43_01.htm"TITLE="43. Printing"><LINKREL="prev"HREF="ch43_08.htm"TITLE="43.8 Fixing Margins with pr and fold "><LINKREL="next"HREF="ch43_10.htm"TITLE="43.10 Filename Headers Above Files Without pr "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch43_08.htm"TITLE="43.8 Fixing Margins with pr and fold "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 43.8 Fixing Margins with pr and fold "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 43<BR>Printing</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch43_10.htm"TITLE="43.10 Filename Headers Above Files Without pr "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 43.10 Filename Headers Above Files Without pr "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-2420">43.9 Indenting Text for Printing </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-48000"></A>If you want to print a file that has plain text (not PostScript or some otherpage description language), you can indent the printout by adding some spacesto the start of each line.Use<SPANCLASS="link"><EMCLASS="emphasis">sed</EM> (<ACLASS="linkend"HREF="ch34_24.htm"TITLE="Quick Reference: sed ">34.24</A>)</SPAN>to add a TAB or two (if your printer can handle TABs)&nbsp;- otherwise, spaces&nbsp;- tothe start of each line.Here's a simple command that adds four spaces to the start of each line of the<EMCLASS="emphasis">logdata</EM> file, then prints with <EMCLASS="emphasis">lpr</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>sed 's/^/    /' logdata | lpr</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">You'll run into trouble if the file you're printing has any TABs in itthough, because the extra spaces at the start of each line can mess up thetabstops.In that case, <SPANCLASS="link">expand tabs (<ACLASS="linkend"HREF="ch41_04.htm"TITLE="How UNIX Handles TAB Characters ">41.4</A>)</SPAN>first:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>expand logdata | sed 's/^/    /' | lpr</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The<SPANCLASS="link"><EMCLASS="emphasis">pr</EM> (<ACLASS="linkend"HREF="ch43_07.htm"TITLE="Quick-and-Dirty Formatting Before Printing ">43.7</A>)</SPAN>command makes a nicely formatted printout.You can indent its output, too.If your <EMCLASS="emphasis">pr</EM> doesn't have a <EMCLASS="emphasis">-o</EM> (offset) switch, though,pipe its output through <EMCLASS="emphasis">sed</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>pr logdata | sed 's/^/    /' | lpr</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">That doesn't always work.If there are TABs in the file, <EMCLASS="emphasis">pr</EM> may not expand them&nbsp;- though someversions of <EMCLASS="emphasis">pr</EM> have a <EMCLASS="emphasis">-e</EM> switch to do that.Also, your indentation will indent the heading on each page&nbsp;- too muchindentation can shove the heading off the right-hand side of the paper.Here's a better command to handle those problems.It expands the TABs and indents the body but doesn't indent the heading:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>expand logdata | sed 's/^/    /' | pr -h logdata | lpr</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The <CODECLASS="literal">-h</CODE>&nbsp;<CODECLASS="literal">logdata</CODE> puts the filename at the top of each page(because <EMCLASS="emphasis">pr</EM> can't get the name otherwise).Omit that if you don't want it.</P><PCLASS="para">The<SPANCLASS="link"><EMCLASS="emphasis">offset</EM> (<ACLASS="linkend"HREF="ch35_07.htm"TITLE="offset: Indent Text ">35.7</A>)</SPAN>script lets you set the indentation with a command-line option.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch43_08.htm"TITLE="43.8 Fixing Margins with pr and fold "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 43.8 Fixing Margins with pr and fold "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch43_10.htm"TITLE="43.10 Filename Headers Above Files Without pr "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 43.10 Filename Headers Above Files Without pr "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">43.8 Fixing Margins with pr and fold </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">43.10 Filename Headers Above Files Without pr </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>