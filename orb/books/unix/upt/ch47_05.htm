<HTML><HEAD><TITLE>[Chapter 47] 47.5 Using C Shell Arrays </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:56:00Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch47_01.htm"TITLE="47. C Shell Programming...NOT"><LINKREL="prev"HREF="ch47_04.htm"TITLE="47.4 C Shell Variable Operators and Expressions "><LINKREL="next"HREF="ch47_06.htm"TITLE="47.6 Quick Reference: C Shell switch Statement "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch47_04.htm"TITLE="47.4 C Shell Variable Operators and Expressions "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 47.4 C Shell Variable Operators and Expressions "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 47<BR>C Shell Programming...NOT</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch47_06.htm"TITLE="47.6 Quick Reference: C Shell switch Statement "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 47.6 Quick Reference: C Shell switch Statement "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-5290">47.5 Using C Shell Arrays </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-57358"></A><ACLASS="indexterm"NAME="AUTOID-57361"></A><ACLASS="indexterm"NAME="AUTOID-57364"></A><ACLASS="indexterm"NAME="AUTOID-57367"></A><ACLASS="indexterm"NAME="AUTOID-57370"></A><ACLASS="indexterm"NAME="AUTOID-57373"></A><ACLASS="indexterm"NAME="AUTOID-57376"></A><ACLASS="indexterm"NAME="AUTOID-57379"></A><ACLASS="indexterm"NAME="AUTOID-57382"></A><ACLASS="indexterm"NAME="AUTOID-57385"></A>The C shell can treat its shell variables as <EMCLASS="emphasis">word lists</EM>.They're a lot like<SPANCLASS="link"><EMCLASS="emphasis">arrays</EM> (<ACLASS="linkend"HREF="glossary.htm#UPT-ART-1010"TITLE="Glossary">52.9</A>)</SPAN>in other programming languages, so that's what I'll call them.The C shell's<SPANCLASS="link"><EMCLASS="emphasis">path</EM> (<ACLASS="linkend"HREF="ch06_05.htm"TITLE="PATH and path ">6.5</A>)</SPAN>,<SPANCLASS="link"><EMCLASS="emphasis">cdpath</EM> (<ACLASS="linkend"HREF="ch14_05.htm"TITLE="Saving Time When You Change Directories: cdpath ">14.5</A>)</SPAN>,and<SPANCLASS="link"><EMCLASS="emphasis">mail</EM> (<ACLASS="linkend"HREF="ch21_08.htm"TITLE="The MAILCHECK and mail Variables Check More than Mail">21.8</A>)</SPAN>shell variables are arrays, for example.By the way, arrays are great for storing information in your<SPANCLASS="link">shell setup files (<ACLASS="linkend"HREF="ch02_02.htm"TITLE="Shell Setup Files-Which, Where, and Why ">2.2</A>)</SPAN>.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-57399"></A><ACLASS="indexterm"NAME="AUTOID-57402"></A>To set an array, use parentheses around the value.Put a space between array members.Inside the parentheses, you can use single quotes, backquotes, double quotes,and so on.Here's how to put <EMCLASS="emphasis">fix the report</EM> in the first member of the<EMCLASS="emphasis">job</EM> array and <EMCLASS="emphasis">resign</EM> as the second member:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>set job=(&quot;Fix the report&quot; resign)</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-57412"></A>A dollar sign (<CODECLASS="literal">$</CODE>) before the name of a shell variable givesyou its value.That gives all members of an array, too, because the array isstored as a shell variable.To pick out a particular member, put its number in square bracketsafter the name.For example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>echo $job</B></CODE>Fix the report resign% <CODECLASS="userinput"><B>echo $job[1]</B></CODE>Fix the report</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-57421"></A><ACLASS="indexterm"NAME="AUTOID-57424"></A>Like the Bourne shell<SPANCLASS="link"><EMCLASS="emphasis">shift</EM> (<ACLASS="linkend"HREF="ch44_17.htm"TITLE="Handling Arguments with while and shift ">44.17</A>)</SPAN>command, the C shell <EMCLASS="emphasis">shift</EM> command shifts the command-line arguments.It also shifts array members.Let's shift the <EMCLASS="emphasis">job</EM> array:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>shift job</B></CODE>% <CODECLASS="userinput"><B>echo $job[1]</B></CODE>resign</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-57436"></A><ACLASS="indexterm"NAME="AUTOID-57439"></A><ACLASS="indexterm"NAME="AUTOID-57442"></A>Tom Christiansen told me that putting your<SPANCLASS="link">directory stack (<ACLASS="linkend"HREF="ch14_06.htm"TITLE="The Shells' pushd and popd Commands ">14.6</A>)</SPAN>in an array is really useful.He's right.You might add an<SPANCLASS="link">alias (<ACLASS="linkend"HREF="ch10_02.htm"TITLE="Aliases for Common Commands ">10.2</A>)</SPAN>for <EMCLASS="emphasis">pushd</EM> and <EMCLASS="emphasis">popd</EM> that stores the <EMCLASS="emphasis">dirs</EM> output into anarray named <EMCLASS="emphasis">dirs</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><ACLASS="indexterm"NAME="AUTOID-57453"></A>alias pushd 'pushd \!* &amp;&amp; set dirs=(`dirs`)'alias popd 'popd \!* &amp;&amp; set dirs=(`dirs`)'</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-57458"></A><ACLASS="indexterm"NAME="AUTOID-57461"></A>Then, to look in the third directory in your stack, use a command like<CODECLASS="literal">ls&nbsp;$dirs[3]</CODE>.Or, use an array with a<SPANCLASS="link"><EMCLASS="emphasis">foreach</EM> loop (<ACLASS="linkend"HREF="ch09_11.htm"TITLE="Repeating a Command with a foreach Loop ">9.11</A>)</SPAN>to step through the members one-by-one.For instance, you might need to find the file <EMCLASS="emphasis">frobozz</EM> thatyou put in some directory in your stack.Use the<SPANCLASS="link"><EMCLASS="emphasis">-e</EM> test (<ACLASS="linkend"HREF="ch47_04.htm"TITLE="C Shell Variable Operators and Expressions ">47.4</A>)</SPAN>to look for a file that exists:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist">&#13;<ACLASS="co"HREF="ch09_13.htm"TITLE="9.13 Multiline Commands, Secondary Prompts ">?</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">% <CODECLASS="userinput"><B>foreach dir ($dirs)</B></CODE><ACLASS="indexterm"NAME="AUTOID-57473"></A><ACLASS="indexterm"NAME="AUTOID-57476"></A>? <CODECLASS="userinput"><B>if (-e $dir/frobozz) echo &quot;frobozz is in $dir&quot;</B></CODE>? <CODECLASS="userinput"><B>end</B></CODE>frobozz is in /work/vol3/ch02.files/summaries%</PRE></TD></TR></TABLE></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch47_04.htm"TITLE="47.4 C Shell Variable Operators and Expressions "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 47.4 C Shell Variable Operators and Expressions "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch47_06.htm"TITLE="47.6 Quick Reference: C Shell switch Statement "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 47.6 Quick Reference: C Shell switch Statement "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">47.4 C Shell Variable Operators and Expressions </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">47.6 Quick Reference: C Shell switch Statement </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>