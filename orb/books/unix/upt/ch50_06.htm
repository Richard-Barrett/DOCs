<HTML><HEAD><TITLE>[Chapter 50] 50.6 Searching Online Manual Pages </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:56:55Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch50_01.htm"TITLE="50. Help--Online Documentation, etc."><LINKREL="prev"HREF="ch50_05.htm"TITLE="50.5 whereis: Finding Where a Command Is Located "><LINKREL="next"HREF="ch50_07.htm"TITLE="50.7 How UNIX Systems Remember Their Name "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch50_05.htm"TITLE="50.5 whereis: Finding Where a Command Is Located "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 50.5 whereis: Finding Where a Command Is Located "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 50<BR>Help--Online Documentation, etc.</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch50_07.htm"TITLE="50.7 How UNIX Systems Remember Their Name "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 50.7 How UNIX Systems Remember Their Name "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-9909">50.6 Searching Online Manual Pages </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-59242"></A><ACLASS="indexterm"NAME="AUTOID-59245"></A>When the other techniques in this chapter don't find the informationyou want, you can try searching the<SPANCLASS="link">online manual page (<ACLASS="linkend"HREF="ch50_01.htm#UPT-ART-4910"TITLE="UNIX Online Documentation ">50.1</A>)</SPAN>files.You'll probably have to wade through a lot of stuff that you don't wantto see, but this method can work when nothing else does.As an example, you remember that there's some command for choppingcolumns out of a file.You try<SPANCLASS="link"><EMCLASS="emphasis">apropos</EM> (<ACLASS="linkend"HREF="ch50_02.htm"TITLE="The apropos Command ">50.2</A>)</SPAN>,but it only mentions <EMCLASS="emphasis">colrm</EM> and <EMCLASS="emphasis">pr</EM>, and those aren't what youwant.You'll usually be able to narrow your search to one or two<SPANCLASS="link">manual page sections (<ACLASS="linkend"HREF="ch50_01.htm#UPT-ART-4910"TITLE="UNIX Online Documentation ">50.1</A>)</SPAN>;here, you know that user commands are in section&nbsp;1.So you go to the manual pages and do a case-insensitive search throughall the files for &quot;column&quot; or &quot;chop&quot;:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><ACLASS="indexterm"NAME="AUTOID-59256"></A><ACLASS="indexterm"NAME="AUTOID-59259"></A>% <CODECLASS="userinput"><B>cd /usr/man/man1</B></CODE>% <CODECLASS="userinput"><B>egrep -i 'column|chop' *</B></CODE>awk.1:Add up first column, print sum and average:colrm.1:colrm \- remove characters from specified columns within each line  ...cut.1:.IX  cut  &quot;&quot;  &quot;\fIcut\fP \(em remove columns from file&quot;  ...</PRE></BLOCKQUOTE></P><PCLASS="para">It's <EMCLASS="emphasis">cut</EM>!Notice that <EMCLASS="emphasis">awk</EM> also handles columns, but <EMCLASS="emphasis">apropos</EM> doesn'tsay so.</P><PCLASS="para">(I cheated on that example: there were other ways to find <EMCLASS="emphasis">cut</EM>-usingthe synonym <EMCLASS="emphasis">apropos field</EM> instead of <EMCLASS="emphasis">apropos column</EM>, for instance.But this method does work in tougher cases.)To search the manual page files, you'll need to know where they'restored.There are lots of possibilities, but the directories<EMCLASS="emphasis">/usr/man</EM> or <EMCLASS="emphasis">/usr/share/man</EM> are good places to look.If the command is local, try <EMCLASS="emphasis">/usr/local/man</EM> and maybe <EMCLASS="emphasis">/opt</EM> (a bigtree where<SPANCLASS="link"><EMCLASS="emphasis">find</EM> (<ACLASS="linkend"HREF="ch17_04.htm"TITLE="Looking for Files with Particular Names ">17.4</A>)</SPAN>can help).If your system has<SPANCLASS="link">fast <EMCLASS="emphasis">find</EM> or <EMCLASS="emphasis">locate</EM> (<ACLASS="linkend"HREF="ch17_18.htm"TITLE='Using "Fast find&quot;'>17.18</A>)</SPAN>,try searching for <CODECLASS="literal">man</CODE> or <CODECLASS="literal">*/man*</CODE>.</P><PCLASS="para">You'll probably find subdirectories with names like <EMCLASS="emphasis">man1</EM>, <EMCLASS="emphasis">man2</EM>,... and/or <EMCLASS="emphasis">cat1</EM>, <EMCLASS="emphasis">cat2</EM>, ....Directory names like <EMCLASS="emphasis">manN</EM> will have unformatted source files for section <EMCLASS="emphasis">N</EM>; the <EMCLASS="emphasis">catN</EM> directories have formatted source files.Or you may just find files named <EMCLASS="emphasis">command.N</EM>, where <EMCLASS="emphasis">N</EM> is <EMCLASS="emphasis">1</EM>for section 1, <EMCLASS="emphasis">2</EM> for section 2, and so on.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-59296"></A><ACLASS="indexterm"NAME="AUTOID-59299"></A>There are two types of manpage files: unformatted (shown in article<ACLASS="xref"HREF="ch50_11.htm"TITLE="Writing a Simple Man Page with the -man Macros ">50.11</A>)and formatted (with overstriking, as in article<ACLASS="xref"HREF="ch43_18.htm"TITLE="How nroff Makes Bold and Underline; How to Remove It">43.18</A>).The unformatted pages are easier to search because none of the wordswill have embedded backspace characters.The example above shows how.The unformatted pages have<SPANCLASS="link"><EMCLASS="emphasis">nroff</EM> (<ACLASS="linkend"HREF="ch43_13.htm"TITLE="The Text Formatters nroff, troff, ditroff, ... ">43.13</A>)</SPAN>commands and macros in them, though, which can make searching and readingtougher.</P><PCLASS="para">To search formatted pages, you'll want to strip the embedded backspacecharacters.Otherwise, <EMCLASS="emphasis">grep</EM> might miss the word you want because it wasboldfaced or underlined&nbsp;- with backspaces in it.In the example below, a<SPANCLASS="link">shell loop (<ACLASS="linkend"HREF="ch09_11.htm"TITLE="Repeating a Command with a foreach Loop ">9.11</A>, <ACLASS="linkend"HREF="ch09_12.htm"TITLE="The Bourne Shell for Loop ">9.12</A>)</SPAN>applies a series of commands to each file.First,<SPANCLASS="link"><EMCLASS="emphasis">col&nbsp;-b</EM> (<ACLASS="linkend"HREF="ch43_18.htm"TITLE="How nroff Makes Bold and Underline; How to Remove It">43.18</A>)</SPAN>removes the overstriking.<EMCLASS="emphasis">grep</EM> does a search (case-insensitive, as before).Because <EMCLASS="emphasis">grep</EM> is reading its standard input, it doesn't knowthe filename, so a little <EMCLASS="emphasis">sed</EM> command adds the name to thestart of every line <EMCLASS="emphasis">grep</EM> outputs.</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist">&#13;<ACLASS="co"HREF="ch01_16.htm"TITLE="1.16 Wildcards ">*</A> &#13;</PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">$ <CODECLASS="userinput"><B>cd /usr/man/cat1</B></CODE><ACLASS="indexterm"NAME="AUTOID-59319"></A>$ <CODECLASS="userinput"><B>for file in *</B></CODE>&gt; <CODECLASS="userinput"><B>do col -b &lt; $file | grep -i column | sed &quot;s/^/${file}:/&quot;</B></CODE>&gt; <CODECLASS="userinput"><B>done</B></CODE>awk.1:   Add up first column, print   sum and average:   ...cut.1:   Use cut to cut out columns from a table or fields from each   ...</PRE></TD></TR></TABLE></P><PCLASS="para">In Bourne shells, you can pipe the output of that loop to a pager (like<SPANCLASS="link"><EMCLASS="emphasis">less</EM> (<ACLASS="linkend"HREF="ch25_04.htm"TITLE='The "less&quot; Pager: More than "more&quot;'>25.4</A>)</SPAN>)to see the output a screenful at a time and quit (with <CODECLASS="literal">q</CODE>) whenyou're done.Change the last line of the <EMCLASS="emphasis">for</EM> loop to:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">done | less</PRE></BLOCKQUOTE></P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch50_05.htm"TITLE="50.5 whereis: Finding Where a Command Is Located "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 50.5 whereis: Finding Where a Command Is Located "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch50_07.htm"TITLE="50.7 How UNIX Systems Remember Their Name "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 50.7 How UNIX Systems Remember Their Name "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">50.5 whereis: Finding Where a Command Is Located </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">50.7 How UNIX Systems Remember Their Name </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>