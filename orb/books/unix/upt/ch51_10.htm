<HTML><HEAD><TITLE>[Chapter 51] 51.10 The date Command </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:57:29Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch51_01.htm"TITLE="51. Miscellaneous Useful Programs and Curiosities"><LINKREL="prev"HREF="ch51_09.htm"TITLE='51.9 Making a "Login&quot; Shell'><LINKREL="next"HREF="ch51_11.htm"TITLE="51.11 Making an Arbitrary-Size File for Testing "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch51_09.htm"TITLE='51.9 Making a "Login&quot; Shell'><IMGSRC="../gifs/txtpreva.gif"ALT='Previous: 51.9 Making a "Login&quot; Shell'BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 51<BR>Miscellaneous Useful Programs and Curiosities</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch51_11.htm"TITLE="51.11 Making an Arbitrary-Size File for Testing "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 51.11 Making an Arbitrary-Size File for Testing "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-7914">51.10 The date Command </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-60427"></A><ACLASS="indexterm"NAME="AUTOID-60429"></A><ACLASS="indexterm"NAME="AUTOID-60432"></A>All UNIX systems come with a program called <EMCLASS="emphasis">date</EM>.It shows you the time from the<SPANCLASS="link">system clock (<ACLASS="linkend"HREF="ch51_02.htm"TITLE="How UNIX Keeps Time">51.2</A>)</SPAN>.(So, the time is only as accurate as your system's clock.)For example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>date</B></CODE>Fri Dec 13 08:06:39 PST 1996</PRE></BLOCKQUOTE></P><TABLECLASS="para.programreference"BORDER="1"><TR><THVALIGN="TOP"><ACLASS="programreference"HREF="examples/index.htm"TITLE="date">date</A><BR></TH><TDVALIGN="TOP">If you need parts of that date, you can split the line into pieces.There are examples in articles<ACLASS="xref"HREF="ch16_18.htm"TITLE="Listing Files You've Created/Edited Today ">16.18</A>,<ACLASS="xref"HREF="ch21_03.htm"TITLE="Unique Names for Temporary Files ">21.3</A>,and<ACLASS="xref"HREF="ch02_05.htm"TITLE="Tips for Speeding up Slow Logins ">2.5</A>.Most newer versions of <EMCLASS="emphasis">date</EM> (including the one on the Power Toolsdisc) will also let you set the format of the date.To do that, type a single argument that starts with a plus (<CODECLASS="literal">+</CODE>)and has format specification characters in it.Check your online manual page for a list of format specificationcharacters.The argument has to be all one word, so you'll usually need to put<SPANCLASS="link">quotes (<ACLASS="linkend"HREF="ch08_14.htm"TITLE="Bourne Shell Quoting ">8.14</A>)</SPAN>around it.Here's a simple example:</TD></TR></TABLE><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>date +'Today is %d %h 19%y.'</B></CODE>Today is 13 Dec 1996.</PRE></BLOCKQUOTE></P><PCLASS="para">You'll usually use this in a shell script or<SPANCLASS="link">alias (<ACLASS="linkend"HREF="ch10_02.htm"TITLE="Aliases for Common Commands ">10.2</A>)</SPAN>.Because <EMCLASS="emphasis">date</EM> can mix any other text with the dates it outputs,you can do some surprising and useful things.Greg Ubben uses it to construct arithmeticexpressions for performing calculations on dates.For example, since <CODECLASS="literal">date&nbsp;+%U</CODE> isn't available on all systems,the following computes the week number of the year(Sunday as the first day) and makes it available in the Bourne shellas <CODECLASS="literal">$weekno</CODE>:</P><PCLASS="para"><TABLECLASS="screen.co"BORDER="1"><TR><THVALIGN="TOP"><PRECLASS="calloutlist"><ACLASS="co"HREF="ch45_28.htm"TITLE="45.28 Quick Reference: expr ">expr</A> <ACLASS="co"HREF="ch45_31.htm"TITLE="45.31 Nested Command Substitution ">`...`</A> </PRE></TH><TDVALIGN="TOP"><PRECLASS="screen">weekno=`expr \`date +&quot;%j / 7 + ( ( %w + 6 ) %% 7 &lt; %j %% 7 )&quot;\``</PRE></TD></TR></TABLE></P><PCLASS="para">For some other &quot;real-life&quot; examples, see articles<ACLASS="xref"HREF="ch16_16.htm"TITLE="Picking a Unique Filename Automatically ">16.16</A>,<ACLASS="xref"HREF="ch18_03.htm"TITLE="Files with Two or More Names">18.3</A>,and<ACLASS="xref"HREF="ch21_14.htm"TITLE="Automatically Appending the Date to a Filename ">21.14</A>.</P><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">JP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch51_09.htm"TITLE='51.9 Making a "Login&quot; Shell'><IMGSRC="../gifs/txtpreva.gif"ALT='Previous: 51.9 Making a "Login&quot; Shell'BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch51_11.htm"TITLE="51.11 Making an Arbitrary-Size File for Testing "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 51.11 Making an Arbitrary-Size File for Testing "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">51.9 Making a "Login&quot; Shell</TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">51.11 Making an Arbitrary-Size File for Testing </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>