<HTML><HEAD><TITLE>[Chapter 52] 52.5 Using the Power Tools CD-ROM </TITLE><METANAME="DC.title"CONTENT="UNIX Power Tools"><METANAME="DC.creator"CONTENT="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-04T21:58:36Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="1-56592-260-3"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch52_01.htm"TITLE="52. What's on the Disc"><LINKREL="prev"HREF="ch52_04.htm"TITLE="52.4 Quick Descriptions of What's on the Disc "><LINKREL="next"HREF="ch52_06.htm"TITLE="52.6 Don't Have a CD-ROM Drive? "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="UNIX Power Tools"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,58"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/psrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch52_04.htm"TITLE="52.4 Quick Descriptions of What's on the Disc "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 52.4 Quick Descriptions of What's on the Disc "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 52<BR>What's on the Disc</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch52_06.htm"TITLE="52.6 Don't Have a CD-ROM Drive? "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 52.6 Don't Have a CD-ROM Drive? "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="UPT-ART-9503">52.5 Using the Power Tools CD-ROM </A></H2><PCLASS="para">[In addition to this article,  be sure to read the file called README for any late-breaking news on using the CD-ROM. -LM]</P><PCLASS="para">The CD-ROM that comes with this book can be used in two different ways.First, it can be mounted just long enough for software to be copied ontoa local hard disk.In this respect, it is a distribution medium similar to magnetic tapes or floppy disks.Second, it can be mounted so that it is always present and availableas a local read-only hard disk.It will appear as a filesystem andyou can use familiar UNIX commands to peruse it.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.1">52.5.1 CD-ROM Formats </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62631"></A><ACLASS="indexterm"NAME="AUTOID-62633"></A><ACLASS="indexterm"NAME="AUTOID-62635"></A>The Power Tools CD conforms to the ISO standard 9660.This is sometimes called&quot;High Sierra,&quot; but there are differences between the two formats.The 9660 standardis what most CD-ROM drivers will support from now on, even though they will readHigh Sierra discs.</P><PCLASS="para">For UNIX users, ISO 9660 may come as a shock.  Forexample, a directory listing of an ISO 9660 disc might looklike this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>ls /cdrom</B></CODE>ALPHA/      CONFIG1      HP700/       INSTINFO/   RS6000/    SUN4C/BUILD.PT*   CONFIG2.REV  I386/        LINUX/      SOURCES/COMMON/     CONFIG3.Z    INSTALL.PT*  README      SSOL2/</PRE></BLOCKQUOTE></P><PCLASS="para">ISO 9660 specifies that the filenames are mono-case, and limited to 8 characterswith 3-character extensions.If the filename doesn't contain a dot, one isadded at the end of the filename.A &quot;version number&quot; is also appended, followinga semicolon (version numbers are used in some non-UNIX filesystems suchas VMS).Some systems do not use all these features, so there are several variationsthat you will encounter.</P><PCLASS="para">For example, a file called <EMCLASS="emphasis">install.pt</EM> may appear as any of the following,depending on what system you mount the CD-ROM on:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">INSTALL.PT;1 INSTALL.PT install.pt;1 install.pt</PRE></BLOCKQUOTE></P><PCLASS="para">Directory names are simply 8 characters or less and mono-case.A directorycalled &quot;SOURCES&quot; can appear as <EMCLASS="emphasis">SOURCES</EM> or <EMCLASS="emphasis">sources</EM>. ISO 9660 also limits directory depth to 8 levels.</P><PCLASS="para">Note that the semicolon character (<CODECLASS="literal">;</CODE>) in version numbers needs to be <SPANCLASS="link">quoted (<ACLASS="linkend"HREF="ch08_14.htm"TITLE="Bourne Shell Quoting ">8.14</A>)</SPAN>when you are specifying the filename in aUNIX shell.If you don't quote such a filename, you'll get a message like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">INSTALL.PT: Command not found.1: Command not found.</PRE></BLOCKQUOTE></P><PCLASS="para">Luckily for you, we provide installation software that hides most of this ugliness.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.2">52.5.2 Mounting the CD-ROM </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62658"></A>For UNIX users, the CD-ROM should be made available as if it were a filesystem.In most cases, the standard <EMCLASS="emphasis">mount</EM> command can be used.This usually hasthe form:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>mount</B></CODE> <CODECLASS="replaceable"><I>CD-ROM_device mount_point</I></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The CD-ROM device name varies depending on the type of system.If you do not knowthe device name, consult the documentation that comes with your system.On some systems, the SCSI ID of the CD-ROM device can vary.The SCSI IDwill be part of the device name&nbsp;- for example,<EMCLASS="emphasis">/dev/rz3c/</EM> is the CD-ROMat SCSI ID 3 on a DECstation.</P><PCLASS="para">The mount point is simply a directory that will become the parent directoryof the CD-ROM when it is mounted.</P><PCLASS="para">Most systems do not provide a way for unprivileged users to mount the CD.It is probably necessary to mount and use it as the<SPANCLASS="link">superuser (<ACLASS="linkend"HREF="ch01_24.htm"TITLE="The Superuser (Root) ">1.24</A>)</SPAN>.For this reason, the bulk of this article assumes some knowledge ofsystem administration and superuser commands.You may need to haveyour system administrator install the power tools software for you.</P><PCLASS="para">As the CDis read-only, you may have to specify this fact to the <EMCLASS="emphasis">mount</EM> program orit will generate an error if it tries to open the CD-ROM device forwriting.Some systems also need to be told the type of filesystembeing mounted if it is not the default (usually <CODECLASS="literal">ufs</CODE> or <CODECLASS="literal">nfs</CODE>).There may be options to the <EMCLASS="emphasis">mount</EM> program that control whether all theISO 9660 features (such as version numbers) are turned on.</P><PCLASS="para">For example, the CD can be mounted on a SunOS 4.1.1 system with thecommand:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/etc/mount -r -t hsfs /dev/sr0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">This command mounts the CD (<EMCLASS="emphasis">/dev/sr0</EM>) on the mount point (<EMCLASS="emphasis">/cdrom</EM>)in a read-only fashion (<EMCLASS="emphasis">-r</EM>).<ACLASS="indexterm"NAME="AUTOID-62683"></A>If you omit the <EMCLASS="emphasis">-r</EM> option, <EMCLASS="emphasis">mount</EM> will give the following error:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">mount_hsfs: must be mounted readonlymount: giving up on:   /cdrom</PRE></BLOCKQUOTE></P><PCLASS="para">If you omit the filesystem type of <CODECLASS="literal">hsfs</CODE>(High Sierra Filesystem, which preceded the ISO 9660 format), you will get:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">mount: /dev/sr0 on /cdrom: Invalid argumentmount: giving up on:   /cdrom</PRE></BLOCKQUOTE></P><PCLASS="para">The procedure for mounting a CD-ROM varies with each type of operating system.You should consult the manual pages for the <EMCLASS="emphasis">mount</EM> command and lookfor a mention of CD-ROM, ISO 9660, or High Sierra:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>man mount</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Some examples of <EMCLASS="emphasis">mount</EM> commands for the supported systems are:</P><DLCLASS="variablelist"><DTCLASS="term">Sun4 SunOS 4.1.4</DT><DDCLASS="listitem"><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/etc/mount -r -t hsfs /dev/sr0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></DD><DTCLASS="term">IBM RS/6000 AIX 3.2</DT><DDCLASS="listitem"><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/etc/mount -r -v cdrfs /dev/cd0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></DD><DTCLASS="term">HP 700 HP-UX</DT><DDCLASS="listitem"><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/etc/mount -r -s cdfs /dev/dsk/c201d2s0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></DD><DTCLASS="term">SCO UNIX</DT><DDCLASS="listitem"><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/etc/mount -r -fHS,lower,intr,soft,novers /dev/cd0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></DD><DTCLASS="term">Solaris</DT><DDCLASS="listitem"><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/etc/mount -F -hsfs -r /dev/dsk/c0t4d0s0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></DD><DTCLASS="term">Alpha</DT><DDCLASS="listitem"><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/usr/sbin/mount -t cdfs -o noversion /dev/rz3c /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></DD><DTCLASS="term">Linux</DT><DDCLASS="listitem"><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/bin/mount -t iso9660 -o ro /dev/cdrom /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para"></P></DD></DL><PCLASS="para">An example of a <EMCLASS="emphasis">mount</EM> command on another system is:</P><DLCLASS="variablelist"><DTCLASS="term">SGI IRIX 4.x</DT><DDCLASS="listitem"><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/usr/etc/mount -o ro,notranslate -t iso9660 \      /dev/scsi/sc0d5l0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;You can also start up the <EMCLASS="emphasis">cdromd</EM> process:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>cdromd -o ro,notranslate -d /dev/scsi/sc0d5l0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">To mount the disc, just insert it in the drive.To unmount it, usethe <EMCLASS="emphasis">eject</EM> command.</P></DD></DL><PCLASS="para">Once you have the CD-ROM mounted, you can run the installation program to copypre-compiled binaries off the CD and onto your system's hard disk.The installation program is Ready-to-Run Software's &quot;Smart Installation System.&quot;</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.3">52.5.3 Installing Pre-Compiled Binaries </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62770"></A><ACLASS="indexterm"NAME="AUTOID-62773"></A>There are two software installation programs provided on the CD.The firstprogram &quot;installs&quot; pre-compiled binaries.The second program &quot;builds&quot; programsfrom source code.If you have one of the supported platforms, you can installsoftware off the CD-ROM and use it immediately.If your platform is not one ofthe supported platforms or you wish to change the software in some way, you shouldbe able to <SPANCLASS="link">build it from source code (<ACLASS="linkend"HREF="ch52_08.htm"TITLE="Building Programs from Source Code ">52.8</A>)</SPAN>.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62777"></A>Binaries for the following platforms are on this CD-ROM:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Red Hat Linux 4.1</P></LI><LICLASS="listitem"><PCLASS="para">Sun4 Solaris 2.5</P></LI><LICLASS="listitem"><PCLASS="para">Sun4 SunOS 4.1.4</P></LI><LICLASS="listitem"><PCLASS="para">Digital Equipment Corp. 3.2</P></LI><LICLASS="listitem"><PCLASS="para">IBM RS/6000 AIX 3.2.5</P></LI><LICLASS="listitem"><PCLASS="para">HP 700 HP-UX 9.01</P></LI><LICLASS="listitem"><PCLASS="para">SCO UNIX 3.2.4</P></LI></UL><PCLASS="para">The pre-compiled binaries may work on operating systemversions slightly older or newer than the ones listed here.Some programs take advantage of features thatare not supported on all the platforms.The install program will tellyou if a program is not available for your platform.</P><PCLASS="para">If you are uncertain of your operating systemversion, the <EMCLASS="emphasis">uname</EM> command may help:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>uname -a</B></CODE>SunOS ruby 4.1.4 1 sun4m</PRE></BLOCKQUOTE></P><PCLASS="para">If your platform is not listed, you should try building theprograms from source code as described in article<ACLASS="xref"HREF="ch52_08.htm"TITLE="Building Programs from Source Code ">52.8</A>.</P><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.3.1">52.5.3.1 Directory Structure </A></H4><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62805"></A><ACLASS="indexterm"NAME="AUTOID-62807"></A>There is a standard installation structure for all packages on the CD-ROM.Using this structure (and some simple variations of it), you can tailor how and where your packages will be installed on your system.</P><PCLASS="para">The basic directory structure is shown in <ACLASS="xref"HREF="ch52_05.htm#UPT-ART-9503-FIG-0"TITLE="Basic Directory Structure">Figure 52.1</A>.</P><H4CLASS="figure"><ACLASS="title"NAME="UPT-ART-9503-FIG-0">Figure 52.1: Basic Directory Structure</A></H4><IMGCLASS="graphic"SRC="figs/9503a.gif"ALT="Figure 52.1"><PCLASS="para">Some packages may deviate from this structure by having extra directories at the <EMCLASS="emphasis">&lt;install_dir&gt;</EM> level.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62818"></A><ACLASS="indexterm"NAME="AUTOID-62820"></A><EMCLASS="emphasis">Shareable</EM> files are those files that are machine independent andcan be shared across many machines in a network using a<SPANCLASS="link">network filesystem (NFS) (<ACLASS="linkend"HREF="ch01_33.htm"TITLE="UNIX Networking and Communications ">1.33</A>)</SPAN>.These are typically text files, such as manual pages or &quot;include files.&quot;Sharing files reduces the amount of disk space required by allowing several differentsystems to use the same set of files, as opposed to having to duplicate them foreach machine.It also simplifies administration of the files by having onlya single copy to maintain.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62825"></A><EMCLASS="emphasis">Non-shareable</EM>files are machine/architecture specific and may not be shared (exceptwith other hosts of the same architecture).These are typically binariesor data files that depend on a certain architecture or byte order.</P><PCLASS="para">The installation program gives you the ability to split the shareableand non-shareable files into separate directories.Using this scheme, you couldput shareable files onto a partition or directory that is mounted by multiplemachines.</P><PCLASS="para">If you want to store shareable and non-shareable files at the same directorylevel, the shareable directories will be preceded by a leading <EMCLASS="emphasis">s</EM> to markthem as &quot;shareable.&quot;For example, <EMCLASS="emphasis">sbin</EM> is shareable, while <EMCLASS="emphasis">bin</EM> is non-shareable.</P><PCLASS="para">[1]<ACLASS="xref"HREF="ch52_05.htm#UPT-ART-9503-FIG-1"TITLE="Default Installation Directory Structure">Figure 52.2</A>shows how the default installation directories are arranged.</P><BLOCKQUOTECLASS="footnote"><PCLASS="para">[1] You may also remove the leading <EMCLASS="emphasis">s</EM> from the shareable directories <EMCLASS="emphasis">sinclude</EM>, <EMCLASS="emphasis">sspool</EM>, <EMCLASS="emphasis">sbin</EM>, and <EMCLASS="emphasis">slib</EM>.This way, youcan merge <EMCLASS="emphasis">slib</EM> into <EMCLASS="emphasis">lib</EM>, and <EMCLASS="emphasis">sbin</EM> into <EMCLASS="emphasis">bin</EM> if your shareable and non-shareable files are stored in the same directory, ormake names clearer if your shareable and non-shareable filesare not stored together.</P></BLOCKQUOTE><H4CLASS="figure"><ACLASS="title"NAME="UPT-ART-9503-FIG-1">Figure 52.2: Default Installation Directory Structure</A></H4><IMGCLASS="graphic"SRC="figs/9503b.gif"ALT="Figure 52.2"><PCLASS="para">You can modify this structure using the Smart Installation Systemand any necessary directories will be created(if you have permission to do so).</P><PCLASS="para">In order to run the software after installation, you will need to make sure that your shell path variable includes <EMCLASS="emphasis">&lt;install_dir&gt;/bin</EM> (and possibly <EMCLASS="emphasis">&lt;install_dir&gt;/share/bin</EM>if you choose to use this structure).For example, if <EMCLASS="emphasis">&lt;install_dir&gt;</EM>is set to <EMCLASS="emphasis">/usr/local</EM>, set your<SPANCLASS="link">search path (<ACLASS="linkend"HREF="ch08_07.htm"TITLE="Setting Your Search Path ">8.7</A>)</SPAN>as appropriate for your shell:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>set path=($path /usr/local/bin /usr/local/share/bin)</B></CODE>   <ICLASS="lineannotation">csh</I>$ <CODECLASS="userinput"><B>PATH=$PATH:/usr/local/bin:/usr/local/share/bin ; export PATH</B></CODE>   <ICLASS="lineannotation">sh</I></PRE></BLOCKQUOTE></P><PCLASS="para">&#13;The installation software will automatically print out a suggested pathwhen it finishes installing a program.</P></DIV><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.3.2">52.5.3.2 Starting the Installation </A></H4><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62866"></A>To begin the installation process, become the superuser and mount the CD-ROM.For example, on a Sun running SunOS 4.1.4:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>su</B></CODE>Password:# <CODECLASS="userinput"><B>/etc/mount -r -t hsfs /dev/sr0 /cdrom</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">Then change directories to the mount point you specified for the CD-ROM and see what is there.In our case, we specified<EMCLASS="emphasis">/cdrom</EM> as our mount point:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>cd /cdrom</B></CODE># lscommon          install.pt      alpha           linuxhp700           instinfo        rs6000          sun4ci386            readme          sources         ssol2</PRE></BLOCKQUOTE></P><PCLASS="para">The output could look slightly different depending on the type of system:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">ALPHA/      CONFIG1      HP700/       INSTINFO/   RS6000/    SUN4C/BUILD.PT*   CONFIG2.REV  I386/        LINUX/      SOURCES/COMMON/     CONFIG3.Z    INSTALL.PT*  README      SSOL2/</PRE></BLOCKQUOTE></P><PCLASS="para">One of the first things that the installation program will do when installingsoftware is to copy the programs into a &quot;staging&quot; area.By default, this isthe directory <EMCLASS="emphasis">/tmp</EM>.By setting the environment variable <EMCLASS="emphasis">TMPDIR</EM> toanother directory, you can alter this location.</P><PCLASS="para">For example, if you want to use the directory <EMCLASS="emphasis">/mondo</EM> for the stagingarea:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>setenv TMPDIR /mondo</B></CODE>   <ICLASS="lineannotation">csh</I>$ <CODECLASS="userinput"><B>TMPDIR=/mondo; export TMPDIR</B></CODE>   <ICLASS="lineannotation">sh</I></PRE></BLOCKQUOTE></P><BLOCKQUOTECLASS="note"><PCLASS="para"><STRONG>NOTE:</STRONG> If you wish to install software in &quot;system&quot; areas, you will likely run intoproblems with file permissions.You can just become the superuser and notworry about permissions, but this is dangerous because you could overwritepreviously installed or vendor-supplied software.The other option is torun the install as an unprivileged user.This should prevent you fromdamaging system areas, but you will have to use<SPANCLASS="link"><EMCLASS="emphasis">chmod</EM> (<ACLASS="linkend"HREF="ch22_07.htm"TITLE="Using chmod to Change File Permission ">22.7</A>)</SPAN>to make directories writablebefore you begin the installation process&nbsp;- or possiblyuse<SPANCLASS="link">group permissions (<ACLASS="linkend"HREF="ch22_13.htm"TITLE="Groups and Group Ownership ">22.13</A>)</SPAN>to control access.</P></BLOCKQUOTE></DIV><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.3.3">52.5.3.3 Running Install </A></H4><PCLASS="para">Once you have the CD-ROM properly mounted, run the appropriate install command for your system.For example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>./install.pt</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">or:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>./INSTALL.PT\;1</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">The installation program will display menus and prompt you for input fromnow on.It will also try to guess the type of machine you are running iton and the mount point of the CD-ROM:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Assuming CDROM   is mounted at /archive/cdromAssuming MACHINE is ALPHA                      Welcome to Ready-to-Run Software's                         * Smart Installation System *This installation system requires write permission in /tmp (or $TMPDIR ifit's set) directory (for staging the install) and write permission in theinstallation directory for the actual install (these may be the same).     ...</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62911"></A>At this point, the installation program may ask if you want to use adifferent<SPANCLASS="link"><EMCLASS="emphasis">umask</EM> (<ACLASS="linkend"HREF="ch22_04.htm"TITLE="Setting an Exact umask ">22.4</A>)</SPAN>value for the installation process:  </P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Use umask of 022 instead of 007 for install [y]? y</PRE></BLOCKQUOTE></P><PCLASS="para">This will affect the permissions of the software when it isinstalled. The suggested value of 022 will allow anyone to execute orread the programs, but gives write permission only to you.</P><PCLASS="para">The install program will then present a list of the availablesoftware:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">The PowerTools2 package contains the following scripts:!            80cols       Clear        _emacs_ml    _enter_csh   _enter_sh    _exit_csh    _exit_sh     addup        age_files    ascii        awf          behead       bkedit       cal_today    catsaway     center       cgrep           ...The PowerTools2 package contains the following packages:bash         bitmaps      bsdtar       bsplit       calen        cpmodcvtbase      delete       diff         ediff        emacs        fgrepfileutils    find         gawk         getopt       glimpse      grabchars   ...</PRE></BLOCKQUOTE></P><PCLASS="para">After the names of the software packages have been displayed, you areprompted for which ones to install:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Enter the name of a package to install or choose Search, Quit or All&lt;package&gt;, S(earch), A(ll), Q(uit) [Search]?</PRE></BLOCKQUOTE></P><PCLASS="para">You can now type the name of the package, search for packages, quit theinstallation program, or install all packages in one fell swoop.</P></DIV><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.3.4">52.5.3.4 Installing a Single Program </A></H4><PCLASS="para"><ACLASS="indexterm"NAME="UPT-ART-9503-IX-INSTALLATION-PROCESS-FOR-SINGLE-PROGRAM-SINGLE"></A>Some of you might prefer not to install the entire distribution, but just selected programs.  </P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62932"></A>For this example, let's assume you are looking for programs that do somethingwith terminals, but you don't know what they are called.You can use the&quot;Search&quot; function at the main menu to look for you.Just press RETURN at the prompt, as the &quot;Search&quot; is thedefault action in the square brackets (<CODECLASS="literal">[]</CODE>).</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">&lt;package&gt;, S(earch), A(ll), Q(uit) [Search]? s</PRE></BLOCKQUOTE></P><PCLASS="para">Then type in &quot;terminal&quot; for the search keyword:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Search package descriptions for (? for help) []? terminal</PRE></BLOCKQUOTE></P><PCLASS="para">All packages matching this description will be displayed:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">The descriptions for the following packages mention &quot;terminal&quot;:   1.  Clear   2.  emacs   3.  qterm   4.  screen   5.  tcap   6.  termtest   7.  tputinit   A.  ALL   N.  NONEChoose one please:</PRE></BLOCKQUOTE></P><PCLASS="para">For this example, the <EMCLASS="emphasis">qterm</EM> program is selected, which is option 1:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Choose one please: 3</PRE></BLOCKQUOTE></P><PCLASS="para">A description of the program is now displayed:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">qterm - version 5.0         Version 5.0Qterm is a program that queries terminals to find out what kind ofterminal is responding.  It is useful to automagically define yourterminal type.  It prints the name of the terminal (compatible,hopefully, with a termcap/terminfo name) such as &quot;vt100&quot; to standardoutput.The qterm package is approximately  64Kb     32Kb - Required     15Kb - Shared: Formatted Man pages      3Kb - Shared: Other Shareable files     13Kb - Shared: Unformatted Man pagesInstall qterm [y]?qterm was compiled and made &quot;Ready-to-Run&quot; by        Ready-to-Run Software, Inc.   Copyright (c) 1990 Michael A. Cooper.   This software may be freely distributed provided it is not sold for   profit and the author is credited appropriately.Power Tools distribution by permission of the author.                               ************************</PRE></BLOCKQUOTE></P><PCLASS="para">After information about <EMCLASS="emphasis">qterm</EM> is printed, you are told how muchspace it will require and then asked whether you want it installed.Press RETURN to install it, or &quot;n&quot; for &quot;no&quot; (followed byRETURN) if you don't want it installed. For our example, wewant <EMCLASS="emphasis">qterm</EM> installed, so we just press RETURN.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">The qterm package is approximately  56Kb     24Kb - Required     15Kb - Shared: Formatted Man pages      3Kb - Shared: Other Shareable files     13Kb - Shared: Unformatted Man pagesInstall qterm [y]? <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para">Any copyright information for the <EMCLASS="emphasis">qterm</EM> package is printed out now:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">qterm was compiled and made &quot;Ready-to-Run&quot; by         Ready-to-Run Software, Inc./* * Copyright (c) 1990 Michael A. Cooper. * This software may be freely distributed provided it is not sold for  * profit and the author is credited appropriately. */                               ************************</PRE></BLOCKQUOTE></P><PCLASS="para">You are then prompted with installation questions, with the default answers printed within squarebrackets (<CODECLASS="literal">[]</CODE>).</P><PCLASS="para">The first question is where to install the software. The installationprogram assumes <EMCLASS="emphasis">/usr/local</EM> as the default installationdirectory. If you want to changethe default, type the name of a different directory here. This directory willnow be used when you are prompted for the same information inall subsequent packages. </P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Install package at dir [/usr/local]? <CODECLASS="userinput"><B>/work/tools</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para">The next question is where to install the shared files for the package. The default is to use a <EMCLASS="emphasis">share</EM> subdirectory of whatever directory you specifiedin the previous question.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Install shared files at [/work/tools/share]? <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para">Third, you're asked whether to remove the <EMCLASS="emphasis">s</EM> prefixfrom the names of the directories in which you install theshared files. The default is &quot;y&quot; for &quot;yes&quot;-remove the <EMCLASS="emphasis">s</EM> prefix.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Convert slib-&gt;lib, sbin-&gt;bin, sspool-&gt;spool, sinclude-&gt;include [y]? <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para">The fourth question is whether to install all the shared files, some, ornone of them. The default is to install just some selected shared files.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Install Shared files (All, Some, None) [s]? <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para">Now you're asked whether to install the manpages. The default isto install them all. You might choose not to install unformattedmanpages if you are low on disk space or if you don't have <EMCLASS="emphasis">nroff</EM>on your system to format them with:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Install Unformatted Man pages (Approx  13Kb) [y]? <KBDCLASS="keycap">[RETURN]</KBD>Install Formatted Man pages (Approx  15Kb) [y]? <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para">Finally you're asked about any other shareable files.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Install Other Shareable files (Approx   3Kb) [y]? <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-62994"></A><ACLASS="indexterm"NAME="AUTOID-62996"></A><ACLASS="indexterm"NAME="AUTOID-62998"></A><ACLASS="indexterm"NAME="AUTOID-63000"></A>(Other packages might have other questions, as appropriate. For example, the<EMCLASS="emphasis">gawk</EM> installation asks whether to install Texinfo files,PostScript format documentation, and DVI format documentation.)</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-63004"></A><ACLASS="indexterm"NAME="AUTOID-63007"></A>If you want the answer to any question to be used for all subsequent packages without further prompting, enter the answer in uppercase. You can enter a pathname inuppercase, and the installation script will convert it to lowercasebefore using it.For example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Install package at dir [/usr/local]? <CODECLASS="userinput"><B>/WORK/TOOLS</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD>Install shared files at [/work/tools/share]? <CODECLASS="userinput"><B>/WORK/TOOLS/SHARE</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD>Convert slib-&gt;lib, sbin-&gt;bin, sspool-&gt;spool, sinclude-&gt;include [y]? <CODECLASS="userinput"><B>Y</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD>Install Shared files (All, Some, None) [s]? <CODECLASS="userinput"><B>S</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD>Install Unformatted Man pages (Approx  13Kb) [y]? <CODECLASS="userinput"><B>Y</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD>Install Formatted Man pages (Approx  15Kb) [y]? <CODECLASS="userinput"><B>Y</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD>Install Other Shareable files (Approx   3Kb) [y]? <CODECLASS="userinput"><B>Y</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para">After answering all the questions, the installation script setsup its installation information and asks you once more if it'scorrect. If you change your mind about the current configuration,press &quot;n&quot; to get another chance to change some of your installation parameters or to abort the installation ofthis package entirely.If the current configuration is acceptable, press RETURN a final time, and the package is installed.  </P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Please wait....    About To Install: qterm        at /work/tools        with shareable files at /work/tools/share        slib-&gt;lib, sbin-&gt;bin, sspool-&gt;spool, sinclude-&gt;includeAre these correct [y]? <KBDCLASS="keycap">[RETURN]</KBD>Proceeding with install...0 directories added, 6 files installed, 0 symbolic links created.Approximately  99Kb installed.</PRE></BLOCKQUOTE></P><PCLASS="para">&#13;Once the <EMCLASS="emphasis">qterm</EM> installation is completed, the installationscript returns to the main menu if this is the only packageyou have selected. </P><PCLASS="para">After all programs are installed, you can quit the installation program. Upon quitting, the installation program suggests a new <SPANCLASS="link">search path (<ACLASS="linkend"HREF="ch08_07.htm"TITLE="Setting Your Search Path ">8.7</A>)</SPAN>for you.&#13;</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">You may want to change your path to include:   /work/tools/bin   /work/tools/share/binSuggested new path:/work/tools/bin:/work/tools/share/bin:/bin:/usr/bin ...</PRE></BLOCKQUOTE></P><PCLASS="para">A log file of the installation process is kept in<EMCLASS="emphasis">/tmp/RTRinstall.log</EM>.A typical entry looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Package: jot - installed Thu Jul 10 14:39:52 EDT 1997   /usr3/tmp/sidh/sundae/bin/jot   /usr3/tmp/sidh/sundae/bin: Making directory   /usr3/tmp/sidh/sundae/share: Making directory   /usr3/tmp/sidh/sundae: Making directory3 directories added, 1 file installed.Approximately  24Kb installed.<ACLASS="indexterm"NAME="AUTOID-63040"></A></PRE></BLOCKQUOTE></P></DIV><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.3.5">52.5.3.5 Installing Everything Using the Defaults </A></H4><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-63044"></A>If you don't want to be bothered with being questioned aboutevery package in the installation, and the default values arefine with you, you can bypass the questions and install everything atonce. At the main menu, press &quot;A&quot; for &quot;All&quot; to install all packages:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">bash         bitmaps      bsdtar       bsplit       calen        cpmodcvtbase      delete       diff         ediff        emacs        fgrepfileutils    find         gawk         getopt       glimpse      grabchars   ...Enter the name of a package to install or choose Search, Quit or All&lt;package, S(earch), A(ll), Q(uit) [Search]? A <KBDCLASS="keycap">[RETURN]</KBD></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-63051"></A>You are shown information about the first program, <EMCLASS="emphasis">bash</EM>.Then you are asked whether to install <EMCLASS="emphasis">bash</EM>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">GNU Bash, version 1.14.6.Bash is the GNU Project's Bourne Again SHell, an interactive shell withBourne shell syntax (/bin/sh); but also with interactive command lineediting, job control on architectures that support it, Csh-like historyfeatures and brace expansion, and a slew of other stuff.The bash package is approximately 2.3Mb    601Kb - Required    383Kb - Shared: DVI Format Documentation    205Kb - Shared: Formatted Man pages    217Kb - Shared: Info files      9Kb - Shared: Other Documentation    741Kb - Shared: PostScript Format Documentation    165Kb - Shared: Unformatted Man pages     49Kb - Shared: examples/templates/extra infoInstall bash [y]? y</PRE></BLOCKQUOTE></P><PCLASS="para">The default answer is &quot;y&quot;, to install <EMCLASS="emphasis">bash</EM>. However, if yourespond instead with the string <CODECLASS="literal">++</CODE>, <EMCLASS="emphasis">bash</EM> will beinstalled and furthermore, all default values will be used from now on without prompting.</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">Install bash [y]? <CODECLASS="userinput"><B>++</B></CODE> <KBDCLASS="keycap">[RETURN]</KBD>bash was compiled and made &quot;Ready-to-Run&quot; by        Ready-to-Run Software, Inc.Copyright (C) Free Software Foundation, Inc.GNU bash is free software; you can redistribute it and/or modify itunder the terms of the GNU General Public License as published by theFree Software Foundation; either version 1, or (at your option) anylater version.GNU bash is distributed in the hope that it will be useful, but WITHOUTANY WARRANTY; without even the implied warranty of MERCHANTABILITY orFITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public Licensefor more details.                               ************************Please wait....    About To Install: bash        at /usr3/tmp/sidh        with shareable files at /usr3/tmp/sidh/share        slib-lib, sbin-bin, sspool-spool, sinclude-includeAre these correct [y]? yProceeding with install...14 directories added, 27 files installed, 0 symbolic links created.Approximately 2.3Mb installed.Notes (file, print, view, done) [view]? done</PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-63066"></A>At this point, you can go to lunch and come back to find everythinginstalled in <EMCLASS="emphasis">/usr/local</EM>.</P><PCLASS="para">Another alternative is to call the installation script with the<EMCLASS="emphasis">-D</EM> option to use the defaults.  For example:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">% <CODECLASS="userinput"><B>install.pt -D</B></CODE></PRE></BLOCKQUOTE></P><PCLASS="para">You'll still have to answer the question about your <EMCLASS="emphasis">umask</EM>,and you'll have to answer &quot;A&quot; for &quot;All&quot; to the main menu, but thenall packages will be installed without prompting.</P><PCLASS="para">Note that to run a default installation, you will need to have write permission to the default directory of <EMCLASS="emphasis">/usr/local</EM>.</P></DIV></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.4">52.5.4 Unmounting the CD-ROM </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-63082"></A>When you are finished with the installation, you can unmount the CD-ROMwith the <EMCLASS="emphasis">umount</EM> command with just the mount point as the argument:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"># <CODECLASS="userinput"><B>/etc/umount /cdrom</B></CODE></PRE></BLOCKQUOTE></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="UPT-ART-9503-SECT-1.5">52.5.5 What to Do if You Have Problems </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-63092"></A>If you can't get the software to install and/or run, then you can callReady-to-Run's<SPANCLASS="link">CD support line (<ACLASS="linkend"HREF="ch52_09.htm"TITLE="Software Support from RTR ">52.9</A>)</SPAN>.</P></DIV><DIVCLASS="sect1info"><PCLASS="SECT1INFO">- <SPANCLASS="authorinitials">EP</SPAN></P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch52_04.htm"TITLE="52.4 Quick Descriptions of What's on the Disc "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 52.4 Quick Descriptions of What's on the Disc "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="UNIX Power Tools"><IMGSRC="../gifs/txthome.gif"ALT="UNIX Power Tools"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch52_06.htm"TITLE="52.6 Don't Have a CD-ROM Drive? "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 52.6 Don't Have a CD-ROM Drive? "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">52.4 Quick Descriptions of What's on the Disc </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_0.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">52.6 Don't Have a CD-ROM Drive? </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="../vi/index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>