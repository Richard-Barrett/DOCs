<HTML><HEAD><TITLE>[Chapter 2] 2.2 Moving the Cursor </TITLE><METANAME="DC.title"CONTENT="Learning the vi Editor"><METANAME="DC.creator"CONTENT="Linda Lamb"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-03T20:48:19Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="0-937175-67-6"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="ch02_01.htm"TITLE="2. Simple Editing "><LINKREL="prev"HREF="ch02_01.htm"TITLE="2.1 vi Commands "><LINKREL="next"HREF="ch02_03.htm"TITLE="2.3 Simple Edits "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Learning the vi Editor"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/vsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_01.htm"TITLE="2.1 vi Commands "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.1 vi Commands "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 2<BR>Simple Editing </FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_03.htm"TITLE="2.3 Simple Edits "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.3 Simple Edits "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="SECT1"><H2CLASS="sect1"><ACLASS="title"NAME="VI6-CH-2-SECT-2">2.2 Moving the Cursor </A></H2><PCLASS="para">You may spend only a small amount of time in an editing session addingnew text in insert mode;  much of the time you willbe making edits to existing text.</P><PCLASS="para">In command mode you can position the cursor anywhere in the file.Since you begin all basic edits (changing, deleting, and copying text)by placing the cursor at the text that you want to change, you want tobe able to move the cursor to that place as quickly as possible.</P><PCLASS="para">There are <EMCLASS="emphasis">vi</EM> commands to move the cursor:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Up, down, left, or right&nbsp;- one <EMCLASS="emphasis">character</EM> at a time.</P></LI><LICLASS="listitem"><PCLASS="para">Forward or backward by blocks of <EMCLASS="emphasis">text</EM> such as words, sentences, or paragraphs.</P></LI><LICLASS="listitem"><PCLASS="para">Forward or backward through a file, one <EMCLASS="emphasis">screen</EM> at a time.</P></LI></UL><PCLASS="para">In <ACLASS="xref"HREF="ch02_02.htm#VI6-CH-2-FIG-0"TITLE="Sample movement commands">Figure 2.1</A>, an underscore marks the present cursor position.  Circles show movement of the cursor from its current position to the position that would result from various <EMCLASS="emphasis">vi</EM> commands. </P><H4CLASS="figure"><ACLASS="title"NAME="VI6-CH-2-FIG-0">Figure 2.1: Sample movement commands</A></H4><IMGCLASS="graphic"SRC="figs/vi_60201.gif"ALT="Figure 2.1"><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-2-SECT-2.1">2.2.1 Single Movements </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-818"></A><ACLASS="indexterm"NAME="AUTOID-821"></A>The keys <CODECLASS="literal">h</CODE>, <CODECLASS="literal">j</CODE>, <CODECLASS="literal">k</CODE>, and <CODECLASS="literal">l</CODE>, right under yourfingertips, will move the cursor:</P><DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="literal">h</CODE></DT><DDCLASS="listitem"><PCLASS="para">left, one space.</P></DD><DTCLASS="term"><CODECLASS="literal">j</CODE></DT><DDCLASS="listitem"><PCLASS="para">down, one line.</P></DD><DTCLASS="term"><CODECLASS="literal">k</CODE></DT><DDCLASS="listitem"><PCLASS="para">up, one line.</P></DD><DTCLASS="term"><CODECLASS="literal">l</CODE></DT><DDCLASS="listitem"><PCLASS="para">right, one space.</P></DD></DL><PCLASS="para">You can also use the cursor arrow keys (<IMGSRC="../chars/larr.gif"ALT="&lt;-">,<IMGSRC="../chars/darr.gif"ALT="-v">, <IMGSRC="../chars/uarr.gif"ALT="-^">, <IMGSRC="../chars/rarr.gif"ALT="-&gt;">) or the <KBDCLASS="keycap">[RETURN]</KBD> and <KBDCLASS="keycap">[BACKSPACE]</KBD> keys, but they are out of the way, and the arrow keys are not supported by all terminals.  At first, it may seem awkward to use letter keys instead of arrows for cursor movement.  After a short while, though, you'll find it is one of the things you'll like best about <EMCLASS="emphasis">vi</EM>&nbsp;- you can move around without ever taking your fingers off the center of the keyboard.</P><PCLASS="para">Before you move the cursor, press<KBDCLASS="keycap">[ESC]</KBD> to make sure that you are in command mode.Use <CODECLASS="literal">h</CODE>, <CODECLASS="literal">j</CODE>, <CODECLASS="literal">k</CODE>, and <CODECLASS="literal">l</CODE> to move forward or backward in the file from the current cursor position.When you have gone as far as possible in one direction, you hear a beepand the cursor stops.For example, once you're at the beginning or end of a line, you cannot use <CODECLASS="literal">h</CODE> or <CODECLASS="literal">l</CODE> to wrap around to the previous ornext line; you have to use <CODECLASS="literal">j</CODE> or&nbsp;<CODECLASS="literal">k</CODE>. Similarly, you cannot move the cursor past a tilde (~) representing a linewithout text, nor can you move the cursor above the first line oftext.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-2-SECT-2.2">2.2.2 Numeric Arguments </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-866"></A><ACLASS="indexterm"NAME="AUTOID-869"></A><ACLASS="indexterm"NAME="AUTOID-873"></A>You can precede movement commands with numbers.<ACLASS="xref"HREF="ch02_02.htm#VI6-CH-2-FIG-1"TITLE="Multiplying commands by numbers">Figure 2.2</A>shows how the command <CODECLASS="literal">4l</CODE> movesthe cursor four spaces to the right, just as if you had typed <CODECLASS="literal">l</CODE>four times (<CODECLASS="literal">llll</CODE>).</P><H4CLASS="figure"><ACLASS="title"NAME="VI6-CH-2-FIG-1">Figure 2.2: Multiplying commands by numbers</A></H4><IMGCLASS="graphic"SRC="figs/vi_60202.gif"ALT="Figure 2.2"><PCLASS="para">The ability to multiply commands gives you moreoptions and power for each command you learn.Keep it in mind as you are introduced to additional commands.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-2-SECT-2.3">2.2.3 Movement Within a Line </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="VI6-CH-2-IX-CURSOR-MOVE-INLINE"></A><ACLASS="indexterm"NAME="VI6-CH-2-IX-MOVE-CURSOR-INLINE"></A>When you saved the file <EMCLASS="emphasis">practice</EM>, <EMCLASS="emphasis">vi</EM> displayed amessage telling you how many lines are in that file.A <EMCLASS="emphasis">line</EM> is not necessarily the same length as the visible line(limited usually to 80 characters) that appears on the screen.A line is any text entered between newlines.  (A <EMCLASS="emphasis">newline</EM> character is inserted into the file when you press the <KBDCLASS="keycap">[RETURN]</KBD> key in insert mode.)   If you type 200 characters before pressing <KBDCLASS="keycap">[RETURN]</KBD>, <EMCLASS="emphasis">vi</EM> regards all 200 characters as a single line (even thoughthose 200 characters visibly take up several lines on the screen).  </P><PCLASS="para">As we mentioned, <EMCLASS="emphasis">vi</EM> has an option that allows you to set a distance from the right margin at which <EMCLASS="emphasis">vi</EM> will automatically insert a newline character.  This option is <CODECLASS="literal">wrapmargin</CODE>(its abbreviation is <CODECLASS="literal">wm</CODE>).  You can set a wrapmargin at 10 characters by typing:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><CODECLASS="literal">:set wm=10</CODE></PRE></BLOCKQUOTE></P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-909"></A><ACLASS="indexterm"NAME="AUTOID-911"></A><ACLASS="indexterm"NAME="AUTOID-914"></A>This command doesn't affect lines that you've already typed.We'll talk more about setting options in <ACLASS="xref"HREF="ch07_01.htm"TITLE="Advanced Editing ">Chapter 7, Advanced Editing </A>.  (This one really couldn't wait!)</P><PCLASS="para">If you do not use <EMCLASS="emphasis">vi</EM>'s automatic <CODECLASS="literal">wrapmargin</CODE> option, you should breaklines with carriage returns to keep the lines of manageable length.</P><PCLASS="para"><KBDCLASS="keycap">[0]</KBD> Two useful commands that involve movement within a line are:<ACLASS="indexterm"NAME="AUTOID-923"></A><ACLASS="indexterm"NAME="AUTOID-924"></A></P><DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="literal">0</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to beginning of line.</P></DD><DTCLASS="term"><CODECLASS="literal">$</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to end of line.</P></DD></DL><PCLASS="para">In the example below, line numbers are displayed. (Line numbers can be displayed in <EMCLASS="emphasis">vi</EM> by using the<CODECLASS="literal">number</CODE> option, which is enabled by typing <CODECLASS="literal">:set</CODE><CODECLASS="literal">nu</CODE> in command mode.  This operation is described in <ACLASS="xref"HREF="ch07_01.htm"TITLE="Advanced Editing ">Chapter 7</A>, <EMCLASS="emphasis">AdvancedEditing</EM>.)  <ACLASS="indexterm"NAME="AUTOID-943"></A><ACLASS="indexterm"NAME="AUTOID-945"></A><ACLASS="indexterm"NAME="AUTOID-948"></A><TABLECLASS="informaltable"><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">1  With a screen editor you can scroll the page,2  move the cursor, <UCLASS="cursor">d</U>elete lines, insert characters,    and more, while seeing the results of your edits    as you make them.3  Screen editors are very popular.</PRE></BLOCKQUOTE></TD></TR></TBODY></TABLE><KBDCLASS="keycap">[$]</KBD> The number of logical lines (3) does not correspond to the numberof visible lines (5) that you see on the screen.  If the cursor were positioned on the <EMCLASS="emphasis">d</EM> in the word<EMCLASS="emphasis">delete</EM>, and you entered <CODECLASS="literal">$</CODE>, the cursor would move tothe period following the word <EMCLASS="emphasis">them</EM>.  If you entered <CODECLASS="literal">0</CODE>, the cursor would move back to the letter <EMCLASS="emphasis">m</EM> in the word <EMCLASS="emphasis">move</EM>, at the beginning of line two.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-2-SECT-2.4">2.2.4 Movement by Text Blocks </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="VI6-CH-2-IX-CURSOR-MOVE-WORD"></A><ACLASS="indexterm"NAME="VI6-CH-2-IX-MOVE-CURSOR-WORD"></A><KBDCLASS="keycap">[w]</KBD> You can also move the cursor by blocks of text:  words,sentences, paragraphs, etc.</P><PCLASS="para">The <CODECLASS="literal">w</CODE> command moves the cursor forward one word at atime, counting symbols and punctuation as equivalent to words.  The line below shows cursor movement by <CODECLASS="literal">w</CODE>:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><UCLASS="cursor">c</U>ursor<UCLASS="cursor">,</U> <UCLASS="cursor">d</U>elete <UCLASS="cursor">l</U>ines<UCLASS="cursor">,</U> <UCLASS="cursor">i</U>nsert <UCLASS="cursor">c</U>haracters<UCLASS="cursor">,</U></PRE></BLOCKQUOTE></P><PCLASS="para">You can also move by word, not counting symbols and punctuation, using the <CODECLASS="literal">W</CODE> command.(You can think of this as a &quot;large&quot; or &quot;capital&quot; <EMCLASS="emphasis">W</EM>ord.)Cursor movement using <CODECLASS="literal">W</CODE> looks like this:</P><PCLASS="para"><BLOCKQUOTECLASS="screen"><PRECLASS="screen"><UCLASS="cursor">c</U>ursor, <UCLASS="cursor">d</U>elete <UCLASS="cursor">l</U>ines, <UCLASS="cursor">i</U>nsert <UCLASS="cursor">c</U>haracters,</PRE></BLOCKQUOTE></P><PCLASS="para">To move backward by word, use the <CODECLASS="literal">b</CODE> command.Capital <CODECLASS="literal">B</CODE> allows you to move backward by word, not countingpunctuation.</P><PCLASS="para">As mentioned previously, movement commands take numericarguments; so, with either the <CODECLASS="literal">w</CODE> or <CODECLASS="literal">b</CODE> commands youcan multiply the movement with numbers.  <CODECLASS="literal">2w</CODE> moves forwardtwo words;  <CODECLASS="literal">5B</CODE> moves back five words, not counting punctuation.</P><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-1011"></A><ACLASS="indexterm"NAME="AUTOID-1012"></A>We'll discuss movement by sentences and by paragraphs in <ACLASS="xref"HREF="ch03_01.htm"TITLE="Moving Around in a Hurry ">Chapter 3, Moving Around in a Hurry </A>.For now, practice using the cursor movement commands that you know, combining themwith numeric multipliers.  </P></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_01.htm"TITLE="2.1 vi Commands "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.1 vi Commands "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Learning the vi Editor"><IMGSRC="../gifs/txthome.gif"ALT="Learning the vi Editor"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_03.htm"TITLE="2.3 Simple Edits "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 2.3 Simple Edits "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">2.1 vi Commands </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">2.3 Simple Edits </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="../upt/index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>