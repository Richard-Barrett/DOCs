<HTML><HEAD><TITLE>[Chapter 3] Moving Around in a Hurry </TITLE><METANAME="DC.title"CONTENT="Learning the vi Editor"><METANAME="DC.creator"CONTENT="Linda Lamb"><METANAME="DC.publisher"CONTENT="O'Reilly &amp; Associates, Inc."><METANAME="DC.date"CONTENT="1998-08-03T20:50:00Z"><METANAME="DC.type"CONTENT="Text.Monograph"><METANAME="DC.format"CONTENT="text/html"SCHEME="MIME"><METANAME="DC.source"CONTENT="0-937175-67-6"SCHEME="ISBN"><METANAME="DC.language"CONTENT="en-US"><METANAME="generator"CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINKREV="made"HREF="mailto:online-books@oreilly.com"TITLE="Online Books Comments"><LINKREL="up"HREF="index.htm"TITLE="Learning the vi Editor"><LINKREL="prev"HREF="ch02_06.htm"TITLE="2.6 Review of Basic vi Commands "><LINKREL="next"HREF="ch03_02.htm"TITLE="3.2 Movement by Text Blocks "></HEAD><BODYBGCOLOR="#FFFFFF"TEXT="#000000"><DIVCLASS="htmlnav"><H1><IMGSRC="gifs/smbanner.gif"ALT="Learning the vi Editor"USEMAP="#srchmap"BORDER="0"></H1><MAPNAME="srchmap"><AREASHAPE="RECT"COORDS="0,0,466,65"HREF="index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="467,0,514,18"HREF="../search/vsrch.htm"ALT="Search this book"></MAP><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_06.htm"TITLE="2.6 Review of Basic vi Commands "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.6 Review of Basic vi Commands "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><B><FONTFACE="ARIEL,HELVETICA,HELV,SANSERIF"SIZE="-1">Chapter 3</FONT></B></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_02.htm"TITLE="3.2 Movement by Text Blocks "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 3.2 Movement by Text Blocks "BORDER="0"></A></TD></TR></TABLE>&nbsp;<HRALIGN="LEFT"WIDTH="515"TITLE="footer"></DIV><DIVCLASS="CHAPTER"><H1CLASS="chapter"><ACLASS="title"NAME="VI6-CH-3">3. Moving Around in a Hurry </A></H1><DIVCLASS="htmltoc"><P><B>Contents:</B><BR><ACLASS="sect1"HREF="#VI6-CH-3-SECT-1"TITLE="3.1 Movement by Screens ">Movement by Screens </A><BR><ACLASS="sect1"HREF="ch03_02.htm"TITLE="3.2 Movement by Text Blocks ">Movement by Text Blocks </A><BR><ACLASS="sect1"HREF="ch03_03.htm"TITLE="3.3 Movement by Searches ">Movement by Searches </A><BR><ACLASS="sect1"HREF="ch03_04.htm"TITLE="3.4 Movement by Line Number ">Movement by Line Number </A></P><P></P></DIV><PCLASS="para">You will not use <EMCLASS="emphasis">vi</EM> only to create new files.  You'll spend a lot of your time in <EMCLASS="emphasis">vi</EM> editing existing files.You rarely want to simply open to the first line in the file andmove through it line by line.  You want to get to a specific place in a file and start work.</P><PCLASS="para">All edits begin by moving the cursor to where you want to begin the edit (or, with <EMCLASS="emphasis">ex</EM> line editor commands, by identifying the linenumbers to be edited).  This chapter shows you how to think aboutmovement in a variety of ways (by screens, by text, by patterns, or byline numbers).  There are many ways to move in <EMCLASS="emphasis">vi</EM>, since editingspeed depends on getting to your destination with only a few keystrokes.</P><PCLASS="para">This chapter covers:</P><ULCLASS="itemizedlist"><LICLASS="listitem"><PCLASS="para">Movement by screens.</P></LI><LICLASS="listitem"><PCLASS="para">Movement by text blocks.</P></LI><LICLASS="listitem"><PCLASS="para">Movement by searches for patterns.</P></LI><LICLASS="listitem"><PCLASS="para">Movement by line number.</P></LI></UL><DIVCLASS="sect1"><H2CLASS="sect1"><ACLASS="title"NAME="VI6-CH-3-SECT-1">3.1 Movement by Screens </A></H2><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2820"></A><ACLASS="indexterm"NAME="AUTOID-2823"></A><ACLASS="indexterm"NAME="AUTOID-2826"></A>When you read a book, you think of &quot;places&quot; in the book by page:  the page where you stopped reading or the page number in an index.  You don't have this convenience when you're editing files.  Some <EMCLASS="emphasis">vi</EM> files take up only a few lines, and you can see thewhole file at once.  But many files have hundreds of lines.  </P><PCLASS="para">You can think of a <EMCLASS="emphasis">vi</EM> file as text on a long roll of paper.  The screen is a window of (usually) 24 lines of text on that long roll.  </P><PCLASS="para">In insert mode, as you fill up the screen with text, you will endup typing on the bottom line of the screen.  When you reach the end and press <KBDCLASS="keycap">[RETURN]</KBD>,the top line rolls out of sight, and ablank line appears on the bottom of the screen for new text.<ACLASS="indexterm"NAME="AUTOID-2833"></A>This is called scrolling.  </P><PCLASS="para">In command mode, you can move through a file to see any text in itby scrolling the screen ahead or back.  And, sincecursor movements can be multiplied by numeric prefixes,you can move quickly to anywhere in your file.</P><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-3-SECT-1.1">3.1.1 Scrolling the Screen </A></H3><PCLASS="para"><KBDCLASS="keycap">[CTRL]</KBD><KBDCLASS="keycap">[F]</KBD>There are <EMCLASS="emphasis">vi</EM> commands to scroll forward and backward throughthe file by full and half screens:</P><PCLASS="para"><TABLECLASS="simplelist"><TR><TDCLASS="member"><CODECLASS="literal">^F</CODE></TD><TDCLASS="member">Scroll forward one screen.</TD></TR><TR><TDCLASS="member"><CODECLASS="literal">^B</CODE></TD><TDCLASS="member">Scroll backward one screen.</TD></TR><TR><TDCLASS="member"><CODECLASS="literal">^D</CODE></TD><TDCLASS="member">Scroll forward half screen (down).</TD></TR><TR><TDCLASS="member"><CODECLASS="literal">^U</CODE></TD><TDCLASS="member">Scroll backward half screen (up).</TD></TR></TABLE></P><PCLASS="para">(In the list of commands above, the <CODECLASS="literal">^</CODE> symbol represents the <KBDCLASS="keycap">[CTRL]</KBD>key.  <CODECLASS="literal">^F</CODE> means to hold down the <KBDCLASS="keycap">[CTRL]</KBD>key and press the <CODECLASS="literal">f</CODE> key simultaneously.)  </P><PCLASS="para">There are alsocommands to scroll the screen up one line (<CODECLASS="literal">^E</CODE>) and down one line (<CODECLASS="literal">^Y</CODE>).  However, these two commands do not send the cursor to the beginningof the line.  The cursor remains at the same point in the line as when the commandwas issued.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-3-SECT-1.2">3.1.2 Repositioning the Screen with z </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2868"></A><ACLASS="indexterm"NAME="AUTOID-2871"></A><KBDCLASS="keycap">[z]</KBD>If you want to scroll the screen up or down, but you want the cursorto remain on the line where you left it, use the <CODECLASS="literal">z</CODE> command.<TABLECLASS="informaltable"><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">z</CODE><KBDCLASS="keycap">[RETURN]</KBD></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Move current line to top of screen and scroll.</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">z.</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Move current line to center of screen and scroll.</P></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">z-</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Move current line to bottom of screen and scroll.</P></TD></TR></TBODY></TABLE>With the <CODECLASS="literal">z</CODE> command, using a numeric prefix as amultiplier makes no sense.  (After all, you would need toreposition the cursor to the top of the screen onlyonce.  Repeating the same <CODECLASS="literal">z</CODE> command wouldn't move anything.)Instead, <CODECLASS="literal">z</CODE> understands a numeric prefix as aline number that it will use in place of the currentline.  For example, <CODECLASS="literal">z</CODE> <KBDCLASS="keycap">[RETURN]</KBD>moves the current line to the top of the screen, but<CODECLASS="literal">200z</CODE><KBDCLASS="keycap">[RETURN]</KBD>moves line 200 to the top of the screen.</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-3-SECT-1.3">3.1.3 Redrawing the Screen </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2907"></A>Sometimes while you're editing, messages from your computersystem will display on your screen.  These messages don'tbecome part of your editing buffer, but they do interfere with yourwork.  When system messages appear on your screen, you need toredisplay, or redraw, the screen.  </P><PCLASS="para">Whenever you scroll, you redraw part of (or all of) the screen,so you can always get rid of unwantedmessages by scrolling them off the screen and then returning toyour previous position.  But you can alsoredraw the screen without scrolling, by typing<KBDCLASS="keycap">[CTRL-L]</KBD>or<KBDCLASS="keycap">[CTRL-R]</KBD>.<KBDCLASS="keycap">[CTRL-R]</KBD>is useful when you're editing on a dumb terminal orat a slow baud rate (such as when working via a modem).</P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-3-SECT-1.4">3.1.4 Movement Within a Screen </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2916"></A><ACLASS="indexterm"NAME="AUTOID-2919"></A><KBDCLASS="keycap">[H]</KBD>You can also keep your current screen, or view of the file, andmove around within the screen using:</P><DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="literal">H</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to home &nbsp;-  top line on screen.</P></DD><DTCLASS="term"><CODECLASS="literal">M</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to middle line on screen.</P></DD><DTCLASS="term"><CODECLASS="literal">L</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to last line on screen.</P></DD><DTCLASS="term"><EMCLASS="emphasis">n</EM><CODECLASS="literal">H</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to <EMCLASS="emphasis">n</EM> lines below top line.</P></DD><DTCLASS="term"><EMCLASS="emphasis">n</EM><CODECLASS="literal">L</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to <EMCLASS="emphasis">n</EM> lines above last line.</P></DD></DL><PCLASS="para"><CODECLASS="literal">H</CODE> moves the cursor from anywhere on the screen to thefirst, or &quot;home,&quot; line.<CODECLASS="literal">M</CODE> moves to the middle line, <CODECLASS="literal">L</CODE> to the last.  To move to the line below the first line, use <CODECLASS="literal">2H</CODE>.<TABLECLASS="informaltable"><THEADCLASS="thead"><TRCLASS="row"VALIGN="TOP"><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Keystrokes</TH><THCLASS="entry"ALIGN="LEFT"ROWSPAN="1"COLSPAN="1">Results</TH></TR></THEAD><TBODYCLASS="tbody"><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">L</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">With a screen editor you can scroll the page, move the cursor, delete lines, insert characters, and more, while seeing the results of youredits as you make them.  Screen editors are very popular, since they allow you to make changes <UCLASS="cursor">a</U>s you read through a file.  </PRE></BLOCKQUOTE></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Move to the last line of the screen with the <CODECLASS="literal">L</CODE> command.</P></TD></TR><ACLASS="indexterm"NAME="AUTOID-2978"></A><ACLASS="indexterm"NAME="AUTOID-2981"></A><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><CODECLASS="literal">2H</CODE></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><BLOCKQUOTECLASS="screen"><PRECLASS="screen">With a screen editor you can <UCLASS="cursor">s</U>croll the page, move the cursor, delete lines, insert characters, and more, while seeing the results of youredits as you make them.  Screen editors are very popular, since they allow you to make changes as you read through a file.  </PRE></BLOCKQUOTE></TD></TR><TRCLASS="row"VALIGN="TOP"><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"></TD><TDCLASS="entry"ROWSPAN="1"COLSPAN="1"><PCLASS="para">Move to the second line of the screen with the <CODECLASS="literal">2H</CODE> command.  (<CODECLASS="literal">H</CODE> alone moves to the top line of the screen.)</P></TD></TR></TBODY></TABLE></P></DIV><DIVCLASS="sect2"><H3CLASS="sect2"><ACLASS="title"NAME="VI6-CH-3-SECT-1.5">3.1.5 Movement by Line </A></H3><PCLASS="para"><ACLASS="indexterm"NAME="AUTOID-2999"></A><ACLASS="indexterm"NAME="AUTOID-3002"></A><KBDCLASS="keycap">[RETURN]</KBD>Within the current screen there are also commands to move by line.You've already seen <CODECLASS="literal">j</CODE> and <CODECLASS="literal">k</CODE>.  You can also use:</P><DLCLASS="variablelist"><DTCLASS="term"><KBDCLASS="keycap">[RETURN]</KBD></DT><DDCLASS="listitem"><PCLASS="para">Move to first character of next line.</P></DD><DTCLASS="term"><CODECLASS="literal">+</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to first character of next line.</P></DD><DTCLASS="term"><CODECLASS="literal">-</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to first character of previous line.</P></DD></DL><PCLASS="para">The above three commands move down or up to the first <EMCLASS="emphasis">character</EM> of the line, ignoring any spaces or tabs.<CODECLASS="literal">j</CODE> and <CODECLASS="literal">k</CODE>, by contrast, move the cursor down or up tothe first position of a line, even if that position is blank (andassuming that the cursor started at the first position).  </P><DIVCLASS="sect3"><H4CLASS="sect3"><ACLASS="title"NAME="VI6-CH-3-SECT-1.5.1">3.1.5.1 Movement on the Current Line </A></H4><PCLASS="para">Don't forget that <CODECLASS="literal">h</CODE> and <CODECLASS="literal">l</CODE> move the cursor to the left and right and that <CODECLASS="literal">0</CODE> and <CODECLASS="literal">$</CODE> move the cursor to thebeginning or end of the line.  You can also use:</P><DLCLASS="variablelist"><DTCLASS="term"><CODECLASS="literal">^</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to first nonblank character of current line.</P></DD><DTCLASS="term"><EMCLASS="emphasis">n</EM><CODECLASS="literal">|</CODE></DT><DDCLASS="listitem"><PCLASS="para">Move to column <EMCLASS="emphasis">n</EM> of current line.</P></DD></DL><PCLASS="para">As with the line movement commands above, <CODECLASS="literal">^</CODE> moves to the first <EMCLASS="emphasis">character</EM>of the line, ignoring any spaces or tabs.<CODECLASS="literal">0</CODE>, by contrast, moves to the first position of the line, even ifthat position is blank.<ACLASS="indexterm"NAME="AUTOID-3052"></A><ACLASS="indexterm"NAME="AUTOID-3055"></A></P></DIV></DIV></DIV></DIV><DIVCLASS="htmlnav"><P></P><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><TABLEWIDTH="515"BORDER="0"CELLSPACING="0"CELLPADDING="0"><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch02_06.htm"TITLE="2.6 Review of Basic vi Commands "><IMGSRC="../gifs/txtpreva.gif"ALT="Previous: 2.6 Review of Basic vi Commands "BORDER="0"></A></TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="book"HREF="index.htm"TITLE="Learning the vi Editor"><IMGSRC="../gifs/txthome.gif"ALT="Learning the vi Editor"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172"><ACLASS="SECT1"HREF="ch03_02.htm"TITLE="3.2 Movement by Text Blocks "><IMGSRC="../gifs/txtnexta.gif"ALT="Next: 3.2 Movement by Text Blocks "BORDER="0"></A></TD></TR><TR><TDALIGN="LEFT"VALIGN="TOP"WIDTH="172">2.6 Review of Basic vi Commands </TD><TDALIGN="CENTER"VALIGN="TOP"WIDTH="171"><ACLASS="index"HREF="index/idx_a.htm"TITLE="Book Index"><IMGSRC="../gifs/index.gif"ALT="Book Index"BORDER="0"></A></TD><TDALIGN="RIGHT"VALIGN="TOP"WIDTH="172">3.2 Movement by Text Blocks </TD></TR></TABLE><HRALIGN="LEFT"WIDTH="515"TITLE="footer"><IMGSRC="../gifs/smnavbar.gif"USEMAP="#map"BORDER="0"ALT="The UNIX CD Bookshelf Navigation"><MAPNAME="map"><AREASHAPE="RECT"COORDS="0,0,73,21"HREF="../index.htm"ALT="The UNIX CD Bookshelf"><AREASHAPE="RECT"COORDS="74,0,163,21"HREF="../upt/index.htm"ALT="UNIX Power Tools"><AREASHAPE="RECT"COORDS="164,0,257,21"HREF="../unixnut/index.htm"ALT="UNIX in a Nutshell"><AREASHAPE="RECT"COORDS="258,0,321,21"HREF="index.htm"ALT="Learning the vi Editor"><AREASHAPE="RECT"COORDS="322,0,378,21"HREF="../sedawk/index.htm"ALT="sed &amp; awk"><AREASHAPE="RECT"COORDS="379,0,438,21"HREF="../ksh/index.htm"ALT="Learning the Korn Shell"><AREASHAPE="RECT"COORDS="439,0,514,21"HREF="../lrnunix/index.htm"ALT="Learning the UNIX Operating System"></MAP></DIV></BODY></HTML>