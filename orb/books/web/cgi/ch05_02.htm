<!DOCTYPE HTML PUBLIC "-//ORA//DTD CD HTML 3.2//EN"><HTML><HEAD><TITLE>[Chapter 5] 5.2 Configuration</TITLE><META NAME="author" CONTENT="Shishir Gundavaram"><META NAME="date" CONTENT="Mon Mar 17 13:25:44 1997"><META NAME="form" CONTENT="html"><META NAME="metadata" CONTENT="dublincore.0.1"><META NAME="objecttype" CONTENT="book part"><META NAME="otheragent" CONTENT="gmat dbtohtml"><META NAME="publisher" CONTENT="O'Reilly &amp; Associates, Inc."><META NAME="source" CONTENT="SGML"><META NAME="subject" CONTENT="cgi programming"><META NAME="title" CONTENT="CGI Programming on the World Wide Web"><!-- JavaScript: pathcont.js --></HEAD><BODY BGCOLOR="#FFFFFF"><DIV CLASS=htmlnav><H1><IMG SRC="gifs/smbanner.gif" ALT="CGI Programming on the World Wide Web"></H1><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch05_01.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><b>Chapter 5</b></td><td width=172 align=right valign=top><A HREF="ch05_03.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --><hr align=left width=515></DIV><DIV CLASS=sect1><h2 CLASS=sect1><A CLASS="TITLE" NAME="CGI-CHP-5-SECT-2">5.2 Configuration</A></h2><P CLASS=para>How does the server know which files toparse, and which ones to return without parsing? From the informationin the server configuration files, of course. Let's look at howwe can configure SSI on the NCSA server.<P CLASS=para>The first thing you need to set is the extension(s) for thefiles that the server should parse in the server configuration file(<I CLASS=emphasis>srm.conf</I>). For example, the following linewill force the server to parse all files that end in .<I CLASS=emphasis>shtml</I>:<DIV CLASS=screen><P><PRE>  AddType text/x-server-parsed-html .shtml</PRE></DIV><P CLASS=para>Internally, the server uses the <i CLASS=command>text/x-server-parsed-html</i>MIME content type to identify parsed documents.An important thing to note here is that you cannot have SSI directiveswithin your CGI program, because the server does not parse the outputgenerated by the program.<P CLASS=para>Alternatively, you can set the configuration so that the serverparses all HTML documents:<DIV CLASS=screen><P><PRE>AddType text/x-server-parsed-html .html</PRE></DIV><P CLASS=para>However, this is not a good idea! It will severely degradesystem performance because the server has to parse all the HTMLdocuments that it returns.<P CLASS=para>Now let's look at the two configuration options that you mustset in the access configuration file (<I CLASS=emphasis>access.conf</I>)that dictate what type of SSI directives you can place in your HTMLdocument:<P><UL CLASS=itemizedlist><li CLASS=listitem>If you want to embed SSI directivesto display the environment variables and file statistics in yourHTML documents, you need to enable a featurecalled <i CLASS=command>Includes</i>.<P><li CLASS=listitem>If you want to have the ability to execute externalprograms (CGI as well as other system applications) from withinyour HTML documents, you need to enable the <i CLASS=command>Exec</i>feature.<P></UL><P CLASS=para>Here is how you would enable both <i CLASS=command>Includes</i>and <i CLASS=command>Exec</i>:<DIV CLASS=screen><P><PRE>Options Includes ExecCGI</PRE></DIV><P CLASS=para>To exclusively enable <i CLASS=command>Includes</i> without<i CLASS=command>Exec</i>, you need to add the following:<DIV CLASS=screen><P><PRE>Options IncludesNoExec</PRE></DIV><P CLASS=para>Before enabling either of these features, you should thinkabout system security and performance.<DIV CLASS=sect2><h3 CLASS=sect2><A CLASS="TITLE" NAME="CGI-CHP-5-SECT-2.1">Configuring SSI for the CERN Server</A></h3><P CLASS=para>As we mentioned at thebeginning of this chapter, not all servers support SSI. However,you can use a Perl program called fakessi.pl to emulate SSI behavior.<P CLASS=para>For example, on the CERN server, all youneed to do is:<P><OL CLASS=orderedlist><li CLASS=listitem>Install fakessi.pl into the cgi-bindirectory.<P><li CLASS=listitem>Add the following directive to httpd.conf:<P></OL><DIV CLASS=screen><P><PRE>Exec /*.shtml /usr/local/etc/httpd/cgi-bin/fakessi.pl</PRE></DIV><P CLASS=para>(assuming that /usr/local/etc/httpd/cgi-bin is the directorythat fakessi.pl was installed into).<P CLASS=para>This tells the server to execute fakessi.pl whenever a clientrequests a file ending in .shtml.<P CLASS=para>You can get <I CLASS=emphasis>fakessi.pl</I> from <I CLASS=emphasis>http://sw.cse.bris.ac.uk/WebTools/fakessi.html</I>.</DIV></DIV><DIV CLASS=htmlnav><P><HR align=left width=515><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch05_01.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><a href="index.htm"><IMG SRC="gifs/txthome.gif" ALT="Home" border=0></a></td><td width=172 align=right valign=top><A HREF="ch05_03.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr><tr><td width=172 align=left valign=top>Introduction</td><td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td><td width=172 align=right valign=top>Environment Variables</td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --></DIV></BODY></HTML>