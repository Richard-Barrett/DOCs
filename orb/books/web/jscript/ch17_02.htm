<!DOCTYPE HTML PUBLIC "-//ORA//DTD CD HTML 3.2//EN"><HTML><HEAD><TITLE>[Chapter 17] 17.2 The Form Object</TITLE><META NAME="author" CONTENT="David Flanagan"><META NAME="date" CONTENT="Wed Apr 23 18:22:04 1997"><META NAME="form" CONTENT="html"><META NAME="metadata" CONTENT="dublincore.0.1"><META NAME="objecttype" CONTENT="book part"><META NAME="otheragent" CONTENT="gmat dbtohtml"><META NAME="publisher" CONTENT="O'Reilly &amp; Associates, Inc."><META NAME="source" CONTENT="SGML"><META NAME="subject" CONTENT="JavaScript"><META NAME="title" CONTENT="JavaScript: The Definitive Guide"><!-- JavaScript: pathcont.js --></HEAD><BODY BGCOLOR="#FFFFFF"><DIV CLASS=htmlnav><H1><IMG SRC="gifs/smbanner.gif" ALT="Javascript: The Definitive Guide"></H1><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch17_01.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><b>Chapter 17</b></td><td width=172 align=right valign=top><A HREF="ch17_03.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --><hr align=left width=515></DIV><DIV CLASS=sect1><h2 CLASS=sect1><A CLASS="TITLE" NAME="ch17-SECT1-AUTOID.2">17.2 The Form Object</A></h2><P CLASS=para>      The JavaScript Form object represents an HTML form. Forms are      always found as elements of the <tt CLASS=literal>forms[]</tt>      array, which is a property of the Document object. Forms appear      in this array in the order that they appear within the      document. Thus, <tt CLASS=literal>document.forms[0]</tt> refers to      the first form in a document, and you can refer to the last form      in an document with:      <DIV CLASS=programlisting><P><PRE>document.forms[document.forms.length]</PRE></DIV>    <P CLASS=para>      The most interesting property of the Form object is the      <tt CLASS=literal>elements[]</tt> array, which contains JavaScript      objects (of various types) that represent the various input      elements of the form. Again, elements appear in this array in      the order that they appear in the document. So      <tt CLASS=literal>document.forms[1].elements[2]</tt> refers to the      third element of the second form in the document of the current      window.     <P CLASS=para>      The remaining properties of the Form object are of less      importance. They are <tt CLASS=literal>action</tt>,      <tt CLASS=literal>encoding</tt>, <tt CLASS=literal>method</tt>, and      <tt CLASS=literal>target</tt>, and they correspond directly to the      <tt CLASS=literal>ACTION</tt>, <tt CLASS=literal>ENCODING</tt>,      <tt CLASS=literal>METHOD</tt>, and <tt CLASS=literal>TARGET</tt>      attributes of the <tt CLASS=literal>&lt;FORM&gt;</tt> tag. These      properties and attributes are all used to control how form data      is submitted to the web server, and where the results are      displayed, and they are therefore only useful when the form      actually will be submitted to a CGI script. See the reference      section for an explanation of the properties, or see a book on      HTML or CGI programming[2]      for a thorough discussion of the attributes. What is worth noting      here is that these Form properties are all read/write strings in      Navigator 2.0 and 3.0, so a JavaScript program can dynamically set      their values in order to change the way the form is submitted.      Unfortunately, while you <I CLASS=emphasis>can</I> set the value of      these properties in Internet Explorer 3.0, any values you set will      be ignored.    <blockquote class=footnote><P CLASS=para>[2] 	  Such as <I CLASS=emphasis>CGI Programming on the World Wide	    Web</I>, by Shishir Gundavaram, published by	  O'Reilly &amp; Associates.	</blockquote><P CLASS=para>      In the days before JavaScript, forms were submitted with a      special-purpose <b>Submit</b> button,      and the form elements had their values reset with a      special-purpose <b>Reset</b> button.      The JavaScript Form object, however, supports two methods,      <tt CLASS=literal>submit()</tt> and (in Navigator 3.0)      <tt CLASS=literal>reset()</tt>, which serve this same      purpose. Invoking the <tt CLASS=literal>submit()</tt> method of a      Form submits the form, exactly as if the user had clicked on a      <b>Submit</b> button, and invoking      <tt CLASS=literal>reset()</tt> resets the form elements, exactly as      if the user had clicked on a <b>Reset</b> button.    <P CLASS=para>      To accompany the <tt CLASS=literal>submit()</tt> and      <tt CLASS=literal>reset()</tt> methods, the Form object provides the      <tt CLASS=literal>onSubmit()</tt> event handler to detect form      submission, and (in Navigator 3.0) the      <tt CLASS=literal>onReset()</tt> event handler to detect form      resets. The <tt CLASS=literal>onSubmit()</tt> handler is invoked      just before the form is submitted, and can cancel the submission      by returning <tt CLASS=literal>false</tt>. This provides an      opportunity for a JavaScript program to check the user's input      for errors to avoid submitting incomplete or invalid data over      the network to a CGI program. We'll see an example of doing      this at the end of this section.    <P CLASS=para>      The <tt CLASS=literal>onReset()</tt> event handler is similar to the      <tt CLASS=literal>onSubmit()</tt> handler. It is invoked just      before the form is reset, and may prevent the form elements from      being reset by returning <tt CLASS=literal>false</tt>. This allows      a JavaScript program to ask for confirmation of the reset, which      can be a good idea when the form is long or detailed. You might      request this sort of confirmation with an event handler like the      following (recall that <tt CLASS=literal>onReset()</tt> requires      Navigator 3.0):      <DIV CLASS=programlisting><P><PRE>&lt;FORM...     onReset="return confirm('Really erase ALL data and start over?')"&gt;</PRE></DIV>    </DIV><DIV CLASS=htmlnav><P><HR align=left width=515><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch17_01.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><a href="index.htm"><IMG SRC="gifs/txthome.gif" ALT="Home" border=0></a></td><td width=172 align=right valign=top><A HREF="ch17_03.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr><tr><td width=172 align=left valign=top>Forms in CGI and JavaScript</td><td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td><td width=172 align=right valign=top>Form Elements</td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --></DIV></BODY></HTML>