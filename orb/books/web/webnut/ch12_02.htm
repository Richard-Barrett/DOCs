<!DOCTYPE HTML PUBLIC "-//ORA//DTD CD HTML 3.2//EN"><HTML><HEAD><TITLE>[Chapter 12] 12.2 The Cookie Request Header</TITLE><META NAME="author" CONTENT="Stephen Spainhour and Valerie Quercia"><META NAME="date" CONTENT="Mon Mar 17 14:28:42 1997"><META NAME="form" CONTENT="html"><META NAME="metadata" CONTENT="dublincore.0.1"><META NAME="objecttype" CONTENT="book part"><META NAME="otheragent" CONTENT="gmat dbtohtml"><META NAME="publisher" CONTENT="O'Reilly &amp; Associates, Inc."><META NAME="source" CONTENT="SGML"><META NAME="subject" CONTENT="Webmaster in a Nutshell"><META NAME="title" CONTENT="Webmaster in a Nutshell"><!-- JavaScript: pathcont.js --></HEAD><BODY BGCOLOR="#FFFFFF"><DIV CLASS=htmlnav><H1><IMG SRC="gifs/smbanner.gif" ALT="Webmaster in a Nutshell"></H1><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch12_01.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><b>Chapter 12</b></td><td width=172 align=right valign=top><A HREF="ch13_01.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --><hr align=left width=515></DIV><DIV CLASS=sect1><h2 CLASS=sect1><A CLASS="TITLE" NAME="WEB-CH-12-SECT-2">12.2 The Cookie Request Header</A></h2><P CLASS=para>Each time a browser goes to a Web page, it checks its cookiesfile for any cookies stored for that URL.If there are any, the browser includes a<tt CLASS=literal>Cookie</tt> header in the request containing the cookie's<I CLASS=emphasis>name=value</I> pairs.<P CLASS=para><DIV CLASS=screen><P><PRE>Cookie: <I CLASS=emphasis>name1</I>=<I CLASS=emphasis>value1</I>; <I CLASS=emphasis>name2</I>=<I CLASS=emphasis>value2</I>; . . .</PRE></DIV><P CLASS=para>Returned cookies may come from multiple entries in the cookies files,depending on path ranges and domain ranges. For instance, if two cookiesfrom the same site are set with the following headers:<P CLASS=para><DIV CLASS=screen><P><PRE>Set-Cookie: Gemstone=Diamond; path=/Set-Cookie: Gemstone=Emerald; path=/caves</PRE></DIV><P CLASS=para>when the browser requests a page at the site in the <I CLASS=emphasis>/caves</I> path,it will return<P CLASS=para><DIV CLASS=screen><P><PRE>Cookie: Gemstone=Emerald; Gemstone=Diamond</PRE></DIV><P CLASS=para>Both items share the same name, but since they are separate cookies,they both apply to the particular URL in <I CLASS=emphasis>/caves</I>. When returningcookies, the browser will return the most specific path or domainfirst, followed by less specific matches.<P CLASS=para>The preliminary cookies specification places some restrictions on thenumber and size of cookies:<P><UL CLASS=itemizedlist><li CLASS=listitem>Clients should be able to support at least300 total cookies. Servers should not expect a client to store more.<P><li CLASS=listitem>The limit on the size of each cookie (name and value combined) shouldnot exceed 4 kilobytes. <P><li CLASS=listitem>A maximum of 20 cookies per server ordomain is allowed. This limit applies to each specified server or domain,so <I CLASS=emphasis>www.ora.com</I> is allowed 20, and <I CLASS=emphasis>software.ora.com</I> is allowed20, if they are each specified by their full names.<P></UL><P CLASS=para>An issue arises with proxy servers in regard to the headers. Boththe <tt CLASS=literal>Set-Cookie</tt> and <tt CLASS=literal>Cookie</tt> headers should be propagatedthrough the proxy even if a page is cached or has not been modified(according to the <tt CLASS=literal>If-Modified-Since</tt> condition). The<tt CLASS=literal>Set-Cookie</tt> header should also never be cached by the proxy.</DIV><DIV CLASS=htmlnav><P><HR align=left width=515><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch12_01.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><a href="index.htm"><IMG SRC="gifs/txthome.gif" ALT="Home" border=0></a></td><td width=172 align=right valign=top><A HREF="ch13_01.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr><tr><td width=172 align=left valign=top>The Set-Cookie Response Header</td><td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td><td width=172 align=right valign=top>Server Side Includes</td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --></DIV></BODY></HTML>