<!DOCTYPE HTML PUBLIC "-//ORA//DTD CD HTML 3.2//EN"><HTML><HEAD><TITLE>[Chapter 15] 15.17 Input/Output</TITLE><META NAME="author" CONTENT="Stephen Spainhour and Valerie Quercia"><META NAME="date" CONTENT="Mon Mar 17 14:32:20 1997"><META NAME="form" CONTENT="html"><META NAME="metadata" CONTENT="dublincore.0.1"><META NAME="objecttype" CONTENT="book part"><META NAME="otheragent" CONTENT="gmat dbtohtml"><META NAME="publisher" CONTENT="O'Reilly &amp; Associates, Inc."><META NAME="source" CONTENT="SGML"><META NAME="subject" CONTENT="Webmaster in a Nutshell"><META NAME="title" CONTENT="Webmaster in a Nutshell"><!-- JavaScript: pathcont.js --></HEAD><BODY BGCOLOR="#FFFFFF"><DIV CLASS=htmlnav><H1><IMG SRC="gifs/smbanner.gif" ALT="Webmaster in a Nutshell"></H1><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch15_16.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><b>Chapter 15</b></td><td width=172 align=right valign=top><A HREF="ch15_18.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --><hr align=left width=515></DIV><DIV CLASS=sect1><h2 CLASS=sect1><A CLASS="TITLE" NAME="WEB-CH-15-SECT-17">15.17 Input/Output</A></h2><P CLASS=para> In input/output operations, <I CLASS=emphasis>filehandle</I> may be a filehandle as openedby the <tt CLASS=literal>open</tt> operator, a predefined filehandle (e.g.,STDOUT), or a scalar variable that evaluates to the name of afilehandle to be used.<P><DL CLASS=variablelist><DT CLASS=varlistentry>&lt;<I CLASS=emphasis>filehandle</I>&gt;<DD><P CLASS=para>In scalar context, reads a single line from the file opened on <I CLASS=emphasis>filehandle</I>.In array context, reads the whole file.<p><DT CLASS=varlistentry>&lt;&nbsp;&gt;<DD><P CLASS=para>Reads from the input stream formed by the files specified in@ARGV, or standard input if no arguments were supplied.<p><DT CLASS=varlistentry><tt CLASS=literal>binmode</tt> <I CLASS=emphasis>filehandle</I><DD><P CLASS=para>Arranges for the file opened on <I CLASS=emphasis>filehandle</I> to be read or writtenin binary mode as opposed to text mode (null-operation on UNIX).<p><DT CLASS=varlistentry><tt CLASS=literal>close</tt> <I CLASS=emphasis>filehandle</I><DD><P CLASS=para>Closes the file or pipe associated with the filehandle.<p><DT CLASS=varlistentry><tt CLASS=literal>dbmclose</tt> %<I CLASS=emphasis>hash</I><DD><P CLASS=para>Deprecated, use <tt CLASS=literal>untie</tt> instead.<p><DT CLASS=varlistentry><tt CLASS=literal>dbmopen</tt> %<I CLASS=emphasis>hash</I>, <I CLASS=emphasis>dbmname</I>, <I CLASS=emphasis>mode</I><DD><P CLASS=para>Deprecated, use <tt CLASS=literal>tie</tt> instead.<p><DT CLASS=varlistentry><tt CLASS=literal>eof</tt> <I CLASS=emphasis>filehandle</I><DD><P CLASS=para>Returns <tt CLASS=literal>true</tt> if the next read will return end of file, or if the file isnot open.<p><DT CLASS=varlistentry><tt CLASS=literal>eof</tt><DD><P CLASS=para>Returns the EOF status for the last file read.<p><DT CLASS=varlistentry><tt CLASS=literal>eof(</tt>\|<tt CLASS=literal>)</tt><DD><P CLASS=para>Indicates EOF on the pseudo file formed of the files listed on thecommand line.<p><DT CLASS=varlistentry><tt CLASS=literal>fcntl</tt> <I CLASS=emphasis>filehandle</I>, <I CLASS=emphasis>function</I>, $<I CLASS=emphasis>var</I><DD><P CLASS=para>Implements the <I CLASS=emphasis>fcntl</I>&nbsp;(2) function. This function has nonstandardreturn values. <p><DT CLASS=varlistentry><tt CLASS=literal>fileno</tt> <I CLASS=emphasis>filehandle</I><DD><P CLASS=para>Returns the file descriptor for a given (open) file.<p><DT CLASS=varlistentry><tt CLASS=literal>flock</tt> <I CLASS=emphasis>filehandle</I>, <I CLASS=emphasis>operation</I><DD><P CLASS=para>Calls <I CLASS=emphasis>flock</I>&nbsp;(2) on the file. <I CLASS=emphasis>operation</I> formed by adding 1 (shared), 2(exclusive), 4 (non-blocking), or 8 (unlock).<p><DT CLASS=varlistentry><tt CLASS=literal>getc</tt> [ <I CLASS=emphasis>filehandle</I> ]<DD><P CLASS=para>Yields the next character from the file, or an empty string on end of file.If <I CLASS=emphasis>filehandle</I> is omitted, reads from STDIN.<p><DT CLASS=varlistentry><tt CLASS=literal>ioctl</tt> <I CLASS=emphasis>filehandle</I>, <I CLASS=emphasis>function</I>, $<I CLASS=emphasis>var</I><DD><P CLASS=para>Performs <I CLASS=emphasis>ioctl</I>&nbsp;(2) on the file. This function has nonstandardreturn values. <p><DT CLASS=varlistentry><tt CLASS=literal>open</tt> <I CLASS=emphasis>filehandle</I> [ <tt CLASS=literal>,</tt> <I CLASS=emphasis>filename</I> ]<DD><P CLASS=para>Opens a file and associates it with <I CLASS=emphasis>filehandle</I>. If <I CLASS=emphasis>filename</I> isomitted, the scalar variable of the same name as the <I CLASS=emphasis>filehandle</I> mustcontain the filename.<P CLASS=para>The following filename conventions apply when opening a file:<P><DL CLASS=variablelist><DT CLASS=varlistentry>"<I CLASS=emphasis>file</I>"<DD><P CLASS=para>Open <I CLASS=emphasis>file</I> for input. Also <tt CLASS=literal>"</tt><I CLASS=emphasis>&lt;file</I><tt CLASS=literal>"</tt>.<p><DT CLASS=varlistentry>"&gt;<I CLASS=emphasis>file</I>"<DD><P CLASS=para>Open <I CLASS=emphasis>file</I> for output, creating it if necessary.<p><DT CLASS=varlistentry>"&gt;&gt;<I CLASS=emphasis>file</I>"<DD><P CLASS=para>Open <I CLASS=emphasis>file</I> in append mode.<p><DT CLASS=varlistentry>"+&gt;<I CLASS=emphasis>file</I>"<DD><P CLASS=para>Open <I CLASS=emphasis>file</I> with read/write access.<p><DT CLASS=varlistentry>"| <I CLASS=emphasis>cmd</I>"<DD><P CLASS=para>Opens a pipe to command <I CLASS=emphasis>cmd</I>; forks if <I CLASS=emphasis>cmd</I> is -. <p><DT CLASS=varlistentry><tt CLASS=literal>"</tt><I CLASS=emphasis>cmd</I><tt CLASS=literal> |"</tt><DD><P CLASS=para>Opens a pipe from command <I CLASS=emphasis>cmd</I>; forks if <I CLASS=emphasis>cmd</I> is -. </DL><I CLASS=emphasis>file</I> may be &amp;<I CLASS=emphasis>filehnd</I>, in which case the new filehandle isconnected to the (previously opened) filehandle <I CLASS=emphasis>filehnd</I>.If it is &amp;=<I CLASS=emphasis>n</I>, <I CLASS=emphasis>file</I> will be connected to the given file descriptor.<tt CLASS=literal>open</tt>returns <tt CLASS=literal>undef</tt> upon failure, <tt CLASS=literal>true</tt> otherwise.<p><DT CLASS=varlistentry><tt CLASS=literal>pipe</tt> <I CLASS=emphasis>readhandle</I>, <I CLASS=emphasis>writehandle</I><DD><P CLASS=para>Returns a pair of connected pipes.<p><DT CLASS=varlistentry><tt CLASS=literal>print</tt> [ <I CLASS=emphasis>filehandle</I> ] [ <I CLASS=emphasis>list</I>(dagger) ]<DD><P CLASS=para>Prints the elements of <I CLASS=emphasis>list</I>, converting them to strings if needed. If<I CLASS=emphasis>filehandle</I> is omitted, prints by default to standard output (or tothe last selected output channel, see <tt CLASS=literal>select</tt>).<p><DT CLASS=varlistentry><tt CLASS=literal>printf</tt> [ <I CLASS=emphasis>filehandle</I> ] [ <I CLASS=emphasis>list</I> ]<DD><P CLASS=para>Equivalent to <tt CLASS=literal>print</tt> <I CLASS=emphasis>filehandle</I> and <tt CLASS=literal>sprintf</tt> <I CLASS=emphasis>list</I>.<p><DT CLASS=varlistentry><tt CLASS=literal>read</tt> <I CLASS=emphasis>filehandle</I>, $<I CLASS=emphasis>var</I><tt CLASS=literal>,</tt> <I CLASS=emphasis>length</I> [ <tt CLASS=literal>,</tt> <I CLASS=emphasis>offset</I> ]<DD><P CLASS=para>Reads <I CLASS=emphasis>length</I> binary bytes from the file into the variable at<I CLASS=emphasis>offset</I>. Returns number of bytes actually read.<p><DT CLASS=varlistentry><tt CLASS=literal>seek</tt> <I CLASS=emphasis>filehandle</I>, <I CLASS=emphasis>position</I>, <I CLASS=emphasis>whence</I><DD><P CLASS=para>Arbitrarily positions the file. Returns <tt CLASS=literal>true</tt> if successful. <p><DT CLASS=varlistentry><tt CLASS=literal>select</tt> [ <I CLASS=emphasis>filehandle</I> ]<DD><P CLASS=para>Returns the currently selected filehandle.Sets the current default filehandle for output operations if<I CLASS=emphasis>filehandle</I> is supplied.<p><DT CLASS=varlistentry><tt CLASS=literal>select</tt> <I CLASS=emphasis>rbits</I>, <I CLASS=emphasis>wbits</I>, <I CLASS=emphasis>nbits</I>, <I CLASS=emphasis>timeout</I><DD><P CLASS=para>Performs a <I CLASS=emphasis>select</I>&nbsp;(2) system call with the same parameters.<p><DT CLASS=varlistentry><tt CLASS=literal>sprintf</tt> <I CLASS=emphasis>format</I>, <I CLASS=emphasis>list</I><DD><P CLASS=para>Returns a string formatted by (almost all of) the usual <I CLASS=emphasis>printf</I>&nbsp;(3)conventions.<p><DT CLASS=varlistentry><tt CLASS=literal>sysread</tt> <I CLASS=emphasis>filehandle</I><tt CLASS=literal>,</tt> $<I CLASS=emphasis>var</I><tt CLASS=literal>,</tt> <I CLASS=emphasis>length</I> [ <tt CLASS=literal>,</tt> <I CLASS=emphasis>offset</I> ]<DD><P CLASS=para>Reads <I CLASS=emphasis>length</I> bytes into $<I CLASS=emphasis>var</I> at <I CLASS=emphasis>offset</I>.<p><DT CLASS=varlistentry><tt CLASS=literal>syswrite</tt> <I CLASS=emphasis>filehandle</I>, <I CLASS=emphasis>scalar</I>, <I CLASS=emphasis>length</I> [ , <I CLASS=emphasis>offset</I> ]<DD><P CLASS=para>Writes <I CLASS=emphasis>length</I> bytes from <I CLASS=emphasis>scalar</I> at <I CLASS=emphasis>offset</I>.<p><DT CLASS=varlistentry><tt CLASS=literal>tell</tt> [ <I CLASS=emphasis>filehandle</I> ]<DD><P CLASS=para>Returns the current file position for the file. If <I CLASS=emphasis>filehandle</I> isomitted, assumes the file last read.</DL></DIV><DIV CLASS=htmlnav><P><HR align=left width=515><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch15_16.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><a href="index.htm"><IMG SRC="gifs/txthome.gif" ALT="Home" border=0></a></td><td width=172 align=right valign=top><A HREF="ch15_18.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr><tr><td width=172 align=left valign=top>File Operations</td><td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td><td width=172 align=right valign=top>Formats</td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --></DIV></BODY></HTML>