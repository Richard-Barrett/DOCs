<!DOCTYPE HTML PUBLIC "-//ORA//DTD CD HTML 3.2//EN"><HTML><HEAD><TITLE>[Chapter 24] 24.6 Directory Indexing</TITLE><META NAME="author" CONTENT="Stephen Spainhour and Valerie Quercia"><META NAME="date" CONTENT="Mon Mar 17 14:42:54 1997"><META NAME="form" CONTENT="html"><META NAME="metadata" CONTENT="dublincore.0.1"><META NAME="objecttype" CONTENT="book part"><META NAME="otheragent" CONTENT="gmat dbtohtml"><META NAME="publisher" CONTENT="O'Reilly &amp; Associates, Inc."><META NAME="source" CONTENT="SGML"><META NAME="subject" CONTENT="Webmaster in a Nutshell"><META NAME="title" CONTENT="Webmaster in a Nutshell"><!-- JavaScript: pathcont.js --></HEAD><BODY BGCOLOR="#FFFFFF"><DIV CLASS=htmlnav><H1><IMG SRC="gifs/smbanner.gif" ALT="Webmaster in a Nutshell"></H1><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch24_05.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><b>Chapter 24</b></td><td width=172 align=right valign=top><A HREF="ch24_07.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --><hr align=left width=515></DIV><DIV CLASS=sect1><h2 CLASS=sect1><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6">24.6 Directory Indexing</A></h2><P CLASS=para>This section discusses thedirectives used to determine exactly how the server will respond when a user makes a directory request.<DIV CLASS=sect2><h3 CLASS=sect2><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.1">AddBlankIcon</A></h4><P CLASS=para><tt CLASS=literal>AddBlankIcon</tt> <I CLASS=emphasis>icon_path</I>  <P CLASS=para>Specifies an icon that is the same size as the other directory index icons, but is entirely transparent, i.e., a blank icon. This is used to properly align the column headings with the columns of information in the file listing. </DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.2">AddDirIcon</A></h4><P CLASS=para><tt CLASS=literal>AddDirIcon</tt> <I CLASS=emphasis>icon_path alt_text</I> <P CLASS=para>Specifies an icon to be used for subdirectories in a file listing. The second argument specifiesalternate text for the icon.For example:<P CLASS=para><DIV CLASS=screen><P><PRE>AddDirIcon /icons/directory.xbm   DIR</PRE></DIV></DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.3">AddIcon</A></h4><P CLASS=para><tt CLASS=literal>AddIcon</tt> <I CLASS=emphasis>icon_path alt_text mime_type</I><P CLASS=para>Specifies an icon and alternatetext to be associated with a given MIME type or encoding of a file ina directory listing. For example, to use the icon <I CLASS=emphasis>/icons/compass.gif</I> and the alt text "MAP" for Netcarta webmaps (MIME type <I CLASS=emphasis>application/webmap</I>), use the following setting:<P CLASS=para><DIV CLASS=screen><P><PRE>AddIcon /icons/compass.gif MAP application/webmap</PRE></DIV><P CLASS=para>The CERN server does have some default icon mappings (and includes the icons with the server distribution), but these are all wiped out if you use <tt CLASS=literal>AddIcon</tt> directives to add mappings of your own.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.4">AddIconToStd</A></h4><P CLASS=para><tt CLASS=literal>AddIconToStd</tt> <I CLASS=emphasis>icon_path alt_text mime_type</I><P CLASS=para>The <tt CLASS=literal>AddIconToStd</tt> directive acts just like <tt CLASS=literal>AddIcon</tt>, except that your icons augment the mapping list rather than replace it.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.5">AddParentIcon</A></h4><P CLASS=para><tt CLASS=literal>AddParentIcon</tt> <I CLASS=emphasis>icon_path alt_text</I> <P CLASS=para>The <tt CLASS=literal>AddParentIcon</tt> directive specifies an icon and alt text for the parent directory ("..") in a directory listing. For example:<P CLASS=para><DIV CLASS=screen><P><PRE>AddParentIcon /icons/back.xbm UP</PRE></DIV></DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.6">AddUnknownIcon</A></h4><P CLASS=para><tt CLASS=literal>AddUnknownIcon</tt> <I CLASS=emphasis>icon_path</I>  <P CLASS=para>The <tt CLASS=literal>AddUnknownIcon</tt> directive specifies an iconto be used for files of unknown type or encoding. </DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.7">AlwaysWelcome</A></h4><P CLASS=para><tt CLASS=literal>AlwaysWelcome</tt> On|Off  <P CLASS=para>Specifies whether requesting a directory without its trailing slashreturns a directory listing or a "welcome" document (see the<tt CLASS=literal>Welcome</tt> directive). The default is <tt CLASS=literal>On</tt>, in whichcase the "welcome" document is returned whether or not the trailingslash is included. </DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.8">DirAccess</A></h4><P CLASS=para><tt CLASS=literal>DirAccess</tt> On|Off|Selective  <P CLASS=para>Specifies whether, and under what conditions,the server should generate its own directory indices. Options are:<P><DL CLASS=variablelist><DT CLASS=varlistentry><tt CLASS=literal>On</tt><DD><P CLASS=para>The server may build an index for any requested directory. (Default)<p><DT CLASS=varlistentry><tt CLASS=literal>Off</tt><DD><P CLASS=para>The server may never build a directory index. <p><DT CLASS=varlistentry><tt CLASS=literal>Selective</tt><DD><P CLASS=para>Allows you to pick and choose which directory the server may index and which it will not. The server will first look in the directory for a file named <I CLASS=emphasis>www_browsable</I>. If this file exists, regardless of size or contents, the server is allowed to generate an index for the directory. If the file is not present, the server generates a <tt CLASS=literal>403</tt> (<tt CLASS=literal>Access Denied</tt>) error. There is noprovision for changing the name of this file.</DL></DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.9">DirAddHref</A></h4><P CLASS=para><tt CLASS=literal>DirAddHref</tt> <I CLASS=emphasis>filename suffix</I> <P CLASS=para>Links a resource tothe icon of specified file types in a file listing. For example,you could have an icon reference a CGI script on your serverthat could unpack the contents of a listed tar file and returna listing of the archive:<P CLASS=para><DIV CLASS=screen><P><PRE>DirAddHref /cgi-bin/untar .tar</PRE></DIV></DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.10">DirReadme</A></h4><P CLASS=para><tt CLASS=literal>DirReadme</tt> Top|Bottom|None  <P CLASS=para>When a directory index is generated, the server looks in the directory being indexed for a file named <I CLASS=emphasis>README</I>. If this file exists, its contents are included in the directory index as an explanation of the contents of the directory. The <tt CLASS=literal>DirReadMe</tt> directive specifies if and where this file should be included. Values are:<P><DL CLASS=variablelist><DT CLASS=varlistentry><tt CLASS=literal>top</tt><DD><P CLASS=para>Include the file before the file listing  <p><DT CLASS=varlistentry><tt CLASS=literal>Bottom</tt><DD><P CLASS=para>Include the file after the file listing<p><DT CLASS=varlistentry><tt CLASS=literal>None    </tt><DD><P CLASS=para>Don't include the file at all</DL></DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.11">DirShowBrackets</A></h4><P CLASS=para><tt CLASS=literal>DirShowBrackets</tt> On|Off  <P CLASS=para>Specifies whether alternate text of MIME typedescriptions will have square brackets around them. The default setting is:<P CLASS=para><DIV CLASS=screen><P><PRE>DirShowBrackets On</PRE></DIV><P CLASS=para>which means the descriptions will be placed within brackets. If icons are not included, this directive has no effect.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.12">DirShowBytes</A></h4><P CLASS=para><tt CLASS=literal>DirShowBytes</tt> On|Off  <P CLASS=para>Specifies whether file size should be shown in a file listing when sizes are turned on with <tt CLASS=literal>DirShowSize</tt>.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.13">DirShowCase</A></h4><P CLASS=para><tt CLASS=literal>DirShowCase</tt> On|Off  <P CLASS=para>Determines whether the server notices case when ordering the files for the listing. If case is noticed, then all files with uppercase names will be listed before their lowercase neighbors (i.e., normal <I CLASS=emphasis>ls</I> order). If case is not noticed, upper- and lowercase names will be interleaved. The default setting is <tt CLASS=literal>Off</tt>.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.14">DirShowDate</A></h4><P CLASS=para><tt CLASS=literal>DirShowDate</tt> On|Off  <P CLASS=para>Specifies whether the last-modified time should be included for each file. </DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.15">DirShowDescription</A></h4><P CLASS=para><tt CLASS=literal>DirShowDescription</tt> should  <P CLASS=para>Specifies whether adescription of the file should be shown in a directory listing. The server looks fora file named <I CLASS=emphasis>.www_descript</I> in the directory to act as adescription database. The format of this database is oneentry per line, where an entry consists of the word"DESCRIBE," the filename or template, and the description, withwhitespace acting as the delimiter. Here are some example entries:<P CLASS=para><DIV CLASS=screen><P><PRE>DESCRIBE    techspecs.html technical docsDESCRIBE    adcopy.html    advertising copy</PRE></DIV></DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.16">DirShowGroup</A></h4><P CLASS=para><tt CLASS=literal>DirShowGroup</tt> On|Off  <P CLASS=para>Specifies whether the group of the file should be included. The group name is used if it is available; otherwise, the group id is used. The default is <tt CLASS=literal>Off</tt>.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.17">DirShowHidden</A></h4><P CLASS=para><tt CLASS=literal>DirShowHidden</tt> On|Off  <P CLASS=para>Specifies whether hidden files (i.e., those whose names begin with ".") should be included in the file listing. The default is <tt CLASS=literal>Off</tt>.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.18">DirShowIcons</A></h4><P CLASS=para><tt CLASS=literal>DirShowIcons</tt> On|Off  <P CLASS=para>Specifies whether icons indicating the MIME types of the files should be included on each line. The default is <tt CLASS=literal>On</tt>.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.19">DirShowMaxDes...</A></h4><P CLASS=para><tt CLASS=literal>DirShowMaxDescrLength</tt> <I CLASS=emphasis>length</I> <P CLASS=para>If descriptions of the files in a listing are shown, the length of the description is determined by the number of charactersspecified with the <tt CLASS=literal>DirShowMaxDescrLength</tt> directive. The default is 25.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.20">DirShowMaxLength</A></h4><P CLASS=para><tt CLASS=literal>DirShowMaxLength</tt> <I CLASS=emphasis>length</I>  <P CLASS=para>Specifies the maximum number of characters used for filenames in a listing. The file listing will always use at least the minimum number of characters (from <tt CLASS=literal>DirShowMinLength</tt>), but will never show more than the maximum, truncating filenames that are too long. The default is 25.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.21">DirShowMinLength</A></h4><P CLASS=para><I CLASS=emphasis>length</I> The <P CLASS=para>Specifies the minimum number of characters used for filenames in a listing. The default is 15.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.22">DirShowMode</A></h4><P CLASS=para><tt CLASS=literal>DirShowMode</tt> On|Off  <P CLASS=para>Specifies whetherpermissions of the file should be included. The mode is written in mnemonic form, such as "<tt CLASS=literal>rw-rw-rw-</tt>", rather than numeric form, such as "<tt CLASS=literal>666</tt>". The default is<tt CLASS=literal>Off</tt>.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.23">DirShowOwner</A></h4><P CLASS=para><tt CLASS=literal>DirShowOwner</tt> On|Off  <P CLASS=para>Specifies whether the owner of the file should be included in the directory listing. The user name is used if it is available; otherwise, the user id is used. The default is <tt CLASS=literal>Off</tt>.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.24">DirShowSize</A></h4><P CLASS=para><tt CLASS=literal>DirShowSize</tt> On|Off  <P CLASS=para>Specifies whether the size should be included for each file in a listing. The default is<tt CLASS=literal>On</tt>.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.25">IconPath</A></h4><P CLASS=para><tt CLASS=literal>IconPath</tt> <I CLASS=emphasis>prefix</I>  <P CLASS=para>Specifies a server path prefix to be attached to all icon paths. For example, for the <tt CLASS=literal>Add*Icon</tt> directives, the <I CLASS=emphasis>/icons/</I> part of the filenames could have beenleft off the icon path by adding the following line before them in the configuration file:<P CLASS=para><DIV CLASS=screen><P><PRE>IconPath /icons/</PRE></DIV><P CLASS=para>Remember that this will be prefixed to every path, so only use it if you are sure that you will put all of your icons within a single directory or tree.</DIV><DIV CLASS=sect3><h4 CLASS=sect3><A CLASS="TITLE" NAME="WEB-CH-24-SECT-6.26">Welcome</A></h4><P CLASS=para><tt CLASS=literal>Welcome</tt> <I CLASS=emphasis>filename</I>  <P CLASS=para>Specifies the name of the file in a directory to use when a directoryis requested rather than a specific document. If multiple<tt CLASS=literal>Welcome</tt> directives are specified, they are searched for inorder, and the first one located is returned. By default, the filesare <I CLASS=emphasis>Welcome.html</I>, <I CLASS=emphasis>welcome.html</I>, and <I CLASS=emphasis>index.html</I>. </DIV></DIV></DIV><DIV CLASS=htmlnav><P><HR align=left width=515><table width=515 border=0 cellpadding=0 cellspacing=0><tr><td width=172 align=left valign=top><A HREF="ch24_05.htm"><IMG SRC="gifs/txtpreva.gif" ALT="Previous" border=0></A></td><td width=171 align=center valign=top><a href="index.htm"><IMG SRC="gifs/txthome.gif" ALT="Home" border=0></a></td><td width=172 align=right valign=top><A HREF="ch24_07.htm"><IMG SRC="gifs/txtnexta.gif" ALT="Next" border=0></A></td></tr><tr><td width=172 align=left valign=top>Script Configuration</td><td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td><td width=172 align=right valign=top>Access Control Configuration</td></tr></table><!-- JavaScript: prev.js -->&nbsp;<!-- JavaScript: next.js --></DIV></BODY></HTML>